function r8(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var R0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function V3(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var $3={exports:{}},rx={},W3={exports:{}},Vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm=Symbol.for("react.element"),i8=Symbol.for("react.portal"),s8=Symbol.for("react.fragment"),o8=Symbol.for("react.strict_mode"),a8=Symbol.for("react.profiler"),l8=Symbol.for("react.provider"),c8=Symbol.for("react.context"),u8=Symbol.for("react.forward_ref"),f8=Symbol.for("react.suspense"),d8=Symbol.for("react.memo"),h8=Symbol.for("react.lazy"),H2=Symbol.iterator;function p8(n){return n===null||typeof n!="object"?null:(n=H2&&n[H2]||n["@@iterator"],typeof n=="function"?n:null)}var j3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X3=Object.assign,K3={};function ph(n,e,t){this.props=n,this.context=e,this.refs=K3,this.updater=t||j3}ph.prototype.isReactComponent={};ph.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};ph.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function Y3(){}Y3.prototype=ph.prototype;function qM(n,e,t){this.props=n,this.context=e,this.refs=K3,this.updater=t||j3}var QM=qM.prototype=new Y3;QM.constructor=qM;X3(QM,ph.prototype);QM.isPureReactComponent=!0;var G2=Array.isArray,J3=Object.prototype.hasOwnProperty,ZM={current:null},q3={key:!0,ref:!0,__self:!0,__source:!0};function Q3(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)J3.call(e,r)&&!q3.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Qm,type:n,key:s,ref:o,props:i,_owner:ZM.current}}function m8(n,e){return{$$typeof:Qm,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function eT(n){return typeof n=="object"&&n!==null&&n.$$typeof===Qm}function g8(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var V2=/\/+/g;function KS(n,e){return typeof n=="object"&&n!==null&&n.key!=null?g8(""+n.key):e.toString(36)}function iy(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Qm:case i8:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+KS(o,0):r,G2(i)?(t="",n!=null&&(t=n.replace(V2,"$&/")+"/"),iy(i,e,t,"",function(c){return c})):i!=null&&(eT(i)&&(i=m8(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(V2,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",G2(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+KS(s,a);o+=iy(s,e,t,l,i)}else if(l=p8(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+KS(s,a++),o+=iy(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function P0(n,e,t){if(n==null)return n;var r=[],i=0;return iy(n,r,"","",function(s){return e.call(t,s,i++)}),r}function v8(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ei={current:null},sy={transition:null},y8={ReactCurrentDispatcher:Ei,ReactCurrentBatchConfig:sy,ReactCurrentOwner:ZM};Vt.Children={map:P0,forEach:function(n,e,t){P0(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return P0(n,function(){e++}),e},toArray:function(n){return P0(n,function(e){return e})||[]},only:function(n){if(!eT(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Vt.Component=ph;Vt.Fragment=s8;Vt.Profiler=a8;Vt.PureComponent=qM;Vt.StrictMode=o8;Vt.Suspense=f8;Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y8;Vt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=X3({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=ZM.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)J3.call(e,l)&&!q3.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Qm,type:n.type,key:i,ref:s,props:r,_owner:o}};Vt.createContext=function(n){return n={$$typeof:c8,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:l8,_context:n},n.Consumer=n};Vt.createElement=Q3;Vt.createFactory=function(n){var e=Q3.bind(null,n);return e.type=n,e};Vt.createRef=function(){return{current:null}};Vt.forwardRef=function(n){return{$$typeof:u8,render:n}};Vt.isValidElement=eT;Vt.lazy=function(n){return{$$typeof:h8,_payload:{_status:-1,_result:n},_init:v8}};Vt.memo=function(n,e){return{$$typeof:d8,type:n,compare:e===void 0?null:e}};Vt.startTransition=function(n){var e=sy.transition;sy.transition={};try{n()}finally{sy.transition=e}};Vt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Vt.useCallback=function(n,e){return Ei.current.useCallback(n,e)};Vt.useContext=function(n){return Ei.current.useContext(n)};Vt.useDebugValue=function(){};Vt.useDeferredValue=function(n){return Ei.current.useDeferredValue(n)};Vt.useEffect=function(n,e){return Ei.current.useEffect(n,e)};Vt.useId=function(){return Ei.current.useId()};Vt.useImperativeHandle=function(n,e,t){return Ei.current.useImperativeHandle(n,e,t)};Vt.useInsertionEffect=function(n,e){return Ei.current.useInsertionEffect(n,e)};Vt.useLayoutEffect=function(n,e){return Ei.current.useLayoutEffect(n,e)};Vt.useMemo=function(n,e){return Ei.current.useMemo(n,e)};Vt.useReducer=function(n,e,t){return Ei.current.useReducer(n,e,t)};Vt.useRef=function(n){return Ei.current.useRef(n)};Vt.useState=function(n){return Ei.current.useState(n)};Vt.useSyncExternalStore=function(n,e,t){return Ei.current.useSyncExternalStore(n,e,t)};Vt.useTransition=function(){return Ei.current.useTransition()};Vt.version="18.2.0";W3.exports=Vt;var O=W3.exports;const q=fc(O),ky=r8({__proto__:null,default:q},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _8=O,x8=Symbol.for("react.element"),S8=Symbol.for("react.fragment"),b8=Object.prototype.hasOwnProperty,A8=_8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,w8={key:!0,ref:!0,__self:!0,__source:!0};function Z3(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)b8.call(e,r)&&!w8.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:x8,type:n,key:s,ref:o,props:i,_owner:A8.current}}rx.Fragment=S8;rx.jsx=Z3;rx.jsxs=Z3;$3.exports=rx;var ue=$3.exports,QA={},ek={exports:{}},_s={},tk={exports:{}},nk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,j){var J=N.length;N.push(j);e:for(;0<J;){var te=J-1>>>1,ee=N[te];if(0<i(ee,j))N[te]=j,N[J]=ee,J=te;else break e}}function t(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var j=N[0],J=N.pop();if(J!==j){N[0]=J;e:for(var te=0,ee=N.length,Y=ee>>>1;te<Y;){var ne=2*(te+1)-1,ce=N[ne],Me=ne+1,Re=N[Me];if(0>i(ce,J))Me<ee&&0>i(Re,ce)?(N[te]=Re,N[Me]=J,te=Me):(N[te]=ce,N[ne]=J,te=ne);else if(Me<ee&&0>i(Re,J))N[te]=Re,N[Me]=J,te=Me;else break e}}return j}function i(N,j){var J=N.sortIndex-j.sortIndex;return J!==0?J:N.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,p=3,m=!1,g=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(N){for(var j=t(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=N)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=t(c)}}function A(N){if(y=!1,S(N),!g)if(t(l)!==null)g=!0,W(M);else{var j=t(c);j!==null&&K(A,j.startTime-N)}}function M(N,j){g=!1,y&&(y=!1,v(I),I=-1),m=!0;var J=p;try{for(S(j),f=t(l);f!==null&&(!(f.expirationTime>j)||N&&!B());){var te=f.callback;if(typeof te=="function"){f.callback=null,p=f.priorityLevel;var ee=te(f.expirationTime<=j);j=n.unstable_now(),typeof ee=="function"?f.callback=ee:f===t(l)&&r(l),S(j)}else r(l);f=t(l)}if(f!==null)var Y=!0;else{var ne=t(c);ne!==null&&K(A,ne.startTime-j),Y=!1}return Y}finally{f=null,p=J,m=!1}}var E=!1,R=null,I=-1,T=5,P=-1;function B(){return!(n.unstable_now()-P<T)}function F(){if(R!==null){var N=n.unstable_now();P=N;var j=!0;try{j=R(!0,N)}finally{j?V():(E=!1,R=null)}}else E=!1}var V;if(typeof x=="function")V=function(){x(F)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,z=k.port2;k.port1.onmessage=F,V=function(){z.postMessage(null)}}else V=function(){_(F,0)};function W(N){R=N,E||(E=!0,V())}function K(N,j){I=_(function(){N(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,W(M))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var J=p;p=j;try{return N()}finally{p=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,j){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var J=p;p=N;try{return j()}finally{p=J}},n.unstable_scheduleCallback=function(N,j,J){var te=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?te+J:te):J=te,N){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=J+ee,N={id:u++,callback:j,priorityLevel:N,startTime:J,expirationTime:ee,sortIndex:-1},J>te?(N.sortIndex=J,e(c,N),t(l)===null&&N===t(c)&&(y?(v(I),I=-1):y=!0,K(A,J-te))):(N.sortIndex=ee,e(l,N),g||m||(g=!0,W(M))),N},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(N){var j=p;return function(){var J=p;p=j;try{return N.apply(this,arguments)}finally{p=J}}}})(nk);tk.exports=nk;var E8=tk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rk=O,ps=E8;function De(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ik=new Set,nm={};function Fu(n,e){Od(n,e),Od(n+"Capture",e)}function Od(n,e){for(nm[n]=e,n=0;n<e.length;n++)ik.add(e[n])}var Va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ZA=Object.prototype.hasOwnProperty,M8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$2={},W2={};function T8(n){return ZA.call(W2,n)?!0:ZA.call($2,n)?!1:M8.test(n)?W2[n]=!0:($2[n]=!0,!1)}function C8(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function R8(n,e,t,r){if(e===null||typeof e>"u"||C8(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Mi(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var $r={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){$r[n]=new Mi(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];$r[e]=new Mi(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){$r[n]=new Mi(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){$r[n]=new Mi(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){$r[n]=new Mi(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){$r[n]=new Mi(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){$r[n]=new Mi(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){$r[n]=new Mi(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){$r[n]=new Mi(n,5,!1,n.toLowerCase(),null,!1,!1)});var tT=/[\-:]([a-z])/g;function nT(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(tT,nT);$r[e]=new Mi(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(tT,nT);$r[e]=new Mi(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(tT,nT);$r[e]=new Mi(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){$r[n]=new Mi(n,1,!1,n.toLowerCase(),null,!1,!1)});$r.xlinkHref=new Mi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){$r[n]=new Mi(n,1,!1,n.toLowerCase(),null,!0,!0)});function rT(n,e,t,r){var i=$r.hasOwnProperty(e)?$r[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(R8(e,t,i,r)&&(t=null),r||i===null?T8(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var nl=rk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O0=Symbol.for("react.element"),$f=Symbol.for("react.portal"),Wf=Symbol.for("react.fragment"),iT=Symbol.for("react.strict_mode"),ew=Symbol.for("react.profiler"),sk=Symbol.for("react.provider"),ok=Symbol.for("react.context"),sT=Symbol.for("react.forward_ref"),tw=Symbol.for("react.suspense"),nw=Symbol.for("react.suspense_list"),oT=Symbol.for("react.memo"),Ml=Symbol.for("react.lazy"),ak=Symbol.for("react.offscreen"),j2=Symbol.iterator;function Qh(n){return n===null||typeof n!="object"?null:(n=j2&&n[j2]||n["@@iterator"],typeof n=="function"?n:null)}var Vn=Object.assign,YS;function Tp(n){if(YS===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);YS=e&&e[1]||""}return`
`+YS+n}var JS=!1;function qS(n,e){if(!n||JS)return"";JS=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{JS=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Tp(n):""}function P8(n){switch(n.tag){case 5:return Tp(n.type);case 16:return Tp("Lazy");case 13:return Tp("Suspense");case 19:return Tp("SuspenseList");case 0:case 2:case 15:return n=qS(n.type,!1),n;case 11:return n=qS(n.type.render,!1),n;case 1:return n=qS(n.type,!0),n;default:return""}}function rw(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Wf:return"Fragment";case $f:return"Portal";case ew:return"Profiler";case iT:return"StrictMode";case tw:return"Suspense";case nw:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case ok:return(n.displayName||"Context")+".Consumer";case sk:return(n._context.displayName||"Context")+".Provider";case sT:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case oT:return e=n.displayName||null,e!==null?e:rw(n.type)||"Memo";case Ml:e=n._payload,n=n._init;try{return rw(n(e))}catch{}}return null}function O8(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rw(e);case 8:return e===iT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zl(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function lk(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function L8(n){var e=lk(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function L0(n){n._valueTracker||(n._valueTracker=L8(n))}function ck(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=lk(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Ny(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function iw(n,e){var t=e.checked;return Vn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function X2(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=Zl(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function uk(n,e){e=e.checked,e!=null&&rT(n,"checked",e,!1)}function sw(n,e){uk(n,e);var t=Zl(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?ow(n,e.type,t):e.hasOwnProperty("defaultValue")&&ow(n,e.type,Zl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function K2(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function ow(n,e,t){(e!=="number"||Ny(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Cp=Array.isArray;function dd(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+Zl(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function aw(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(De(91));return Vn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Y2(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(De(92));if(Cp(t)){if(1<t.length)throw Error(De(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Zl(t)}}function fk(n,e){var t=Zl(e.value),r=Zl(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function J2(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function dk(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lw(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?dk(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var I0,hk=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(I0=I0||document.createElement("div"),I0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=I0.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function rm(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var kp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},I8=["Webkit","ms","Moz","O"];Object.keys(kp).forEach(function(n){I8.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),kp[e]=kp[n]})});function pk(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||kp.hasOwnProperty(n)&&kp[n]?(""+e).trim():e+"px"}function mk(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=pk(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var B8=Vn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cw(n,e){if(e){if(B8[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(De(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(De(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(De(61))}if(e.style!=null&&typeof e.style!="object")throw Error(De(62))}}function uw(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fw=null;function aT(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var dw=null,hd=null,pd=null;function q2(n){if(n=tg(n)){if(typeof dw!="function")throw Error(De(280));var e=n.stateNode;e&&(e=lx(e),dw(n.stateNode,n.type,e))}}function gk(n){hd?pd?pd.push(n):pd=[n]:hd=n}function vk(){if(hd){var n=hd,e=pd;if(pd=hd=null,q2(n),e)for(n=0;n<e.length;n++)q2(e[n])}}function yk(n,e){return n(e)}function _k(){}var QS=!1;function xk(n,e,t){if(QS)return n(e,t);QS=!0;try{return yk(n,e,t)}finally{QS=!1,(hd!==null||pd!==null)&&(_k(),vk())}}function im(n,e){var t=n.stateNode;if(t===null)return null;var r=lx(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(De(231,e,typeof t));return t}var hw=!1;if(Va)try{var Zh={};Object.defineProperty(Zh,"passive",{get:function(){hw=!0}}),window.addEventListener("test",Zh,Zh),window.removeEventListener("test",Zh,Zh)}catch{hw=!1}function D8(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Np=!1,Fy=null,Uy=!1,pw=null,k8={onError:function(n){Np=!0,Fy=n}};function N8(n,e,t,r,i,s,o,a,l){Np=!1,Fy=null,D8.apply(k8,arguments)}function F8(n,e,t,r,i,s,o,a,l){if(N8.apply(this,arguments),Np){if(Np){var c=Fy;Np=!1,Fy=null}else throw Error(De(198));Uy||(Uy=!0,pw=c)}}function Uu(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function Sk(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Q2(n){if(Uu(n)!==n)throw Error(De(188))}function U8(n){var e=n.alternate;if(!e){if(e=Uu(n),e===null)throw Error(De(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return Q2(i),n;if(s===r)return Q2(i),e;s=s.sibling}throw Error(De(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(De(189))}}if(t.alternate!==r)throw Error(De(190))}if(t.tag!==3)throw Error(De(188));return t.stateNode.current===t?n:e}function bk(n){return n=U8(n),n!==null?Ak(n):null}function Ak(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Ak(n);if(e!==null)return e;n=n.sibling}return null}var wk=ps.unstable_scheduleCallback,Z2=ps.unstable_cancelCallback,z8=ps.unstable_shouldYield,H8=ps.unstable_requestPaint,ir=ps.unstable_now,G8=ps.unstable_getCurrentPriorityLevel,lT=ps.unstable_ImmediatePriority,Ek=ps.unstable_UserBlockingPriority,zy=ps.unstable_NormalPriority,V8=ps.unstable_LowPriority,Mk=ps.unstable_IdlePriority,ix=null,jo=null;function $8(n){if(jo&&typeof jo.onCommitFiberRoot=="function")try{jo.onCommitFiberRoot(ix,n,void 0,(n.current.flags&128)===128)}catch{}}var yo=Math.clz32?Math.clz32:X8,W8=Math.log,j8=Math.LN2;function X8(n){return n>>>=0,n===0?32:31-(W8(n)/j8|0)|0}var B0=64,D0=4194304;function Rp(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Hy(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Rp(a):(s&=o,s!==0&&(r=Rp(s)))}else o=t&~i,o!==0?r=Rp(o):s!==0&&(r=Rp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-yo(e),i=1<<t,r|=n[t],e&=~i;return r}function K8(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y8(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-yo(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=K8(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function mw(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Tk(){var n=B0;return B0<<=1,!(B0&4194240)&&(B0=64),n}function ZS(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Zm(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-yo(e),n[e]=t}function J8(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-yo(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function cT(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-yo(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var sn=0;function Ck(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Rk,uT,Pk,Ok,Lk,gw=!1,k0=[],zl=null,Hl=null,Gl=null,sm=new Map,om=new Map,Pl=[],q8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eO(n,e){switch(n){case"focusin":case"focusout":zl=null;break;case"dragenter":case"dragleave":Hl=null;break;case"mouseover":case"mouseout":Gl=null;break;case"pointerover":case"pointerout":sm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":om.delete(e.pointerId)}}function ep(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=tg(e),e!==null&&uT(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function Q8(n,e,t,r,i){switch(e){case"focusin":return zl=ep(zl,n,e,t,r,i),!0;case"dragenter":return Hl=ep(Hl,n,e,t,r,i),!0;case"mouseover":return Gl=ep(Gl,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return sm.set(s,ep(sm.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,om.set(s,ep(om.get(s)||null,n,e,t,r,i)),!0}return!1}function Ik(n){var e=Zc(n.target);if(e!==null){var t=Uu(e);if(t!==null){if(e=t.tag,e===13){if(e=Sk(t),e!==null){n.blockedOn=e,Lk(n.priority,function(){Pk(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function oy(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=vw(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);fw=r,t.target.dispatchEvent(r),fw=null}else return e=tg(t),e!==null&&uT(e),n.blockedOn=t,!1;e.shift()}return!0}function tO(n,e,t){oy(n)&&t.delete(e)}function Z8(){gw=!1,zl!==null&&oy(zl)&&(zl=null),Hl!==null&&oy(Hl)&&(Hl=null),Gl!==null&&oy(Gl)&&(Gl=null),sm.forEach(tO),om.forEach(tO)}function tp(n,e){n.blockedOn===e&&(n.blockedOn=null,gw||(gw=!0,ps.unstable_scheduleCallback(ps.unstable_NormalPriority,Z8)))}function am(n){function e(i){return tp(i,n)}if(0<k0.length){tp(k0[0],n);for(var t=1;t<k0.length;t++){var r=k0[t];r.blockedOn===n&&(r.blockedOn=null)}}for(zl!==null&&tp(zl,n),Hl!==null&&tp(Hl,n),Gl!==null&&tp(Gl,n),sm.forEach(e),om.forEach(e),t=0;t<Pl.length;t++)r=Pl[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Pl.length&&(t=Pl[0],t.blockedOn===null);)Ik(t),t.blockedOn===null&&Pl.shift()}var md=nl.ReactCurrentBatchConfig,Gy=!0;function e6(n,e,t,r){var i=sn,s=md.transition;md.transition=null;try{sn=1,fT(n,e,t,r)}finally{sn=i,md.transition=s}}function t6(n,e,t,r){var i=sn,s=md.transition;md.transition=null;try{sn=4,fT(n,e,t,r)}finally{sn=i,md.transition=s}}function fT(n,e,t,r){if(Gy){var i=vw(n,e,t,r);if(i===null)cb(n,e,r,Vy,t),eO(n,r);else if(Q8(i,n,e,t,r))r.stopPropagation();else if(eO(n,r),e&4&&-1<q8.indexOf(n)){for(;i!==null;){var s=tg(i);if(s!==null&&Rk(s),s=vw(n,e,t,r),s===null&&cb(n,e,r,Vy,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else cb(n,e,r,null,t)}}var Vy=null;function vw(n,e,t,r){if(Vy=null,n=aT(r),n=Zc(n),n!==null)if(e=Uu(n),e===null)n=null;else if(t=e.tag,t===13){if(n=Sk(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Vy=n,null}function Bk(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(G8()){case lT:return 1;case Ek:return 4;case zy:case V8:return 16;case Mk:return 536870912;default:return 16}default:return 16}}var Bl=null,dT=null,ay=null;function Dk(){if(ay)return ay;var n,e=dT,t=e.length,r,i="value"in Bl?Bl.value:Bl.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return ay=i.slice(n,1<r?1-r:void 0)}function ly(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function N0(){return!0}function nO(){return!1}function xs(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?N0:nO,this.isPropagationStopped=nO,this}return Vn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=N0)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=N0)},persist:function(){},isPersistent:N0}),e}var mh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hT=xs(mh),eg=Vn({},mh,{view:0,detail:0}),n6=xs(eg),eb,tb,np,sx=Vn({},eg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pT,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==np&&(np&&n.type==="mousemove"?(eb=n.screenX-np.screenX,tb=n.screenY-np.screenY):tb=eb=0,np=n),eb)},movementY:function(n){return"movementY"in n?n.movementY:tb}}),rO=xs(sx),r6=Vn({},sx,{dataTransfer:0}),i6=xs(r6),s6=Vn({},eg,{relatedTarget:0}),nb=xs(s6),o6=Vn({},mh,{animationName:0,elapsedTime:0,pseudoElement:0}),a6=xs(o6),l6=Vn({},mh,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),c6=xs(l6),u6=Vn({},mh,{data:0}),iO=xs(u6),f6={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},d6={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p6(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=h6[n])?!!e[n]:!1}function pT(){return p6}var m6=Vn({},eg,{key:function(n){if(n.key){var e=f6[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=ly(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?d6[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pT,charCode:function(n){return n.type==="keypress"?ly(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ly(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),g6=xs(m6),v6=Vn({},sx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sO=xs(v6),y6=Vn({},eg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pT}),_6=xs(y6),x6=Vn({},mh,{propertyName:0,elapsedTime:0,pseudoElement:0}),S6=xs(x6),b6=Vn({},sx,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),A6=xs(b6),w6=[9,13,27,32],mT=Va&&"CompositionEvent"in window,Fp=null;Va&&"documentMode"in document&&(Fp=document.documentMode);var E6=Va&&"TextEvent"in window&&!Fp,kk=Va&&(!mT||Fp&&8<Fp&&11>=Fp),oO=String.fromCharCode(32),aO=!1;function Nk(n,e){switch(n){case"keyup":return w6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fk(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var jf=!1;function M6(n,e){switch(n){case"compositionend":return Fk(e);case"keypress":return e.which!==32?null:(aO=!0,oO);case"textInput":return n=e.data,n===oO&&aO?null:n;default:return null}}function T6(n,e){if(jf)return n==="compositionend"||!mT&&Nk(n,e)?(n=Dk(),ay=dT=Bl=null,jf=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kk&&e.locale!=="ko"?null:e.data;default:return null}}var C6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lO(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!C6[n.type]:e==="textarea"}function Uk(n,e,t,r){gk(r),e=$y(e,"onChange"),0<e.length&&(t=new hT("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Up=null,lm=null;function R6(n){Jk(n,0)}function ox(n){var e=Yf(n);if(ck(e))return n}function P6(n,e){if(n==="change")return e}var zk=!1;if(Va){var rb;if(Va){var ib="oninput"in document;if(!ib){var cO=document.createElement("div");cO.setAttribute("oninput","return;"),ib=typeof cO.oninput=="function"}rb=ib}else rb=!1;zk=rb&&(!document.documentMode||9<document.documentMode)}function uO(){Up&&(Up.detachEvent("onpropertychange",Hk),lm=Up=null)}function Hk(n){if(n.propertyName==="value"&&ox(lm)){var e=[];Uk(e,lm,n,aT(n)),xk(R6,e)}}function O6(n,e,t){n==="focusin"?(uO(),Up=e,lm=t,Up.attachEvent("onpropertychange",Hk)):n==="focusout"&&uO()}function L6(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return ox(lm)}function I6(n,e){if(n==="click")return ox(e)}function B6(n,e){if(n==="input"||n==="change")return ox(e)}function D6(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var xo=typeof Object.is=="function"?Object.is:D6;function cm(n,e){if(xo(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!ZA.call(e,i)||!xo(n[i],e[i]))return!1}return!0}function fO(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function dO(n,e){var t=fO(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=fO(t)}}function Gk(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Gk(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Vk(){for(var n=window,e=Ny();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Ny(n.document)}return e}function gT(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function k6(n){var e=Vk(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&Gk(t.ownerDocument.documentElement,t)){if(r!==null&&gT(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=dO(t,s);var o=dO(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var N6=Va&&"documentMode"in document&&11>=document.documentMode,Xf=null,yw=null,zp=null,_w=!1;function hO(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;_w||Xf==null||Xf!==Ny(r)||(r=Xf,"selectionStart"in r&&gT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),zp&&cm(zp,r)||(zp=r,r=$y(yw,"onSelect"),0<r.length&&(e=new hT("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Xf)))}function F0(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Kf={animationend:F0("Animation","AnimationEnd"),animationiteration:F0("Animation","AnimationIteration"),animationstart:F0("Animation","AnimationStart"),transitionend:F0("Transition","TransitionEnd")},sb={},$k={};Va&&($k=document.createElement("div").style,"AnimationEvent"in window||(delete Kf.animationend.animation,delete Kf.animationiteration.animation,delete Kf.animationstart.animation),"TransitionEvent"in window||delete Kf.transitionend.transition);function ax(n){if(sb[n])return sb[n];if(!Kf[n])return n;var e=Kf[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in $k)return sb[n]=e[t];return n}var Wk=ax("animationend"),jk=ax("animationiteration"),Xk=ax("animationstart"),Kk=ax("transitionend"),Yk=new Map,pO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function dc(n,e){Yk.set(n,e),Fu(e,[n])}for(var ob=0;ob<pO.length;ob++){var ab=pO[ob],F6=ab.toLowerCase(),U6=ab[0].toUpperCase()+ab.slice(1);dc(F6,"on"+U6)}dc(Wk,"onAnimationEnd");dc(jk,"onAnimationIteration");dc(Xk,"onAnimationStart");dc("dblclick","onDoubleClick");dc("focusin","onFocus");dc("focusout","onBlur");dc(Kk,"onTransitionEnd");Od("onMouseEnter",["mouseout","mouseover"]);Od("onMouseLeave",["mouseout","mouseover"]);Od("onPointerEnter",["pointerout","pointerover"]);Od("onPointerLeave",["pointerout","pointerover"]);Fu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pp));function mO(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,F8(r,e,void 0,n),n.currentTarget=null}function Jk(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;mO(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;mO(i,a,c),s=l}}}if(Uy)throw n=pw,Uy=!1,pw=null,n}function _n(n,e){var t=e[ww];t===void 0&&(t=e[ww]=new Set);var r=n+"__bubble";t.has(r)||(qk(e,n,2,!1),t.add(r))}function lb(n,e,t){var r=0;e&&(r|=4),qk(t,n,r,e)}var U0="_reactListening"+Math.random().toString(36).slice(2);function um(n){if(!n[U0]){n[U0]=!0,ik.forEach(function(t){t!=="selectionchange"&&(z6.has(t)||lb(t,!1,n),lb(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[U0]||(e[U0]=!0,lb("selectionchange",!1,e))}}function qk(n,e,t,r){switch(Bk(e)){case 1:var i=e6;break;case 4:i=t6;break;default:i=fT}t=i.bind(null,e,t,n),i=void 0,!hw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function cb(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Zc(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}xk(function(){var c=s,u=aT(t),f=[];e:{var p=Yk.get(n);if(p!==void 0){var m=hT,g=n;switch(n){case"keypress":if(ly(t)===0)break e;case"keydown":case"keyup":m=g6;break;case"focusin":g="focus",m=nb;break;case"focusout":g="blur",m=nb;break;case"beforeblur":case"afterblur":m=nb;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=rO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=i6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=_6;break;case Wk:case jk:case Xk:m=a6;break;case Kk:m=S6;break;case"scroll":m=n6;break;case"wheel":m=A6;break;case"copy":case"cut":case"paste":m=c6;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=sO}var y=(e&4)!==0,_=!y&&n==="scroll",v=y?p!==null?p+"Capture":null:p;y=[];for(var x=c,S;x!==null;){S=x;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,v!==null&&(A=im(x,v),A!=null&&y.push(fm(x,A,S)))),_)break;x=x.return}0<y.length&&(p=new m(p,g,null,t,u),f.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==fw&&(g=t.relatedTarget||t.fromElement)&&(Zc(g)||g[$a]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=t.relatedTarget||t.toElement,m=c,g=g?Zc(g):null,g!==null&&(_=Uu(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(y=rO,A="onMouseLeave",v="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(y=sO,A="onPointerLeave",v="onPointerEnter",x="pointer"),_=m==null?p:Yf(m),S=g==null?p:Yf(g),p=new y(A,x+"leave",m,t,u),p.target=_,p.relatedTarget=S,A=null,Zc(u)===c&&(y=new y(v,x+"enter",g,t,u),y.target=S,y.relatedTarget=_,A=y),_=A,m&&g)t:{for(y=m,v=g,x=0,S=y;S;S=lf(S))x++;for(S=0,A=v;A;A=lf(A))S++;for(;0<x-S;)y=lf(y),x--;for(;0<S-x;)v=lf(v),S--;for(;x--;){if(y===v||v!==null&&y===v.alternate)break t;y=lf(y),v=lf(v)}y=null}else y=null;m!==null&&gO(f,p,m,y,!1),g!==null&&_!==null&&gO(f,_,g,y,!0)}}e:{if(p=c?Yf(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var M=P6;else if(lO(p))if(zk)M=B6;else{M=L6;var E=O6}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=I6);if(M&&(M=M(n,c))){Uk(f,M,t,u);break e}E&&E(n,p,c),n==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&ow(p,"number",p.value)}switch(E=c?Yf(c):window,n){case"focusin":(lO(E)||E.contentEditable==="true")&&(Xf=E,yw=c,zp=null);break;case"focusout":zp=yw=Xf=null;break;case"mousedown":_w=!0;break;case"contextmenu":case"mouseup":case"dragend":_w=!1,hO(f,t,u);break;case"selectionchange":if(N6)break;case"keydown":case"keyup":hO(f,t,u)}var R;if(mT)e:{switch(n){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else jf?Nk(n,t)&&(I="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(I="onCompositionStart");I&&(kk&&t.locale!=="ko"&&(jf||I!=="onCompositionStart"?I==="onCompositionEnd"&&jf&&(R=Dk()):(Bl=u,dT="value"in Bl?Bl.value:Bl.textContent,jf=!0)),E=$y(c,I),0<E.length&&(I=new iO(I,n,null,t,u),f.push({event:I,listeners:E}),R?I.data=R:(R=Fk(t),R!==null&&(I.data=R)))),(R=E6?M6(n,t):T6(n,t))&&(c=$y(c,"onBeforeInput"),0<c.length&&(u=new iO("onBeforeInput","beforeinput",null,t,u),f.push({event:u,listeners:c}),u.data=R))}Jk(f,e)})}function fm(n,e,t){return{instance:n,listener:e,currentTarget:t}}function $y(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=im(n,t),s!=null&&r.unshift(fm(n,s,i)),s=im(n,e),s!=null&&r.push(fm(n,s,i))),n=n.return}return r}function lf(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function gO(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=im(t,s),l!=null&&o.unshift(fm(t,l,a))):i||(l=im(t,s),l!=null&&o.push(fm(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var H6=/\r\n?/g,G6=/\u0000|\uFFFD/g;function vO(n){return(typeof n=="string"?n:""+n).replace(H6,`
`).replace(G6,"")}function z0(n,e,t){if(e=vO(e),vO(n)!==e&&t)throw Error(De(425))}function Wy(){}var xw=null,Sw=null;function bw(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Aw=typeof setTimeout=="function"?setTimeout:void 0,V6=typeof clearTimeout=="function"?clearTimeout:void 0,yO=typeof Promise=="function"?Promise:void 0,$6=typeof queueMicrotask=="function"?queueMicrotask:typeof yO<"u"?function(n){return yO.resolve(null).then(n).catch(W6)}:Aw;function W6(n){setTimeout(function(){throw n})}function ub(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),am(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);am(e)}function Vl(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function _O(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var gh=Math.random().toString(36).slice(2),Go="__reactFiber$"+gh,dm="__reactProps$"+gh,$a="__reactContainer$"+gh,ww="__reactEvents$"+gh,j6="__reactListeners$"+gh,X6="__reactHandles$"+gh;function Zc(n){var e=n[Go];if(e)return e;for(var t=n.parentNode;t;){if(e=t[$a]||t[Go]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=_O(n);n!==null;){if(t=n[Go])return t;n=_O(n)}return e}n=t,t=n.parentNode}return null}function tg(n){return n=n[Go]||n[$a],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Yf(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(De(33))}function lx(n){return n[dm]||null}var Ew=[],Jf=-1;function hc(n){return{current:n}}function bn(n){0>Jf||(n.current=Ew[Jf],Ew[Jf]=null,Jf--)}function gn(n,e){Jf++,Ew[Jf]=n.current,n.current=e}var ec={},li=hc(ec),Fi=hc(!1),bu=ec;function Ld(n,e){var t=n.type.contextTypes;if(!t)return ec;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Ui(n){return n=n.childContextTypes,n!=null}function jy(){bn(Fi),bn(li)}function xO(n,e,t){if(li.current!==ec)throw Error(De(168));gn(li,e),gn(Fi,t)}function Qk(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(De(108,O8(n)||"Unknown",i));return Vn({},t,r)}function Xy(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ec,bu=li.current,gn(li,n),gn(Fi,Fi.current),!0}function SO(n,e,t){var r=n.stateNode;if(!r)throw Error(De(169));t?(n=Qk(n,e,bu),r.__reactInternalMemoizedMergedChildContext=n,bn(Fi),bn(li),gn(li,n)):bn(Fi),gn(Fi,t)}var Ca=null,cx=!1,fb=!1;function Zk(n){Ca===null?Ca=[n]:Ca.push(n)}function K6(n){cx=!0,Zk(n)}function pc(){if(!fb&&Ca!==null){fb=!0;var n=0,e=sn;try{var t=Ca;for(sn=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Ca=null,cx=!1}catch(i){throw Ca!==null&&(Ca=Ca.slice(n+1)),wk(lT,pc),i}finally{sn=e,fb=!1}}return null}var qf=[],Qf=0,Ky=null,Yy=0,Ns=[],Fs=0,Au=null,Ba=1,Da="";function $c(n,e){qf[Qf++]=Yy,qf[Qf++]=Ky,Ky=n,Yy=e}function eN(n,e,t){Ns[Fs++]=Ba,Ns[Fs++]=Da,Ns[Fs++]=Au,Au=n;var r=Ba;n=Da;var i=32-yo(r)-1;r&=~(1<<i),t+=1;var s=32-yo(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ba=1<<32-yo(e)+i|t<<i|r,Da=s+n}else Ba=1<<s|t<<i|r,Da=n}function vT(n){n.return!==null&&($c(n,1),eN(n,1,0))}function yT(n){for(;n===Ky;)Ky=qf[--Qf],qf[Qf]=null,Yy=qf[--Qf],qf[Qf]=null;for(;n===Au;)Au=Ns[--Fs],Ns[Fs]=null,Da=Ns[--Fs],Ns[Fs]=null,Ba=Ns[--Fs],Ns[Fs]=null}var cs=null,os=null,Tn=!1,fo=null;function tN(n,e){var t=Vs(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function bO(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,cs=n,os=Vl(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,cs=n,os=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Au!==null?{id:Ba,overflow:Da}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Vs(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,cs=n,os=null,!0):!1;default:return!1}}function Mw(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Tw(n){if(Tn){var e=os;if(e){var t=e;if(!bO(n,e)){if(Mw(n))throw Error(De(418));e=Vl(t.nextSibling);var r=cs;e&&bO(n,e)?tN(r,t):(n.flags=n.flags&-4097|2,Tn=!1,cs=n)}}else{if(Mw(n))throw Error(De(418));n.flags=n.flags&-4097|2,Tn=!1,cs=n}}}function AO(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;cs=n}function H0(n){if(n!==cs)return!1;if(!Tn)return AO(n),Tn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!bw(n.type,n.memoizedProps)),e&&(e=os)){if(Mw(n))throw nN(),Error(De(418));for(;e;)tN(n,e),e=Vl(e.nextSibling)}if(AO(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(De(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){os=Vl(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}os=null}}else os=cs?Vl(n.stateNode.nextSibling):null;return!0}function nN(){for(var n=os;n;)n=Vl(n.nextSibling)}function Id(){os=cs=null,Tn=!1}function _T(n){fo===null?fo=[n]:fo.push(n)}var Y6=nl.ReactCurrentBatchConfig;function lo(n,e){if(n&&n.defaultProps){e=Vn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Jy=hc(null),qy=null,Zf=null,xT=null;function ST(){xT=Zf=qy=null}function bT(n){var e=Jy.current;bn(Jy),n._currentValue=e}function Cw(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function gd(n,e){qy=n,xT=Zf=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(ki=!0),n.firstContext=null)}function Ys(n){var e=n._currentValue;if(xT!==n)if(n={context:n,memoizedValue:e,next:null},Zf===null){if(qy===null)throw Error(De(308));Zf=n,qy.dependencies={lanes:0,firstContext:n}}else Zf=Zf.next=n;return e}var eu=null;function AT(n){eu===null?eu=[n]:eu.push(n)}function rN(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,AT(e)):(t.next=i.next,i.next=t),e.interleaved=t,Wa(n,r)}function Wa(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Tl=!1;function wT(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iN(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Ua(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function $l(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Yt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Wa(n,t)}return i=r.interleaved,i===null?(e.next=e,AT(r)):(e.next=i.next,i.next=e),r.interleaved=e,Wa(n,t)}function cy(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,cT(n,t)}}function wO(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Qy(n,e,t,r){var i=n.updateQueue;Tl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,y=a;switch(p=e,m=t,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(m,f,p);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,p=typeof g=="function"?g.call(m,f,p):g,p==null)break e;f=Vn({},f,p);break e;case 2:Tl=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=f):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Eu|=o,n.lanes=o,n.memoizedState=f}}function EO(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(De(191,i));i.call(r)}}}var sN=new rk.Component().refs;function Rw(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Vn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var ux={isMounted:function(n){return(n=n._reactInternals)?Uu(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=wi(),i=jl(n),s=Ua(r,i);s.payload=e,t!=null&&(s.callback=t),e=$l(n,s,i),e!==null&&(_o(e,n,i,r),cy(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=wi(),i=jl(n),s=Ua(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=$l(n,s,i),e!==null&&(_o(e,n,i,r),cy(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=wi(),r=jl(n),i=Ua(t,r);i.tag=2,e!=null&&(i.callback=e),e=$l(n,i,r),e!==null&&(_o(e,n,r,t),cy(e,n,r))}};function MO(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!cm(t,r)||!cm(i,s):!0}function oN(n,e,t){var r=!1,i=ec,s=e.contextType;return typeof s=="object"&&s!==null?s=Ys(s):(i=Ui(e)?bu:li.current,r=e.contextTypes,s=(r=r!=null)?Ld(n,i):ec),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ux,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function TO(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&ux.enqueueReplaceState(e,e.state,null)}function Pw(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=sN,wT(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ys(s):(s=Ui(e)?bu:li.current,i.context=Ld(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Rw(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ux.enqueueReplaceState(i,i.state,null),Qy(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function rp(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(De(309));var r=t.stateNode}if(!r)throw Error(De(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===sN&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(De(284));if(!t._owner)throw Error(De(290,n))}return n}function G0(n,e){throw n=Object.prototype.toString.call(e),Error(De(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function CO(n){var e=n._init;return e(n._payload)}function aN(n){function e(v,x){if(n){var S=v.deletions;S===null?(v.deletions=[x],v.flags|=16):S.push(x)}}function t(v,x){if(!n)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=Xl(v,x),v.index=0,v.sibling=null,v}function s(v,x,S){return v.index=S,n?(S=v.alternate,S!==null?(S=S.index,S<x?(v.flags|=2,x):S):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return n&&v.alternate===null&&(v.flags|=2),v}function a(v,x,S,A){return x===null||x.tag!==6?(x=yb(S,v.mode,A),x.return=v,x):(x=i(x,S),x.return=v,x)}function l(v,x,S,A){var M=S.type;return M===Wf?u(v,x,S.props.children,A,S.key):x!==null&&(x.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ml&&CO(M)===x.type)?(A=i(x,S.props),A.ref=rp(v,x,S),A.return=v,A):(A=my(S.type,S.key,S.props,null,v.mode,A),A.ref=rp(v,x,S),A.return=v,A)}function c(v,x,S,A){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=_b(S,v.mode,A),x.return=v,x):(x=i(x,S.children||[]),x.return=v,x)}function u(v,x,S,A,M){return x===null||x.tag!==7?(x=uu(S,v.mode,A,M),x.return=v,x):(x=i(x,S),x.return=v,x)}function f(v,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=yb(""+x,v.mode,S),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case O0:return S=my(x.type,x.key,x.props,null,v.mode,S),S.ref=rp(v,null,x),S.return=v,S;case $f:return x=_b(x,v.mode,S),x.return=v,x;case Ml:var A=x._init;return f(v,A(x._payload),S)}if(Cp(x)||Qh(x))return x=uu(x,v.mode,S,null),x.return=v,x;G0(v,x)}return null}function p(v,x,S,A){var M=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return M!==null?null:a(v,x,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case O0:return S.key===M?l(v,x,S,A):null;case $f:return S.key===M?c(v,x,S,A):null;case Ml:return M=S._init,p(v,x,M(S._payload),A)}if(Cp(S)||Qh(S))return M!==null?null:u(v,x,S,A,null);G0(v,S)}return null}function m(v,x,S,A,M){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(S)||null,a(x,v,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case O0:return v=v.get(A.key===null?S:A.key)||null,l(x,v,A,M);case $f:return v=v.get(A.key===null?S:A.key)||null,c(x,v,A,M);case Ml:var E=A._init;return m(v,x,S,E(A._payload),M)}if(Cp(A)||Qh(A))return v=v.get(S)||null,u(x,v,A,M,null);G0(x,A)}return null}function g(v,x,S,A){for(var M=null,E=null,R=x,I=x=0,T=null;R!==null&&I<S.length;I++){R.index>I?(T=R,R=null):T=R.sibling;var P=p(v,R,S[I],A);if(P===null){R===null&&(R=T);break}n&&R&&P.alternate===null&&e(v,R),x=s(P,x,I),E===null?M=P:E.sibling=P,E=P,R=T}if(I===S.length)return t(v,R),Tn&&$c(v,I),M;if(R===null){for(;I<S.length;I++)R=f(v,S[I],A),R!==null&&(x=s(R,x,I),E===null?M=R:E.sibling=R,E=R);return Tn&&$c(v,I),M}for(R=r(v,R);I<S.length;I++)T=m(R,v,I,S[I],A),T!==null&&(n&&T.alternate!==null&&R.delete(T.key===null?I:T.key),x=s(T,x,I),E===null?M=T:E.sibling=T,E=T);return n&&R.forEach(function(B){return e(v,B)}),Tn&&$c(v,I),M}function y(v,x,S,A){var M=Qh(S);if(typeof M!="function")throw Error(De(150));if(S=M.call(S),S==null)throw Error(De(151));for(var E=M=null,R=x,I=x=0,T=null,P=S.next();R!==null&&!P.done;I++,P=S.next()){R.index>I?(T=R,R=null):T=R.sibling;var B=p(v,R,P.value,A);if(B===null){R===null&&(R=T);break}n&&R&&B.alternate===null&&e(v,R),x=s(B,x,I),E===null?M=B:E.sibling=B,E=B,R=T}if(P.done)return t(v,R),Tn&&$c(v,I),M;if(R===null){for(;!P.done;I++,P=S.next())P=f(v,P.value,A),P!==null&&(x=s(P,x,I),E===null?M=P:E.sibling=P,E=P);return Tn&&$c(v,I),M}for(R=r(v,R);!P.done;I++,P=S.next())P=m(R,v,I,P.value,A),P!==null&&(n&&P.alternate!==null&&R.delete(P.key===null?I:P.key),x=s(P,x,I),E===null?M=P:E.sibling=P,E=P);return n&&R.forEach(function(F){return e(v,F)}),Tn&&$c(v,I),M}function _(v,x,S,A){if(typeof S=="object"&&S!==null&&S.type===Wf&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case O0:e:{for(var M=S.key,E=x;E!==null;){if(E.key===M){if(M=S.type,M===Wf){if(E.tag===7){t(v,E.sibling),x=i(E,S.props.children),x.return=v,v=x;break e}}else if(E.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ml&&CO(M)===E.type){t(v,E.sibling),x=i(E,S.props),x.ref=rp(v,E,S),x.return=v,v=x;break e}t(v,E);break}else e(v,E);E=E.sibling}S.type===Wf?(x=uu(S.props.children,v.mode,A,S.key),x.return=v,v=x):(A=my(S.type,S.key,S.props,null,v.mode,A),A.ref=rp(v,x,S),A.return=v,v=A)}return o(v);case $f:e:{for(E=S.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){t(v,x.sibling),x=i(x,S.children||[]),x.return=v,v=x;break e}else{t(v,x);break}else e(v,x);x=x.sibling}x=_b(S,v.mode,A),x.return=v,v=x}return o(v);case Ml:return E=S._init,_(v,x,E(S._payload),A)}if(Cp(S))return g(v,x,S,A);if(Qh(S))return y(v,x,S,A);G0(v,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(t(v,x.sibling),x=i(x,S),x.return=v,v=x):(t(v,x),x=yb(S,v.mode,A),x.return=v,v=x),o(v)):t(v,x)}return _}var Bd=aN(!0),lN=aN(!1),ng={},Xo=hc(ng),hm=hc(ng),pm=hc(ng);function tu(n){if(n===ng)throw Error(De(174));return n}function ET(n,e){switch(gn(pm,e),gn(hm,n),gn(Xo,ng),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lw(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=lw(e,n)}bn(Xo),gn(Xo,e)}function Dd(){bn(Xo),bn(hm),bn(pm)}function cN(n){tu(pm.current);var e=tu(Xo.current),t=lw(e,n.type);e!==t&&(gn(hm,n),gn(Xo,t))}function MT(n){hm.current===n&&(bn(Xo),bn(hm))}var Dn=hc(0);function Zy(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var db=[];function TT(){for(var n=0;n<db.length;n++)db[n]._workInProgressVersionPrimary=null;db.length=0}var uy=nl.ReactCurrentDispatcher,hb=nl.ReactCurrentBatchConfig,wu=0,Gn=null,gr=null,Cr=null,e_=!1,Hp=!1,mm=0,J6=0;function Yr(){throw Error(De(321))}function CT(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!xo(n[t],e[t]))return!1;return!0}function RT(n,e,t,r,i,s){if(wu=s,Gn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,uy.current=n===null||n.memoizedState===null?eV:tV,n=t(r,i),Hp){s=0;do{if(Hp=!1,mm=0,25<=s)throw Error(De(301));s+=1,Cr=gr=null,e.updateQueue=null,uy.current=nV,n=t(r,i)}while(Hp)}if(uy.current=t_,e=gr!==null&&gr.next!==null,wu=0,Cr=gr=Gn=null,e_=!1,e)throw Error(De(300));return n}function PT(){var n=mm!==0;return mm=0,n}function Fo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cr===null?Gn.memoizedState=Cr=n:Cr=Cr.next=n,Cr}function Js(){if(gr===null){var n=Gn.alternate;n=n!==null?n.memoizedState:null}else n=gr.next;var e=Cr===null?Gn.memoizedState:Cr.next;if(e!==null)Cr=e,gr=n;else{if(n===null)throw Error(De(310));gr=n,n={memoizedState:gr.memoizedState,baseState:gr.baseState,baseQueue:gr.baseQueue,queue:gr.queue,next:null},Cr===null?Gn.memoizedState=Cr=n:Cr=Cr.next=n}return Cr}function gm(n,e){return typeof e=="function"?e(n):e}function pb(n){var e=Js(),t=e.queue;if(t===null)throw Error(De(311));t.lastRenderedReducer=n;var r=gr,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((wu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Gn.lanes|=u,Eu|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,xo(r,e.memoizedState)||(ki=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Gn.lanes|=s,Eu|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function mb(n){var e=Js(),t=e.queue;if(t===null)throw Error(De(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);xo(s,e.memoizedState)||(ki=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function uN(){}function fN(n,e){var t=Gn,r=Js(),i=e(),s=!xo(r.memoizedState,i);if(s&&(r.memoizedState=i,ki=!0),r=r.queue,OT(pN.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Cr!==null&&Cr.memoizedState.tag&1){if(t.flags|=2048,vm(9,hN.bind(null,t,r,i,e),void 0,null),Or===null)throw Error(De(349));wu&30||dN(t,e,i)}return i}function dN(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Gn.updateQueue,e===null?(e={lastEffect:null,stores:null},Gn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function hN(n,e,t,r){e.value=t,e.getSnapshot=r,mN(e)&&gN(n)}function pN(n,e,t){return t(function(){mN(e)&&gN(n)})}function mN(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!xo(n,t)}catch{return!0}}function gN(n){var e=Wa(n,1);e!==null&&_o(e,n,1,-1)}function RO(n){var e=Fo();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gm,lastRenderedState:n},e.queue=n,n=n.dispatch=Z6.bind(null,Gn,n),[e.memoizedState,n]}function vm(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Gn.updateQueue,e===null?(e={lastEffect:null,stores:null},Gn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function vN(){return Js().memoizedState}function fy(n,e,t,r){var i=Fo();Gn.flags|=n,i.memoizedState=vm(1|e,t,void 0,r===void 0?null:r)}function fx(n,e,t,r){var i=Js();r=r===void 0?null:r;var s=void 0;if(gr!==null){var o=gr.memoizedState;if(s=o.destroy,r!==null&&CT(r,o.deps)){i.memoizedState=vm(e,t,s,r);return}}Gn.flags|=n,i.memoizedState=vm(1|e,t,s,r)}function PO(n,e){return fy(8390656,8,n,e)}function OT(n,e){return fx(2048,8,n,e)}function yN(n,e){return fx(4,2,n,e)}function _N(n,e){return fx(4,4,n,e)}function xN(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function SN(n,e,t){return t=t!=null?t.concat([n]):null,fx(4,4,xN.bind(null,e,n),t)}function LT(){}function bN(n,e){var t=Js();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&CT(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function AN(n,e){var t=Js();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&CT(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function wN(n,e,t){return wu&21?(xo(t,e)||(t=Tk(),Gn.lanes|=t,Eu|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,ki=!0),n.memoizedState=t)}function q6(n,e){var t=sn;sn=t!==0&&4>t?t:4,n(!0);var r=hb.transition;hb.transition={};try{n(!1),e()}finally{sn=t,hb.transition=r}}function EN(){return Js().memoizedState}function Q6(n,e,t){var r=jl(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},MN(n))TN(e,t);else if(t=rN(n,e,t,r),t!==null){var i=wi();_o(t,n,r,i),CN(t,e,r)}}function Z6(n,e,t){var r=jl(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(MN(n))TN(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,xo(a,o)){var l=e.interleaved;l===null?(i.next=i,AT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=rN(n,e,i,r),t!==null&&(i=wi(),_o(t,n,r,i),CN(t,e,r))}}function MN(n){var e=n.alternate;return n===Gn||e!==null&&e===Gn}function TN(n,e){Hp=e_=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function CN(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,cT(n,t)}}var t_={readContext:Ys,useCallback:Yr,useContext:Yr,useEffect:Yr,useImperativeHandle:Yr,useInsertionEffect:Yr,useLayoutEffect:Yr,useMemo:Yr,useReducer:Yr,useRef:Yr,useState:Yr,useDebugValue:Yr,useDeferredValue:Yr,useTransition:Yr,useMutableSource:Yr,useSyncExternalStore:Yr,useId:Yr,unstable_isNewReconciler:!1},eV={readContext:Ys,useCallback:function(n,e){return Fo().memoizedState=[n,e===void 0?null:e],n},useContext:Ys,useEffect:PO,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,fy(4194308,4,xN.bind(null,e,n),t)},useLayoutEffect:function(n,e){return fy(4194308,4,n,e)},useInsertionEffect:function(n,e){return fy(4,2,n,e)},useMemo:function(n,e){var t=Fo();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Fo();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=Q6.bind(null,Gn,n),[r.memoizedState,n]},useRef:function(n){var e=Fo();return n={current:n},e.memoizedState=n},useState:RO,useDebugValue:LT,useDeferredValue:function(n){return Fo().memoizedState=n},useTransition:function(){var n=RO(!1),e=n[0];return n=q6.bind(null,n[1]),Fo().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Gn,i=Fo();if(Tn){if(t===void 0)throw Error(De(407));t=t()}else{if(t=e(),Or===null)throw Error(De(349));wu&30||dN(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,PO(pN.bind(null,r,s,n),[n]),r.flags|=2048,vm(9,hN.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Fo(),e=Or.identifierPrefix;if(Tn){var t=Da,r=Ba;t=(r&~(1<<32-yo(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=mm++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=J6++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},tV={readContext:Ys,useCallback:bN,useContext:Ys,useEffect:OT,useImperativeHandle:SN,useInsertionEffect:yN,useLayoutEffect:_N,useMemo:AN,useReducer:pb,useRef:vN,useState:function(){return pb(gm)},useDebugValue:LT,useDeferredValue:function(n){var e=Js();return wN(e,gr.memoizedState,n)},useTransition:function(){var n=pb(gm)[0],e=Js().memoizedState;return[n,e]},useMutableSource:uN,useSyncExternalStore:fN,useId:EN,unstable_isNewReconciler:!1},nV={readContext:Ys,useCallback:bN,useContext:Ys,useEffect:OT,useImperativeHandle:SN,useInsertionEffect:yN,useLayoutEffect:_N,useMemo:AN,useReducer:mb,useRef:vN,useState:function(){return mb(gm)},useDebugValue:LT,useDeferredValue:function(n){var e=Js();return gr===null?e.memoizedState=n:wN(e,gr.memoizedState,n)},useTransition:function(){var n=mb(gm)[0],e=Js().memoizedState;return[n,e]},useMutableSource:uN,useSyncExternalStore:fN,useId:EN,unstable_isNewReconciler:!1};function kd(n,e){try{var t="",r=e;do t+=P8(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function gb(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Ow(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var rV=typeof WeakMap=="function"?WeakMap:Map;function RN(n,e,t){t=Ua(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){r_||(r_=!0,Hw=r),Ow(n,e)},t}function PN(n,e,t){t=Ua(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){Ow(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Ow(n,e),typeof r!="function"&&(Wl===null?Wl=new Set([this]):Wl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function OO(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new rV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=vV.bind(null,n,e,t),e.then(n,n))}function LO(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function IO(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=Ua(-1,1),e.tag=2,$l(t,e,1))),t.lanes|=1),n)}var iV=nl.ReactCurrentOwner,ki=!1;function yi(n,e,t,r){e.child=n===null?lN(e,null,t,r):Bd(e,n.child,t,r)}function BO(n,e,t,r,i){t=t.render;var s=e.ref;return gd(e,i),r=RT(n,e,t,r,s,i),t=PT(),n!==null&&!ki?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,ja(n,e,i)):(Tn&&t&&vT(e),e.flags|=1,yi(n,e,r,i),e.child)}function DO(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!zT(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,ON(n,e,s,r,i)):(n=my(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:cm,t(o,r)&&n.ref===e.ref)return ja(n,e,i)}return e.flags|=1,n=Xl(s,r),n.ref=e.ref,n.return=e,e.child=n}function ON(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(cm(s,r)&&n.ref===e.ref)if(ki=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(ki=!0);else return e.lanes=n.lanes,ja(n,e,i)}return Lw(n,e,t,r,i)}function LN(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},gn(td,es),es|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,gn(td,es),es|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,gn(td,es),es|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,gn(td,es),es|=r;return yi(n,e,i,t),e.child}function IN(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Lw(n,e,t,r,i){var s=Ui(t)?bu:li.current;return s=Ld(e,s),gd(e,i),t=RT(n,e,t,r,s,i),r=PT(),n!==null&&!ki?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,ja(n,e,i)):(Tn&&r&&vT(e),e.flags|=1,yi(n,e,t,i),e.child)}function kO(n,e,t,r,i){if(Ui(t)){var s=!0;Xy(e)}else s=!1;if(gd(e,i),e.stateNode===null)dy(n,e),oN(e,t,r),Pw(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Ys(c):(c=Ui(t)?bu:li.current,c=Ld(e,c));var u=t.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&TO(e,o,r,c),Tl=!1;var p=e.memoizedState;o.state=p,Qy(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Fi.current||Tl?(typeof u=="function"&&(Rw(e,t,u,r),l=e.memoizedState),(a=Tl||MO(e,t,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,iN(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:lo(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Ys(l):(l=Ui(t)?bu:li.current,l=Ld(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&TO(e,o,r,l),Tl=!1,p=e.memoizedState,o.state=p,Qy(e,r,o,i);var g=e.memoizedState;a!==f||p!==g||Fi.current||Tl?(typeof m=="function"&&(Rw(e,t,m,r),g=e.memoizedState),(c=Tl||MO(e,t,c,r,p,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return Iw(n,e,t,r,s,i)}function Iw(n,e,t,r,i,s){IN(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&SO(e,t,!1),ja(n,e,s);r=e.stateNode,iV.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=Bd(e,n.child,null,s),e.child=Bd(e,null,a,s)):yi(n,e,a,s),e.memoizedState=r.state,i&&SO(e,t,!0),e.child}function BN(n){var e=n.stateNode;e.pendingContext?xO(n,e.pendingContext,e.pendingContext!==e.context):e.context&&xO(n,e.context,!1),ET(n,e.containerInfo)}function NO(n,e,t,r,i){return Id(),_T(i),e.flags|=256,yi(n,e,t,r),e.child}var Bw={dehydrated:null,treeContext:null,retryLane:0};function Dw(n){return{baseLanes:n,cachePool:null,transitions:null}}function DN(n,e,t){var r=e.pendingProps,i=Dn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),gn(Dn,i&1),n===null)return Tw(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=px(o,r,0,null),n=uu(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=Dw(t),e.memoizedState=Bw,n):IT(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return sV(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Xl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Xl(a,s):(s=uu(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?Dw(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=Bw,r}return s=n.child,n=s.sibling,r=Xl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function IT(n,e){return e=px({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function V0(n,e,t,r){return r!==null&&_T(r),Bd(e,n.child,null,t),n=IT(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function sV(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=gb(Error(De(422))),V0(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=px({mode:"visible",children:r.children},i,0,null),s=uu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Bd(e,n.child,null,o),e.child.memoizedState=Dw(o),e.memoizedState=Bw,s);if(!(e.mode&1))return V0(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(De(419)),r=gb(s,r,void 0),V0(n,e,o,r)}if(a=(o&n.childLanes)!==0,ki||a){if(r=Or,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Wa(n,i),_o(r,n,i,-1))}return UT(),r=gb(Error(De(421))),V0(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=yV.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,os=Vl(i.nextSibling),cs=e,Tn=!0,fo=null,n!==null&&(Ns[Fs++]=Ba,Ns[Fs++]=Da,Ns[Fs++]=Au,Ba=n.id,Da=n.overflow,Au=e),e=IT(e,r.children),e.flags|=4096,e)}function FO(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),Cw(n.return,e,t)}function vb(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function kN(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(yi(n,e,r.children,t),r=Dn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&FO(n,t,e);else if(n.tag===19)FO(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(gn(Dn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Zy(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),vb(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Zy(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}vb(e,!0,t,null,s);break;case"together":vb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dy(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function ja(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Eu|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(De(153));if(e.child!==null){for(n=e.child,t=Xl(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Xl(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function oV(n,e,t){switch(e.tag){case 3:BN(e),Id();break;case 5:cN(e);break;case 1:Ui(e.type)&&Xy(e);break;case 4:ET(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;gn(Jy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(gn(Dn,Dn.current&1),e.flags|=128,null):t&e.child.childLanes?DN(n,e,t):(gn(Dn,Dn.current&1),n=ja(n,e,t),n!==null?n.sibling:null);gn(Dn,Dn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return kN(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),gn(Dn,Dn.current),r)break;return null;case 22:case 23:return e.lanes=0,LN(n,e,t)}return ja(n,e,t)}var NN,kw,FN,UN;NN=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};kw=function(){};FN=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,tu(Xo.current);var s=null;switch(t){case"input":i=iw(n,i),r=iw(n,r),s=[];break;case"select":i=Vn({},i,{value:void 0}),r=Vn({},r,{value:void 0}),s=[];break;case"textarea":i=aw(n,i),r=aw(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Wy)}cw(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(nm.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(nm.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_n("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};UN=function(n,e,t,r){t!==r&&(e.flags|=4)};function ip(n,e){if(!Tn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Jr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function aV(n,e,t){var r=e.pendingProps;switch(yT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jr(e),null;case 1:return Ui(e.type)&&jy(),Jr(e),null;case 3:return r=e.stateNode,Dd(),bn(Fi),bn(li),TT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(H0(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fo!==null&&($w(fo),fo=null))),kw(n,e),Jr(e),null;case 5:MT(e);var i=tu(pm.current);if(t=e.type,n!==null&&e.stateNode!=null)FN(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(De(166));return Jr(e),null}if(n=tu(Xo.current),H0(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[Go]=e,r[dm]=s,n=(e.mode&1)!==0,t){case"dialog":_n("cancel",r),_n("close",r);break;case"iframe":case"object":case"embed":_n("load",r);break;case"video":case"audio":for(i=0;i<Pp.length;i++)_n(Pp[i],r);break;case"source":_n("error",r);break;case"img":case"image":case"link":_n("error",r),_n("load",r);break;case"details":_n("toggle",r);break;case"input":X2(r,s),_n("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},_n("invalid",r);break;case"textarea":Y2(r,s),_n("invalid",r)}cw(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&z0(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&z0(r.textContent,a,n),i=["children",""+a]):nm.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_n("scroll",r)}switch(t){case"input":L0(r),K2(r,s,!0);break;case"textarea":L0(r),J2(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Wy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=dk(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[Go]=e,n[dm]=r,NN(n,e,!1,!1),e.stateNode=n;e:{switch(o=uw(t,r),t){case"dialog":_n("cancel",n),_n("close",n),i=r;break;case"iframe":case"object":case"embed":_n("load",n),i=r;break;case"video":case"audio":for(i=0;i<Pp.length;i++)_n(Pp[i],n);i=r;break;case"source":_n("error",n),i=r;break;case"img":case"image":case"link":_n("error",n),_n("load",n),i=r;break;case"details":_n("toggle",n),i=r;break;case"input":X2(n,r),i=iw(n,r),_n("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Vn({},r,{value:void 0}),_n("invalid",n);break;case"textarea":Y2(n,r),i=aw(n,r),_n("invalid",n);break;default:i=r}cw(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?mk(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&hk(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&rm(n,l):typeof l=="number"&&rm(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(nm.hasOwnProperty(s)?l!=null&&s==="onScroll"&&_n("scroll",n):l!=null&&rT(n,s,l,o))}switch(t){case"input":L0(n),K2(n,r,!1);break;case"textarea":L0(n),J2(n);break;case"option":r.value!=null&&n.setAttribute("value",""+Zl(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?dd(n,!!r.multiple,s,!1):r.defaultValue!=null&&dd(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Wy)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Jr(e),null;case 6:if(n&&e.stateNode!=null)UN(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(De(166));if(t=tu(pm.current),tu(Xo.current),H0(e)){if(r=e.stateNode,t=e.memoizedProps,r[Go]=e,(s=r.nodeValue!==t)&&(n=cs,n!==null))switch(n.tag){case 3:z0(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&z0(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[Go]=e,e.stateNode=r}return Jr(e),null;case 13:if(bn(Dn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Tn&&os!==null&&e.mode&1&&!(e.flags&128))nN(),Id(),e.flags|=98560,s=!1;else if(s=H0(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(De(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(De(317));s[Go]=e}else Id(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Jr(e),s=!1}else fo!==null&&($w(fo),fo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Dn.current&1?yr===0&&(yr=3):UT())),e.updateQueue!==null&&(e.flags|=4),Jr(e),null);case 4:return Dd(),kw(n,e),n===null&&um(e.stateNode.containerInfo),Jr(e),null;case 10:return bT(e.type._context),Jr(e),null;case 17:return Ui(e.type)&&jy(),Jr(e),null;case 19:if(bn(Dn),s=e.memoizedState,s===null)return Jr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ip(s,!1);else{if(yr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Zy(n),o!==null){for(e.flags|=128,ip(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return gn(Dn,Dn.current&1|2),e.child}n=n.sibling}s.tail!==null&&ir()>Nd&&(e.flags|=128,r=!0,ip(s,!1),e.lanes=4194304)}else{if(!r)if(n=Zy(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),ip(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Tn)return Jr(e),null}else 2*ir()-s.renderingStartTime>Nd&&t!==1073741824&&(e.flags|=128,r=!0,ip(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ir(),e.sibling=null,t=Dn.current,gn(Dn,r?t&1|2:t&1),e):(Jr(e),null);case 22:case 23:return FT(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?es&1073741824&&(Jr(e),e.subtreeFlags&6&&(e.flags|=8192)):Jr(e),null;case 24:return null;case 25:return null}throw Error(De(156,e.tag))}function lV(n,e){switch(yT(e),e.tag){case 1:return Ui(e.type)&&jy(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Dd(),bn(Fi),bn(li),TT(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return MT(e),null;case 13:if(bn(Dn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(De(340));Id()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return bn(Dn),null;case 4:return Dd(),null;case 10:return bT(e.type._context),null;case 22:case 23:return FT(),null;case 24:return null;default:return null}}var $0=!1,ti=!1,cV=typeof WeakSet=="function"?WeakSet:Set,nt=null;function ed(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Yn(n,e,r)}else t.current=null}function Nw(n,e,t){try{t()}catch(r){Yn(n,e,r)}}var UO=!1;function uV(n,e){if(xw=Gy,n=Vk(),gT(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=n,p=null;t:for(;;){for(var m;f!==t||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===n)break t;if(p===t&&++c===i&&(a=o),p===s&&++u===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(Sw={focusedElem:n,selectionRange:t},Gy=!1,nt=e;nt!==null;)if(e=nt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,nt=n;else for(;nt!==null;){e=nt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,_=g.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:lo(e.type,y),_);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(De(163))}}catch(A){Yn(e,e.return,A)}if(n=e.sibling,n!==null){n.return=e.return,nt=n;break}nt=e.return}return g=UO,UO=!1,g}function Gp(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&Nw(e,t,s)}i=i.next}while(i!==r)}}function dx(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function Fw(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function zN(n){var e=n.alternate;e!==null&&(n.alternate=null,zN(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[Go],delete e[dm],delete e[ww],delete e[j6],delete e[X6])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function HN(n){return n.tag===5||n.tag===3||n.tag===4}function zO(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||HN(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Uw(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Wy));else if(r!==4&&(n=n.child,n!==null))for(Uw(n,e,t),n=n.sibling;n!==null;)Uw(n,e,t),n=n.sibling}function zw(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(zw(n,e,t),n=n.sibling;n!==null;)zw(n,e,t),n=n.sibling}var Ur=null,uo=!1;function ml(n,e,t){for(t=t.child;t!==null;)GN(n,e,t),t=t.sibling}function GN(n,e,t){if(jo&&typeof jo.onCommitFiberUnmount=="function")try{jo.onCommitFiberUnmount(ix,t)}catch{}switch(t.tag){case 5:ti||ed(t,e);case 6:var r=Ur,i=uo;Ur=null,ml(n,e,t),Ur=r,uo=i,Ur!==null&&(uo?(n=Ur,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Ur.removeChild(t.stateNode));break;case 18:Ur!==null&&(uo?(n=Ur,t=t.stateNode,n.nodeType===8?ub(n.parentNode,t):n.nodeType===1&&ub(n,t),am(n)):ub(Ur,t.stateNode));break;case 4:r=Ur,i=uo,Ur=t.stateNode.containerInfo,uo=!0,ml(n,e,t),Ur=r,uo=i;break;case 0:case 11:case 14:case 15:if(!ti&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Nw(t,e,o),i=i.next}while(i!==r)}ml(n,e,t);break;case 1:if(!ti&&(ed(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Yn(t,e,a)}ml(n,e,t);break;case 21:ml(n,e,t);break;case 22:t.mode&1?(ti=(r=ti)||t.memoizedState!==null,ml(n,e,t),ti=r):ml(n,e,t);break;default:ml(n,e,t)}}function HO(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new cV),e.forEach(function(r){var i=_V.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function io(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ur=a.stateNode,uo=!1;break e;case 3:Ur=a.stateNode.containerInfo,uo=!0;break e;case 4:Ur=a.stateNode.containerInfo,uo=!0;break e}a=a.return}if(Ur===null)throw Error(De(160));GN(s,o,i),Ur=null,uo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Yn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)VN(e,n),e=e.sibling}function VN(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(io(e,n),ko(n),r&4){try{Gp(3,n,n.return),dx(3,n)}catch(y){Yn(n,n.return,y)}try{Gp(5,n,n.return)}catch(y){Yn(n,n.return,y)}}break;case 1:io(e,n),ko(n),r&512&&t!==null&&ed(t,t.return);break;case 5:if(io(e,n),ko(n),r&512&&t!==null&&ed(t,t.return),n.flags&32){var i=n.stateNode;try{rm(i,"")}catch(y){Yn(n,n.return,y)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&uk(i,s),uw(a,o);var c=uw(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?mk(i,f):u==="dangerouslySetInnerHTML"?hk(i,f):u==="children"?rm(i,f):rT(i,u,f,c)}switch(a){case"input":sw(i,s);break;case"textarea":fk(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?dd(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?dd(i,!!s.multiple,s.defaultValue,!0):dd(i,!!s.multiple,s.multiple?[]:"",!1))}i[dm]=s}catch(y){Yn(n,n.return,y)}}break;case 6:if(io(e,n),ko(n),r&4){if(n.stateNode===null)throw Error(De(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(y){Yn(n,n.return,y)}}break;case 3:if(io(e,n),ko(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{am(e.containerInfo)}catch(y){Yn(n,n.return,y)}break;case 4:io(e,n),ko(n);break;case 13:io(e,n),ko(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(kT=ir())),r&4&&HO(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(ti=(c=ti)||u,io(e,n),ti=c):io(e,n),ko(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(nt=n,u=n.child;u!==null;){for(f=nt=u;nt!==null;){switch(p=nt,m=p.child,p.tag){case 0:case 11:case 14:case 15:Gp(4,p,p.return);break;case 1:ed(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Yn(r,t,y)}}break;case 5:ed(p,p.return);break;case 22:if(p.memoizedState!==null){VO(f);continue}}m!==null?(m.return=p,nt=m):VO(f)}u=u.sibling}e:for(u=null,f=n;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=pk("display",o))}catch(y){Yn(n,n.return,y)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){Yn(n,n.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:io(e,n),ko(n),r&4&&HO(n);break;case 21:break;default:io(e,n),ko(n)}}function ko(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(HN(t)){var r=t;break e}t=t.return}throw Error(De(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(rm(i,""),r.flags&=-33);var s=zO(n);zw(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=zO(n);Uw(n,a,o);break;default:throw Error(De(161))}}catch(l){Yn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function fV(n,e,t){nt=n,$N(n)}function $N(n,e,t){for(var r=(n.mode&1)!==0;nt!==null;){var i=nt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||$0;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ti;a=$0;var c=ti;if($0=o,(ti=l)&&!c)for(nt=i;nt!==null;)o=nt,l=o.child,o.tag===22&&o.memoizedState!==null?$O(i):l!==null?(l.return=o,nt=l):$O(i);for(;s!==null;)nt=s,$N(s),s=s.sibling;nt=i,$0=a,ti=c}GO(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,nt=s):GO(n)}}function GO(n){for(;nt!==null;){var e=nt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ti||dx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ti)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:lo(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&EO(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}EO(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&am(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(De(163))}ti||e.flags&512&&Fw(e)}catch(p){Yn(e,e.return,p)}}if(e===n){nt=null;break}if(t=e.sibling,t!==null){t.return=e.return,nt=t;break}nt=e.return}}function VO(n){for(;nt!==null;){var e=nt;if(e===n){nt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,nt=t;break}nt=e.return}}function $O(n){for(;nt!==null;){var e=nt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{dx(4,e)}catch(l){Yn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Yn(e,i,l)}}var s=e.return;try{Fw(e)}catch(l){Yn(e,s,l)}break;case 5:var o=e.return;try{Fw(e)}catch(l){Yn(e,o,l)}}}catch(l){Yn(e,e.return,l)}if(e===n){nt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,nt=a;break}nt=e.return}}var dV=Math.ceil,n_=nl.ReactCurrentDispatcher,BT=nl.ReactCurrentOwner,Ks=nl.ReactCurrentBatchConfig,Yt=0,Or=null,dr=null,Gr=0,es=0,td=hc(0),yr=0,ym=null,Eu=0,hx=0,DT=0,Vp=null,Ii=null,kT=0,Nd=1/0,Ma=null,r_=!1,Hw=null,Wl=null,W0=!1,Dl=null,i_=0,$p=0,Gw=null,hy=-1,py=0;function wi(){return Yt&6?ir():hy!==-1?hy:hy=ir()}function jl(n){return n.mode&1?Yt&2&&Gr!==0?Gr&-Gr:Y6.transition!==null?(py===0&&(py=Tk()),py):(n=sn,n!==0||(n=window.event,n=n===void 0?16:Bk(n.type)),n):1}function _o(n,e,t,r){if(50<$p)throw $p=0,Gw=null,Error(De(185));Zm(n,t,r),(!(Yt&2)||n!==Or)&&(n===Or&&(!(Yt&2)&&(hx|=t),yr===4&&Ol(n,Gr)),zi(n,r),t===1&&Yt===0&&!(e.mode&1)&&(Nd=ir()+500,cx&&pc()))}function zi(n,e){var t=n.callbackNode;Y8(n,e);var r=Hy(n,n===Or?Gr:0);if(r===0)t!==null&&Z2(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&Z2(t),e===1)n.tag===0?K6(WO.bind(null,n)):Zk(WO.bind(null,n)),$6(function(){!(Yt&6)&&pc()}),t=null;else{switch(Ck(r)){case 1:t=lT;break;case 4:t=Ek;break;case 16:t=zy;break;case 536870912:t=Mk;break;default:t=zy}t=QN(t,WN.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function WN(n,e){if(hy=-1,py=0,Yt&6)throw Error(De(327));var t=n.callbackNode;if(vd()&&n.callbackNode!==t)return null;var r=Hy(n,n===Or?Gr:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=s_(n,r);else{e=r;var i=Yt;Yt|=2;var s=XN();(Or!==n||Gr!==e)&&(Ma=null,Nd=ir()+500,cu(n,e));do try{mV();break}catch(a){jN(n,a)}while(1);ST(),n_.current=s,Yt=i,dr!==null?e=0:(Or=null,Gr=0,e=yr)}if(e!==0){if(e===2&&(i=mw(n),i!==0&&(r=i,e=Vw(n,i))),e===1)throw t=ym,cu(n,0),Ol(n,r),zi(n,ir()),t;if(e===6)Ol(n,r);else{if(i=n.current.alternate,!(r&30)&&!hV(i)&&(e=s_(n,r),e===2&&(s=mw(n),s!==0&&(r=s,e=Vw(n,s))),e===1))throw t=ym,cu(n,0),Ol(n,r),zi(n,ir()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(De(345));case 2:Wc(n,Ii,Ma);break;case 3:if(Ol(n,r),(r&130023424)===r&&(e=kT+500-ir(),10<e)){if(Hy(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){wi(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Aw(Wc.bind(null,n,Ii,Ma),e);break}Wc(n,Ii,Ma);break;case 4:if(Ol(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-yo(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ir()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*dV(r/1960))-r,10<r){n.timeoutHandle=Aw(Wc.bind(null,n,Ii,Ma),r);break}Wc(n,Ii,Ma);break;case 5:Wc(n,Ii,Ma);break;default:throw Error(De(329))}}}return zi(n,ir()),n.callbackNode===t?WN.bind(null,n):null}function Vw(n,e){var t=Vp;return n.current.memoizedState.isDehydrated&&(cu(n,e).flags|=256),n=s_(n,e),n!==2&&(e=Ii,Ii=t,e!==null&&$w(e)),n}function $w(n){Ii===null?Ii=n:Ii.push.apply(Ii,n)}function hV(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!xo(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ol(n,e){for(e&=~DT,e&=~hx,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-yo(e),r=1<<t;n[t]=-1,e&=~r}}function WO(n){if(Yt&6)throw Error(De(327));vd();var e=Hy(n,0);if(!(e&1))return zi(n,ir()),null;var t=s_(n,e);if(n.tag!==0&&t===2){var r=mw(n);r!==0&&(e=r,t=Vw(n,r))}if(t===1)throw t=ym,cu(n,0),Ol(n,e),zi(n,ir()),t;if(t===6)throw Error(De(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Wc(n,Ii,Ma),zi(n,ir()),null}function NT(n,e){var t=Yt;Yt|=1;try{return n(e)}finally{Yt=t,Yt===0&&(Nd=ir()+500,cx&&pc())}}function Mu(n){Dl!==null&&Dl.tag===0&&!(Yt&6)&&vd();var e=Yt;Yt|=1;var t=Ks.transition,r=sn;try{if(Ks.transition=null,sn=1,n)return n()}finally{sn=r,Ks.transition=t,Yt=e,!(Yt&6)&&pc()}}function FT(){es=td.current,bn(td)}function cu(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,V6(t)),dr!==null)for(t=dr.return;t!==null;){var r=t;switch(yT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jy();break;case 3:Dd(),bn(Fi),bn(li),TT();break;case 5:MT(r);break;case 4:Dd();break;case 13:bn(Dn);break;case 19:bn(Dn);break;case 10:bT(r.type._context);break;case 22:case 23:FT()}t=t.return}if(Or=n,dr=n=Xl(n.current,null),Gr=es=e,yr=0,ym=null,DT=hx=Eu=0,Ii=Vp=null,eu!==null){for(e=0;e<eu.length;e++)if(t=eu[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}eu=null}return n}function jN(n,e){do{var t=dr;try{if(ST(),uy.current=t_,e_){for(var r=Gn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}e_=!1}if(wu=0,Cr=gr=Gn=null,Hp=!1,mm=0,BT.current=null,t===null||t.return===null){yr=1,ym=e,dr=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Gr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=LO(o);if(m!==null){m.flags&=-257,IO(m,o,a,s,e),m.mode&1&&OO(s,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){OO(s,c,e),UT();break e}l=Error(De(426))}}else if(Tn&&a.mode&1){var _=LO(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),IO(_,o,a,s,e),_T(kd(l,a));break e}}s=l=kd(l,a),yr!==4&&(yr=2),Vp===null?Vp=[s]:Vp.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=RN(s,l,e);wO(s,v);break e;case 1:a=l;var x=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Wl===null||!Wl.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=PN(s,a,e);wO(s,A);break e}}s=s.return}while(s!==null)}YN(t)}catch(M){e=M,dr===t&&t!==null&&(dr=t=t.return);continue}break}while(1)}function XN(){var n=n_.current;return n_.current=t_,n===null?t_:n}function UT(){(yr===0||yr===3||yr===2)&&(yr=4),Or===null||!(Eu&268435455)&&!(hx&268435455)||Ol(Or,Gr)}function s_(n,e){var t=Yt;Yt|=2;var r=XN();(Or!==n||Gr!==e)&&(Ma=null,cu(n,e));do try{pV();break}catch(i){jN(n,i)}while(1);if(ST(),Yt=t,n_.current=r,dr!==null)throw Error(De(261));return Or=null,Gr=0,yr}function pV(){for(;dr!==null;)KN(dr)}function mV(){for(;dr!==null&&!z8();)KN(dr)}function KN(n){var e=qN(n.alternate,n,es);n.memoizedProps=n.pendingProps,e===null?YN(n):dr=e,BT.current=null}function YN(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=lV(t,e),t!==null){t.flags&=32767,dr=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{yr=6,dr=null;return}}else if(t=aV(t,e,es),t!==null){dr=t;return}if(e=e.sibling,e!==null){dr=e;return}dr=e=n}while(e!==null);yr===0&&(yr=5)}function Wc(n,e,t){var r=sn,i=Ks.transition;try{Ks.transition=null,sn=1,gV(n,e,t,r)}finally{Ks.transition=i,sn=r}return null}function gV(n,e,t,r){do vd();while(Dl!==null);if(Yt&6)throw Error(De(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(De(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(J8(n,s),n===Or&&(dr=Or=null,Gr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||W0||(W0=!0,QN(zy,function(){return vd(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Ks.transition,Ks.transition=null;var o=sn;sn=1;var a=Yt;Yt|=4,BT.current=null,uV(n,t),VN(t,n),k6(Sw),Gy=!!xw,Sw=xw=null,n.current=t,fV(t),H8(),Yt=a,sn=o,Ks.transition=s}else n.current=t;if(W0&&(W0=!1,Dl=n,i_=i),s=n.pendingLanes,s===0&&(Wl=null),$8(t.stateNode),zi(n,ir()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(r_)throw r_=!1,n=Hw,Hw=null,n;return i_&1&&n.tag!==0&&vd(),s=n.pendingLanes,s&1?n===Gw?$p++:($p=0,Gw=n):$p=0,pc(),null}function vd(){if(Dl!==null){var n=Ck(i_),e=Ks.transition,t=sn;try{if(Ks.transition=null,sn=16>n?16:n,Dl===null)var r=!1;else{if(n=Dl,Dl=null,i_=0,Yt&6)throw Error(De(331));var i=Yt;for(Yt|=4,nt=n.current;nt!==null;){var s=nt,o=s.child;if(nt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(nt=c;nt!==null;){var u=nt;switch(u.tag){case 0:case 11:case 15:Gp(8,u,s)}var f=u.child;if(f!==null)f.return=u,nt=f;else for(;nt!==null;){u=nt;var p=u.sibling,m=u.return;if(zN(u),u===c){nt=null;break}if(p!==null){p.return=m,nt=p;break}nt=m}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}nt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,nt=o;else e:for(;nt!==null;){if(s=nt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Gp(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,nt=v;break e}nt=s.return}}var x=n.current;for(nt=x;nt!==null;){o=nt;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,nt=S;else e:for(o=x;nt!==null;){if(a=nt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:dx(9,a)}}catch(M){Yn(a,a.return,M)}if(a===o){nt=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,nt=A;break e}nt=a.return}}if(Yt=i,pc(),jo&&typeof jo.onPostCommitFiberRoot=="function")try{jo.onPostCommitFiberRoot(ix,n)}catch{}r=!0}return r}finally{sn=t,Ks.transition=e}}return!1}function jO(n,e,t){e=kd(t,e),e=RN(n,e,1),n=$l(n,e,1),e=wi(),n!==null&&(Zm(n,1,e),zi(n,e))}function Yn(n,e,t){if(n.tag===3)jO(n,n,t);else for(;e!==null;){if(e.tag===3){jO(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wl===null||!Wl.has(r))){n=kd(t,n),n=PN(e,n,1),e=$l(e,n,1),n=wi(),e!==null&&(Zm(e,1,n),zi(e,n));break}}e=e.return}}function vV(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=wi(),n.pingedLanes|=n.suspendedLanes&t,Or===n&&(Gr&t)===t&&(yr===4||yr===3&&(Gr&130023424)===Gr&&500>ir()-kT?cu(n,0):DT|=t),zi(n,e)}function JN(n,e){e===0&&(n.mode&1?(e=D0,D0<<=1,!(D0&130023424)&&(D0=4194304)):e=1);var t=wi();n=Wa(n,e),n!==null&&(Zm(n,e,t),zi(n,t))}function yV(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),JN(n,t)}function _V(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(De(314))}r!==null&&r.delete(e),JN(n,t)}var qN;qN=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Fi.current)ki=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return ki=!1,oV(n,e,t);ki=!!(n.flags&131072)}else ki=!1,Tn&&e.flags&1048576&&eN(e,Yy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;dy(n,e),n=e.pendingProps;var i=Ld(e,li.current);gd(e,t),i=RT(null,e,r,n,i,t);var s=PT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ui(r)?(s=!0,Xy(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wT(e),i.updater=ux,e.stateNode=i,i._reactInternals=e,Pw(e,r,n,t),e=Iw(null,e,r,!0,s,t)):(e.tag=0,Tn&&s&&vT(e),yi(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(dy(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=SV(r),n=lo(r,n),i){case 0:e=Lw(null,e,r,n,t);break e;case 1:e=kO(null,e,r,n,t);break e;case 11:e=BO(null,e,r,n,t);break e;case 14:e=DO(null,e,r,lo(r.type,n),t);break e}throw Error(De(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lo(r,i),Lw(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lo(r,i),kO(n,e,r,i,t);case 3:e:{if(BN(e),n===null)throw Error(De(387));r=e.pendingProps,s=e.memoizedState,i=s.element,iN(n,e),Qy(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=kd(Error(De(423)),e),e=NO(n,e,r,t,i);break e}else if(r!==i){i=kd(Error(De(424)),e),e=NO(n,e,r,t,i);break e}else for(os=Vl(e.stateNode.containerInfo.firstChild),cs=e,Tn=!0,fo=null,t=lN(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Id(),r===i){e=ja(n,e,t);break e}yi(n,e,r,t)}e=e.child}return e;case 5:return cN(e),n===null&&Tw(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,bw(r,i)?o=null:s!==null&&bw(r,s)&&(e.flags|=32),IN(n,e),yi(n,e,o,t),e.child;case 6:return n===null&&Tw(e),null;case 13:return DN(n,e,t);case 4:return ET(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=Bd(e,null,r,t):yi(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lo(r,i),BO(n,e,r,i,t);case 7:return yi(n,e,e.pendingProps,t),e.child;case 8:return yi(n,e,e.pendingProps.children,t),e.child;case 12:return yi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,gn(Jy,r._currentValue),r._currentValue=o,s!==null)if(xo(s.value,o)){if(s.children===i.children&&!Fi.current){e=ja(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ua(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),Cw(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(De(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),Cw(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}yi(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,gd(e,t),i=Ys(i),r=r(i),e.flags|=1,yi(n,e,r,t),e.child;case 14:return r=e.type,i=lo(r,e.pendingProps),i=lo(r.type,i),DO(n,e,r,i,t);case 15:return ON(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:lo(r,i),dy(n,e),e.tag=1,Ui(r)?(n=!0,Xy(e)):n=!1,gd(e,t),oN(e,r,i),Pw(e,r,i,t),Iw(null,e,r,!0,n,t);case 19:return kN(n,e,t);case 22:return LN(n,e,t)}throw Error(De(156,e.tag))};function QN(n,e){return wk(n,e)}function xV(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vs(n,e,t,r){return new xV(n,e,t,r)}function zT(n){return n=n.prototype,!(!n||!n.isReactComponent)}function SV(n){if(typeof n=="function")return zT(n)?1:0;if(n!=null){if(n=n.$$typeof,n===sT)return 11;if(n===oT)return 14}return 2}function Xl(n,e){var t=n.alternate;return t===null?(t=Vs(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function my(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")zT(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Wf:return uu(t.children,i,s,e);case iT:o=8,i|=8;break;case ew:return n=Vs(12,t,e,i|2),n.elementType=ew,n.lanes=s,n;case tw:return n=Vs(13,t,e,i),n.elementType=tw,n.lanes=s,n;case nw:return n=Vs(19,t,e,i),n.elementType=nw,n.lanes=s,n;case ak:return px(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case sk:o=10;break e;case ok:o=9;break e;case sT:o=11;break e;case oT:o=14;break e;case Ml:o=16,r=null;break e}throw Error(De(130,n==null?n:typeof n,""))}return e=Vs(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function uu(n,e,t,r){return n=Vs(7,n,r,e),n.lanes=t,n}function px(n,e,t,r){return n=Vs(22,n,r,e),n.elementType=ak,n.lanes=t,n.stateNode={isHidden:!1},n}function yb(n,e,t){return n=Vs(6,n,null,e),n.lanes=t,n}function _b(n,e,t){return e=Vs(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function bV(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ZS(0),this.expirationTimes=ZS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ZS(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function HT(n,e,t,r,i,s,o,a,l){return n=new bV(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Vs(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},wT(s),n}function AV(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$f,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function ZN(n){if(!n)return ec;n=n._reactInternals;e:{if(Uu(n)!==n||n.tag!==1)throw Error(De(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ui(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(De(171))}if(n.tag===1){var t=n.type;if(Ui(t))return Qk(n,t,e)}return e}function eF(n,e,t,r,i,s,o,a,l){return n=HT(t,r,!0,n,i,s,o,a,l),n.context=ZN(null),t=n.current,r=wi(),i=jl(t),s=Ua(r,i),s.callback=e??null,$l(t,s,i),n.current.lanes=i,Zm(n,i,r),zi(n,r),n}function mx(n,e,t,r){var i=e.current,s=wi(),o=jl(i);return t=ZN(t),e.context===null?e.context=t:e.pendingContext=t,e=Ua(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=$l(i,e,o),n!==null&&(_o(n,i,o,s),cy(n,i,o)),o}function o_(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function XO(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function GT(n,e){XO(n,e),(n=n.alternate)&&XO(n,e)}function wV(){return null}var tF=typeof reportError=="function"?reportError:function(n){console.error(n)};function VT(n){this._internalRoot=n}gx.prototype.render=VT.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(De(409));mx(n,e,null,null)};gx.prototype.unmount=VT.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Mu(function(){mx(null,n,null,null)}),e[$a]=null}};function gx(n){this._internalRoot=n}gx.prototype.unstable_scheduleHydration=function(n){if(n){var e=Ok();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Pl.length&&e!==0&&e<Pl[t].priority;t++);Pl.splice(t,0,n),t===0&&Ik(n)}};function $T(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function vx(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function KO(){}function EV(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=o_(o);s.call(c)}}var o=eF(e,r,n,0,null,!1,!1,"",KO);return n._reactRootContainer=o,n[$a]=o.current,um(n.nodeType===8?n.parentNode:n),Mu(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=o_(l);a.call(c)}}var l=HT(n,0,!1,null,null,!1,!1,"",KO);return n._reactRootContainer=l,n[$a]=l.current,um(n.nodeType===8?n.parentNode:n),Mu(function(){mx(e,l,t,r)}),l}function yx(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=o_(o);a.call(l)}}mx(e,o,n,i)}else o=EV(t,e,n,i,r);return o_(o)}Rk=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Rp(e.pendingLanes);t!==0&&(cT(e,t|1),zi(e,ir()),!(Yt&6)&&(Nd=ir()+500,pc()))}break;case 13:Mu(function(){var r=Wa(n,1);if(r!==null){var i=wi();_o(r,n,1,i)}}),GT(n,1)}};uT=function(n){if(n.tag===13){var e=Wa(n,134217728);if(e!==null){var t=wi();_o(e,n,134217728,t)}GT(n,134217728)}};Pk=function(n){if(n.tag===13){var e=jl(n),t=Wa(n,e);if(t!==null){var r=wi();_o(t,n,e,r)}GT(n,e)}};Ok=function(){return sn};Lk=function(n,e){var t=sn;try{return sn=n,e()}finally{sn=t}};dw=function(n,e,t){switch(e){case"input":if(sw(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=lx(r);if(!i)throw Error(De(90));ck(r),sw(r,i)}}}break;case"textarea":fk(n,t);break;case"select":e=t.value,e!=null&&dd(n,!!t.multiple,e,!1)}};yk=NT;_k=Mu;var MV={usingClientEntryPoint:!1,Events:[tg,Yf,lx,gk,vk,NT]},sp={findFiberByHostInstance:Zc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},TV={bundleType:sp.bundleType,version:sp.version,rendererPackageName:sp.rendererPackageName,rendererConfig:sp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:nl.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=bk(n),n===null?null:n.stateNode},findFiberByHostInstance:sp.findFiberByHostInstance||wV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var j0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!j0.isDisabled&&j0.supportsFiber)try{ix=j0.inject(TV),jo=j0}catch{}}_s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MV;_s.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$T(e))throw Error(De(200));return AV(n,e,null,t)};_s.createRoot=function(n,e){if(!$T(n))throw Error(De(299));var t=!1,r="",i=tF;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=HT(n,1,!1,null,null,t,!1,r,i),n[$a]=e.current,um(n.nodeType===8?n.parentNode:n),new VT(e)};_s.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(De(188)):(n=Object.keys(n).join(","),Error(De(268,n)));return n=bk(e),n=n===null?null:n.stateNode,n};_s.flushSync=function(n){return Mu(n)};_s.hydrate=function(n,e,t){if(!vx(e))throw Error(De(200));return yx(null,n,e,!0,t)};_s.hydrateRoot=function(n,e,t){if(!$T(n))throw Error(De(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=tF;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=eF(e,null,n,1,t??null,i,!1,s,o),n[$a]=e.current,um(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new gx(e)};_s.render=function(n,e,t){if(!vx(e))throw Error(De(200));return yx(null,n,e,!1,t)};_s.unmountComponentAtNode=function(n){if(!vx(n))throw Error(De(40));return n._reactRootContainer?(Mu(function(){yx(null,null,n,!1,function(){n._reactRootContainer=null,n[$a]=null})}),!0):!1};_s.unstable_batchedUpdates=NT;_s.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!vx(t))throw Error(De(200));if(n==null||n._reactInternals===void 0)throw Error(De(38));return yx(n,e,t,!1,r)};_s.version="18.2.0-next-9e3b772b8-20220608";function nF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nF)}catch(n){console.error(n)}}nF(),ek.exports=_s;var rg=ek.exports;const CV=fc(rg);var rF,YO=rg;rF=QA.createRoot=YO.createRoot,QA.hydrateRoot=YO.hydrateRoot;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const ig="160",jc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Xc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},iF=0,Ww=1,sF=2,RV=3,oF=0,_x=1,yd=2,co=3,ta=0,ii=1,Hs=2,PV=2,za=0,fu=1,jw=2,Xw=3,Kw=4,aF=5,Ll=100,lF=101,cF=102,Yw=103,Jw=104,uF=200,fF=201,dF=202,hF=203,a_=204,l_=205,pF=206,mF=207,gF=208,vF=209,yF=210,_F=211,xF=212,SF=213,bF=214,AF=0,wF=1,EF=2,_m=3,MF=4,TF=5,CF=6,RF=7,sg=0,PF=1,OF=2,Ko=0,LF=1,IF=2,BF=3,WT=4,DF=5,kF=6,qw="attached",NF="detached",xx=300,Xa=301,tc=302,xm=303,Sm=304,vh=306,Mn=1e3,Hr=1001,Fd=1002,Jn=1003,bm=1004,OV=1004,_d=1005,LV=1005,Nn=1006,Sx=1007,IV=1007,na=1008,BV=1008,Yo=1009,FF=1010,UF=1011,bx=1012,jT=1013,ka=1014,go=1015,Ud=1016,XT=1017,KT=1018,Kl=1020,zF=1021,Si=1023,HF=1024,GF=1025,Yl=1026,Tu=1027,VF=1028,YT=1029,$F=1030,JT=1031,qT=1033,gy=33776,vy=33777,yy=33778,_y=33779,Qw=35840,Zw=35841,eE=35842,tE=35843,QT=36196,nE=37492,rE=37496,iE=37808,sE=37809,oE=37810,aE=37811,lE=37812,cE=37813,uE=37814,fE=37815,dE=37816,hE=37817,pE=37818,mE=37819,gE=37820,vE=37821,xy=36492,yE=36494,_E=36495,WF=36283,xE=36284,SE=36285,bE=36286,jF=2200,XF=2201,KF=2202,zd=2300,Cu=2301,Sy=2302,nu=2400,ru=2401,Am=2402,Ax=2500,ZT=2501,YF=0,eC=1,c_=2,tC=3e3,Jl=3001,JF=3200,qF=3201,mc=0,QF=1,rs="",vr="srgb",ra="srgb-linear",wx="display-p3",og="display-p3-linear",wm="linear",pn="srgb",Em="rec709",Mm="p3",DV=0,Kc=7680,kV=7681,NV=7682,FV=7683,UV=34055,zV=34056,HV=5386,GV=512,VV=513,$V=514,WV=515,jV=516,XV=517,KV=518,AE=519,ZF=512,eU=513,tU=514,nC=515,nU=516,rU=517,iU=518,sU=519,Tm=35044,YV=35048,JV=35040,qV=35045,QV=35049,ZV=35041,e$=35046,t$=35050,n$=35042,r$="100",wE="300 es",u_=1035,vo=2e3,Hd=2001;class aa{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const qr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let JO=1234567;const du=Math.PI/180,Gd=180/Math.PI;function us(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(qr[n&255]+qr[n>>8&255]+qr[n>>16&255]+qr[n>>24&255]+"-"+qr[e&255]+qr[e>>8&255]+"-"+qr[e>>16&15|64]+qr[e>>24&255]+"-"+qr[t&63|128]+qr[t>>8&255]+"-"+qr[t>>16&255]+qr[t>>24&255]+qr[r&255]+qr[r>>8&255]+qr[r>>16&255]+qr[r>>24&255]).toLowerCase()}function qn(n,e,t){return Math.max(e,Math.min(t,n))}function rC(n,e){return(n%e+e)%e}function i$(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function s$(n,e,t){return n!==e?(t-n)/(e-n):0}function Wp(n,e,t){return(1-t)*n+t*e}function o$(n,e,t,r){return Wp(n,e,1-Math.exp(-t*r))}function a$(n,e=1){return e-Math.abs(rC(n,e*2)-e)}function l$(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function c$(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function u$(n,e){return n+Math.floor(Math.random()*(e-n+1))}function f$(n,e){return n+Math.random()*(e-n)}function d$(n){return n*(.5-Math.random())}function h$(n){n!==void 0&&(JO=n);let e=JO+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function p$(n){return n*du}function m$(n){return n*Gd}function EE(n){return(n&n-1)===0&&n!==0}function g$(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function f_(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function v$(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),u=o((e+r)/2),f=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":n.set(a*u,l*f,l*p,a*c);break;case"YZY":n.set(l*p,a*u,l*f,a*c);break;case"ZXZ":n.set(l*f,l*p,a*u,a*c);break;case"XZX":n.set(a*u,l*g,l*m,a*c);break;case"YXY":n.set(l*m,a*u,l*g,a*c);break;case"ZYZ":n.set(l*g,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Di(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function It(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const oU={DEG2RAD:du,RAD2DEG:Gd,generateUUID:us,clamp:qn,euclideanModulo:rC,mapLinear:i$,inverseLerp:s$,lerp:Wp,damp:o$,pingpong:a$,smoothstep:l$,smootherstep:c$,randInt:u$,randFloat:f$,randFloatSpread:d$,seededRandom:h$,degToRad:p$,radToDeg:m$,isPowerOfTwo:EE,ceilPowerOfTwo:g$,floorPowerOfTwo:f_,setQuaternionFromProperEuler:v$,normalize:It,denormalize:Di};class xe{constructor(e=0,t=0){xe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(qn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class kt{constructor(e,t,r,i,s,o,a,l,c){kt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,l,c)}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],f=r[7],p=r[2],m=r[5],g=r[8],y=i[0],_=i[3],v=i[6],x=i[1],S=i[4],A=i[7],M=i[2],E=i[5],R=i[8];return s[0]=o*y+a*x+l*M,s[3]=o*_+a*S+l*E,s[6]=o*v+a*A+l*R,s[1]=c*y+u*x+f*M,s[4]=c*_+u*S+f*E,s[7]=c*v+u*A+f*R,s[2]=p*y+m*x+g*M,s[5]=p*_+m*S+g*E,s[8]=p*v+m*A+g*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=u*o-a*c,p=a*l-u*s,m=c*s-o*l,g=t*f+r*p+i*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/g;return e[0]=f*y,e[1]=(i*c-u*r)*y,e[2]=(a*r-i*o)*y,e[3]=p*y,e[4]=(u*t-i*l)*y,e[5]=(i*s-a*t)*y,e[6]=m*y,e[7]=(r*l-c*t)*y,e[8]=(o*t-r*s)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(xb.makeScale(e,t)),this}rotate(e){return this.premultiply(xb.makeRotation(-e)),this}translate(e,t){return this.premultiply(xb.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const xb=new kt;function aU(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const y$={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function nd(n,e){return new y$[n](e)}function Cm(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function lU(){const n=Cm("canvas");return n.style.display="block",n}const qO={};function jp(n){n in qO||(qO[n]=!0,console.warn(n))}const QO=new kt().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),ZO=new kt().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),X0={[ra]:{transfer:wm,primaries:Em,toReference:n=>n,fromReference:n=>n},[vr]:{transfer:pn,primaries:Em,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[og]:{transfer:wm,primaries:Mm,toReference:n=>n.applyMatrix3(ZO),fromReference:n=>n.applyMatrix3(QO)},[wx]:{transfer:pn,primaries:Mm,toReference:n=>n.convertSRGBToLinear().applyMatrix3(ZO),fromReference:n=>n.applyMatrix3(QO).convertLinearToSRGB()}},_$=new Set([ra,og]),nn={enabled:!0,_workingColorSpace:ra,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!_$.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=X0[e].toReference,i=X0[t].fromReference;return i(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return X0[n].primaries},getTransfer:function(n){return n===rs?wm:X0[n].transfer}};function xd(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Sb(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let cf;class iC{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{cf===void 0&&(cf=Cm("canvas")),cf.width=e.width,cf.height=e.height;const r=cf.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=cf}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Cm("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=xd(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(xd(t[r]/255)*255):t[r]=xd(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let x$=0;class iu{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:x$++}),this.uuid=us(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(bb(i[o].image)):s.push(bb(i[o]))}else s=bb(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function bb(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?iC.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let S$=0;class Cn extends aa{constructor(e=Cn.DEFAULT_IMAGE,t=Cn.DEFAULT_MAPPING,r=Hr,i=Hr,s=Nn,o=na,a=Si,l=Yo,c=Cn.DEFAULT_ANISOTROPY,u=rs){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:S$++}),this.uuid=us(),this.name="",this.source=new iu(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new xe(0,0),this.repeat=new xe(1,1),this.center=new xe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new kt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(jp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===Jl?vr:rs),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==xx)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Mn:e.x=e.x-Math.floor(e.x);break;case Hr:e.x=e.x<0?0:1;break;case Fd:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Mn:e.y=e.y-Math.floor(e.y);break;case Hr:e.y=e.y<0?0:1;break;case Fd:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return jp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===vr?Jl:tC}set encoding(e){jp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Jl?vr:rs}}Cn.DEFAULT_IMAGE=null;Cn.DEFAULT_MAPPING=xx;Cn.DEFAULT_ANISOTROPY=1;class rn{constructor(e=0,t=0,r=0,i=1){rn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],f=l[8],p=l[1],m=l[5],g=l[9],y=l[2],_=l[6],v=l[10];if(Math.abs(u-p)<.01&&Math.abs(f-y)<.01&&Math.abs(g-_)<.01){if(Math.abs(u+p)<.1&&Math.abs(f+y)<.1&&Math.abs(g+_)<.1&&Math.abs(c+m+v-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const S=(c+1)/2,A=(m+1)/2,M=(v+1)/2,E=(u+p)/4,R=(f+y)/4,I=(g+_)/4;return S>A&&S>M?S<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(S),i=E/r,s=R/r):A>M?A<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(A),r=E/i,s=I/i):M<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(M),r=R/s,i=I/s),this.set(r,i,s,t),this}let x=Math.sqrt((_-g)*(_-g)+(f-y)*(f-y)+(p-u)*(p-u));return Math.abs(x)<.001&&(x=1),this.x=(_-g)/x,this.y=(f-y)/x,this.z=(p-u)/x,this.w=Math.acos((c+m+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class cU extends aa{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new rn(0,0,e,t),this.scissorTest=!1,this.viewport=new rn(0,0,e,t);const i={width:e,height:t,depth:1};r.encoding!==void 0&&(jp("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Jl?vr:rs),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Nn,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new Cn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new iu(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class So extends cU{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class Ex extends Cn{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Jn,this.minFilter=Jn,this.wrapR=Hr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class b$ extends So{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Ex(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class sC extends Cn{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Jn,this.minFilter=Jn,this.wrapR=Hr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class A$ extends So{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new sC(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class w$ extends So{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Lr{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const p=s[o+0],m=s[o+1],g=s[o+2],y=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=g,e[t+3]=y;return}if(f!==y||l!==p||c!==m||u!==g){let _=1-a;const v=l*p+c*m+u*g+f*y,x=v>=0?1:-1,S=1-v*v;if(S>Number.EPSILON){const M=Math.sqrt(S),E=Math.atan2(M,v*x);_=Math.sin(_*E)/M,a=Math.sin(a*E)/M}const A=a*x;if(l=l*_+p*A,c=c*_+m*A,u=u*_+g*A,f=f*_+y*A,_===1-a){const M=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=M,c*=M,u*=M,f*=M}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=s[o],p=s[o+1],m=s[o+2],g=s[o+3];return e[t]=a*g+u*f+l*m-c*p,e[t+1]=l*g+u*p+c*f-a*m,e[t+2]=c*g+u*m+a*p-l*f,e[t+3]=u*g-a*f-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),f=a(s/2),p=l(r/2),m=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=p*u*f+c*m*g,this._y=c*m*f-p*u*g,this._z=c*u*g+p*m*f,this._w=c*u*f-p*m*g;break;case"YXZ":this._x=p*u*f+c*m*g,this._y=c*m*f-p*u*g,this._z=c*u*g-p*m*f,this._w=c*u*f+p*m*g;break;case"ZXY":this._x=p*u*f-c*m*g,this._y=c*m*f+p*u*g,this._z=c*u*g+p*m*f,this._w=c*u*f-p*m*g;break;case"ZYX":this._x=p*u*f-c*m*g,this._y=c*m*f+p*u*g,this._z=c*u*g-p*m*f,this._w=c*u*f+p*m*g;break;case"YZX":this._x=p*u*f+c*m*g,this._y=c*m*f+p*u*g,this._z=c*u*g-p*m*f,this._w=c*u*f-p*m*g;break;case"XZY":this._x=p*u*f-c*m*g,this._y=c*m*f-p*u*g,this._z=c*u*g+p*m*f,this._w=c*u*f+p*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],f=t[10],p=r+a+f;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>f){const m=2*Math.sqrt(1+r-a-f);this._w=(u-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>f){const m=2*Math.sqrt(1+a-r-f);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+f-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(qn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),f=Math.sin((1-t)*u)/c,p=Math.sin(t*u)/c;return this._w=o*f+this._w*p,this._x=r*f+this._x*p,this._y=i*f+this._y*p,this._z=s*f+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class H{constructor(e=0,t=0,r=0){H.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(eL.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(eL.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*i-a*r),u=2*(a*t-s*i),f=2*(s*r-o*t);return this.x=t+l*c+o*f-a*u,this.y=r+l*u+a*c-s*f,this.z=i+l*f+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Ab.copy(this).projectOnVector(e),this.sub(Ab)}reflect(e){return this.sub(Ab.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(qn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Ab=new H,eL=new Lr;class si{constructor(e=new H(1/0,1/0,1/0),t=new H(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(so.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(so.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=so.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,so):so.fromBufferAttribute(s,o),so.applyMatrix4(e.matrixWorld),this.expandByPoint(so);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),K0.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),K0.copy(r.boundingBox)),K0.applyMatrix4(e.matrixWorld),this.union(K0)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,so),so.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(op),Y0.subVectors(this.max,op),uf.subVectors(e.a,op),ff.subVectors(e.b,op),df.subVectors(e.c,op),gl.subVectors(ff,uf),vl.subVectors(df,ff),Oc.subVectors(uf,df);let t=[0,-gl.z,gl.y,0,-vl.z,vl.y,0,-Oc.z,Oc.y,gl.z,0,-gl.x,vl.z,0,-vl.x,Oc.z,0,-Oc.x,-gl.y,gl.x,0,-vl.y,vl.x,0,-Oc.y,Oc.x,0];return!wb(t,uf,ff,df,Y0)||(t=[1,0,0,0,1,0,0,0,1],!wb(t,uf,ff,df,Y0))?!1:(J0.crossVectors(gl,vl),t=[J0.x,J0.y,J0.z],wb(t,uf,ff,df,Y0))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,so).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(so).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ya[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ya[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ya[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ya[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ya[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ya[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ya[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ya[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ya),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ya=[new H,new H,new H,new H,new H,new H,new H,new H],so=new H,K0=new si,uf=new H,ff=new H,df=new H,gl=new H,vl=new H,Oc=new H,op=new H,Y0=new H,J0=new H,Lc=new H;function wb(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){Lc.fromArray(n,s);const a=i.x*Math.abs(Lc.x)+i.y*Math.abs(Lc.y)+i.z*Math.abs(Lc.z),l=e.dot(Lc),c=t.dot(Lc),u=r.dot(Lc);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const E$=new si,ap=new H,Eb=new H;class Vr{constructor(e=new H,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):E$.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ap.subVectors(e,this.center);const t=ap.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(ap,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Eb.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ap.copy(e.center).add(Eb)),this.expandByPoint(ap.copy(e.center).sub(Eb))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _a=new H,Mb=new H,q0=new H,yl=new H,Tb=new H,Q0=new H,Cb=new H;class zu{constructor(e=new H,t=new H(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,_a)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=_a.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(_a.copy(this.origin).addScaledVector(this.direction,t),_a.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){Mb.copy(e).add(t).multiplyScalar(.5),q0.copy(t).sub(e).normalize(),yl.copy(this.origin).sub(Mb);const s=e.distanceTo(t)*.5,o=-this.direction.dot(q0),a=yl.dot(this.direction),l=-yl.dot(q0),c=yl.lengthSq(),u=Math.abs(1-o*o);let f,p,m,g;if(u>0)if(f=o*l-a,p=o*a-l,g=s*u,f>=0)if(p>=-g)if(p<=g){const y=1/u;f*=y,p*=y,m=f*(f+o*p+2*a)+p*(o*f+p+2*l)+c}else p=s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;else p=-s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;else p<=-g?(f=Math.max(0,-(-o*s+a)),p=f>0?-s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+c):p<=g?(f=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(f=Math.max(0,-(o*s+a)),p=f>0?s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+c);else p=o>0?-s:s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(Mb).addScaledVector(q0,p),m}intersectSphere(e,t){_a.subVectors(e.center,this.origin);const r=_a.dot(this.direction),i=_a.dot(_a)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),u>=0?(s=(e.min.y-p.y)*u,o=(e.max.y-p.y)*u):(s=(e.max.y-p.y)*u,o=(e.min.y-p.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-p.z)*f,l=(e.max.z-p.z)*f):(a=(e.max.z-p.z)*f,l=(e.min.z-p.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,_a)!==null}intersectTriangle(e,t,r,i,s){Tb.subVectors(t,e),Q0.subVectors(r,e),Cb.crossVectors(Tb,Q0);let o=this.direction.dot(Cb),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;yl.subVectors(this.origin,e);const l=a*this.direction.dot(Q0.crossVectors(yl,Q0));if(l<0)return null;const c=a*this.direction.dot(Tb.cross(yl));if(c<0||l+c>o)return null;const u=-a*yl.dot(Cb);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class _t{constructor(e,t,r,i,s,o,a,l,c,u,f,p,m,g,y,_){_t.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,l,c,u,f,p,m,g,y,_)}set(e,t,r,i,s,o,a,l,c,u,f,p,m,g,y,_){const v=this.elements;return v[0]=e,v[4]=t,v[8]=r,v[12]=i,v[1]=s,v[5]=o,v[9]=a,v[13]=l,v[2]=c,v[6]=u,v[10]=f,v[14]=p,v[3]=m,v[7]=g,v[11]=y,v[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new _t().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/hf.setFromMatrixColumn(e,0).length(),s=1/hf.setFromMatrixColumn(e,1).length(),o=1/hf.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const p=o*u,m=o*f,g=a*u,y=a*f;t[0]=l*u,t[4]=-l*f,t[8]=c,t[1]=m+g*c,t[5]=p-y*c,t[9]=-a*l,t[2]=y-p*c,t[6]=g+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*u,m=l*f,g=c*u,y=c*f;t[0]=p+y*a,t[4]=g*a-m,t[8]=o*c,t[1]=o*f,t[5]=o*u,t[9]=-a,t[2]=m*a-g,t[6]=y+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*u,m=l*f,g=c*u,y=c*f;t[0]=p-y*a,t[4]=-o*f,t[8]=g+m*a,t[1]=m+g*a,t[5]=o*u,t[9]=y-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*u,m=o*f,g=a*u,y=a*f;t[0]=l*u,t[4]=g*c-m,t[8]=p*c+y,t[1]=l*f,t[5]=y*c+p,t[9]=m*c-g,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,g=a*l,y=a*c;t[0]=l*u,t[4]=y-p*f,t[8]=g*f+m,t[1]=f,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=m*f+g,t[10]=p-y*f}else if(e.order==="XZY"){const p=o*l,m=o*c,g=a*l,y=a*c;t[0]=l*u,t[4]=-f,t[8]=c*u,t[1]=p*f+y,t[5]=o*u,t[9]=m*f-g,t[2]=g*f-m,t[6]=a*u,t[10]=y*f+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(M$,e,T$)}lookAt(e,t,r){const i=this.elements;return Qi.subVectors(e,t),Qi.lengthSq()===0&&(Qi.z=1),Qi.normalize(),_l.crossVectors(r,Qi),_l.lengthSq()===0&&(Math.abs(r.z)===1?Qi.x+=1e-4:Qi.z+=1e-4,Qi.normalize(),_l.crossVectors(r,Qi)),_l.normalize(),Z0.crossVectors(Qi,_l),i[0]=_l.x,i[4]=Z0.x,i[8]=Qi.x,i[1]=_l.y,i[5]=Z0.y,i[9]=Qi.y,i[2]=_l.z,i[6]=Z0.z,i[10]=Qi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],f=r[5],p=r[9],m=r[13],g=r[2],y=r[6],_=r[10],v=r[14],x=r[3],S=r[7],A=r[11],M=r[15],E=i[0],R=i[4],I=i[8],T=i[12],P=i[1],B=i[5],F=i[9],V=i[13],k=i[2],z=i[6],W=i[10],K=i[14],N=i[3],j=i[7],J=i[11],te=i[15];return s[0]=o*E+a*P+l*k+c*N,s[4]=o*R+a*B+l*z+c*j,s[8]=o*I+a*F+l*W+c*J,s[12]=o*T+a*V+l*K+c*te,s[1]=u*E+f*P+p*k+m*N,s[5]=u*R+f*B+p*z+m*j,s[9]=u*I+f*F+p*W+m*J,s[13]=u*T+f*V+p*K+m*te,s[2]=g*E+y*P+_*k+v*N,s[6]=g*R+y*B+_*z+v*j,s[10]=g*I+y*F+_*W+v*J,s[14]=g*T+y*V+_*K+v*te,s[3]=x*E+S*P+A*k+M*N,s[7]=x*R+S*B+A*z+M*j,s[11]=x*I+S*F+A*W+M*J,s[15]=x*T+S*V+A*K+M*te,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],f=e[6],p=e[10],m=e[14],g=e[3],y=e[7],_=e[11],v=e[15];return g*(+s*l*f-i*c*f-s*a*p+r*c*p+i*a*m-r*l*m)+y*(+t*l*m-t*c*p+s*o*p-i*o*m+i*c*u-s*l*u)+_*(+t*c*f-t*a*m-s*o*f+r*o*m+s*a*u-r*c*u)+v*(-i*a*u-t*l*f+t*a*p+i*o*f-r*o*p+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=e[9],p=e[10],m=e[11],g=e[12],y=e[13],_=e[14],v=e[15],x=f*_*c-y*p*c+y*l*m-a*_*m-f*l*v+a*p*v,S=g*p*c-u*_*c-g*l*m+o*_*m+u*l*v-o*p*v,A=u*y*c-g*f*c+g*a*m-o*y*m-u*a*v+o*f*v,M=g*f*l-u*y*l-g*a*p+o*y*p+u*a*_-o*f*_,E=t*x+r*S+i*A+s*M;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/E;return e[0]=x*R,e[1]=(y*p*s-f*_*s-y*i*m+r*_*m+f*i*v-r*p*v)*R,e[2]=(a*_*s-y*l*s+y*i*c-r*_*c-a*i*v+r*l*v)*R,e[3]=(f*l*s-a*p*s-f*i*c+r*p*c+a*i*m-r*l*m)*R,e[4]=S*R,e[5]=(u*_*s-g*p*s+g*i*m-t*_*m-u*i*v+t*p*v)*R,e[6]=(g*l*s-o*_*s-g*i*c+t*_*c+o*i*v-t*l*v)*R,e[7]=(o*p*s-u*l*s+u*i*c-t*p*c-o*i*m+t*l*m)*R,e[8]=A*R,e[9]=(g*f*s-u*y*s-g*r*m+t*y*m+u*r*v-t*f*v)*R,e[10]=(o*y*s-g*a*s+g*r*c-t*y*c-o*r*v+t*a*v)*R,e[11]=(u*a*s-o*f*s-u*r*c+t*f*c+o*r*m-t*a*m)*R,e[12]=M*R,e[13]=(u*y*i-g*f*i+g*r*p-t*y*p-u*r*_+t*f*_)*R,e[14]=(g*a*i-o*y*i-g*r*l+t*y*l+o*r*_-t*a*_)*R,e[15]=(o*f*i-u*a*i+u*r*l-t*f*l-o*r*p+t*a*p)*R,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,f=a+a,p=s*c,m=s*u,g=s*f,y=o*u,_=o*f,v=a*f,x=l*c,S=l*u,A=l*f,M=r.x,E=r.y,R=r.z;return i[0]=(1-(y+v))*M,i[1]=(m+A)*M,i[2]=(g-S)*M,i[3]=0,i[4]=(m-A)*E,i[5]=(1-(p+v))*E,i[6]=(_+x)*E,i[7]=0,i[8]=(g+S)*R,i[9]=(_-x)*R,i[10]=(1-(p+y))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=hf.set(i[0],i[1],i[2]).length();const o=hf.set(i[4],i[5],i[6]).length(),a=hf.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],oo.copy(this);const c=1/s,u=1/o,f=1/a;return oo.elements[0]*=c,oo.elements[1]*=c,oo.elements[2]*=c,oo.elements[4]*=u,oo.elements[5]*=u,oo.elements[6]*=u,oo.elements[8]*=f,oo.elements[9]*=f,oo.elements[10]*=f,t.setFromRotationMatrix(oo),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o,a=vo){const l=this.elements,c=2*s/(t-e),u=2*s/(r-i),f=(t+e)/(t-e),p=(r+i)/(r-i);let m,g;if(a===vo)m=-(o+s)/(o-s),g=-2*o*s/(o-s);else if(a===Hd)m=-o/(o-s),g=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=u,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,i,s,o,a=vo){const l=this.elements,c=1/(t-e),u=1/(r-i),f=1/(o-s),p=(t+e)*c,m=(r+i)*u;let g,y;if(a===vo)g=(o+s)*f,y=-2*f;else if(a===Hd)g=s*f,y=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=y,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const hf=new H,oo=new _t,M$=new H(0,0,0),T$=new H(1,1,1),_l=new H,Z0=new H,Qi=new H,tL=new _t,nL=new Lr;class ag{constructor(e=0,t=0,r=0,i=ag.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],f=i[2],p=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(qn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-qn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(qn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-qn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(qn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-qn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return tL.makeRotationFromQuaternion(e),this.setFromRotationMatrix(tL,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return nL.setFromEuler(this),this.setFromQuaternion(nL,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}ag.DEFAULT_ORDER="XYZ";class hu{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let C$=0;const rL=new H,pf=new Lr,xa=new _t,ev=new H,lp=new H,R$=new H,P$=new Lr,iL=new H(1,0,0),sL=new H(0,1,0),oL=new H(0,0,1),O$={type:"added"},L$={type:"removed"};class Xt extends aa{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:C$++}),this.uuid=us(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Xt.DEFAULT_UP.clone();const e=new H,t=new ag,r=new Lr,i=new H(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new _t},normalMatrix:{value:new kt}}),this.matrix=new _t,this.matrixWorld=new _t,this.matrixAutoUpdate=Xt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Xt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new hu,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return pf.setFromAxisAngle(e,t),this.quaternion.multiply(pf),this}rotateOnWorldAxis(e,t){return pf.setFromAxisAngle(e,t),this.quaternion.premultiply(pf),this}rotateX(e){return this.rotateOnAxis(iL,e)}rotateY(e){return this.rotateOnAxis(sL,e)}rotateZ(e){return this.rotateOnAxis(oL,e)}translateOnAxis(e,t){return rL.copy(e).applyQuaternion(this.quaternion),this.position.add(rL.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(iL,e)}translateY(e){return this.translateOnAxis(sL,e)}translateZ(e){return this.translateOnAxis(oL,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(xa.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?ev.copy(e):ev.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),lp.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?xa.lookAt(lp,ev,this.up):xa.lookAt(ev,lp,this.up),this.quaternion.setFromRotationMatrix(xa),i&&(xa.extractRotation(i.matrixWorld),pf.setFromRotationMatrix(xa),this.quaternion.premultiply(pf.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(O$)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(L$)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),xa.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),xa.multiply(e.parent.matrixWorld)),e.applyMatrix4(xa),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(lp,e,R$),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(lp,P$,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),f=o(e.shapes),p=o(e.skeletons),m=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Xt.DEFAULT_UP=new H(0,1,0);Xt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Xt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ao=new H,Sa=new H,Rb=new H,ba=new H,mf=new H,gf=new H,aL=new H,Pb=new H,Ob=new H,Lb=new H;let tv=!1;class Bi{constructor(e=new H,t=new H,r=new H){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),ao.subVectors(e,t),i.cross(ao);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){ao.subVectors(i,t),Sa.subVectors(r,t),Rb.subVectors(e,t);const o=ao.dot(ao),a=ao.dot(Sa),l=ao.dot(Rb),c=Sa.dot(Sa),u=Sa.dot(Rb),f=o*c-a*a;if(f===0)return s.set(0,0,0),null;const p=1/f,m=(c*l-a*u)*p,g=(o*u-a*l)*p;return s.set(1-m-g,g,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,ba)===null?!1:ba.x>=0&&ba.y>=0&&ba.x+ba.y<=1}static getUV(e,t,r,i,s,o,a,l){return tv===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),tv=!0),this.getInterpolation(e,t,r,i,s,o,a,l)}static getInterpolation(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,ba)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,ba.x),l.addScaledVector(o,ba.y),l.addScaledVector(a,ba.z),l)}static isFrontFacing(e,t,r,i){return ao.subVectors(r,t),Sa.subVectors(e,t),ao.cross(Sa).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ao.subVectors(this.c,this.b),Sa.subVectors(this.a,this.b),ao.cross(Sa).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Bi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Bi.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return tv===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),tv=!0),Bi.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}getInterpolation(e,t,r,i,s){return Bi.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return Bi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Bi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;mf.subVectors(i,r),gf.subVectors(s,r),Pb.subVectors(e,r);const l=mf.dot(Pb),c=gf.dot(Pb);if(l<=0&&c<=0)return t.copy(r);Ob.subVectors(e,i);const u=mf.dot(Ob),f=gf.dot(Ob);if(u>=0&&f<=u)return t.copy(i);const p=l*f-u*c;if(p<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(mf,o);Lb.subVectors(e,s);const m=mf.dot(Lb),g=gf.dot(Lb);if(g>=0&&m<=g)return t.copy(s);const y=m*c-l*g;if(y<=0&&c>=0&&g<=0)return a=c/(c-g),t.copy(r).addScaledVector(gf,a);const _=u*g-m*f;if(_<=0&&f-u>=0&&m-g>=0)return aL.subVectors(s,i),a=(f-u)/(f-u+(m-g)),t.copy(i).addScaledVector(aL,a);const v=1/(_+y+p);return o=y*v,a=p*v,t.copy(r).addScaledVector(mf,o).addScaledVector(gf,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const uU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},xl={h:0,s:0,l:0},nv={h:0,s:0,l:0};function Ib(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}let ke=class{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=vr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,nn.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=nn.workingColorSpace){return this.r=e,this.g=t,this.b=r,nn.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=nn.workingColorSpace){if(e=rC(e,1),t=qn(t,0,1),r=qn(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=Ib(o,s,e+1/3),this.g=Ib(o,s,e),this.b=Ib(o,s,e-1/3)}return nn.toWorkingColorSpace(this,i),this}setStyle(e,t=vr){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=vr){const r=uU[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=xd(e.r),this.g=xd(e.g),this.b=xd(e.b),this}copyLinearToSRGB(e){return this.r=Sb(e.r),this.g=Sb(e.g),this.b=Sb(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=vr){return nn.fromWorkingColorSpace(Qr.copy(this),e),Math.round(qn(Qr.r*255,0,255))*65536+Math.round(qn(Qr.g*255,0,255))*256+Math.round(qn(Qr.b*255,0,255))}getHexString(e=vr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=nn.workingColorSpace){nn.fromWorkingColorSpace(Qr.copy(this),t);const r=Qr.r,i=Qr.g,s=Qr.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const f=o-a;switch(c=u<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=nn.workingColorSpace){return nn.fromWorkingColorSpace(Qr.copy(this),t),e.r=Qr.r,e.g=Qr.g,e.b=Qr.b,e}getStyle(e=vr){nn.fromWorkingColorSpace(Qr.copy(this),e);const t=Qr.r,r=Qr.g,i=Qr.b;return e!==vr?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(xl),this.setHSL(xl.h+e,xl.s+t,xl.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(xl),e.getHSL(nv);const r=Wp(xl.h,nv.h,t),i=Wp(xl.s,nv.s,t),s=Wp(xl.l,nv.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const Qr=new ke;ke.NAMES=uU;let I$=0;class hr extends aa{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:I$++}),this.uuid=us(),this.name="",this.type="Material",this.blending=fu,this.side=ta,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=a_,this.blendDst=l_,this.blendEquation=Ll,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ke(0,0,0),this.blendAlpha=0,this.depthFunc=_m,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AE,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Kc,this.stencilZFail=Kc,this.stencilZPass=Kc,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==fu&&(r.blending=this.blending),this.side!==ta&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==a_&&(r.blendSrc=this.blendSrc),this.blendDst!==l_&&(r.blendDst=this.blendDst),this.blendEquation!==Ll&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==_m&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==AE&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Kc&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Kc&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Kc&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class as extends hr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=sg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const La=B$();function B$(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function Oi(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=qn(n,-65504,65504),La.floatView[0]=n;const e=La.uint32View[0],t=e>>23&511;return La.baseTable[t]+((e&8388607)>>La.shiftTable[t])}function Op(n){const e=n>>10;return La.uint32View[0]=La.mantissaTable[La.offsetTable[e]+(n&1023)]+La.exponentTable[e],La.floatView[0]}const D$={toHalfFloat:Oi,fromHalfFloat:Op},cr=new H,rv=new xe;class Kt{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=Tm,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=go,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)rv.fromBufferAttribute(this,t),rv.applyMatrix3(e),this.setXY(t,rv.x,rv.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)cr.fromBufferAttribute(this,t),cr.applyMatrix3(e),this.setXYZ(t,cr.x,cr.y,cr.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)cr.fromBufferAttribute(this,t),cr.applyMatrix4(e),this.setXYZ(t,cr.x,cr.y,cr.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)cr.fromBufferAttribute(this,t),cr.applyNormalMatrix(e),this.setXYZ(t,cr.x,cr.y,cr.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)cr.fromBufferAttribute(this,t),cr.transformDirection(e),this.setXYZ(t,cr.x,cr.y,cr.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=Di(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=It(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Di(t,this.array)),t}setX(e,t){return this.normalized&&(t=It(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Di(t,this.array)),t}setY(e,t){return this.normalized&&(t=It(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Di(t,this.array)),t}setZ(e,t){return this.normalized&&(t=It(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Di(t,this.array)),t}setW(e,t){return this.normalized&&(t=It(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=It(t,this.array),r=It(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=It(t,this.array),r=It(r,this.array),i=It(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=It(t,this.array),r=It(r,this.array),i=It(i,this.array),s=It(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Tm&&(e.usage=this.usage),e}}class k$ extends Kt{constructor(e,t,r){super(new Int8Array(e),t,r)}}class N$ extends Kt{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class F$ extends Kt{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class U$ extends Kt{constructor(e,t,r){super(new Int16Array(e),t,r)}}class oC extends Kt{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class z$ extends Kt{constructor(e,t,r){super(new Int32Array(e),t,r)}}class aC extends Kt{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class H$ extends Kt{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=Op(this.array[e*this.itemSize]);return this.normalized&&(t=Di(t,this.array)),t}setX(e,t){return this.normalized&&(t=It(t,this.array)),this.array[e*this.itemSize]=Oi(t),this}getY(e){let t=Op(this.array[e*this.itemSize+1]);return this.normalized&&(t=Di(t,this.array)),t}setY(e,t){return this.normalized&&(t=It(t,this.array)),this.array[e*this.itemSize+1]=Oi(t),this}getZ(e){let t=Op(this.array[e*this.itemSize+2]);return this.normalized&&(t=Di(t,this.array)),t}setZ(e,t){return this.normalized&&(t=It(t,this.array)),this.array[e*this.itemSize+2]=Oi(t),this}getW(e){let t=Op(this.array[e*this.itemSize+3]);return this.normalized&&(t=Di(t,this.array)),t}setW(e,t){return this.normalized&&(t=It(t,this.array)),this.array[e*this.itemSize+3]=Oi(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=It(t,this.array),r=It(r,this.array)),this.array[e+0]=Oi(t),this.array[e+1]=Oi(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=It(t,this.array),r=It(r,this.array),i=It(i,this.array)),this.array[e+0]=Oi(t),this.array[e+1]=Oi(r),this.array[e+2]=Oi(i),this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=It(t,this.array),r=It(r,this.array),i=It(i,this.array),s=It(s,this.array)),this.array[e+0]=Oi(t),this.array[e+1]=Oi(r),this.array[e+2]=Oi(i),this.array[e+3]=Oi(s),this}}class lt extends Kt{constructor(e,t,r){super(new Float32Array(e),t,r)}}class G$ extends Kt{constructor(e,t,r){super(new Float64Array(e),t,r)}}let V$=0;const Ls=new _t,Bb=new Xt,vf=new H,Zi=new si,cp=new si,Mr=new H;class Ot extends aa{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:V$++}),this.uuid=us(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(aU(e)?aC:oC)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new kt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ls.makeRotationFromQuaternion(e),this.applyMatrix4(Ls),this}rotateX(e){return Ls.makeRotationX(e),this.applyMatrix4(Ls),this}rotateY(e){return Ls.makeRotationY(e),this.applyMatrix4(Ls),this}rotateZ(e){return Ls.makeRotationZ(e),this.applyMatrix4(Ls),this}translate(e,t,r){return Ls.makeTranslation(e,t,r),this.applyMatrix4(Ls),this}scale(e,t,r){return Ls.makeScale(e,t,r),this.applyMatrix4(Ls),this}lookAt(e){return Bb.lookAt(e),Bb.updateMatrix(),this.applyMatrix4(Bb.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(vf).negate(),this.translate(vf.x,vf.y,vf.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new lt(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new si);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new H(-1/0,-1/0,-1/0),new H(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];Zi.setFromBufferAttribute(s),this.morphTargetsRelative?(Mr.addVectors(this.boundingBox.min,Zi.min),this.boundingBox.expandByPoint(Mr),Mr.addVectors(this.boundingBox.max,Zi.max),this.boundingBox.expandByPoint(Mr)):(this.boundingBox.expandByPoint(Zi.min),this.boundingBox.expandByPoint(Zi.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Vr);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new H,1/0);return}if(e){const r=this.boundingSphere.center;if(Zi.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];cp.setFromBufferAttribute(a),this.morphTargetsRelative?(Mr.addVectors(Zi.min,cp.min),Zi.expandByPoint(Mr),Mr.addVectors(Zi.max,cp.max),Zi.expandByPoint(Mr)):(Zi.expandByPoint(cp.min),Zi.expandByPoint(cp.max))}Zi.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Mr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Mr));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Mr.fromBufferAttribute(a,c),l&&(vf.fromBufferAttribute(e,c),Mr.add(vf)),i=Math.max(i,r.distanceToSquared(Mr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Kt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let P=0;P<a;P++)c[P]=new H,u[P]=new H;const f=new H,p=new H,m=new H,g=new xe,y=new xe,_=new xe,v=new H,x=new H;function S(P,B,F){f.fromArray(i,P*3),p.fromArray(i,B*3),m.fromArray(i,F*3),g.fromArray(o,P*2),y.fromArray(o,B*2),_.fromArray(o,F*2),p.sub(f),m.sub(f),y.sub(g),_.sub(g);const V=1/(y.x*_.y-_.x*y.y);isFinite(V)&&(v.copy(p).multiplyScalar(_.y).addScaledVector(m,-y.y).multiplyScalar(V),x.copy(m).multiplyScalar(y.x).addScaledVector(p,-_.x).multiplyScalar(V),c[P].add(v),c[B].add(v),c[F].add(v),u[P].add(x),u[B].add(x),u[F].add(x))}let A=this.groups;A.length===0&&(A=[{start:0,count:r.length}]);for(let P=0,B=A.length;P<B;++P){const F=A[P],V=F.start,k=F.count;for(let z=V,W=V+k;z<W;z+=3)S(r[z+0],r[z+1],r[z+2])}const M=new H,E=new H,R=new H,I=new H;function T(P){R.fromArray(s,P*3),I.copy(R);const B=c[P];M.copy(B),M.sub(R.multiplyScalar(R.dot(B))).normalize(),E.crossVectors(I,B);const V=E.dot(u[P])<0?-1:1;l[P*4]=M.x,l[P*4+1]=M.y,l[P*4+2]=M.z,l[P*4+3]=V}for(let P=0,B=A.length;P<B;++P){const F=A[P],V=F.start,k=F.count;for(let z=V,W=V+k;z<W;z+=3)T(r[z+0]),T(r[z+1]),T(r[z+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Kt(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new H,s=new H,o=new H,a=new H,l=new H,c=new H,u=new H,f=new H;if(e)for(let p=0,m=e.count;p<m;p+=3){const g=e.getX(p+0),y=e.getX(p+1),_=e.getX(p+2);i.fromBufferAttribute(t,g),s.fromBufferAttribute(t,y),o.fromBufferAttribute(t,_),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,y),c.fromBufferAttribute(r,_),a.add(u),l.add(u),c.add(u),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(y,l.x,l.y,l.z),r.setXYZ(_,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),r.setXYZ(p+0,u.x,u.y,u.z),r.setXYZ(p+1,u.x,u.y,u.z),r.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Mr.fromBufferAttribute(e,t),Mr.normalize(),e.setXYZ(t,Mr.x,Mr.y,Mr.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,f=a.normalized,p=new c.constructor(l.length*u);let m=0,g=0;for(let y=0,_=l.length;y<_;y++){a.isInterleavedBufferAttribute?m=l[y]*a.data.stride+a.offset:m=l[y]*u;for(let v=0;v<u;v++)p[g++]=c[m++]}return new Kt(p,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Ot,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,f=c.length;u<f;u++){const p=c[u],m=e(p,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,p=c.length;f<p;f++){const m=c[f];u.push(m.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],f=s[c];for(let p=0,m=f.length;p<m;p++)u.push(f[p].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const lL=new _t,Ic=new zu,iv=new Vr,cL=new H,yf=new H,_f=new H,xf=new H,Db=new H,sv=new H,ov=new xe,av=new xe,lv=new xe,uL=new H,fL=new H,dL=new H,cv=new H,uv=new H;class sr extends Xt{constructor(e=new Ot,t=new as){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){sv.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],f=s[l];u!==0&&(Db.fromBufferAttribute(f,e),o?sv.addScaledVector(Db,u):sv.addScaledVector(Db.sub(t),u))}t.add(sv)}return t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),iv.copy(r.boundingSphere),iv.applyMatrix4(s),Ic.copy(e.ray).recast(e.near),!(iv.containsPoint(Ic.origin)===!1&&(Ic.intersectSphere(iv,cL)===null||Ic.origin.distanceToSquared(cL)>(e.far-e.near)**2))&&(lL.copy(s).invert(),Ic.copy(e.ray).applyMatrix4(lL),!(r.boundingBox!==null&&Ic.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Ic)))}_computeIntersections(e,t,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,f=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let g=0,y=p.length;g<y;g++){const _=p[g],v=o[_.materialIndex],x=Math.max(_.start,m.start),S=Math.min(a.count,Math.min(_.start+_.count,m.start+m.count));for(let A=x,M=S;A<M;A+=3){const E=a.getX(A),R=a.getX(A+1),I=a.getX(A+2);i=fv(this,v,e,r,c,u,f,E,R,I),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=_.materialIndex,t.push(i))}}else{const g=Math.max(0,m.start),y=Math.min(a.count,m.start+m.count);for(let _=g,v=y;_<v;_+=3){const x=a.getX(_),S=a.getX(_+1),A=a.getX(_+2);i=fv(this,o,e,r,c,u,f,x,S,A),i&&(i.faceIndex=Math.floor(_/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let g=0,y=p.length;g<y;g++){const _=p[g],v=o[_.materialIndex],x=Math.max(_.start,m.start),S=Math.min(l.count,Math.min(_.start+_.count,m.start+m.count));for(let A=x,M=S;A<M;A+=3){const E=A,R=A+1,I=A+2;i=fv(this,v,e,r,c,u,f,E,R,I),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=_.materialIndex,t.push(i))}}else{const g=Math.max(0,m.start),y=Math.min(l.count,m.start+m.count);for(let _=g,v=y;_<v;_+=3){const x=_,S=_+1,A=_+2;i=fv(this,o,e,r,c,u,f,x,S,A),i&&(i.faceIndex=Math.floor(_/3),t.push(i))}}}}function $$(n,e,t,r,i,s,o,a){let l;if(e.side===ii?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===ta,a),l===null)return null;uv.copy(a),uv.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(uv);return c<t.near||c>t.far?null:{distance:c,point:uv.clone(),object:n}}function fv(n,e,t,r,i,s,o,a,l,c){n.getVertexPosition(a,yf),n.getVertexPosition(l,_f),n.getVertexPosition(c,xf);const u=$$(n,e,t,r,yf,_f,xf,cv);if(u){i&&(ov.fromBufferAttribute(i,a),av.fromBufferAttribute(i,l),lv.fromBufferAttribute(i,c),u.uv=Bi.getInterpolation(cv,yf,_f,xf,ov,av,lv,new xe)),s&&(ov.fromBufferAttribute(s,a),av.fromBufferAttribute(s,l),lv.fromBufferAttribute(s,c),u.uv1=Bi.getInterpolation(cv,yf,_f,xf,ov,av,lv,new xe),u.uv2=u.uv1),o&&(uL.fromBufferAttribute(o,a),fL.fromBufferAttribute(o,l),dL.fromBufferAttribute(o,c),u.normal=Bi.getInterpolation(cv,yf,_f,xf,uL,fL,dL,new H),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new H,materialIndex:0};Bi.getNormal(yf,_f,xf,f.normal),u.face=f}return u}class gc extends Ot{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],f=[];let p=0,m=0;g("z","y","x",-1,-1,r,t,e,o,s,0),g("z","y","x",1,-1,r,t,-e,o,s,1),g("x","z","y",1,1,e,r,t,i,o,2),g("x","z","y",1,-1,e,r,-t,i,o,3),g("x","y","z",1,-1,e,t,r,i,s,4),g("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new lt(c,3)),this.setAttribute("normal",new lt(u,3)),this.setAttribute("uv",new lt(f,2));function g(y,_,v,x,S,A,M,E,R,I,T){const P=A/R,B=M/I,F=A/2,V=M/2,k=E/2,z=R+1,W=I+1;let K=0,N=0;const j=new H;for(let J=0;J<W;J++){const te=J*B-V;for(let ee=0;ee<z;ee++){const Y=ee*P-F;j[y]=Y*x,j[_]=te*S,j[v]=k,c.push(j.x,j.y,j.z),j[y]=0,j[_]=0,j[v]=E>0?1:-1,u.push(j.x,j.y,j.z),f.push(ee/R),f.push(1-J/I),K+=1}}for(let J=0;J<I;J++)for(let te=0;te<R;te++){const ee=p+te+z*J,Y=p+te+z*(J+1),ne=p+(te+1)+z*(J+1),ce=p+(te+1)+z*J;l.push(ee,Y,ce),l.push(Y,ne,ce),N+=6}a.addGroup(m,N,T),m+=N,p+=K}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Vd(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function vi(n){const e={};for(let t=0;t<n.length;t++){const r=Vd(n[t]);for(const i in r)e[i]=r[i]}return e}function W$(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function fU(n){return n.getRenderTarget()===null?n.outputColorSpace:nn.workingColorSpace}const lC={clone:Vd,merge:vi};var j$=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,X$=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class qs extends hr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=j$,this.fragmentShader=X$,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Vd(e.uniforms),this.uniformsGroups=W$(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class lg extends Xt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new _t,this.projectionMatrix=new _t,this.projectionMatrixInverse=new _t,this.coordinateSystem=vo}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Sn extends lg{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Gd*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(du*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Gd*2*Math.atan(Math.tan(du*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(du*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Sf=-90,bf=1;class dU extends Xt{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Sn(Sf,bf,e,t);i.layers=this.layers,this.add(i);const s=new Sn(Sf,bf,e,t);s.layers=this.layers,this.add(s);const o=new Sn(Sf,bf,e,t);o.layers=this.layers,this.add(o);const a=new Sn(Sf,bf,e,t);a.layers=this.layers,this.add(a);const l=new Sn(Sf,bf,e,t);l.layers=this.layers,this.add(l);const c=new Sn(Sf,bf,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===vo)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Hd)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,f=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const y=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,s),e.setRenderTarget(r,1,i),e.render(t,o),e.setRenderTarget(r,2,i),e.render(t,a),e.setRenderTarget(r,3,i),e.render(t,l),e.setRenderTarget(r,4,i),e.render(t,c),r.texture.generateMipmaps=y,e.setRenderTarget(r,5,i),e.render(t,u),e.setRenderTarget(f,p,m),e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class cg extends Cn{constructor(e,t,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Xa,super(e,t,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class hU extends So{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];t.encoding!==void 0&&(jp("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Jl?vr:rs),this.texture=new cg(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Nn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new gc(5,5,5),s=new qs({name:"CubemapFromEquirect",uniforms:Vd(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ii,blending:za});s.uniforms.tEquirect.value=t;const o=new sr(i,s),a=t.minFilter;return t.minFilter===na&&(t.minFilter=Nn),new dU(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const kb=new H,K$=new H,Y$=new kt;class Ra{constructor(e=new H(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=kb.subVectors(r,t).cross(K$.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(kb),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||Y$.getNormalMatrix(e),i=this.coplanarPoint(kb).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Bc=new Vr,dv=new H;class ug{constructor(e=new Ra,t=new Ra,r=new Ra,i=new Ra,s=new Ra,o=new Ra){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=vo){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],f=i[6],p=i[7],m=i[8],g=i[9],y=i[10],_=i[11],v=i[12],x=i[13],S=i[14],A=i[15];if(r[0].setComponents(l-s,p-c,_-m,A-v).normalize(),r[1].setComponents(l+s,p+c,_+m,A+v).normalize(),r[2].setComponents(l+o,p+u,_+g,A+x).normalize(),r[3].setComponents(l-o,p-u,_-g,A-x).normalize(),r[4].setComponents(l-a,p-f,_-y,A-S).normalize(),t===vo)r[5].setComponents(l+a,p+f,_+y,A+S).normalize();else if(t===Hd)r[5].setComponents(a,f,y,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Bc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Bc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Bc)}intersectsSprite(e){return Bc.center.set(0,0,0),Bc.radius=.7071067811865476,Bc.applyMatrix4(e.matrixWorld),this.intersectsSphere(Bc)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(dv.x=i.normal.x>0?e.max.x:e.min.x,dv.y=i.normal.y>0?e.max.y:e.min.y,dv.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(dv)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function pU(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function J$(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,u){const f=c.array,p=c.usage,m=f.byteLength,g=n.createBuffer();n.bindBuffer(u,g),n.bufferData(u,f,p),c.onUploadCallback();let y;if(f instanceof Float32Array)y=n.FLOAT;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)y=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)y=n.SHORT;else if(f instanceof Uint32Array)y=n.UNSIGNED_INT;else if(f instanceof Int32Array)y=n.INT;else if(f instanceof Int8Array)y=n.BYTE;else if(f instanceof Uint8Array)y=n.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)y=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:g,type:y,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version,size:m}}function s(c,u,f){const p=u.array,m=u._updateRange,g=u.updateRanges;if(n.bindBuffer(f,c),m.count===-1&&g.length===0&&n.bufferSubData(f,0,p),g.length!==0){for(let y=0,_=g.length;y<_;y++){const v=g[y];t?n.bufferSubData(f,v.start*p.BYTES_PER_ELEMENT,p,v.start,v.count):n.bufferSubData(f,v.start*p.BYTES_PER_ELEMENT,p.subarray(v.start,v.start+v.count))}u.clearUpdateRanges()}m.count!==-1&&(t?n.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const p=r.get(c);(!p||p.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);if(f===void 0)r.set(c,i(c,u));else if(f.version<c.version){if(f.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(f.buffer,c,u),f.version=c.version}}return{get:o,remove:a,update:l}}class yh extends Ot{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,f=e/a,p=t/l,m=[],g=[],y=[],_=[];for(let v=0;v<u;v++){const x=v*p-o;for(let S=0;S<c;S++){const A=S*f-s;g.push(A,-x,0),y.push(0,0,1),_.push(S/a),_.push(1-v/l)}}for(let v=0;v<l;v++)for(let x=0;x<a;x++){const S=x+c*v,A=x+c*(v+1),M=x+1+c*(v+1),E=x+1+c*v;m.push(S,A,E),m.push(A,M,E)}this.setIndex(m),this.setAttribute("position",new lt(g,3)),this.setAttribute("normal",new lt(y,3)),this.setAttribute("uv",new lt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yh(e.width,e.height,e.widthSegments,e.heightSegments)}}var q$=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Q$=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Z$=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,eW=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,tW=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,nW=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,rW=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,iW=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,sW=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,oW=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,aW=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,lW=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,cW=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,uW=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,fW=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,dW=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,hW=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,pW=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,mW=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,gW=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,vW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,yW=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,_W=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,xW=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,SW=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,bW=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,AW=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,wW=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,EW=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,MW=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,TW="gl_FragColor = linearToOutputTexel( gl_FragColor );",CW=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,RW=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,PW=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,OW=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,LW=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,IW=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,BW=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,DW=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,kW=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,NW=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,FW=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,UW=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,zW=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,HW=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,GW=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,VW=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,$W=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,WW=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,jW=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,XW=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,KW=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,YW=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,JW=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,qW=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,QW=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,ZW=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,ej=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,tj=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,nj=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,rj=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,ij=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,sj=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,oj=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,aj=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,lj=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,cj=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,uj=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,fj=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,dj=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,hj=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,pj=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,mj=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,gj=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,vj=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,yj=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,_j=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,xj=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Sj=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,bj=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Aj=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,wj=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Ej=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Mj=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Tj=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Cj=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Rj=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Pj=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Oj=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Lj=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Ij=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Bj=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Dj=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,kj=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Nj=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Fj=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Uj=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,zj=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Hj=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Gj=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Vj=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color *= toneMappingExposure;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,$j=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Wj=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,jj=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Xj=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Kj=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Yj=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Jj=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,qj=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Qj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Zj=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,e7=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,t7=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,n7=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,r7=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,i7=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,s7=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,o7=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,a7=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,l7=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,c7=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,u7=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,f7=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,d7=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,h7=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,p7=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,m7=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,g7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,v7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,y7=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_7=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,x7=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,S7=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,b7=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,A7=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,w7=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,E7=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,M7=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,T7=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,C7=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,R7=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Lt={alphahash_fragment:q$,alphahash_pars_fragment:Q$,alphamap_fragment:Z$,alphamap_pars_fragment:eW,alphatest_fragment:tW,alphatest_pars_fragment:nW,aomap_fragment:rW,aomap_pars_fragment:iW,batching_pars_vertex:sW,batching_vertex:oW,begin_vertex:aW,beginnormal_vertex:lW,bsdfs:cW,iridescence_fragment:uW,bumpmap_pars_fragment:fW,clipping_planes_fragment:dW,clipping_planes_pars_fragment:hW,clipping_planes_pars_vertex:pW,clipping_planes_vertex:mW,color_fragment:gW,color_pars_fragment:vW,color_pars_vertex:yW,color_vertex:_W,common:xW,cube_uv_reflection_fragment:SW,defaultnormal_vertex:bW,displacementmap_pars_vertex:AW,displacementmap_vertex:wW,emissivemap_fragment:EW,emissivemap_pars_fragment:MW,colorspace_fragment:TW,colorspace_pars_fragment:CW,envmap_fragment:RW,envmap_common_pars_fragment:PW,envmap_pars_fragment:OW,envmap_pars_vertex:LW,envmap_physical_pars_fragment:$W,envmap_vertex:IW,fog_vertex:BW,fog_pars_vertex:DW,fog_fragment:kW,fog_pars_fragment:NW,gradientmap_pars_fragment:FW,lightmap_fragment:UW,lightmap_pars_fragment:zW,lights_lambert_fragment:HW,lights_lambert_pars_fragment:GW,lights_pars_begin:VW,lights_toon_fragment:WW,lights_toon_pars_fragment:jW,lights_phong_fragment:XW,lights_phong_pars_fragment:KW,lights_physical_fragment:YW,lights_physical_pars_fragment:JW,lights_fragment_begin:qW,lights_fragment_maps:QW,lights_fragment_end:ZW,logdepthbuf_fragment:ej,logdepthbuf_pars_fragment:tj,logdepthbuf_pars_vertex:nj,logdepthbuf_vertex:rj,map_fragment:ij,map_pars_fragment:sj,map_particle_fragment:oj,map_particle_pars_fragment:aj,metalnessmap_fragment:lj,metalnessmap_pars_fragment:cj,morphcolor_vertex:uj,morphnormal_vertex:fj,morphtarget_pars_vertex:dj,morphtarget_vertex:hj,normal_fragment_begin:pj,normal_fragment_maps:mj,normal_pars_fragment:gj,normal_pars_vertex:vj,normal_vertex:yj,normalmap_pars_fragment:_j,clearcoat_normal_fragment_begin:xj,clearcoat_normal_fragment_maps:Sj,clearcoat_pars_fragment:bj,iridescence_pars_fragment:Aj,opaque_fragment:wj,packing:Ej,premultiplied_alpha_fragment:Mj,project_vertex:Tj,dithering_fragment:Cj,dithering_pars_fragment:Rj,roughnessmap_fragment:Pj,roughnessmap_pars_fragment:Oj,shadowmap_pars_fragment:Lj,shadowmap_pars_vertex:Ij,shadowmap_vertex:Bj,shadowmask_pars_fragment:Dj,skinbase_vertex:kj,skinning_pars_vertex:Nj,skinning_vertex:Fj,skinnormal_vertex:Uj,specularmap_fragment:zj,specularmap_pars_fragment:Hj,tonemapping_fragment:Gj,tonemapping_pars_fragment:Vj,transmission_fragment:$j,transmission_pars_fragment:Wj,uv_pars_fragment:jj,uv_pars_vertex:Xj,uv_vertex:Kj,worldpos_vertex:Yj,background_vert:Jj,background_frag:qj,backgroundCube_vert:Qj,backgroundCube_frag:Zj,cube_vert:e7,cube_frag:t7,depth_vert:n7,depth_frag:r7,distanceRGBA_vert:i7,distanceRGBA_frag:s7,equirect_vert:o7,equirect_frag:a7,linedashed_vert:l7,linedashed_frag:c7,meshbasic_vert:u7,meshbasic_frag:f7,meshlambert_vert:d7,meshlambert_frag:h7,meshmatcap_vert:p7,meshmatcap_frag:m7,meshnormal_vert:g7,meshnormal_frag:v7,meshphong_vert:y7,meshphong_frag:_7,meshphysical_vert:x7,meshphysical_frag:S7,meshtoon_vert:b7,meshtoon_frag:A7,points_vert:w7,points_frag:E7,shadow_vert:M7,shadow_frag:T7,sprite_vert:C7,sprite_frag:R7},Ge={common:{diffuse:{value:new ke(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new kt},alphaMap:{value:null},alphaMapTransform:{value:new kt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new kt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new kt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new kt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new kt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new kt},normalScale:{value:new xe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new kt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new kt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new kt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new kt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ke(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ke(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new kt},alphaTest:{value:0},uvTransform:{value:new kt}},sprite:{diffuse:{value:new ke(16777215)},opacity:{value:1},center:{value:new xe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new kt},alphaMap:{value:null},alphaMapTransform:{value:new kt},alphaTest:{value:0}}},ho={basic:{uniforms:vi([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.fog]),vertexShader:Lt.meshbasic_vert,fragmentShader:Lt.meshbasic_frag},lambert:{uniforms:vi([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.fog,Ge.lights,{emissive:{value:new ke(0)}}]),vertexShader:Lt.meshlambert_vert,fragmentShader:Lt.meshlambert_frag},phong:{uniforms:vi([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.fog,Ge.lights,{emissive:{value:new ke(0)},specular:{value:new ke(1118481)},shininess:{value:30}}]),vertexShader:Lt.meshphong_vert,fragmentShader:Lt.meshphong_frag},standard:{uniforms:vi([Ge.common,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.roughnessmap,Ge.metalnessmap,Ge.fog,Ge.lights,{emissive:{value:new ke(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Lt.meshphysical_vert,fragmentShader:Lt.meshphysical_frag},toon:{uniforms:vi([Ge.common,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.gradientmap,Ge.fog,Ge.lights,{emissive:{value:new ke(0)}}]),vertexShader:Lt.meshtoon_vert,fragmentShader:Lt.meshtoon_frag},matcap:{uniforms:vi([Ge.common,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.fog,{matcap:{value:null}}]),vertexShader:Lt.meshmatcap_vert,fragmentShader:Lt.meshmatcap_frag},points:{uniforms:vi([Ge.points,Ge.fog]),vertexShader:Lt.points_vert,fragmentShader:Lt.points_frag},dashed:{uniforms:vi([Ge.common,Ge.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Lt.linedashed_vert,fragmentShader:Lt.linedashed_frag},depth:{uniforms:vi([Ge.common,Ge.displacementmap]),vertexShader:Lt.depth_vert,fragmentShader:Lt.depth_frag},normal:{uniforms:vi([Ge.common,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,{opacity:{value:1}}]),vertexShader:Lt.meshnormal_vert,fragmentShader:Lt.meshnormal_frag},sprite:{uniforms:vi([Ge.sprite,Ge.fog]),vertexShader:Lt.sprite_vert,fragmentShader:Lt.sprite_frag},background:{uniforms:{uvTransform:{value:new kt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Lt.background_vert,fragmentShader:Lt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Lt.backgroundCube_vert,fragmentShader:Lt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Lt.cube_vert,fragmentShader:Lt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Lt.equirect_vert,fragmentShader:Lt.equirect_frag},distanceRGBA:{uniforms:vi([Ge.common,Ge.displacementmap,{referencePosition:{value:new H},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Lt.distanceRGBA_vert,fragmentShader:Lt.distanceRGBA_frag},shadow:{uniforms:vi([Ge.lights,Ge.fog,{color:{value:new ke(0)},opacity:{value:1}}]),vertexShader:Lt.shadow_vert,fragmentShader:Lt.shadow_frag}};ho.physical={uniforms:vi([ho.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new kt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new kt},clearcoatNormalScale:{value:new xe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new kt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new kt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new kt},sheen:{value:0},sheenColor:{value:new ke(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new kt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new kt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new kt},transmissionSamplerSize:{value:new xe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new kt},attenuationDistance:{value:0},attenuationColor:{value:new ke(0)},specularColor:{value:new ke(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new kt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new kt},anisotropyVector:{value:new xe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new kt}}]),vertexShader:Lt.meshphysical_vert,fragmentShader:Lt.meshphysical_frag};const hv={r:0,b:0,g:0};function P7(n,e,t,r,i,s,o){const a=new ke(0);let l=s===!0?0:1,c,u,f=null,p=0,m=null;function g(_,v){let x=!1,S=v.isScene===!0?v.background:null;S&&S.isTexture&&(S=(v.backgroundBlurriness>0?t:e).get(S)),S===null?y(a,l):S&&S.isColor&&(y(S,1),x=!0);const A=n.xr.getEnvironmentBlendMode();A==="additive"?r.buffers.color.setClear(0,0,0,1,o):A==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(n.autoClear||x)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),S&&(S.isCubeTexture||S.mapping===vh)?(u===void 0&&(u=new sr(new gc(1,1,1),new qs({name:"BackgroundCubeMaterial",uniforms:Vd(ho.backgroundCube.uniforms),vertexShader:ho.backgroundCube.vertexShader,fragmentShader:ho.backgroundCube.fragmentShader,side:ii,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(M,E,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=S,u.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=nn.getTransfer(S.colorSpace)!==pn,(f!==S||p!==S.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,f=S,p=S.version,m=n.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null)):S&&S.isTexture&&(c===void 0&&(c=new sr(new yh(2,2),new qs({name:"BackgroundMaterial",uniforms:Vd(ho.background.uniforms),vertexShader:ho.background.vertexShader,fragmentShader:ho.background.fragmentShader,side:ta,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=S,c.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,c.material.toneMapped=nn.getTransfer(S.colorSpace)!==pn,S.matrixAutoUpdate===!0&&S.updateMatrix(),c.material.uniforms.uvTransform.value.copy(S.matrix),(f!==S||p!==S.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,f=S,p=S.version,m=n.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}function y(_,v){_.getRGB(hv,fU(n)),r.buffers.color.setClear(hv.r,hv.g,hv.b,v,o)}return{getClearColor:function(){return a},setClearColor:function(_,v=1){a.set(_),l=v,y(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,y(a,l)},render:g}}function O7(n,e,t,r){const i=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=_(null);let c=l,u=!1;function f(k,z,W,K,N){let j=!1;if(o){const J=y(K,W,z);c!==J&&(c=J,m(c.object)),j=v(k,K,W,N),j&&x(k,K,W,N)}else{const J=z.wireframe===!0;(c.geometry!==K.id||c.program!==W.id||c.wireframe!==J)&&(c.geometry=K.id,c.program=W.id,c.wireframe=J,j=!0)}N!==null&&t.update(N,n.ELEMENT_ARRAY_BUFFER),(j||u)&&(u=!1,I(k,z,W,K),N!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(N).buffer))}function p(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(k){return r.isWebGL2?n.bindVertexArray(k):s.bindVertexArrayOES(k)}function g(k){return r.isWebGL2?n.deleteVertexArray(k):s.deleteVertexArrayOES(k)}function y(k,z,W){const K=W.wireframe===!0;let N=a[k.id];N===void 0&&(N={},a[k.id]=N);let j=N[z.id];j===void 0&&(j={},N[z.id]=j);let J=j[K];return J===void 0&&(J=_(p()),j[K]=J),J}function _(k){const z=[],W=[],K=[];for(let N=0;N<i;N++)z[N]=0,W[N]=0,K[N]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:z,enabledAttributes:W,attributeDivisors:K,object:k,attributes:{},index:null}}function v(k,z,W,K){const N=c.attributes,j=z.attributes;let J=0;const te=W.getAttributes();for(const ee in te)if(te[ee].location>=0){const ne=N[ee];let ce=j[ee];if(ce===void 0&&(ee==="instanceMatrix"&&k.instanceMatrix&&(ce=k.instanceMatrix),ee==="instanceColor"&&k.instanceColor&&(ce=k.instanceColor)),ne===void 0||ne.attribute!==ce||ce&&ne.data!==ce.data)return!0;J++}return c.attributesNum!==J||c.index!==K}function x(k,z,W,K){const N={},j=z.attributes;let J=0;const te=W.getAttributes();for(const ee in te)if(te[ee].location>=0){let ne=j[ee];ne===void 0&&(ee==="instanceMatrix"&&k.instanceMatrix&&(ne=k.instanceMatrix),ee==="instanceColor"&&k.instanceColor&&(ne=k.instanceColor));const ce={};ce.attribute=ne,ne&&ne.data&&(ce.data=ne.data),N[ee]=ce,J++}c.attributes=N,c.attributesNum=J,c.index=K}function S(){const k=c.newAttributes;for(let z=0,W=k.length;z<W;z++)k[z]=0}function A(k){M(k,0)}function M(k,z){const W=c.newAttributes,K=c.enabledAttributes,N=c.attributeDivisors;W[k]=1,K[k]===0&&(n.enableVertexAttribArray(k),K[k]=1),N[k]!==z&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](k,z),N[k]=z)}function E(){const k=c.newAttributes,z=c.enabledAttributes;for(let W=0,K=z.length;W<K;W++)z[W]!==k[W]&&(n.disableVertexAttribArray(W),z[W]=0)}function R(k,z,W,K,N,j,J){J===!0?n.vertexAttribIPointer(k,z,W,N,j):n.vertexAttribPointer(k,z,W,K,N,j)}function I(k,z,W,K){if(r.isWebGL2===!1&&(k.isInstancedMesh||K.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const N=K.attributes,j=W.getAttributes(),J=z.defaultAttributeValues;for(const te in j){const ee=j[te];if(ee.location>=0){let Y=N[te];if(Y===void 0&&(te==="instanceMatrix"&&k.instanceMatrix&&(Y=k.instanceMatrix),te==="instanceColor"&&k.instanceColor&&(Y=k.instanceColor)),Y!==void 0){const ne=Y.normalized,ce=Y.itemSize,Me=t.get(Y);if(Me===void 0)continue;const Re=Me.buffer,Ze=Me.type,Je=Me.bytesPerElement,Fe=r.isWebGL2===!0&&(Ze===n.INT||Ze===n.UNSIGNED_INT||Y.gpuType===jT);if(Y.isInterleavedBufferAttribute){const Be=Y.data,X=Be.stride,Se=Y.offset;if(Be.isInstancedInterleavedBuffer){for(let ve=0;ve<ee.locationSize;ve++)M(ee.location+ve,Be.meshPerAttribute);k.isInstancedMesh!==!0&&K._maxInstanceCount===void 0&&(K._maxInstanceCount=Be.meshPerAttribute*Be.count)}else for(let ve=0;ve<ee.locationSize;ve++)A(ee.location+ve);n.bindBuffer(n.ARRAY_BUFFER,Re);for(let ve=0;ve<ee.locationSize;ve++)R(ee.location+ve,ce/ee.locationSize,Ze,ne,X*Je,(Se+ce/ee.locationSize*ve)*Je,Fe)}else{if(Y.isInstancedBufferAttribute){for(let Be=0;Be<ee.locationSize;Be++)M(ee.location+Be,Y.meshPerAttribute);k.isInstancedMesh!==!0&&K._maxInstanceCount===void 0&&(K._maxInstanceCount=Y.meshPerAttribute*Y.count)}else for(let Be=0;Be<ee.locationSize;Be++)A(ee.location+Be);n.bindBuffer(n.ARRAY_BUFFER,Re);for(let Be=0;Be<ee.locationSize;Be++)R(ee.location+Be,ce/ee.locationSize,Ze,ne,ce*Je,ce/ee.locationSize*Be*Je,Fe)}}else if(J!==void 0){const ne=J[te];if(ne!==void 0)switch(ne.length){case 2:n.vertexAttrib2fv(ee.location,ne);break;case 3:n.vertexAttrib3fv(ee.location,ne);break;case 4:n.vertexAttrib4fv(ee.location,ne);break;default:n.vertexAttrib1fv(ee.location,ne)}}}}E()}function T(){F();for(const k in a){const z=a[k];for(const W in z){const K=z[W];for(const N in K)g(K[N].object),delete K[N];delete z[W]}delete a[k]}}function P(k){if(a[k.id]===void 0)return;const z=a[k.id];for(const W in z){const K=z[W];for(const N in K)g(K[N].object),delete K[N];delete z[W]}delete a[k.id]}function B(k){for(const z in a){const W=a[z];if(W[k.id]===void 0)continue;const K=W[k.id];for(const N in K)g(K[N].object),delete K[N];delete W[k.id]}}function F(){V(),u=!0,c!==l&&(c=l,m(c.object))}function V(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:F,resetDefaultState:V,dispose:T,releaseStatesOfGeometry:P,releaseStatesOfProgram:B,initAttributes:S,enableAttribute:A,disableUnusedAttributes:E}}function L7(n,e,t,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,f){n.drawArrays(s,u,f),t.update(f,s,1)}function l(u,f,p){if(p===0)return;let m,g;if(i)m=n,g="drawArraysInstanced";else if(m=e.get("ANGLE_instanced_arrays"),g="drawArraysInstancedANGLE",m===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[g](s,u,f,p),t.update(f,s,p)}function c(u,f,p){if(p===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let g=0;g<p;g++)this.render(u[g],f[g]);else{m.multiDrawArraysWEBGL(s,u,0,f,0,p);let g=0;for(let y=0;y<p;y++)g+=f[y];t.update(g,s,1)}}this.setMode=o,this.render=a,this.renderInstances=l,this.renderMultiDraw=c}function I7(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,f=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),g=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),y=n.getParameter(n.MAX_VERTEX_ATTRIBS),_=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),v=n.getParameter(n.MAX_VARYING_VECTORS),x=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),S=p>0,A=o||e.has("OES_texture_float"),M=S&&A,E=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:g,maxAttributes:y,maxVertexUniforms:_,maxVaryings:v,maxFragmentUniforms:x,vertexTextures:S,floatFragmentTextures:A,floatVertexTextures:M,maxSamples:E}}function B7(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new Ra,a=new kt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,p){const m=f.length!==0||p||r!==0||i;return i=p,r=f.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,p){t=u(f,p,0)},this.setState=function(f,p,m){const g=f.clippingPlanes,y=f.clipIntersection,_=f.clipShadows,v=n.get(f);if(!i||g===null||g.length===0||s&&!_)s?u(null):c();else{const x=s?0:r,S=x*4;let A=v.clippingState||null;l.value=A,A=u(g,p,S,m);for(let M=0;M!==S;++M)A[M]=t[M];v.clippingState=A,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=x}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,p,m,g){const y=f!==null?f.length:0;let _=null;if(y!==0){if(_=l.value,g!==!0||_===null){const v=m+y*4,x=p.matrixWorldInverse;a.getNormalMatrix(x),(_===null||_.length<v)&&(_=new Float32Array(v));for(let S=0,A=m;S!==y;++S,A+=4)o.copy(f[S]).applyMatrix4(x,a),o.normal.toArray(_,A),_[A+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,_}}function D7(n){let e=new WeakMap;function t(o,a){return a===xm?o.mapping=Xa:a===Sm&&(o.mapping=tc),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===xm||a===Sm)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new hU(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class $s extends lg{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const rd=4,hL=[.125,.215,.35,.446,.526,.582],Qc=20,Nb=new $s,pL=new ke;let Fb=null,Ub=0,zb=0;const Yc=(1+Math.sqrt(5))/2,Af=1/Yc,mL=[new H(1,1,1),new H(-1,1,1),new H(1,1,-1),new H(-1,1,-1),new H(0,Yc,Af),new H(0,Yc,-Af),new H(Af,0,Yc),new H(-Af,0,Yc),new H(Yc,Af,0),new H(-Yc,Af,0)];class ME{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){Fb=this._renderer.getRenderTarget(),Ub=this._renderer.getActiveCubeFace(),zb=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=yL(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=vL(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Fb,Ub,zb),e.scissorTest=!1,pv(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Xa||e.mapping===tc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Fb=this._renderer.getRenderTarget(),Ub=this._renderer.getActiveCubeFace(),zb=this._renderer.getActiveMipmapLevel();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Nn,minFilter:Nn,generateMipmaps:!1,type:Ud,format:Si,colorSpace:ra,depthBuffer:!1},i=gL(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=gL(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=k7(s)),this._blurMaterial=N7(s,e,t)}return i}_compileMaterial(e){const t=new sr(this._lodPlanes[0],e);this._renderer.compile(t,Nb)}_sceneToCubeUV(e,t,r,i){const a=new Sn(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,p=u.toneMapping;u.getClearColor(pL),u.toneMapping=Ko,u.autoClear=!1;const m=new as({name:"PMREM.Background",side:ii,depthWrite:!1,depthTest:!1}),g=new sr(new gc,m);let y=!1;const _=e.background;_?_.isColor&&(m.color.copy(_),e.background=null,y=!0):(m.color.copy(pL),y=!0);for(let v=0;v<6;v++){const x=v%3;x===0?(a.up.set(0,l[v],0),a.lookAt(c[v],0,0)):x===1?(a.up.set(0,0,l[v]),a.lookAt(0,c[v],0)):(a.up.set(0,l[v],0),a.lookAt(0,0,c[v]));const S=this._cubeSize;pv(i,x*S,v>2?S:0,S,S),u.setRenderTarget(i),y&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=p,u.autoClear=f,e.background=_}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Xa||e.mapping===tc;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=yL()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=vL());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new sr(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;pv(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,Nb)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=mL[(i-1)%mL.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new sr(this._lodPlanes[i],c),p=c.uniforms,m=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Qc-1),y=s/g,_=isFinite(s)?1+Math.floor(u*y):Qc;_>Qc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${Qc}`);const v=[];let x=0;for(let R=0;R<Qc;++R){const I=R/y,T=Math.exp(-I*I/2);v.push(T),R===0?x+=T:R<_&&(x+=2*T)}for(let R=0;R<v.length;R++)v[R]=v[R]/x;p.envMap.value=e.texture,p.samples.value=_,p.weights.value=v,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:S}=this;p.dTheta.value=g,p.mipInt.value=S-r;const A=this._sizeLods[i],M=3*A*(i>S-rd?i-S+rd:0),E=4*(this._cubeSize-A);pv(t,M,E,3*A,2*A),l.setRenderTarget(t),l.render(f,Nb)}}function k7(n){const e=[],t=[],r=[];let i=n;const s=n-rd+1+hL.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-rd?l=hL[o-n+rd-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,f=1+c,p=[u,u,f,u,f,f,u,u,f,f,u,f],m=6,g=6,y=3,_=2,v=1,x=new Float32Array(y*g*m),S=new Float32Array(_*g*m),A=new Float32Array(v*g*m);for(let E=0;E<m;E++){const R=E%3*2/3-1,I=E>2?0:-1,T=[R,I,0,R+2/3,I,0,R+2/3,I+1,0,R,I,0,R+2/3,I+1,0,R,I+1,0];x.set(T,y*g*E),S.set(p,_*g*E);const P=[E,E,E,E,E,E];A.set(P,v*g*E)}const M=new Ot;M.setAttribute("position",new Kt(x,y)),M.setAttribute("uv",new Kt(S,_)),M.setAttribute("faceIndex",new Kt(A,v)),e.push(M),i>rd&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function gL(n,e,t){const r=new So(n,e,t);return r.texture.mapping=vh,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function pv(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function N7(n,e,t){const r=new Float32Array(Qc),i=new H(0,1,0);return new qs({name:"SphericalGaussianBlur",defines:{n:Qc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:cC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:za,depthTest:!1,depthWrite:!1})}function vL(){return new qs({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:cC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:za,depthTest:!1,depthWrite:!1})}function yL(){return new qs({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:cC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:za,depthTest:!1,depthWrite:!1})}function cC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function F7(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===xm||l===Sm,u=l===Xa||l===tc;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return t===null&&(t=new ME(n)),f=c?t.fromEquirectangular(a,f):t.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(c&&f&&f.height>0||u&&f&&i(f)){t===null&&(t=new ME(n));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function U7(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?(t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance")):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function z7(n,e,t,r){const i={},s=new WeakMap;function o(f){const p=f.target;p.index!==null&&e.remove(p.index);for(const g in p.attributes)e.remove(p.attributes[g]);for(const g in p.morphAttributes){const y=p.morphAttributes[g];for(let _=0,v=y.length;_<v;_++)e.remove(y[_])}p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(f,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,t.memory.geometries++),p}function l(f){const p=f.attributes;for(const g in p)e.update(p[g],n.ARRAY_BUFFER);const m=f.morphAttributes;for(const g in m){const y=m[g];for(let _=0,v=y.length;_<v;_++)e.update(y[_],n.ARRAY_BUFFER)}}function c(f){const p=[],m=f.index,g=f.attributes.position;let y=0;if(m!==null){const x=m.array;y=m.version;for(let S=0,A=x.length;S<A;S+=3){const M=x[S+0],E=x[S+1],R=x[S+2];p.push(M,E,E,R,R,M)}}else if(g!==void 0){const x=g.array;y=g.version;for(let S=0,A=x.length/3-1;S<A;S+=3){const M=S+0,E=S+1,R=S+2;p.push(M,E,E,R,R,M)}}else return;const _=new(aU(p)?aC:oC)(p,1);_.version=y;const v=s.get(f);v&&e.remove(v),s.set(f,_)}function u(f){const p=s.get(f);if(p){const m=f.index;m!==null&&p.version<m.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:u}}function H7(n,e,t,r){const i=r.isWebGL2;let s;function o(m){s=m}let a,l;function c(m){a=m.type,l=m.bytesPerElement}function u(m,g){n.drawElements(s,g,a,m*l),t.update(g,s,1)}function f(m,g,y){if(y===0)return;let _,v;if(i)_=n,v="drawElementsInstanced";else if(_=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",_===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}_[v](s,g,a,m*l,y),t.update(g,s,y)}function p(m,g,y){if(y===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let v=0;v<y;v++)this.render(m[v]/l,g[v]);else{_.multiDrawElementsWEBGL(s,g,0,a,m,0,y);let v=0;for(let x=0;x<y;x++)v+=g[x];t.update(v,s,1)}}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=f,this.renderMultiDraw=p}function G7(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function V7(n,e){return n[0]-e[0]}function $7(n,e){return Math.abs(e[1])-Math.abs(n[1])}function W7(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new rn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,f){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,y=g!==void 0?g.length:0;let _=s.get(u);if(_===void 0||_.count!==y){let z=function(){V.dispose(),s.delete(u),u.removeEventListener("dispose",z)};var m=z;_!==void 0&&_.texture.dispose();const S=u.morphAttributes.position!==void 0,A=u.morphAttributes.normal!==void 0,M=u.morphAttributes.color!==void 0,E=u.morphAttributes.position||[],R=u.morphAttributes.normal||[],I=u.morphAttributes.color||[];let T=0;S===!0&&(T=1),A===!0&&(T=2),M===!0&&(T=3);let P=u.attributes.position.count*T,B=1;P>e.maxTextureSize&&(B=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const F=new Float32Array(P*B*4*y),V=new Ex(F,P,B,y);V.type=go,V.needsUpdate=!0;const k=T*4;for(let W=0;W<y;W++){const K=E[W],N=R[W],j=I[W],J=P*B*4*W;for(let te=0;te<K.count;te++){const ee=te*k;S===!0&&(o.fromBufferAttribute(K,te),F[J+ee+0]=o.x,F[J+ee+1]=o.y,F[J+ee+2]=o.z,F[J+ee+3]=0),A===!0&&(o.fromBufferAttribute(N,te),F[J+ee+4]=o.x,F[J+ee+5]=o.y,F[J+ee+6]=o.z,F[J+ee+7]=0),M===!0&&(o.fromBufferAttribute(j,te),F[J+ee+8]=o.x,F[J+ee+9]=o.y,F[J+ee+10]=o.z,F[J+ee+11]=j.itemSize===4?o.w:1)}}_={count:y,texture:V,size:new xe(P,B)},s.set(u,_),u.addEventListener("dispose",z)}let v=0;for(let S=0;S<p.length;S++)v+=p[S];const x=u.morphTargetsRelative?1:1-v;f.getUniforms().setValue(n,"morphTargetBaseInfluence",x),f.getUniforms().setValue(n,"morphTargetInfluences",p),f.getUniforms().setValue(n,"morphTargetsTexture",_.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}else{const g=p===void 0?0:p.length;let y=r[u.id];if(y===void 0||y.length!==g){y=[];for(let A=0;A<g;A++)y[A]=[A,0];r[u.id]=y}for(let A=0;A<g;A++){const M=y[A];M[0]=A,M[1]=p[A]}y.sort($7);for(let A=0;A<8;A++)A<g&&y[A][1]?(a[A][0]=y[A][0],a[A][1]=y[A][1]):(a[A][0]=Number.MAX_SAFE_INTEGER,a[A][1]=0);a.sort(V7);const _=u.morphAttributes.position,v=u.morphAttributes.normal;let x=0;for(let A=0;A<8;A++){const M=a[A],E=M[0],R=M[1];E!==Number.MAX_SAFE_INTEGER&&R?(_&&u.getAttribute("morphTarget"+A)!==_[E]&&u.setAttribute("morphTarget"+A,_[E]),v&&u.getAttribute("morphNormal"+A)!==v[E]&&u.setAttribute("morphNormal"+A,v[E]),i[A]=R,x+=R):(_&&u.hasAttribute("morphTarget"+A)===!0&&u.deleteAttribute("morphTarget"+A),v&&u.hasAttribute("morphNormal"+A)===!0&&u.deleteAttribute("morphNormal"+A),i[A]=0)}const S=u.morphTargetsRelative?1:1-x;f.getUniforms().setValue(n,"morphTargetBaseInfluence",S),f.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function j7(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);if(i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;i.get(p)!==c&&(p.update(),i.set(p,c))}return f}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}class uC extends Cn{constructor(e,t,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:Yl,u!==Yl&&u!==Tu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===Yl&&(r=ka),r===void 0&&u===Tu&&(r=Kl),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Jn,this.minFilter=l!==void 0?l:Jn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const mU=new Cn,gU=new uC(1,1);gU.compareFunction=nC;const vU=new Ex,yU=new sC,_U=new cg,_L=[],xL=[],SL=new Float32Array(16),bL=new Float32Array(9),AL=new Float32Array(4);function _h(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=_L[i];if(s===void 0&&(s=new Float32Array(i),_L[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function _r(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function xr(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function Mx(n,e){let t=xL[e];t===void 0&&(t=new Int32Array(e),xL[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function X7(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function K7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(_r(t,e))return;n.uniform2fv(this.addr,e),xr(t,e)}}function Y7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(_r(t,e))return;n.uniform3fv(this.addr,e),xr(t,e)}}function J7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(_r(t,e))return;n.uniform4fv(this.addr,e),xr(t,e)}}function q7(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(_r(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),xr(t,e)}else{if(_r(t,r))return;AL.set(r),n.uniformMatrix2fv(this.addr,!1,AL),xr(t,r)}}function Q7(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(_r(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),xr(t,e)}else{if(_r(t,r))return;bL.set(r),n.uniformMatrix3fv(this.addr,!1,bL),xr(t,r)}}function Z7(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(_r(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),xr(t,e)}else{if(_r(t,r))return;SL.set(r),n.uniformMatrix4fv(this.addr,!1,SL),xr(t,r)}}function eX(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function tX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(_r(t,e))return;n.uniform2iv(this.addr,e),xr(t,e)}}function nX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(_r(t,e))return;n.uniform3iv(this.addr,e),xr(t,e)}}function rX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(_r(t,e))return;n.uniform4iv(this.addr,e),xr(t,e)}}function iX(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function sX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(_r(t,e))return;n.uniform2uiv(this.addr,e),xr(t,e)}}function oX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(_r(t,e))return;n.uniform3uiv(this.addr,e),xr(t,e)}}function aX(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(_r(t,e))return;n.uniform4uiv(this.addr,e),xr(t,e)}}function lX(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i);const s=this.type===n.SAMPLER_2D_SHADOW?gU:mU;t.setTexture2D(e||s,i)}function cX(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||yU,i)}function uX(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||_U,i)}function fX(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||vU,i)}function dX(n){switch(n){case 5126:return X7;case 35664:return K7;case 35665:return Y7;case 35666:return J7;case 35674:return q7;case 35675:return Q7;case 35676:return Z7;case 5124:case 35670:return eX;case 35667:case 35671:return tX;case 35668:case 35672:return nX;case 35669:case 35673:return rX;case 5125:return iX;case 36294:return sX;case 36295:return oX;case 36296:return aX;case 35678:case 36198:case 36298:case 36306:case 35682:return lX;case 35679:case 36299:case 36307:return cX;case 35680:case 36300:case 36308:case 36293:return uX;case 36289:case 36303:case 36311:case 36292:return fX}}function hX(n,e){n.uniform1fv(this.addr,e)}function pX(n,e){const t=_h(e,this.size,2);n.uniform2fv(this.addr,t)}function mX(n,e){const t=_h(e,this.size,3);n.uniform3fv(this.addr,t)}function gX(n,e){const t=_h(e,this.size,4);n.uniform4fv(this.addr,t)}function vX(n,e){const t=_h(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function yX(n,e){const t=_h(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function _X(n,e){const t=_h(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function xX(n,e){n.uniform1iv(this.addr,e)}function SX(n,e){n.uniform2iv(this.addr,e)}function bX(n,e){n.uniform3iv(this.addr,e)}function AX(n,e){n.uniform4iv(this.addr,e)}function wX(n,e){n.uniform1uiv(this.addr,e)}function EX(n,e){n.uniform2uiv(this.addr,e)}function MX(n,e){n.uniform3uiv(this.addr,e)}function TX(n,e){n.uniform4uiv(this.addr,e)}function CX(n,e,t){const r=this.cache,i=e.length,s=Mx(t,i);_r(r,s)||(n.uniform1iv(this.addr,s),xr(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||mU,s[o])}function RX(n,e,t){const r=this.cache,i=e.length,s=Mx(t,i);_r(r,s)||(n.uniform1iv(this.addr,s),xr(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||yU,s[o])}function PX(n,e,t){const r=this.cache,i=e.length,s=Mx(t,i);_r(r,s)||(n.uniform1iv(this.addr,s),xr(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||_U,s[o])}function OX(n,e,t){const r=this.cache,i=e.length,s=Mx(t,i);_r(r,s)||(n.uniform1iv(this.addr,s),xr(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||vU,s[o])}function LX(n){switch(n){case 5126:return hX;case 35664:return pX;case 35665:return mX;case 35666:return gX;case 35674:return vX;case 35675:return yX;case 35676:return _X;case 5124:case 35670:return xX;case 35667:case 35671:return SX;case 35668:case 35672:return bX;case 35669:case 35673:return AX;case 5125:return wX;case 36294:return EX;case 36295:return MX;case 36296:return TX;case 35678:case 36198:case 36298:case 36306:case 35682:return CX;case 35679:case 36299:case 36307:return RX;case 35680:case 36300:case 36308:case 36293:return PX;case 36289:case 36303:case 36311:case 36292:return OX}}class IX{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=dX(t.type)}}class BX{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=LX(t.type)}}class DX{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const Hb=/(\w+)(\])?(\[|\.)?/g;function wL(n,e){n.seq.push(e),n.map[e.id]=e}function kX(n,e,t){const r=n.name,i=r.length;for(Hb.lastIndex=0;;){const s=Hb.exec(r),o=Hb.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){wL(t,c===void 0?new IX(a,n,e):new BX(a,n,e));break}else{let f=t.map[a];f===void 0&&(f=new DX(a),wL(t,f)),t=f}}}class by{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);kX(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function EL(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const NX=37297;let FX=0;function UX(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function zX(n){const e=nn.getPrimaries(nn.workingColorSpace),t=nn.getPrimaries(n);let r;switch(e===t?r="":e===Mm&&t===Em?r="LinearDisplayP3ToLinearSRGB":e===Em&&t===Mm&&(r="LinearSRGBToLinearDisplayP3"),n){case ra:case og:return[r,"LinearTransferOETF"];case vr:case wx:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[r,"LinearTransferOETF"]}}function ML(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+UX(n.getShaderSource(e),o)}else return i}function HX(n,e){const t=zX(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function GX(n,e){let t;switch(e){case LF:t="Linear";break;case IF:t="Reinhard";break;case BF:t="OptimizedCineon";break;case WT:t="ACESFilmic";break;case kF:t="AgX";break;case DF:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function VX(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(id).join(`
`)}function $X(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":""].filter(id).join(`
`)}function WX(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function jX(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function id(n){return n!==""}function TL(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function CL(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const XX=/^[ \t]*#include +<([\w\d./]+)>/gm;function TE(n){return n.replace(XX,YX)}const KX=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function YX(n,e){let t=Lt[e];if(t===void 0){const r=KX.get(e);if(r!==void 0)t=Lt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return TE(t)}const JX=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function RL(n){return n.replace(JX,qX)}function qX(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function PL(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function QX(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===_x?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===yd?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===co&&(e="SHADOWMAP_TYPE_VSM"),e}function ZX(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Xa:case tc:e="ENVMAP_TYPE_CUBE";break;case vh:e="ENVMAP_TYPE_CUBE_UV";break}return e}function eK(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case tc:e="ENVMAP_MODE_REFRACTION";break}return e}function tK(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case sg:e="ENVMAP_BLENDING_MULTIPLY";break;case PF:e="ENVMAP_BLENDING_MIX";break;case OF:e="ENVMAP_BLENDING_ADD";break}return e}function nK(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function rK(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=QX(t),c=ZX(t),u=eK(t),f=tK(t),p=nK(t),m=t.isWebGL2?"":VX(t),g=$X(t),y=WX(s),_=i.createProgram();let v,x,S=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(v=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y].filter(id).join(`
`),v.length>0&&(v+=`
`),x=[m,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y].filter(id).join(`
`),x.length>0&&(x+=`
`)):(v=[PL(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(id).join(`
`),x=[m,PL(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Ko?"#define TONE_MAPPING":"",t.toneMapping!==Ko?Lt.tonemapping_pars_fragment:"",t.toneMapping!==Ko?GX("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Lt.colorspace_pars_fragment,HX("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(id).join(`
`)),o=TE(o),o=TL(o,t),o=CL(o,t),a=TE(a),a=TL(a,t),a=CL(a,t),o=RL(o),a=RL(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,v=[g,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,x=["precision mediump sampler2DArray;","#define varying in",t.glslVersion===wE?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===wE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const A=S+v+o,M=S+x+a,E=EL(i,i.VERTEX_SHADER,A),R=EL(i,i.FRAGMENT_SHADER,M);i.attachShader(_,E),i.attachShader(_,R),t.index0AttributeName!==void 0?i.bindAttribLocation(_,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(_,0,"position"),i.linkProgram(_);function I(F){if(n.debug.checkShaderErrors){const V=i.getProgramInfoLog(_).trim(),k=i.getShaderInfoLog(E).trim(),z=i.getShaderInfoLog(R).trim();let W=!0,K=!0;if(i.getProgramParameter(_,i.LINK_STATUS)===!1)if(W=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,_,E,R);else{const N=ML(i,E,"vertex"),j=ML(i,R,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(_,i.VALIDATE_STATUS)+`

Program Info Log: `+V+`
`+N+`
`+j)}else V!==""?console.warn("THREE.WebGLProgram: Program Info Log:",V):(k===""||z==="")&&(K=!1);K&&(F.diagnostics={runnable:W,programLog:V,vertexShader:{log:k,prefix:v},fragmentShader:{log:z,prefix:x}})}i.deleteShader(E),i.deleteShader(R),T=new by(i,_),P=jX(i,_)}let T;this.getUniforms=function(){return T===void 0&&I(this),T};let P;this.getAttributes=function(){return P===void 0&&I(this),P};let B=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return B===!1&&(B=i.getProgramParameter(_,NX)),B},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(_),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=FX++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=E,this.fragmentShader=R,this}let iK=0;class sK{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new oK(e),t.set(e,r)),r}}class oK{constructor(e){this.id=iK++,this.code=e,this.usedTimes=0}}function aK(n,e,t,r,i,s,o){const a=new hu,l=new sK,c=[],u=i.isWebGL2,f=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(T){return T===0?"uv":`uv${T}`}function _(T,P,B,F,V){const k=F.fog,z=V.geometry,W=T.isMeshStandardMaterial?F.environment:null,K=(T.isMeshStandardMaterial?t:e).get(T.envMap||W),N=K&&K.mapping===vh?K.image.height:null,j=g[T.type];T.precision!==null&&(m=i.getMaxPrecision(T.precision),m!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",m,"instead."));const J=z.morphAttributes.position||z.morphAttributes.normal||z.morphAttributes.color,te=J!==void 0?J.length:0;let ee=0;z.morphAttributes.position!==void 0&&(ee=1),z.morphAttributes.normal!==void 0&&(ee=2),z.morphAttributes.color!==void 0&&(ee=3);let Y,ne,ce,Me;if(j){const fn=ho[j];Y=fn.vertexShader,ne=fn.fragmentShader}else Y=T.vertexShader,ne=T.fragmentShader,l.update(T),ce=l.getVertexShaderID(T),Me=l.getFragmentShaderID(T);const Re=n.getRenderTarget(),Ze=V.isInstancedMesh===!0,Je=V.isBatchedMesh===!0,Fe=!!T.map,Be=!!T.matcap,X=!!K,Se=!!T.aoMap,ve=!!T.lightMap,de=!!T.bumpMap,ye=!!T.normalMap,We=!!T.displacementMap,ze=!!T.emissiveMap,U=!!T.metalnessMap,D=!!T.roughnessMap,ie=T.anisotropy>0,Ae=T.clearcoat>0,oe=T.iridescence>0,ae=T.sheen>0,Ie=T.transmission>0,Te=ie&&!!T.anisotropyMap,Oe=Ae&&!!T.clearcoatMap,tt=Ae&&!!T.clearcoatNormalMap,Le=Ae&&!!T.clearcoatRoughnessMap,we=oe&&!!T.iridescenceMap,gt=oe&&!!T.iridescenceThicknessMap,dt=ae&&!!T.sheenColorMap,ht=ae&&!!T.sheenRoughnessMap,at=!!T.specularMap,Ye=!!T.specularColorMap,Q=!!T.specularIntensityMap,be=Ie&&!!T.transmissionMap,je=Ie&&!!T.thicknessMap,Xe=!!T.gradientMap,Ce=!!T.alphaMap,Z=T.alphaTest>0,He=!!T.alphaHash,Ve=!!T.extensions,pt=!!z.attributes.uv1,ot=!!z.attributes.uv2,Bt=!!z.attributes.uv3;let Ut=Ko;return T.toneMapped&&(Re===null||Re.isXRRenderTarget===!0)&&(Ut=n.toneMapping),{isWebGL2:u,shaderID:j,shaderType:T.type,shaderName:T.name,vertexShader:Y,fragmentShader:ne,defines:T.defines,customVertexShaderID:ce,customFragmentShaderID:Me,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:m,batching:Je,instancing:Ze,instancingColor:Ze&&V.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:Re===null?n.outputColorSpace:Re.isXRRenderTarget===!0?Re.texture.colorSpace:ra,map:Fe,matcap:Be,envMap:X,envMapMode:X&&K.mapping,envMapCubeUVHeight:N,aoMap:Se,lightMap:ve,bumpMap:de,normalMap:ye,displacementMap:p&&We,emissiveMap:ze,normalMapObjectSpace:ye&&T.normalMapType===QF,normalMapTangentSpace:ye&&T.normalMapType===mc,metalnessMap:U,roughnessMap:D,anisotropy:ie,anisotropyMap:Te,clearcoat:Ae,clearcoatMap:Oe,clearcoatNormalMap:tt,clearcoatRoughnessMap:Le,iridescence:oe,iridescenceMap:we,iridescenceThicknessMap:gt,sheen:ae,sheenColorMap:dt,sheenRoughnessMap:ht,specularMap:at,specularColorMap:Ye,specularIntensityMap:Q,transmission:Ie,transmissionMap:be,thicknessMap:je,gradientMap:Xe,opaque:T.transparent===!1&&T.blending===fu,alphaMap:Ce,alphaTest:Z,alphaHash:He,combine:T.combine,mapUv:Fe&&y(T.map.channel),aoMapUv:Se&&y(T.aoMap.channel),lightMapUv:ve&&y(T.lightMap.channel),bumpMapUv:de&&y(T.bumpMap.channel),normalMapUv:ye&&y(T.normalMap.channel),displacementMapUv:We&&y(T.displacementMap.channel),emissiveMapUv:ze&&y(T.emissiveMap.channel),metalnessMapUv:U&&y(T.metalnessMap.channel),roughnessMapUv:D&&y(T.roughnessMap.channel),anisotropyMapUv:Te&&y(T.anisotropyMap.channel),clearcoatMapUv:Oe&&y(T.clearcoatMap.channel),clearcoatNormalMapUv:tt&&y(T.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Le&&y(T.clearcoatRoughnessMap.channel),iridescenceMapUv:we&&y(T.iridescenceMap.channel),iridescenceThicknessMapUv:gt&&y(T.iridescenceThicknessMap.channel),sheenColorMapUv:dt&&y(T.sheenColorMap.channel),sheenRoughnessMapUv:ht&&y(T.sheenRoughnessMap.channel),specularMapUv:at&&y(T.specularMap.channel),specularColorMapUv:Ye&&y(T.specularColorMap.channel),specularIntensityMapUv:Q&&y(T.specularIntensityMap.channel),transmissionMapUv:be&&y(T.transmissionMap.channel),thicknessMapUv:je&&y(T.thicknessMap.channel),alphaMapUv:Ce&&y(T.alphaMap.channel),vertexTangents:!!z.attributes.tangent&&(ye||ie),vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!z.attributes.color&&z.attributes.color.itemSize===4,vertexUv1s:pt,vertexUv2s:ot,vertexUv3s:Bt,pointsUvs:V.isPoints===!0&&!!z.attributes.uv&&(Fe||Ce),fog:!!k,useFog:T.fog===!0,fogExp2:k&&k.isFogExp2,flatShading:T.flatShading===!0,sizeAttenuation:T.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:V.isSkinnedMesh===!0,morphTargets:z.morphAttributes.position!==void 0,morphNormals:z.morphAttributes.normal!==void 0,morphColors:z.morphAttributes.color!==void 0,morphTargetsCount:te,morphTextureStride:ee,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numLightProbes:P.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:T.dithering,shadowMapEnabled:n.shadowMap.enabled&&B.length>0,shadowMapType:n.shadowMap.type,toneMapping:Ut,useLegacyLights:n._useLegacyLights,decodeVideoTexture:Fe&&T.map.isVideoTexture===!0&&nn.getTransfer(T.map.colorSpace)===pn,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===Hs,flipSided:T.side===ii,useDepthPacking:T.depthPacking>=0,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionDerivatives:Ve&&T.extensions.derivatives===!0,extensionFragDepth:Ve&&T.extensions.fragDepth===!0,extensionDrawBuffers:Ve&&T.extensions.drawBuffers===!0,extensionShaderTextureLOD:Ve&&T.extensions.shaderTextureLOD===!0,extensionClipCullDistance:Ve&&T.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:T.customProgramCacheKey()}}function v(T){const P=[];if(T.shaderID?P.push(T.shaderID):(P.push(T.customVertexShaderID),P.push(T.customFragmentShaderID)),T.defines!==void 0)for(const B in T.defines)P.push(B),P.push(T.defines[B]);return T.isRawShaderMaterial===!1&&(x(P,T),S(P,T),P.push(n.outputColorSpace)),P.push(T.customProgramCacheKey),P.join()}function x(T,P){T.push(P.precision),T.push(P.outputColorSpace),T.push(P.envMapMode),T.push(P.envMapCubeUVHeight),T.push(P.mapUv),T.push(P.alphaMapUv),T.push(P.lightMapUv),T.push(P.aoMapUv),T.push(P.bumpMapUv),T.push(P.normalMapUv),T.push(P.displacementMapUv),T.push(P.emissiveMapUv),T.push(P.metalnessMapUv),T.push(P.roughnessMapUv),T.push(P.anisotropyMapUv),T.push(P.clearcoatMapUv),T.push(P.clearcoatNormalMapUv),T.push(P.clearcoatRoughnessMapUv),T.push(P.iridescenceMapUv),T.push(P.iridescenceThicknessMapUv),T.push(P.sheenColorMapUv),T.push(P.sheenRoughnessMapUv),T.push(P.specularMapUv),T.push(P.specularColorMapUv),T.push(P.specularIntensityMapUv),T.push(P.transmissionMapUv),T.push(P.thicknessMapUv),T.push(P.combine),T.push(P.fogExp2),T.push(P.sizeAttenuation),T.push(P.morphTargetsCount),T.push(P.morphAttributeCount),T.push(P.numDirLights),T.push(P.numPointLights),T.push(P.numSpotLights),T.push(P.numSpotLightMaps),T.push(P.numHemiLights),T.push(P.numRectAreaLights),T.push(P.numDirLightShadows),T.push(P.numPointLightShadows),T.push(P.numSpotLightShadows),T.push(P.numSpotLightShadowsWithMaps),T.push(P.numLightProbes),T.push(P.shadowMapType),T.push(P.toneMapping),T.push(P.numClippingPlanes),T.push(P.numClipIntersection),T.push(P.depthPacking)}function S(T,P){a.disableAll(),P.isWebGL2&&a.enable(0),P.supportsVertexTextures&&a.enable(1),P.instancing&&a.enable(2),P.instancingColor&&a.enable(3),P.matcap&&a.enable(4),P.envMap&&a.enable(5),P.normalMapObjectSpace&&a.enable(6),P.normalMapTangentSpace&&a.enable(7),P.clearcoat&&a.enable(8),P.iridescence&&a.enable(9),P.alphaTest&&a.enable(10),P.vertexColors&&a.enable(11),P.vertexAlphas&&a.enable(12),P.vertexUv1s&&a.enable(13),P.vertexUv2s&&a.enable(14),P.vertexUv3s&&a.enable(15),P.vertexTangents&&a.enable(16),P.anisotropy&&a.enable(17),P.alphaHash&&a.enable(18),P.batching&&a.enable(19),T.push(a.mask),a.disableAll(),P.fog&&a.enable(0),P.useFog&&a.enable(1),P.flatShading&&a.enable(2),P.logarithmicDepthBuffer&&a.enable(3),P.skinning&&a.enable(4),P.morphTargets&&a.enable(5),P.morphNormals&&a.enable(6),P.morphColors&&a.enable(7),P.premultipliedAlpha&&a.enable(8),P.shadowMapEnabled&&a.enable(9),P.useLegacyLights&&a.enable(10),P.doubleSided&&a.enable(11),P.flipSided&&a.enable(12),P.useDepthPacking&&a.enable(13),P.dithering&&a.enable(14),P.transmission&&a.enable(15),P.sheen&&a.enable(16),P.opaque&&a.enable(17),P.pointsUvs&&a.enable(18),P.decodeVideoTexture&&a.enable(19),T.push(a.mask)}function A(T){const P=g[T.type];let B;if(P){const F=ho[P];B=lC.clone(F.uniforms)}else B=T.uniforms;return B}function M(T,P){let B;for(let F=0,V=c.length;F<V;F++){const k=c[F];if(k.cacheKey===P){B=k,++B.usedTimes;break}}return B===void 0&&(B=new rK(n,P,T,s),c.push(B)),B}function E(T){if(--T.usedTimes===0){const P=c.indexOf(T);c[P]=c[c.length-1],c.pop(),T.destroy()}}function R(T){l.remove(T)}function I(){l.dispose()}return{getParameters:_,getProgramCacheKey:v,getUniforms:A,acquireProgram:M,releaseProgram:E,releaseShaderCache:R,programs:c,dispose:I}}function lK(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function cK(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function OL(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function LL(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(f,p,m,g,y,_){let v=n[e];return v===void 0?(v={id:f.id,object:f,geometry:p,material:m,groupOrder:g,renderOrder:f.renderOrder,z:y,group:_},n[e]=v):(v.id=f.id,v.object=f,v.geometry=p,v.material=m,v.groupOrder=g,v.renderOrder=f.renderOrder,v.z=y,v.group=_),e++,v}function a(f,p,m,g,y,_){const v=o(f,p,m,g,y,_);m.transmission>0?r.push(v):m.transparent===!0?i.push(v):t.push(v)}function l(f,p,m,g,y,_){const v=o(f,p,m,g,y,_);m.transmission>0?r.unshift(v):m.transparent===!0?i.unshift(v):t.unshift(v)}function c(f,p){t.length>1&&t.sort(f||cK),r.length>1&&r.sort(p||OL),i.length>1&&i.sort(p||OL)}function u(){for(let f=e,p=n.length;f<p;f++){const m=n[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function uK(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new LL,n.set(r,[o])):i>=s.length?(o=new LL,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function fK(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new H,color:new ke};break;case"SpotLight":t={position:new H,direction:new H,color:new ke,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new H,color:new ke,distance:0,decay:0};break;case"HemisphereLight":t={direction:new H,skyColor:new ke,groundColor:new ke};break;case"RectAreaLight":t={color:new ke,position:new H,halfWidth:new H,halfHeight:new H};break}return n[e.id]=t,t}}}function dK(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xe};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xe};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xe,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let hK=0;function pK(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function mK(n,e){const t=new fK,r=dK(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new H);const s=new H,o=new _t,a=new _t;function l(u,f){let p=0,m=0,g=0;for(let F=0;F<9;F++)i.probe[F].set(0,0,0);let y=0,_=0,v=0,x=0,S=0,A=0,M=0,E=0,R=0,I=0,T=0;u.sort(pK);const P=f===!0?Math.PI:1;for(let F=0,V=u.length;F<V;F++){const k=u[F],z=k.color,W=k.intensity,K=k.distance,N=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)p+=z.r*W*P,m+=z.g*W*P,g+=z.b*W*P;else if(k.isLightProbe){for(let j=0;j<9;j++)i.probe[j].addScaledVector(k.sh.coefficients[j],W);T++}else if(k.isDirectionalLight){const j=t.get(k);if(j.color.copy(k.color).multiplyScalar(k.intensity*P),k.castShadow){const J=k.shadow,te=r.get(k);te.shadowBias=J.bias,te.shadowNormalBias=J.normalBias,te.shadowRadius=J.radius,te.shadowMapSize=J.mapSize,i.directionalShadow[y]=te,i.directionalShadowMap[y]=N,i.directionalShadowMatrix[y]=k.shadow.matrix,A++}i.directional[y]=j,y++}else if(k.isSpotLight){const j=t.get(k);j.position.setFromMatrixPosition(k.matrixWorld),j.color.copy(z).multiplyScalar(W*P),j.distance=K,j.coneCos=Math.cos(k.angle),j.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),j.decay=k.decay,i.spot[v]=j;const J=k.shadow;if(k.map&&(i.spotLightMap[R]=k.map,R++,J.updateMatrices(k),k.castShadow&&I++),i.spotLightMatrix[v]=J.matrix,k.castShadow){const te=r.get(k);te.shadowBias=J.bias,te.shadowNormalBias=J.normalBias,te.shadowRadius=J.radius,te.shadowMapSize=J.mapSize,i.spotShadow[v]=te,i.spotShadowMap[v]=N,E++}v++}else if(k.isRectAreaLight){const j=t.get(k);j.color.copy(z).multiplyScalar(W),j.halfWidth.set(k.width*.5,0,0),j.halfHeight.set(0,k.height*.5,0),i.rectArea[x]=j,x++}else if(k.isPointLight){const j=t.get(k);if(j.color.copy(k.color).multiplyScalar(k.intensity*P),j.distance=k.distance,j.decay=k.decay,k.castShadow){const J=k.shadow,te=r.get(k);te.shadowBias=J.bias,te.shadowNormalBias=J.normalBias,te.shadowRadius=J.radius,te.shadowMapSize=J.mapSize,te.shadowCameraNear=J.camera.near,te.shadowCameraFar=J.camera.far,i.pointShadow[_]=te,i.pointShadowMap[_]=N,i.pointShadowMatrix[_]=k.shadow.matrix,M++}i.point[_]=j,_++}else if(k.isHemisphereLight){const j=t.get(k);j.skyColor.copy(k.color).multiplyScalar(W*P),j.groundColor.copy(k.groundColor).multiplyScalar(W*P),i.hemi[S]=j,S++}}x>0&&(e.isWebGL2?n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ge.LTC_FLOAT_1,i.rectAreaLTC2=Ge.LTC_FLOAT_2):(i.rectAreaLTC1=Ge.LTC_HALF_1,i.rectAreaLTC2=Ge.LTC_HALF_2):n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ge.LTC_FLOAT_1,i.rectAreaLTC2=Ge.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ge.LTC_HALF_1,i.rectAreaLTC2=Ge.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=g;const B=i.hash;(B.directionalLength!==y||B.pointLength!==_||B.spotLength!==v||B.rectAreaLength!==x||B.hemiLength!==S||B.numDirectionalShadows!==A||B.numPointShadows!==M||B.numSpotShadows!==E||B.numSpotMaps!==R||B.numLightProbes!==T)&&(i.directional.length=y,i.spot.length=v,i.rectArea.length=x,i.point.length=_,i.hemi.length=S,i.directionalShadow.length=A,i.directionalShadowMap.length=A,i.pointShadow.length=M,i.pointShadowMap.length=M,i.spotShadow.length=E,i.spotShadowMap.length=E,i.directionalShadowMatrix.length=A,i.pointShadowMatrix.length=M,i.spotLightMatrix.length=E+R-I,i.spotLightMap.length=R,i.numSpotLightShadowsWithMaps=I,i.numLightProbes=T,B.directionalLength=y,B.pointLength=_,B.spotLength=v,B.rectAreaLength=x,B.hemiLength=S,B.numDirectionalShadows=A,B.numPointShadows=M,B.numSpotShadows=E,B.numSpotMaps=R,B.numLightProbes=T,i.version=hK++)}function c(u,f){let p=0,m=0,g=0,y=0,_=0;const v=f.matrixWorldInverse;for(let x=0,S=u.length;x<S;x++){const A=u[x];if(A.isDirectionalLight){const M=i.directional[p];M.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(v),p++}else if(A.isSpotLight){const M=i.spot[g];M.position.setFromMatrixPosition(A.matrixWorld),M.position.applyMatrix4(v),M.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(v),g++}else if(A.isRectAreaLight){const M=i.rectArea[y];M.position.setFromMatrixPosition(A.matrixWorld),M.position.applyMatrix4(v),a.identity(),o.copy(A.matrixWorld),o.premultiply(v),a.extractRotation(o),M.halfWidth.set(A.width*.5,0,0),M.halfHeight.set(0,A.height*.5,0),M.halfWidth.applyMatrix4(a),M.halfHeight.applyMatrix4(a),y++}else if(A.isPointLight){const M=i.point[m];M.position.setFromMatrixPosition(A.matrixWorld),M.position.applyMatrix4(v),m++}else if(A.isHemisphereLight){const M=i.hemi[_];M.direction.setFromMatrixPosition(A.matrixWorld),M.direction.transformDirection(v),_++}}}return{setup:l,setupView:c,state:i}}function IL(n,e){const t=new mK(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){t.setup(r,f)}function c(f){t.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function gK(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new IL(n,e),t.set(s,[l])):o>=a.length?(l=new IL(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class fC extends hr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=JF,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class dC extends hr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const vK=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,yK=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function _K(n,e,t){let r=new ug;const i=new xe,s=new xe,o=new rn,a=new fC({depthPacking:qF}),l=new dC,c={},u=t.maxTextureSize,f={[ta]:ii,[ii]:ta,[Hs]:Hs},p=new qs({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new xe},radius:{value:4}},vertexShader:vK,fragmentShader:yK}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const g=new Ot;g.setAttribute("position",new Kt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new sr(g,p),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=_x;let v=this.type;this.render=function(E,R,I){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||E.length===0)return;const T=n.getRenderTarget(),P=n.getActiveCubeFace(),B=n.getActiveMipmapLevel(),F=n.state;F.setBlending(za),F.buffers.color.setClear(1,1,1,1),F.buffers.depth.setTest(!0),F.setScissorTest(!1);const V=v!==co&&this.type===co,k=v===co&&this.type!==co;for(let z=0,W=E.length;z<W;z++){const K=E[z],N=K.shadow;if(N===void 0){console.warn("THREE.WebGLShadowMap:",K,"has no shadow.");continue}if(N.autoUpdate===!1&&N.needsUpdate===!1)continue;i.copy(N.mapSize);const j=N.getFrameExtents();if(i.multiply(j),s.copy(N.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/j.x),i.x=s.x*j.x,N.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/j.y),i.y=s.y*j.y,N.mapSize.y=s.y)),N.map===null||V===!0||k===!0){const te=this.type!==co?{minFilter:Jn,magFilter:Jn}:{};N.map!==null&&N.map.dispose(),N.map=new So(i.x,i.y,te),N.map.texture.name=K.name+".shadowMap",N.camera.updateProjectionMatrix()}n.setRenderTarget(N.map),n.clear();const J=N.getViewportCount();for(let te=0;te<J;te++){const ee=N.getViewport(te);o.set(s.x*ee.x,s.y*ee.y,s.x*ee.z,s.y*ee.w),F.viewport(o),N.updateMatrices(K,te),r=N.getFrustum(),A(R,I,N.camera,K,this.type)}N.isPointLightShadow!==!0&&this.type===co&&x(N,I),N.needsUpdate=!1}v=this.type,_.needsUpdate=!1,n.setRenderTarget(T,P,B)};function x(E,R){const I=e.update(y);p.defines.VSM_SAMPLES!==E.blurSamples&&(p.defines.VSM_SAMPLES=E.blurSamples,m.defines.VSM_SAMPLES=E.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new So(i.x,i.y)),p.uniforms.shadow_pass.value=E.map.texture,p.uniforms.resolution.value=E.mapSize,p.uniforms.radius.value=E.radius,n.setRenderTarget(E.mapPass),n.clear(),n.renderBufferDirect(R,null,I,p,y,null),m.uniforms.shadow_pass.value=E.mapPass.texture,m.uniforms.resolution.value=E.mapSize,m.uniforms.radius.value=E.radius,n.setRenderTarget(E.map),n.clear(),n.renderBufferDirect(R,null,I,m,y,null)}function S(E,R,I,T){let P=null;const B=I.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(B!==void 0)P=B;else if(P=I.isPointLight===!0?l:a,n.localClippingEnabled&&R.clipShadows===!0&&Array.isArray(R.clippingPlanes)&&R.clippingPlanes.length!==0||R.displacementMap&&R.displacementScale!==0||R.alphaMap&&R.alphaTest>0||R.map&&R.alphaTest>0){const F=P.uuid,V=R.uuid;let k=c[F];k===void 0&&(k={},c[F]=k);let z=k[V];z===void 0&&(z=P.clone(),k[V]=z,R.addEventListener("dispose",M)),P=z}if(P.visible=R.visible,P.wireframe=R.wireframe,T===co?P.side=R.shadowSide!==null?R.shadowSide:R.side:P.side=R.shadowSide!==null?R.shadowSide:f[R.side],P.alphaMap=R.alphaMap,P.alphaTest=R.alphaTest,P.map=R.map,P.clipShadows=R.clipShadows,P.clippingPlanes=R.clippingPlanes,P.clipIntersection=R.clipIntersection,P.displacementMap=R.displacementMap,P.displacementScale=R.displacementScale,P.displacementBias=R.displacementBias,P.wireframeLinewidth=R.wireframeLinewidth,P.linewidth=R.linewidth,I.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const F=n.properties.get(P);F.light=I}return P}function A(E,R,I,T,P){if(E.visible===!1)return;if(E.layers.test(R.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&P===co)&&(!E.frustumCulled||r.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,E.matrixWorld);const V=e.update(E),k=E.material;if(Array.isArray(k)){const z=V.groups;for(let W=0,K=z.length;W<K;W++){const N=z[W],j=k[N.materialIndex];if(j&&j.visible){const J=S(E,j,T,P);E.onBeforeShadow(n,E,R,I,V,J,N),n.renderBufferDirect(I,null,V,J,E,N),E.onAfterShadow(n,E,R,I,V,J,N)}}}else if(k.visible){const z=S(E,k,T,P);E.onBeforeShadow(n,E,R,I,V,z,null),n.renderBufferDirect(I,null,V,z,E,null),E.onAfterShadow(n,E,R,I,V,z,null)}}const F=E.children;for(let V=0,k=F.length;V<k;V++)A(F[V],R,I,T,P)}function M(E){E.target.removeEventListener("dispose",M);for(const I in c){const T=c[I],P=E.target.uuid;P in T&&(T[P].dispose(),delete T[P])}}}function xK(n,e,t){const r=t.isWebGL2;function i(){let Z=!1;const He=new rn;let Ve=null;const pt=new rn(0,0,0,0);return{setMask:function(ot){Ve!==ot&&!Z&&(n.colorMask(ot,ot,ot,ot),Ve=ot)},setLocked:function(ot){Z=ot},setClear:function(ot,Bt,Ut,tn,fn){fn===!0&&(ot*=tn,Bt*=tn,Ut*=tn),He.set(ot,Bt,Ut,tn),pt.equals(He)===!1&&(n.clearColor(ot,Bt,Ut,tn),pt.copy(He))},reset:function(){Z=!1,Ve=null,pt.set(-1,0,0,0)}}}function s(){let Z=!1,He=null,Ve=null,pt=null;return{setTest:function(ot){ot?Je(n.DEPTH_TEST):Fe(n.DEPTH_TEST)},setMask:function(ot){He!==ot&&!Z&&(n.depthMask(ot),He=ot)},setFunc:function(ot){if(Ve!==ot){switch(ot){case AF:n.depthFunc(n.NEVER);break;case wF:n.depthFunc(n.ALWAYS);break;case EF:n.depthFunc(n.LESS);break;case _m:n.depthFunc(n.LEQUAL);break;case MF:n.depthFunc(n.EQUAL);break;case TF:n.depthFunc(n.GEQUAL);break;case CF:n.depthFunc(n.GREATER);break;case RF:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Ve=ot}},setLocked:function(ot){Z=ot},setClear:function(ot){pt!==ot&&(n.clearDepth(ot),pt=ot)},reset:function(){Z=!1,He=null,Ve=null,pt=null}}}function o(){let Z=!1,He=null,Ve=null,pt=null,ot=null,Bt=null,Ut=null,tn=null,fn=null;return{setTest:function(Ue){Z||(Ue?Je(n.STENCIL_TEST):Fe(n.STENCIL_TEST))},setMask:function(Ue){He!==Ue&&!Z&&(n.stencilMask(Ue),He=Ue)},setFunc:function(Ue,Qe,mt){(Ve!==Ue||pt!==Qe||ot!==mt)&&(n.stencilFunc(Ue,Qe,mt),Ve=Ue,pt=Qe,ot=mt)},setOp:function(Ue,Qe,mt){(Bt!==Ue||Ut!==Qe||tn!==mt)&&(n.stencilOp(Ue,Qe,mt),Bt=Ue,Ut=Qe,tn=mt)},setLocked:function(Ue){Z=Ue},setClear:function(Ue){fn!==Ue&&(n.clearStencil(Ue),fn=Ue)},reset:function(){Z=!1,He=null,Ve=null,pt=null,ot=null,Bt=null,Ut=null,tn=null,fn=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,f=new WeakMap;let p={},m={},g=new WeakMap,y=[],_=null,v=!1,x=null,S=null,A=null,M=null,E=null,R=null,I=null,T=new ke(0,0,0),P=0,B=!1,F=null,V=null,k=null,z=null,W=null;const K=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let N=!1,j=0;const J=n.getParameter(n.VERSION);J.indexOf("WebGL")!==-1?(j=parseFloat(/^WebGL (\d)/.exec(J)[1]),N=j>=1):J.indexOf("OpenGL ES")!==-1&&(j=parseFloat(/^OpenGL ES (\d)/.exec(J)[1]),N=j>=2);let te=null,ee={};const Y=n.getParameter(n.SCISSOR_BOX),ne=n.getParameter(n.VIEWPORT),ce=new rn().fromArray(Y),Me=new rn().fromArray(ne);function Re(Z,He,Ve,pt){const ot=new Uint8Array(4),Bt=n.createTexture();n.bindTexture(Z,Bt),n.texParameteri(Z,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Z,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Ut=0;Ut<Ve;Ut++)r&&(Z===n.TEXTURE_3D||Z===n.TEXTURE_2D_ARRAY)?n.texImage3D(He,0,n.RGBA,1,1,pt,0,n.RGBA,n.UNSIGNED_BYTE,ot):n.texImage2D(He+Ut,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,ot);return Bt}const Ze={};Ze[n.TEXTURE_2D]=Re(n.TEXTURE_2D,n.TEXTURE_2D,1),Ze[n.TEXTURE_CUBE_MAP]=Re(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(Ze[n.TEXTURE_2D_ARRAY]=Re(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Ze[n.TEXTURE_3D]=Re(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Je(n.DEPTH_TEST),l.setFunc(_m),ze(!1),U(Ww),Je(n.CULL_FACE),ye(za);function Je(Z){p[Z]!==!0&&(n.enable(Z),p[Z]=!0)}function Fe(Z){p[Z]!==!1&&(n.disable(Z),p[Z]=!1)}function Be(Z,He){return m[Z]!==He?(n.bindFramebuffer(Z,He),m[Z]=He,r&&(Z===n.DRAW_FRAMEBUFFER&&(m[n.FRAMEBUFFER]=He),Z===n.FRAMEBUFFER&&(m[n.DRAW_FRAMEBUFFER]=He)),!0):!1}function X(Z,He){let Ve=y,pt=!1;if(Z)if(Ve=g.get(He),Ve===void 0&&(Ve=[],g.set(He,Ve)),Z.isWebGLMultipleRenderTargets){const ot=Z.texture;if(Ve.length!==ot.length||Ve[0]!==n.COLOR_ATTACHMENT0){for(let Bt=0,Ut=ot.length;Bt<Ut;Bt++)Ve[Bt]=n.COLOR_ATTACHMENT0+Bt;Ve.length=ot.length,pt=!0}}else Ve[0]!==n.COLOR_ATTACHMENT0&&(Ve[0]=n.COLOR_ATTACHMENT0,pt=!0);else Ve[0]!==n.BACK&&(Ve[0]=n.BACK,pt=!0);pt&&(t.isWebGL2?n.drawBuffers(Ve):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ve))}function Se(Z){return _!==Z?(n.useProgram(Z),_=Z,!0):!1}const ve={[Ll]:n.FUNC_ADD,[lF]:n.FUNC_SUBTRACT,[cF]:n.FUNC_REVERSE_SUBTRACT};if(r)ve[Yw]=n.MIN,ve[Jw]=n.MAX;else{const Z=e.get("EXT_blend_minmax");Z!==null&&(ve[Yw]=Z.MIN_EXT,ve[Jw]=Z.MAX_EXT)}const de={[uF]:n.ZERO,[fF]:n.ONE,[dF]:n.SRC_COLOR,[a_]:n.SRC_ALPHA,[yF]:n.SRC_ALPHA_SATURATE,[gF]:n.DST_COLOR,[pF]:n.DST_ALPHA,[hF]:n.ONE_MINUS_SRC_COLOR,[l_]:n.ONE_MINUS_SRC_ALPHA,[vF]:n.ONE_MINUS_DST_COLOR,[mF]:n.ONE_MINUS_DST_ALPHA,[_F]:n.CONSTANT_COLOR,[xF]:n.ONE_MINUS_CONSTANT_COLOR,[SF]:n.CONSTANT_ALPHA,[bF]:n.ONE_MINUS_CONSTANT_ALPHA};function ye(Z,He,Ve,pt,ot,Bt,Ut,tn,fn,Ue){if(Z===za){v===!0&&(Fe(n.BLEND),v=!1);return}if(v===!1&&(Je(n.BLEND),v=!0),Z!==aF){if(Z!==x||Ue!==B){if((S!==Ll||E!==Ll)&&(n.blendEquation(n.FUNC_ADD),S=Ll,E=Ll),Ue)switch(Z){case fu:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case jw:n.blendFunc(n.ONE,n.ONE);break;case Xw:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Kw:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}else switch(Z){case fu:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case jw:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case Xw:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Kw:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}A=null,M=null,R=null,I=null,T.set(0,0,0),P=0,x=Z,B=Ue}return}ot=ot||He,Bt=Bt||Ve,Ut=Ut||pt,(He!==S||ot!==E)&&(n.blendEquationSeparate(ve[He],ve[ot]),S=He,E=ot),(Ve!==A||pt!==M||Bt!==R||Ut!==I)&&(n.blendFuncSeparate(de[Ve],de[pt],de[Bt],de[Ut]),A=Ve,M=pt,R=Bt,I=Ut),(tn.equals(T)===!1||fn!==P)&&(n.blendColor(tn.r,tn.g,tn.b,fn),T.copy(tn),P=fn),x=Z,B=!1}function We(Z,He){Z.side===Hs?Fe(n.CULL_FACE):Je(n.CULL_FACE);let Ve=Z.side===ii;He&&(Ve=!Ve),ze(Ve),Z.blending===fu&&Z.transparent===!1?ye(za):ye(Z.blending,Z.blendEquation,Z.blendSrc,Z.blendDst,Z.blendEquationAlpha,Z.blendSrcAlpha,Z.blendDstAlpha,Z.blendColor,Z.blendAlpha,Z.premultipliedAlpha),l.setFunc(Z.depthFunc),l.setTest(Z.depthTest),l.setMask(Z.depthWrite),a.setMask(Z.colorWrite);const pt=Z.stencilWrite;c.setTest(pt),pt&&(c.setMask(Z.stencilWriteMask),c.setFunc(Z.stencilFunc,Z.stencilRef,Z.stencilFuncMask),c.setOp(Z.stencilFail,Z.stencilZFail,Z.stencilZPass)),ie(Z.polygonOffset,Z.polygonOffsetFactor,Z.polygonOffsetUnits),Z.alphaToCoverage===!0?Je(n.SAMPLE_ALPHA_TO_COVERAGE):Fe(n.SAMPLE_ALPHA_TO_COVERAGE)}function ze(Z){F!==Z&&(Z?n.frontFace(n.CW):n.frontFace(n.CCW),F=Z)}function U(Z){Z!==iF?(Je(n.CULL_FACE),Z!==V&&(Z===Ww?n.cullFace(n.BACK):Z===sF?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Fe(n.CULL_FACE),V=Z}function D(Z){Z!==k&&(N&&n.lineWidth(Z),k=Z)}function ie(Z,He,Ve){Z?(Je(n.POLYGON_OFFSET_FILL),(z!==He||W!==Ve)&&(n.polygonOffset(He,Ve),z=He,W=Ve)):Fe(n.POLYGON_OFFSET_FILL)}function Ae(Z){Z?Je(n.SCISSOR_TEST):Fe(n.SCISSOR_TEST)}function oe(Z){Z===void 0&&(Z=n.TEXTURE0+K-1),te!==Z&&(n.activeTexture(Z),te=Z)}function ae(Z,He,Ve){Ve===void 0&&(te===null?Ve=n.TEXTURE0+K-1:Ve=te);let pt=ee[Ve];pt===void 0&&(pt={type:void 0,texture:void 0},ee[Ve]=pt),(pt.type!==Z||pt.texture!==He)&&(te!==Ve&&(n.activeTexture(Ve),te=Ve),n.bindTexture(Z,He||Ze[Z]),pt.type=Z,pt.texture=He)}function Ie(){const Z=ee[te];Z!==void 0&&Z.type!==void 0&&(n.bindTexture(Z.type,null),Z.type=void 0,Z.texture=void 0)}function Te(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Oe(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function tt(){try{n.texSubImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Le(){try{n.texSubImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function we(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function gt(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function dt(){try{n.texStorage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function ht(){try{n.texStorage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function at(){try{n.texImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ye(){try{n.texImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Q(Z){ce.equals(Z)===!1&&(n.scissor(Z.x,Z.y,Z.z,Z.w),ce.copy(Z))}function be(Z){Me.equals(Z)===!1&&(n.viewport(Z.x,Z.y,Z.z,Z.w),Me.copy(Z))}function je(Z,He){let Ve=f.get(He);Ve===void 0&&(Ve=new WeakMap,f.set(He,Ve));let pt=Ve.get(Z);pt===void 0&&(pt=n.getUniformBlockIndex(He,Z.name),Ve.set(Z,pt))}function Xe(Z,He){const pt=f.get(He).get(Z);u.get(He)!==pt&&(n.uniformBlockBinding(He,pt,Z.__bindingPointIndex),u.set(He,pt))}function Ce(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),r===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},te=null,ee={},m={},g=new WeakMap,y=[],_=null,v=!1,x=null,S=null,A=null,M=null,E=null,R=null,I=null,T=new ke(0,0,0),P=0,B=!1,F=null,V=null,k=null,z=null,W=null,ce.set(0,0,n.canvas.width,n.canvas.height),Me.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Je,disable:Fe,bindFramebuffer:Be,drawBuffers:X,useProgram:Se,setBlending:ye,setMaterial:We,setFlipSided:ze,setCullFace:U,setLineWidth:D,setPolygonOffset:ie,setScissorTest:Ae,activeTexture:oe,bindTexture:ae,unbindTexture:Ie,compressedTexImage2D:Te,compressedTexImage3D:Oe,texImage2D:at,texImage3D:Ye,updateUBOMapping:je,uniformBlockBinding:Xe,texStorage2D:dt,texStorage3D:ht,texSubImage2D:tt,texSubImage3D:Le,compressedTexSubImage2D:we,compressedTexSubImage3D:gt,scissor:Q,viewport:be,reset:Ce}}function SK(n,e,t,r,i,s,o){const a=i.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new WeakMap;let f;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(U,D){return m?new OffscreenCanvas(U,D):Cm("canvas")}function y(U,D,ie,Ae){let oe=1;if((U.width>Ae||U.height>Ae)&&(oe=Ae/Math.max(U.width,U.height)),oe<1||D===!0)if(typeof HTMLImageElement<"u"&&U instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&U instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&U instanceof ImageBitmap){const ae=D?f_:Math.floor,Ie=ae(oe*U.width),Te=ae(oe*U.height);f===void 0&&(f=g(Ie,Te));const Oe=ie?g(Ie,Te):f;return Oe.width=Ie,Oe.height=Te,Oe.getContext("2d").drawImage(U,0,0,Ie,Te),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+U.width+"x"+U.height+") to ("+Ie+"x"+Te+")."),Oe}else return"data"in U&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+U.width+"x"+U.height+")."),U;return U}function _(U){return EE(U.width)&&EE(U.height)}function v(U){return a?!1:U.wrapS!==Hr||U.wrapT!==Hr||U.minFilter!==Jn&&U.minFilter!==Nn}function x(U,D){return U.generateMipmaps&&D&&U.minFilter!==Jn&&U.minFilter!==Nn}function S(U){n.generateMipmap(U)}function A(U,D,ie,Ae,oe=!1){if(a===!1)return D;if(U!==null){if(n[U]!==void 0)return n[U];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+U+"'")}let ae=D;if(D===n.RED&&(ie===n.FLOAT&&(ae=n.R32F),ie===n.HALF_FLOAT&&(ae=n.R16F),ie===n.UNSIGNED_BYTE&&(ae=n.R8)),D===n.RED_INTEGER&&(ie===n.UNSIGNED_BYTE&&(ae=n.R8UI),ie===n.UNSIGNED_SHORT&&(ae=n.R16UI),ie===n.UNSIGNED_INT&&(ae=n.R32UI),ie===n.BYTE&&(ae=n.R8I),ie===n.SHORT&&(ae=n.R16I),ie===n.INT&&(ae=n.R32I)),D===n.RG&&(ie===n.FLOAT&&(ae=n.RG32F),ie===n.HALF_FLOAT&&(ae=n.RG16F),ie===n.UNSIGNED_BYTE&&(ae=n.RG8)),D===n.RGBA){const Ie=oe?wm:nn.getTransfer(Ae);ie===n.FLOAT&&(ae=n.RGBA32F),ie===n.HALF_FLOAT&&(ae=n.RGBA16F),ie===n.UNSIGNED_BYTE&&(ae=Ie===pn?n.SRGB8_ALPHA8:n.RGBA8),ie===n.UNSIGNED_SHORT_4_4_4_4&&(ae=n.RGBA4),ie===n.UNSIGNED_SHORT_5_5_5_1&&(ae=n.RGB5_A1)}return(ae===n.R16F||ae===n.R32F||ae===n.RG16F||ae===n.RG32F||ae===n.RGBA16F||ae===n.RGBA32F)&&e.get("EXT_color_buffer_float"),ae}function M(U,D,ie){return x(U,ie)===!0||U.isFramebufferTexture&&U.minFilter!==Jn&&U.minFilter!==Nn?Math.log2(Math.max(D.width,D.height))+1:U.mipmaps!==void 0&&U.mipmaps.length>0?U.mipmaps.length:U.isCompressedTexture&&Array.isArray(U.image)?D.mipmaps.length:1}function E(U){return U===Jn||U===bm||U===_d?n.NEAREST:n.LINEAR}function R(U){const D=U.target;D.removeEventListener("dispose",R),T(D),D.isVideoTexture&&u.delete(D)}function I(U){const D=U.target;D.removeEventListener("dispose",I),B(D)}function T(U){const D=r.get(U);if(D.__webglInit===void 0)return;const ie=U.source,Ae=p.get(ie);if(Ae){const oe=Ae[D.__cacheKey];oe.usedTimes--,oe.usedTimes===0&&P(U),Object.keys(Ae).length===0&&p.delete(ie)}r.remove(U)}function P(U){const D=r.get(U);n.deleteTexture(D.__webglTexture);const ie=U.source,Ae=p.get(ie);delete Ae[D.__cacheKey],o.memory.textures--}function B(U){const D=U.texture,ie=r.get(U),Ae=r.get(D);if(Ae.__webglTexture!==void 0&&(n.deleteTexture(Ae.__webglTexture),o.memory.textures--),U.depthTexture&&U.depthTexture.dispose(),U.isWebGLCubeRenderTarget)for(let oe=0;oe<6;oe++){if(Array.isArray(ie.__webglFramebuffer[oe]))for(let ae=0;ae<ie.__webglFramebuffer[oe].length;ae++)n.deleteFramebuffer(ie.__webglFramebuffer[oe][ae]);else n.deleteFramebuffer(ie.__webglFramebuffer[oe]);ie.__webglDepthbuffer&&n.deleteRenderbuffer(ie.__webglDepthbuffer[oe])}else{if(Array.isArray(ie.__webglFramebuffer))for(let oe=0;oe<ie.__webglFramebuffer.length;oe++)n.deleteFramebuffer(ie.__webglFramebuffer[oe]);else n.deleteFramebuffer(ie.__webglFramebuffer);if(ie.__webglDepthbuffer&&n.deleteRenderbuffer(ie.__webglDepthbuffer),ie.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ie.__webglMultisampledFramebuffer),ie.__webglColorRenderbuffer)for(let oe=0;oe<ie.__webglColorRenderbuffer.length;oe++)ie.__webglColorRenderbuffer[oe]&&n.deleteRenderbuffer(ie.__webglColorRenderbuffer[oe]);ie.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ie.__webglDepthRenderbuffer)}if(U.isWebGLMultipleRenderTargets)for(let oe=0,ae=D.length;oe<ae;oe++){const Ie=r.get(D[oe]);Ie.__webglTexture&&(n.deleteTexture(Ie.__webglTexture),o.memory.textures--),r.remove(D[oe])}r.remove(D),r.remove(U)}let F=0;function V(){F=0}function k(){const U=F;return U>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+U+" texture units while this GPU supports only "+i.maxTextures),F+=1,U}function z(U){const D=[];return D.push(U.wrapS),D.push(U.wrapT),D.push(U.wrapR||0),D.push(U.magFilter),D.push(U.minFilter),D.push(U.anisotropy),D.push(U.internalFormat),D.push(U.format),D.push(U.type),D.push(U.generateMipmaps),D.push(U.premultiplyAlpha),D.push(U.flipY),D.push(U.unpackAlignment),D.push(U.colorSpace),D.join()}function W(U,D){const ie=r.get(U);if(U.isVideoTexture&&We(U),U.isRenderTargetTexture===!1&&U.version>0&&ie.__version!==U.version){const Ae=U.image;if(Ae===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ae.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ce(ie,U,D);return}}t.bindTexture(n.TEXTURE_2D,ie.__webglTexture,n.TEXTURE0+D)}function K(U,D){const ie=r.get(U);if(U.version>0&&ie.__version!==U.version){ce(ie,U,D);return}t.bindTexture(n.TEXTURE_2D_ARRAY,ie.__webglTexture,n.TEXTURE0+D)}function N(U,D){const ie=r.get(U);if(U.version>0&&ie.__version!==U.version){ce(ie,U,D);return}t.bindTexture(n.TEXTURE_3D,ie.__webglTexture,n.TEXTURE0+D)}function j(U,D){const ie=r.get(U);if(U.version>0&&ie.__version!==U.version){Me(ie,U,D);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ie.__webglTexture,n.TEXTURE0+D)}const J={[Mn]:n.REPEAT,[Hr]:n.CLAMP_TO_EDGE,[Fd]:n.MIRRORED_REPEAT},te={[Jn]:n.NEAREST,[bm]:n.NEAREST_MIPMAP_NEAREST,[_d]:n.NEAREST_MIPMAP_LINEAR,[Nn]:n.LINEAR,[Sx]:n.LINEAR_MIPMAP_NEAREST,[na]:n.LINEAR_MIPMAP_LINEAR},ee={[ZF]:n.NEVER,[sU]:n.ALWAYS,[eU]:n.LESS,[nC]:n.LEQUAL,[tU]:n.EQUAL,[iU]:n.GEQUAL,[nU]:n.GREATER,[rU]:n.NOTEQUAL};function Y(U,D,ie){if(ie?(n.texParameteri(U,n.TEXTURE_WRAP_S,J[D.wrapS]),n.texParameteri(U,n.TEXTURE_WRAP_T,J[D.wrapT]),(U===n.TEXTURE_3D||U===n.TEXTURE_2D_ARRAY)&&n.texParameteri(U,n.TEXTURE_WRAP_R,J[D.wrapR]),n.texParameteri(U,n.TEXTURE_MAG_FILTER,te[D.magFilter]),n.texParameteri(U,n.TEXTURE_MIN_FILTER,te[D.minFilter])):(n.texParameteri(U,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(U,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(U===n.TEXTURE_3D||U===n.TEXTURE_2D_ARRAY)&&n.texParameteri(U,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(D.wrapS!==Hr||D.wrapT!==Hr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(U,n.TEXTURE_MAG_FILTER,E(D.magFilter)),n.texParameteri(U,n.TEXTURE_MIN_FILTER,E(D.minFilter)),D.minFilter!==Jn&&D.minFilter!==Nn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),D.compareFunction&&(n.texParameteri(U,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(U,n.TEXTURE_COMPARE_FUNC,ee[D.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Ae=e.get("EXT_texture_filter_anisotropic");if(D.magFilter===Jn||D.minFilter!==_d&&D.minFilter!==na||D.type===go&&e.has("OES_texture_float_linear")===!1||a===!1&&D.type===Ud&&e.has("OES_texture_half_float_linear")===!1)return;(D.anisotropy>1||r.get(D).__currentAnisotropy)&&(n.texParameterf(U,Ae.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,i.getMaxAnisotropy())),r.get(D).__currentAnisotropy=D.anisotropy)}}function ne(U,D){let ie=!1;U.__webglInit===void 0&&(U.__webglInit=!0,D.addEventListener("dispose",R));const Ae=D.source;let oe=p.get(Ae);oe===void 0&&(oe={},p.set(Ae,oe));const ae=z(D);if(ae!==U.__cacheKey){oe[ae]===void 0&&(oe[ae]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ie=!0),oe[ae].usedTimes++;const Ie=oe[U.__cacheKey];Ie!==void 0&&(oe[U.__cacheKey].usedTimes--,Ie.usedTimes===0&&P(D)),U.__cacheKey=ae,U.__webglTexture=oe[ae].texture}return ie}function ce(U,D,ie){let Ae=n.TEXTURE_2D;(D.isDataArrayTexture||D.isCompressedArrayTexture)&&(Ae=n.TEXTURE_2D_ARRAY),D.isData3DTexture&&(Ae=n.TEXTURE_3D);const oe=ne(U,D),ae=D.source;t.bindTexture(Ae,U.__webglTexture,n.TEXTURE0+ie);const Ie=r.get(ae);if(ae.version!==Ie.__version||oe===!0){t.activeTexture(n.TEXTURE0+ie);const Te=nn.getPrimaries(nn.workingColorSpace),Oe=D.colorSpace===rs?null:nn.getPrimaries(D.colorSpace),tt=D.colorSpace===rs||Te===Oe?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,D.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,D.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,tt);const Le=v(D)&&_(D.image)===!1;let we=y(D.image,Le,!1,i.maxTextureSize);we=ze(D,we);const gt=_(we)||a,dt=s.convert(D.format,D.colorSpace);let ht=s.convert(D.type),at=A(D.internalFormat,dt,ht,D.colorSpace,D.isVideoTexture);Y(Ae,D,gt);let Ye;const Q=D.mipmaps,be=a&&D.isVideoTexture!==!0&&at!==QT,je=Ie.__version===void 0||oe===!0,Xe=M(D,we,gt);if(D.isDepthTexture)at=n.DEPTH_COMPONENT,a?D.type===go?at=n.DEPTH_COMPONENT32F:D.type===ka?at=n.DEPTH_COMPONENT24:D.type===Kl?at=n.DEPTH24_STENCIL8:at=n.DEPTH_COMPONENT16:D.type===go&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),D.format===Yl&&at===n.DEPTH_COMPONENT&&D.type!==bx&&D.type!==ka&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),D.type=ka,ht=s.convert(D.type)),D.format===Tu&&at===n.DEPTH_COMPONENT&&(at=n.DEPTH_STENCIL,D.type!==Kl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),D.type=Kl,ht=s.convert(D.type))),je&&(be?t.texStorage2D(n.TEXTURE_2D,1,at,we.width,we.height):t.texImage2D(n.TEXTURE_2D,0,at,we.width,we.height,0,dt,ht,null));else if(D.isDataTexture)if(Q.length>0&&gt){be&&je&&t.texStorage2D(n.TEXTURE_2D,Xe,at,Q[0].width,Q[0].height);for(let Ce=0,Z=Q.length;Ce<Z;Ce++)Ye=Q[Ce],be?t.texSubImage2D(n.TEXTURE_2D,Ce,0,0,Ye.width,Ye.height,dt,ht,Ye.data):t.texImage2D(n.TEXTURE_2D,Ce,at,Ye.width,Ye.height,0,dt,ht,Ye.data);D.generateMipmaps=!1}else be?(je&&t.texStorage2D(n.TEXTURE_2D,Xe,at,we.width,we.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,we.width,we.height,dt,ht,we.data)):t.texImage2D(n.TEXTURE_2D,0,at,we.width,we.height,0,dt,ht,we.data);else if(D.isCompressedTexture)if(D.isCompressedArrayTexture){be&&je&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Xe,at,Q[0].width,Q[0].height,we.depth);for(let Ce=0,Z=Q.length;Ce<Z;Ce++)Ye=Q[Ce],D.format!==Si?dt!==null?be?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ce,0,0,0,Ye.width,Ye.height,we.depth,dt,Ye.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Ce,at,Ye.width,Ye.height,we.depth,0,Ye.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):be?t.texSubImage3D(n.TEXTURE_2D_ARRAY,Ce,0,0,0,Ye.width,Ye.height,we.depth,dt,ht,Ye.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Ce,at,Ye.width,Ye.height,we.depth,0,dt,ht,Ye.data)}else{be&&je&&t.texStorage2D(n.TEXTURE_2D,Xe,at,Q[0].width,Q[0].height);for(let Ce=0,Z=Q.length;Ce<Z;Ce++)Ye=Q[Ce],D.format!==Si?dt!==null?be?t.compressedTexSubImage2D(n.TEXTURE_2D,Ce,0,0,Ye.width,Ye.height,dt,Ye.data):t.compressedTexImage2D(n.TEXTURE_2D,Ce,at,Ye.width,Ye.height,0,Ye.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):be?t.texSubImage2D(n.TEXTURE_2D,Ce,0,0,Ye.width,Ye.height,dt,ht,Ye.data):t.texImage2D(n.TEXTURE_2D,Ce,at,Ye.width,Ye.height,0,dt,ht,Ye.data)}else if(D.isDataArrayTexture)be?(je&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Xe,at,we.width,we.height,we.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,we.width,we.height,we.depth,dt,ht,we.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,at,we.width,we.height,we.depth,0,dt,ht,we.data);else if(D.isData3DTexture)be?(je&&t.texStorage3D(n.TEXTURE_3D,Xe,at,we.width,we.height,we.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,we.width,we.height,we.depth,dt,ht,we.data)):t.texImage3D(n.TEXTURE_3D,0,at,we.width,we.height,we.depth,0,dt,ht,we.data);else if(D.isFramebufferTexture){if(je)if(be)t.texStorage2D(n.TEXTURE_2D,Xe,at,we.width,we.height);else{let Ce=we.width,Z=we.height;for(let He=0;He<Xe;He++)t.texImage2D(n.TEXTURE_2D,He,at,Ce,Z,0,dt,ht,null),Ce>>=1,Z>>=1}}else if(Q.length>0&&gt){be&&je&&t.texStorage2D(n.TEXTURE_2D,Xe,at,Q[0].width,Q[0].height);for(let Ce=0,Z=Q.length;Ce<Z;Ce++)Ye=Q[Ce],be?t.texSubImage2D(n.TEXTURE_2D,Ce,0,0,dt,ht,Ye):t.texImage2D(n.TEXTURE_2D,Ce,at,dt,ht,Ye);D.generateMipmaps=!1}else be?(je&&t.texStorage2D(n.TEXTURE_2D,Xe,at,we.width,we.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,dt,ht,we)):t.texImage2D(n.TEXTURE_2D,0,at,dt,ht,we);x(D,gt)&&S(Ae),Ie.__version=ae.version,D.onUpdate&&D.onUpdate(D)}U.__version=D.version}function Me(U,D,ie){if(D.image.length!==6)return;const Ae=ne(U,D),oe=D.source;t.bindTexture(n.TEXTURE_CUBE_MAP,U.__webglTexture,n.TEXTURE0+ie);const ae=r.get(oe);if(oe.version!==ae.__version||Ae===!0){t.activeTexture(n.TEXTURE0+ie);const Ie=nn.getPrimaries(nn.workingColorSpace),Te=D.colorSpace===rs?null:nn.getPrimaries(D.colorSpace),Oe=D.colorSpace===rs||Ie===Te?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,D.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,D.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Oe);const tt=D.isCompressedTexture||D.image[0].isCompressedTexture,Le=D.image[0]&&D.image[0].isDataTexture,we=[];for(let Ce=0;Ce<6;Ce++)!tt&&!Le?we[Ce]=y(D.image[Ce],!1,!0,i.maxCubemapSize):we[Ce]=Le?D.image[Ce].image:D.image[Ce],we[Ce]=ze(D,we[Ce]);const gt=we[0],dt=_(gt)||a,ht=s.convert(D.format,D.colorSpace),at=s.convert(D.type),Ye=A(D.internalFormat,ht,at,D.colorSpace),Q=a&&D.isVideoTexture!==!0,be=ae.__version===void 0||Ae===!0;let je=M(D,gt,dt);Y(n.TEXTURE_CUBE_MAP,D,dt);let Xe;if(tt){Q&&be&&t.texStorage2D(n.TEXTURE_CUBE_MAP,je,Ye,gt.width,gt.height);for(let Ce=0;Ce<6;Ce++){Xe=we[Ce].mipmaps;for(let Z=0;Z<Xe.length;Z++){const He=Xe[Z];D.format!==Si?ht!==null?Q?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,Z,0,0,He.width,He.height,ht,He.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,Z,Ye,He.width,He.height,0,He.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Q?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,Z,0,0,He.width,He.height,ht,at,He.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,Z,Ye,He.width,He.height,0,ht,at,He.data)}}}else{Xe=D.mipmaps,Q&&be&&(Xe.length>0&&je++,t.texStorage2D(n.TEXTURE_CUBE_MAP,je,Ye,we[0].width,we[0].height));for(let Ce=0;Ce<6;Ce++)if(Le){Q?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0,0,0,we[Ce].width,we[Ce].height,ht,at,we[Ce].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0,Ye,we[Ce].width,we[Ce].height,0,ht,at,we[Ce].data);for(let Z=0;Z<Xe.length;Z++){const Ve=Xe[Z].image[Ce].image;Q?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,Z+1,0,0,Ve.width,Ve.height,ht,at,Ve.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,Z+1,Ye,Ve.width,Ve.height,0,ht,at,Ve.data)}}else{Q?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0,0,0,ht,at,we[Ce]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0,Ye,ht,at,we[Ce]);for(let Z=0;Z<Xe.length;Z++){const He=Xe[Z];Q?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,Z+1,0,0,ht,at,He.image[Ce]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,Z+1,Ye,ht,at,He.image[Ce])}}}x(D,dt)&&S(n.TEXTURE_CUBE_MAP),ae.__version=oe.version,D.onUpdate&&D.onUpdate(D)}U.__version=D.version}function Re(U,D,ie,Ae,oe,ae){const Ie=s.convert(ie.format,ie.colorSpace),Te=s.convert(ie.type),Oe=A(ie.internalFormat,Ie,Te,ie.colorSpace);if(!r.get(D).__hasExternalTextures){const Le=Math.max(1,D.width>>ae),we=Math.max(1,D.height>>ae);oe===n.TEXTURE_3D||oe===n.TEXTURE_2D_ARRAY?t.texImage3D(oe,ae,Oe,Le,we,D.depth,0,Ie,Te,null):t.texImage2D(oe,ae,Oe,Le,we,0,Ie,Te,null)}t.bindFramebuffer(n.FRAMEBUFFER,U),ye(D)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ae,oe,r.get(ie).__webglTexture,0,de(D)):(oe===n.TEXTURE_2D||oe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&oe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ae,oe,r.get(ie).__webglTexture,ae),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Ze(U,D,ie){if(n.bindRenderbuffer(n.RENDERBUFFER,U),D.depthBuffer&&!D.stencilBuffer){let Ae=a===!0?n.DEPTH_COMPONENT24:n.DEPTH_COMPONENT16;if(ie||ye(D)){const oe=D.depthTexture;oe&&oe.isDepthTexture&&(oe.type===go?Ae=n.DEPTH_COMPONENT32F:oe.type===ka&&(Ae=n.DEPTH_COMPONENT24));const ae=de(D);ye(D)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,ae,Ae,D.width,D.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,ae,Ae,D.width,D.height)}else n.renderbufferStorage(n.RENDERBUFFER,Ae,D.width,D.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,U)}else if(D.depthBuffer&&D.stencilBuffer){const Ae=de(D);ie&&ye(D)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ae,n.DEPTH24_STENCIL8,D.width,D.height):ye(D)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ae,n.DEPTH24_STENCIL8,D.width,D.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,D.width,D.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,U)}else{const Ae=D.isWebGLMultipleRenderTargets===!0?D.texture:[D.texture];for(let oe=0;oe<Ae.length;oe++){const ae=Ae[oe],Ie=s.convert(ae.format,ae.colorSpace),Te=s.convert(ae.type),Oe=A(ae.internalFormat,Ie,Te,ae.colorSpace),tt=de(D);ie&&ye(D)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,tt,Oe,D.width,D.height):ye(D)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,tt,Oe,D.width,D.height):n.renderbufferStorage(n.RENDERBUFFER,Oe,D.width,D.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Je(U,D){if(D&&D.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,U),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(D.depthTexture).__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),W(D.depthTexture,0);const Ae=r.get(D.depthTexture).__webglTexture,oe=de(D);if(D.depthTexture.format===Yl)ye(D)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ae,0,oe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ae,0);else if(D.depthTexture.format===Tu)ye(D)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ae,0,oe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ae,0);else throw new Error("Unknown depthTexture format")}function Fe(U){const D=r.get(U),ie=U.isWebGLCubeRenderTarget===!0;if(U.depthTexture&&!D.__autoAllocateDepthBuffer){if(ie)throw new Error("target.depthTexture not supported in Cube render targets");Je(D.__webglFramebuffer,U)}else if(ie){D.__webglDepthbuffer=[];for(let Ae=0;Ae<6;Ae++)t.bindFramebuffer(n.FRAMEBUFFER,D.__webglFramebuffer[Ae]),D.__webglDepthbuffer[Ae]=n.createRenderbuffer(),Ze(D.__webglDepthbuffer[Ae],U,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,D.__webglFramebuffer),D.__webglDepthbuffer=n.createRenderbuffer(),Ze(D.__webglDepthbuffer,U,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Be(U,D,ie){const Ae=r.get(U);D!==void 0&&Re(Ae.__webglFramebuffer,U,U.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),ie!==void 0&&Fe(U)}function X(U){const D=U.texture,ie=r.get(U),Ae=r.get(D);U.addEventListener("dispose",I),U.isWebGLMultipleRenderTargets!==!0&&(Ae.__webglTexture===void 0&&(Ae.__webglTexture=n.createTexture()),Ae.__version=D.version,o.memory.textures++);const oe=U.isWebGLCubeRenderTarget===!0,ae=U.isWebGLMultipleRenderTargets===!0,Ie=_(U)||a;if(oe){ie.__webglFramebuffer=[];for(let Te=0;Te<6;Te++)if(a&&D.mipmaps&&D.mipmaps.length>0){ie.__webglFramebuffer[Te]=[];for(let Oe=0;Oe<D.mipmaps.length;Oe++)ie.__webglFramebuffer[Te][Oe]=n.createFramebuffer()}else ie.__webglFramebuffer[Te]=n.createFramebuffer()}else{if(a&&D.mipmaps&&D.mipmaps.length>0){ie.__webglFramebuffer=[];for(let Te=0;Te<D.mipmaps.length;Te++)ie.__webglFramebuffer[Te]=n.createFramebuffer()}else ie.__webglFramebuffer=n.createFramebuffer();if(ae)if(i.drawBuffers){const Te=U.texture;for(let Oe=0,tt=Te.length;Oe<tt;Oe++){const Le=r.get(Te[Oe]);Le.__webglTexture===void 0&&(Le.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&U.samples>0&&ye(U)===!1){const Te=ae?D:[D];ie.__webglMultisampledFramebuffer=n.createFramebuffer(),ie.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ie.__webglMultisampledFramebuffer);for(let Oe=0;Oe<Te.length;Oe++){const tt=Te[Oe];ie.__webglColorRenderbuffer[Oe]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ie.__webglColorRenderbuffer[Oe]);const Le=s.convert(tt.format,tt.colorSpace),we=s.convert(tt.type),gt=A(tt.internalFormat,Le,we,tt.colorSpace,U.isXRRenderTarget===!0),dt=de(U);n.renderbufferStorageMultisample(n.RENDERBUFFER,dt,gt,U.width,U.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Oe,n.RENDERBUFFER,ie.__webglColorRenderbuffer[Oe])}n.bindRenderbuffer(n.RENDERBUFFER,null),U.depthBuffer&&(ie.__webglDepthRenderbuffer=n.createRenderbuffer(),Ze(ie.__webglDepthRenderbuffer,U,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(oe){t.bindTexture(n.TEXTURE_CUBE_MAP,Ae.__webglTexture),Y(n.TEXTURE_CUBE_MAP,D,Ie);for(let Te=0;Te<6;Te++)if(a&&D.mipmaps&&D.mipmaps.length>0)for(let Oe=0;Oe<D.mipmaps.length;Oe++)Re(ie.__webglFramebuffer[Te][Oe],U,D,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Oe);else Re(ie.__webglFramebuffer[Te],U,D,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0);x(D,Ie)&&S(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(ae){const Te=U.texture;for(let Oe=0,tt=Te.length;Oe<tt;Oe++){const Le=Te[Oe],we=r.get(Le);t.bindTexture(n.TEXTURE_2D,we.__webglTexture),Y(n.TEXTURE_2D,Le,Ie),Re(ie.__webglFramebuffer,U,Le,n.COLOR_ATTACHMENT0+Oe,n.TEXTURE_2D,0),x(Le,Ie)&&S(n.TEXTURE_2D)}t.unbindTexture()}else{let Te=n.TEXTURE_2D;if((U.isWebGL3DRenderTarget||U.isWebGLArrayRenderTarget)&&(a?Te=U.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Te,Ae.__webglTexture),Y(Te,D,Ie),a&&D.mipmaps&&D.mipmaps.length>0)for(let Oe=0;Oe<D.mipmaps.length;Oe++)Re(ie.__webglFramebuffer[Oe],U,D,n.COLOR_ATTACHMENT0,Te,Oe);else Re(ie.__webglFramebuffer,U,D,n.COLOR_ATTACHMENT0,Te,0);x(D,Ie)&&S(Te),t.unbindTexture()}U.depthBuffer&&Fe(U)}function Se(U){const D=_(U)||a,ie=U.isWebGLMultipleRenderTargets===!0?U.texture:[U.texture];for(let Ae=0,oe=ie.length;Ae<oe;Ae++){const ae=ie[Ae];if(x(ae,D)){const Ie=U.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Te=r.get(ae).__webglTexture;t.bindTexture(Ie,Te),S(Ie),t.unbindTexture()}}}function ve(U){if(a&&U.samples>0&&ye(U)===!1){const D=U.isWebGLMultipleRenderTargets?U.texture:[U.texture],ie=U.width,Ae=U.height;let oe=n.COLOR_BUFFER_BIT;const ae=[],Ie=U.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Te=r.get(U),Oe=U.isWebGLMultipleRenderTargets===!0;if(Oe)for(let tt=0;tt<D.length;tt++)t.bindFramebuffer(n.FRAMEBUFFER,Te.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+tt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Te.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+tt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Te.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Te.__webglFramebuffer);for(let tt=0;tt<D.length;tt++){ae.push(n.COLOR_ATTACHMENT0+tt),U.depthBuffer&&ae.push(Ie);const Le=Te.__ignoreDepthValues!==void 0?Te.__ignoreDepthValues:!1;if(Le===!1&&(U.depthBuffer&&(oe|=n.DEPTH_BUFFER_BIT),U.stencilBuffer&&(oe|=n.STENCIL_BUFFER_BIT)),Oe&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Te.__webglColorRenderbuffer[tt]),Le===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[Ie]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[Ie])),Oe){const we=r.get(D[tt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,we,0)}n.blitFramebuffer(0,0,ie,Ae,0,0,ie,Ae,oe,n.NEAREST),c&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,ae)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Oe)for(let tt=0;tt<D.length;tt++){t.bindFramebuffer(n.FRAMEBUFFER,Te.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+tt,n.RENDERBUFFER,Te.__webglColorRenderbuffer[tt]);const Le=r.get(D[tt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Te.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+tt,n.TEXTURE_2D,Le,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Te.__webglMultisampledFramebuffer)}}function de(U){return Math.min(i.maxSamples,U.samples)}function ye(U){const D=r.get(U);return a&&U.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&D.__useRenderToTexture!==!1}function We(U){const D=o.render.frame;u.get(U)!==D&&(u.set(U,D),U.update())}function ze(U,D){const ie=U.colorSpace,Ae=U.format,oe=U.type;return U.isCompressedTexture===!0||U.isVideoTexture===!0||U.format===u_||ie!==ra&&ie!==rs&&(nn.getTransfer(ie)===pn?a===!1?e.has("EXT_sRGB")===!0&&Ae===Si?(U.format=u_,U.minFilter=Nn,U.generateMipmaps=!1):D=iC.sRGBToLinear(D):(Ae!==Si||oe!==Yo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ie)),D}this.allocateTextureUnit=k,this.resetTextureUnits=V,this.setTexture2D=W,this.setTexture2DArray=K,this.setTexture3D=N,this.setTextureCube=j,this.rebindTextures=Be,this.setupRenderTarget=X,this.updateRenderTargetMipmap=Se,this.updateMultisampleRenderTarget=ve,this.setupDepthRenderbuffer=Fe,this.setupFrameBufferTexture=Re,this.useMultisampledRTT=ye}function xU(n,e,t){const r=t.isWebGL2;function i(s,o=rs){let a;const l=nn.getTransfer(o);if(s===Yo)return n.UNSIGNED_BYTE;if(s===XT)return n.UNSIGNED_SHORT_4_4_4_4;if(s===KT)return n.UNSIGNED_SHORT_5_5_5_1;if(s===FF)return n.BYTE;if(s===UF)return n.SHORT;if(s===bx)return n.UNSIGNED_SHORT;if(s===jT)return n.INT;if(s===ka)return n.UNSIGNED_INT;if(s===go)return n.FLOAT;if(s===Ud)return r?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===zF)return n.ALPHA;if(s===Si)return n.RGBA;if(s===HF)return n.LUMINANCE;if(s===GF)return n.LUMINANCE_ALPHA;if(s===Yl)return n.DEPTH_COMPONENT;if(s===Tu)return n.DEPTH_STENCIL;if(s===u_)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===VF)return n.RED;if(s===YT)return n.RED_INTEGER;if(s===$F)return n.RG;if(s===JT)return n.RG_INTEGER;if(s===qT)return n.RGBA_INTEGER;if(s===gy||s===vy||s===yy||s===_y)if(l===pn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===gy)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===vy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===yy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===_y)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===gy)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===vy)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===yy)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===_y)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Qw||s===Zw||s===eE||s===tE)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===Qw)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Zw)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===eE)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===tE)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===QT)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===nE||s===rE)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===nE)return l===pn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===rE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===iE||s===sE||s===oE||s===aE||s===lE||s===cE||s===uE||s===fE||s===dE||s===hE||s===pE||s===mE||s===gE||s===vE)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===iE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===sE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===oE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===aE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===lE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===cE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===uE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===fE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===dE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===hE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===pE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===mE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===gE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===vE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===xy||s===yE||s===_E)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===xy)return l===pn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===yE)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===_E)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===WF||s===xE||s===SE||s===bE)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===xy)return a.COMPRESSED_RED_RGTC1_EXT;if(s===xE)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===SE)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===bE)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Kl?r?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class SU extends Sn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Na extends Xt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const bK={type:"move"};class Gb{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Na,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Na,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new H,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new H),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Na,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new H,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new H),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const y of e.hand.values()){const _=t.getJointPose(y,r),v=this._getHandJoint(c,y);_!==null&&(v.matrix.fromArray(_.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=_.radius),v.visible=_!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],p=u.position.distanceTo(f.position),m=.02,g=.005;c.inputState.pinching&&p>m+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(bK)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new Na;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class AK extends aa{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,f=null,p=null,m=null,g=null;const y=t.getContextAttributes();let _=null,v=null;const x=[],S=[],A=new xe;let M=null;const E=new Sn;E.layers.enable(1),E.viewport=new rn;const R=new Sn;R.layers.enable(2),R.viewport=new rn;const I=[E,R],T=new SU;T.layers.enable(1),T.layers.enable(2);let P=null,B=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Y){let ne=x[Y];return ne===void 0&&(ne=new Gb,x[Y]=ne),ne.getTargetRaySpace()},this.getControllerGrip=function(Y){let ne=x[Y];return ne===void 0&&(ne=new Gb,x[Y]=ne),ne.getGripSpace()},this.getHand=function(Y){let ne=x[Y];return ne===void 0&&(ne=new Gb,x[Y]=ne),ne.getHandSpace()};function F(Y){const ne=S.indexOf(Y.inputSource);if(ne===-1)return;const ce=x[ne];ce!==void 0&&(ce.update(Y.inputSource,Y.frame,c||o),ce.dispatchEvent({type:Y.type,data:Y.inputSource}))}function V(){i.removeEventListener("select",F),i.removeEventListener("selectstart",F),i.removeEventListener("selectend",F),i.removeEventListener("squeeze",F),i.removeEventListener("squeezestart",F),i.removeEventListener("squeezeend",F),i.removeEventListener("end",V),i.removeEventListener("inputsourceschange",k);for(let Y=0;Y<x.length;Y++){const ne=S[Y];ne!==null&&(S[Y]=null,x[Y].disconnect(ne))}P=null,B=null,e.setRenderTarget(_),m=null,p=null,f=null,i=null,v=null,ee.stop(),r.isPresenting=!1,e.setPixelRatio(M),e.setSize(A.width,A.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Y){s=Y,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Y){a=Y,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(Y){c=Y},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return f},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(Y){if(i=Y,i!==null){if(_=e.getRenderTarget(),i.addEventListener("select",F),i.addEventListener("selectstart",F),i.addEventListener("selectend",F),i.addEventListener("squeeze",F),i.addEventListener("squeezestart",F),i.addEventListener("squeezeend",F),i.addEventListener("end",V),i.addEventListener("inputsourceschange",k),y.xrCompatible!==!0&&await t.makeXRCompatible(),M=e.getPixelRatio(),e.getSize(A),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ne={antialias:i.renderState.layers===void 0?y.antialias:!0,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,t,ne),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),v=new So(m.framebufferWidth,m.framebufferHeight,{format:Si,type:Yo,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let ne=null,ce=null,Me=null;y.depth&&(Me=y.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ne=y.stencil?Tu:Yl,ce=y.stencil?Kl:ka);const Re={colorFormat:t.RGBA8,depthFormat:Me,scaleFactor:s};f=new XRWebGLBinding(i,t),p=f.createProjectionLayer(Re),i.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),v=new So(p.textureWidth,p.textureHeight,{format:Si,type:Yo,depthTexture:new uC(p.textureWidth,p.textureHeight,ce,void 0,void 0,void 0,void 0,void 0,void 0,ne),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0});const Ze=e.properties.get(v);Ze.__ignoreDepthValues=p.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),ee.setContext(i),ee.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function k(Y){for(let ne=0;ne<Y.removed.length;ne++){const ce=Y.removed[ne],Me=S.indexOf(ce);Me>=0&&(S[Me]=null,x[Me].disconnect(ce))}for(let ne=0;ne<Y.added.length;ne++){const ce=Y.added[ne];let Me=S.indexOf(ce);if(Me===-1){for(let Ze=0;Ze<x.length;Ze++)if(Ze>=S.length){S.push(ce),Me=Ze;break}else if(S[Ze]===null){S[Ze]=ce,Me=Ze;break}if(Me===-1)break}const Re=x[Me];Re&&Re.connect(ce)}}const z=new H,W=new H;function K(Y,ne,ce){z.setFromMatrixPosition(ne.matrixWorld),W.setFromMatrixPosition(ce.matrixWorld);const Me=z.distanceTo(W),Re=ne.projectionMatrix.elements,Ze=ce.projectionMatrix.elements,Je=Re[14]/(Re[10]-1),Fe=Re[14]/(Re[10]+1),Be=(Re[9]+1)/Re[5],X=(Re[9]-1)/Re[5],Se=(Re[8]-1)/Re[0],ve=(Ze[8]+1)/Ze[0],de=Je*Se,ye=Je*ve,We=Me/(-Se+ve),ze=We*-Se;ne.matrixWorld.decompose(Y.position,Y.quaternion,Y.scale),Y.translateX(ze),Y.translateZ(We),Y.matrixWorld.compose(Y.position,Y.quaternion,Y.scale),Y.matrixWorldInverse.copy(Y.matrixWorld).invert();const U=Je+We,D=Fe+We,ie=de-ze,Ae=ye+(Me-ze),oe=Be*Fe/D*U,ae=X*Fe/D*U;Y.projectionMatrix.makePerspective(ie,Ae,oe,ae,U,D),Y.projectionMatrixInverse.copy(Y.projectionMatrix).invert()}function N(Y,ne){ne===null?Y.matrixWorld.copy(Y.matrix):Y.matrixWorld.multiplyMatrices(ne.matrixWorld,Y.matrix),Y.matrixWorldInverse.copy(Y.matrixWorld).invert()}this.updateCamera=function(Y){if(i===null)return;T.near=R.near=E.near=Y.near,T.far=R.far=E.far=Y.far,(P!==T.near||B!==T.far)&&(i.updateRenderState({depthNear:T.near,depthFar:T.far}),P=T.near,B=T.far);const ne=Y.parent,ce=T.cameras;N(T,ne);for(let Me=0;Me<ce.length;Me++)N(ce[Me],ne);ce.length===2?K(T,E,R):T.projectionMatrix.copy(E.projectionMatrix),j(Y,T,ne)};function j(Y,ne,ce){ce===null?Y.matrix.copy(ne.matrixWorld):(Y.matrix.copy(ce.matrixWorld),Y.matrix.invert(),Y.matrix.multiply(ne.matrixWorld)),Y.matrix.decompose(Y.position,Y.quaternion,Y.scale),Y.updateMatrixWorld(!0),Y.projectionMatrix.copy(ne.projectionMatrix),Y.projectionMatrixInverse.copy(ne.projectionMatrixInverse),Y.isPerspectiveCamera&&(Y.fov=Gd*2*Math.atan(1/Y.projectionMatrix.elements[5]),Y.zoom=1)}this.getCamera=function(){return T},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(Y){l=Y,p!==null&&(p.fixedFoveation=Y),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=Y)};let J=null;function te(Y,ne){if(u=ne.getViewerPose(c||o),g=ne,u!==null){const ce=u.views;m!==null&&(e.setRenderTargetFramebuffer(v,m.framebuffer),e.setRenderTarget(v));let Me=!1;ce.length!==T.cameras.length&&(T.cameras.length=0,Me=!0);for(let Re=0;Re<ce.length;Re++){const Ze=ce[Re];let Je=null;if(m!==null)Je=m.getViewport(Ze);else{const Be=f.getViewSubImage(p,Ze);Je=Be.viewport,Re===0&&(e.setRenderTargetTextures(v,Be.colorTexture,p.ignoreDepthValues?void 0:Be.depthStencilTexture),e.setRenderTarget(v))}let Fe=I[Re];Fe===void 0&&(Fe=new Sn,Fe.layers.enable(Re),Fe.viewport=new rn,I[Re]=Fe),Fe.matrix.fromArray(Ze.transform.matrix),Fe.matrix.decompose(Fe.position,Fe.quaternion,Fe.scale),Fe.projectionMatrix.fromArray(Ze.projectionMatrix),Fe.projectionMatrixInverse.copy(Fe.projectionMatrix).invert(),Fe.viewport.set(Je.x,Je.y,Je.width,Je.height),Re===0&&(T.matrix.copy(Fe.matrix),T.matrix.decompose(T.position,T.quaternion,T.scale)),Me===!0&&T.cameras.push(Fe)}}for(let ce=0;ce<x.length;ce++){const Me=S[ce],Re=x[ce];Me!==null&&Re!==void 0&&Re.update(Me,ne,c||o)}J&&J(Y,ne),ne.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ne}),g=null}const ee=new pU;ee.setAnimationLoop(te),this.setAnimationLoop=function(Y){J=Y},this.dispose=function(){}}}function wK(n,e){function t(_,v){_.matrixAutoUpdate===!0&&_.updateMatrix(),v.value.copy(_.matrix)}function r(_,v){v.color.getRGB(_.fogColor.value,fU(n)),v.isFog?(_.fogNear.value=v.near,_.fogFar.value=v.far):v.isFogExp2&&(_.fogDensity.value=v.density)}function i(_,v,x,S,A){v.isMeshBasicMaterial||v.isMeshLambertMaterial?s(_,v):v.isMeshToonMaterial?(s(_,v),f(_,v)):v.isMeshPhongMaterial?(s(_,v),u(_,v)):v.isMeshStandardMaterial?(s(_,v),p(_,v),v.isMeshPhysicalMaterial&&m(_,v,A)):v.isMeshMatcapMaterial?(s(_,v),g(_,v)):v.isMeshDepthMaterial?s(_,v):v.isMeshDistanceMaterial?(s(_,v),y(_,v)):v.isMeshNormalMaterial?s(_,v):v.isLineBasicMaterial?(o(_,v),v.isLineDashedMaterial&&a(_,v)):v.isPointsMaterial?l(_,v,x,S):v.isSpriteMaterial?c(_,v):v.isShadowMaterial?(_.color.value.copy(v.color),_.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function s(_,v){_.opacity.value=v.opacity,v.color&&_.diffuse.value.copy(v.color),v.emissive&&_.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(_.map.value=v.map,t(v.map,_.mapTransform)),v.alphaMap&&(_.alphaMap.value=v.alphaMap,t(v.alphaMap,_.alphaMapTransform)),v.bumpMap&&(_.bumpMap.value=v.bumpMap,t(v.bumpMap,_.bumpMapTransform),_.bumpScale.value=v.bumpScale,v.side===ii&&(_.bumpScale.value*=-1)),v.normalMap&&(_.normalMap.value=v.normalMap,t(v.normalMap,_.normalMapTransform),_.normalScale.value.copy(v.normalScale),v.side===ii&&_.normalScale.value.negate()),v.displacementMap&&(_.displacementMap.value=v.displacementMap,t(v.displacementMap,_.displacementMapTransform),_.displacementScale.value=v.displacementScale,_.displacementBias.value=v.displacementBias),v.emissiveMap&&(_.emissiveMap.value=v.emissiveMap,t(v.emissiveMap,_.emissiveMapTransform)),v.specularMap&&(_.specularMap.value=v.specularMap,t(v.specularMap,_.specularMapTransform)),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest);const x=e.get(v).envMap;if(x&&(_.envMap.value=x,_.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=v.reflectivity,_.ior.value=v.ior,_.refractionRatio.value=v.refractionRatio),v.lightMap){_.lightMap.value=v.lightMap;const S=n._useLegacyLights===!0?Math.PI:1;_.lightMapIntensity.value=v.lightMapIntensity*S,t(v.lightMap,_.lightMapTransform)}v.aoMap&&(_.aoMap.value=v.aoMap,_.aoMapIntensity.value=v.aoMapIntensity,t(v.aoMap,_.aoMapTransform))}function o(_,v){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,v.map&&(_.map.value=v.map,t(v.map,_.mapTransform))}function a(_,v){_.dashSize.value=v.dashSize,_.totalSize.value=v.dashSize+v.gapSize,_.scale.value=v.scale}function l(_,v,x,S){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,_.size.value=v.size*x,_.scale.value=S*.5,v.map&&(_.map.value=v.map,t(v.map,_.uvTransform)),v.alphaMap&&(_.alphaMap.value=v.alphaMap,t(v.alphaMap,_.alphaMapTransform)),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest)}function c(_,v){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,_.rotation.value=v.rotation,v.map&&(_.map.value=v.map,t(v.map,_.mapTransform)),v.alphaMap&&(_.alphaMap.value=v.alphaMap,t(v.alphaMap,_.alphaMapTransform)),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest)}function u(_,v){_.specular.value.copy(v.specular),_.shininess.value=Math.max(v.shininess,1e-4)}function f(_,v){v.gradientMap&&(_.gradientMap.value=v.gradientMap)}function p(_,v){_.metalness.value=v.metalness,v.metalnessMap&&(_.metalnessMap.value=v.metalnessMap,t(v.metalnessMap,_.metalnessMapTransform)),_.roughness.value=v.roughness,v.roughnessMap&&(_.roughnessMap.value=v.roughnessMap,t(v.roughnessMap,_.roughnessMapTransform)),e.get(v).envMap&&(_.envMapIntensity.value=v.envMapIntensity)}function m(_,v,x){_.ior.value=v.ior,v.sheen>0&&(_.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),_.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(_.sheenColorMap.value=v.sheenColorMap,t(v.sheenColorMap,_.sheenColorMapTransform)),v.sheenRoughnessMap&&(_.sheenRoughnessMap.value=v.sheenRoughnessMap,t(v.sheenRoughnessMap,_.sheenRoughnessMapTransform))),v.clearcoat>0&&(_.clearcoat.value=v.clearcoat,_.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(_.clearcoatMap.value=v.clearcoatMap,t(v.clearcoatMap,_.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,t(v.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(_.clearcoatNormalMap.value=v.clearcoatNormalMap,t(v.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===ii&&_.clearcoatNormalScale.value.negate())),v.iridescence>0&&(_.iridescence.value=v.iridescence,_.iridescenceIOR.value=v.iridescenceIOR,_.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(_.iridescenceMap.value=v.iridescenceMap,t(v.iridescenceMap,_.iridescenceMapTransform)),v.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=v.iridescenceThicknessMap,t(v.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),v.transmission>0&&(_.transmission.value=v.transmission,_.transmissionSamplerMap.value=x.texture,_.transmissionSamplerSize.value.set(x.width,x.height),v.transmissionMap&&(_.transmissionMap.value=v.transmissionMap,t(v.transmissionMap,_.transmissionMapTransform)),_.thickness.value=v.thickness,v.thicknessMap&&(_.thicknessMap.value=v.thicknessMap,t(v.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=v.attenuationDistance,_.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(_.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(_.anisotropyMap.value=v.anisotropyMap,t(v.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=v.specularIntensity,_.specularColor.value.copy(v.specularColor),v.specularColorMap&&(_.specularColorMap.value=v.specularColorMap,t(v.specularColorMap,_.specularColorMapTransform)),v.specularIntensityMap&&(_.specularIntensityMap.value=v.specularIntensityMap,t(v.specularIntensityMap,_.specularIntensityMapTransform))}function g(_,v){v.matcap&&(_.matcap.value=v.matcap)}function y(_,v){const x=e.get(v).light;_.referencePosition.value.setFromMatrixPosition(x.matrixWorld),_.nearDistance.value=x.shadow.camera.near,_.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function EK(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(x,S){const A=S.program;r.uniformBlockBinding(x,A)}function c(x,S){let A=i[x.id];A===void 0&&(g(x),A=u(x),i[x.id]=A,x.addEventListener("dispose",_));const M=S.program;r.updateUBOMapping(x,M);const E=e.render.frame;s[x.id]!==E&&(p(x),s[x.id]=E)}function u(x){const S=f();x.__bindingPointIndex=S;const A=n.createBuffer(),M=x.__size,E=x.usage;return n.bindBuffer(n.UNIFORM_BUFFER,A),n.bufferData(n.UNIFORM_BUFFER,M,E),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,S,A),A}function f(){for(let x=0;x<a;x++)if(o.indexOf(x)===-1)return o.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(x){const S=i[x.id],A=x.uniforms,M=x.__cache;n.bindBuffer(n.UNIFORM_BUFFER,S);for(let E=0,R=A.length;E<R;E++){const I=Array.isArray(A[E])?A[E]:[A[E]];for(let T=0,P=I.length;T<P;T++){const B=I[T];if(m(B,E,T,M)===!0){const F=B.__offset,V=Array.isArray(B.value)?B.value:[B.value];let k=0;for(let z=0;z<V.length;z++){const W=V[z],K=y(W);typeof W=="number"||typeof W=="boolean"?(B.__data[0]=W,n.bufferSubData(n.UNIFORM_BUFFER,F+k,B.__data)):W.isMatrix3?(B.__data[0]=W.elements[0],B.__data[1]=W.elements[1],B.__data[2]=W.elements[2],B.__data[3]=0,B.__data[4]=W.elements[3],B.__data[5]=W.elements[4],B.__data[6]=W.elements[5],B.__data[7]=0,B.__data[8]=W.elements[6],B.__data[9]=W.elements[7],B.__data[10]=W.elements[8],B.__data[11]=0):(W.toArray(B.__data,k),k+=K.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,F,B.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(x,S,A,M){const E=x.value,R=S+"_"+A;if(M[R]===void 0)return typeof E=="number"||typeof E=="boolean"?M[R]=E:M[R]=E.clone(),!0;{const I=M[R];if(typeof E=="number"||typeof E=="boolean"){if(I!==E)return M[R]=E,!0}else if(I.equals(E)===!1)return I.copy(E),!0}return!1}function g(x){const S=x.uniforms;let A=0;const M=16;for(let R=0,I=S.length;R<I;R++){const T=Array.isArray(S[R])?S[R]:[S[R]];for(let P=0,B=T.length;P<B;P++){const F=T[P],V=Array.isArray(F.value)?F.value:[F.value];for(let k=0,z=V.length;k<z;k++){const W=V[k],K=y(W),N=A%M;N!==0&&M-N<K.boundary&&(A+=M-N),F.__data=new Float32Array(K.storage/Float32Array.BYTES_PER_ELEMENT),F.__offset=A,A+=K.storage}}}const E=A%M;return E>0&&(A+=M-E),x.__size=A,x.__cache={},this}function y(x){const S={boundary:0,storage:0};return typeof x=="number"||typeof x=="boolean"?(S.boundary=4,S.storage=4):x.isVector2?(S.boundary=8,S.storage=8):x.isVector3||x.isColor?(S.boundary=16,S.storage=12):x.isVector4?(S.boundary=16,S.storage=16):x.isMatrix3?(S.boundary=48,S.storage=48):x.isMatrix4?(S.boundary=64,S.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),S}function _(x){const S=x.target;S.removeEventListener("dispose",_);const A=o.indexOf(S.__bindingPointIndex);o.splice(A,1),n.deleteBuffer(i[S.id]),delete i[S.id],delete s[S.id]}function v(){for(const x in i)n.deleteBuffer(i[x]);o=[],i={},s={}}return{bind:l,update:c,dispose:v}}class hC{constructor(e={}){const{canvas:t=lU(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let p;r!==null?p=r.getContextAttributes().alpha:p=o;const m=new Uint32Array(4),g=new Int32Array(4);let y=null,_=null;const v=[],x=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=vr,this._useLegacyLights=!1,this.toneMapping=Ko,this.toneMappingExposure=1;const S=this;let A=!1,M=0,E=0,R=null,I=-1,T=null;const P=new rn,B=new rn;let F=null;const V=new ke(0);let k=0,z=t.width,W=t.height,K=1,N=null,j=null;const J=new rn(0,0,z,W),te=new rn(0,0,z,W);let ee=!1;const Y=new ug;let ne=!1,ce=!1,Me=null;const Re=new _t,Ze=new xe,Je=new H,Fe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Be(){return R===null?K:1}let X=r;function Se(G,le){for(let pe=0;pe<G.length;pe++){const me=G[pe],he=t.getContext(me,le);if(he!==null)return he}return null}try{const G={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${ig}`),t.addEventListener("webglcontextlost",Ce,!1),t.addEventListener("webglcontextrestored",Z,!1),t.addEventListener("webglcontextcreationerror",He,!1),X===null){const le=["webgl2","webgl","experimental-webgl"];if(S.isWebGL1Renderer===!0&&le.shift(),X=Se(le,G),X===null)throw Se(le)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&X instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),X.getShaderPrecisionFormat===void 0&&(X.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(G){throw console.error("THREE.WebGLRenderer: "+G.message),G}let ve,de,ye,We,ze,U,D,ie,Ae,oe,ae,Ie,Te,Oe,tt,Le,we,gt,dt,ht,at,Ye,Q,be;function je(){ve=new U7(X),de=new I7(X,ve,e),ve.init(de),Ye=new xU(X,ve,de),ye=new xK(X,ve,de),We=new G7(X),ze=new lK,U=new SK(X,ve,ye,ze,de,Ye,We),D=new D7(S),ie=new F7(S),Ae=new J$(X,de),Q=new O7(X,ve,Ae,de),oe=new z7(X,Ae,We,Q),ae=new j7(X,oe,Ae,We),dt=new W7(X,de,U),Le=new B7(ze),Ie=new aK(S,D,ie,ve,de,Q,Le),Te=new wK(S,ze),Oe=new uK,tt=new gK(ve,de),gt=new P7(S,D,ie,ye,ae,p,l),we=new _K(S,ae,de),be=new EK(X,We,de,ye),ht=new L7(X,ve,We,de),at=new H7(X,ve,We,de),We.programs=Ie.programs,S.capabilities=de,S.extensions=ve,S.properties=ze,S.renderLists=Oe,S.shadowMap=we,S.state=ye,S.info=We}je();const Xe=new AK(S,X);this.xr=Xe,this.getContext=function(){return X},this.getContextAttributes=function(){return X.getContextAttributes()},this.forceContextLoss=function(){const G=ve.get("WEBGL_lose_context");G&&G.loseContext()},this.forceContextRestore=function(){const G=ve.get("WEBGL_lose_context");G&&G.restoreContext()},this.getPixelRatio=function(){return K},this.setPixelRatio=function(G){G!==void 0&&(K=G,this.setSize(z,W,!1))},this.getSize=function(G){return G.set(z,W)},this.setSize=function(G,le,pe=!0){if(Xe.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}z=G,W=le,t.width=Math.floor(G*K),t.height=Math.floor(le*K),pe===!0&&(t.style.width=G+"px",t.style.height=le+"px"),this.setViewport(0,0,G,le)},this.getDrawingBufferSize=function(G){return G.set(z*K,W*K).floor()},this.setDrawingBufferSize=function(G,le,pe){z=G,W=le,K=pe,t.width=Math.floor(G*pe),t.height=Math.floor(le*pe),this.setViewport(0,0,G,le)},this.getCurrentViewport=function(G){return G.copy(P)},this.getViewport=function(G){return G.copy(J)},this.setViewport=function(G,le,pe,me){G.isVector4?J.set(G.x,G.y,G.z,G.w):J.set(G,le,pe,me),ye.viewport(P.copy(J).multiplyScalar(K).floor())},this.getScissor=function(G){return G.copy(te)},this.setScissor=function(G,le,pe,me){G.isVector4?te.set(G.x,G.y,G.z,G.w):te.set(G,le,pe,me),ye.scissor(B.copy(te).multiplyScalar(K).floor())},this.getScissorTest=function(){return ee},this.setScissorTest=function(G){ye.setScissorTest(ee=G)},this.setOpaqueSort=function(G){N=G},this.setTransparentSort=function(G){j=G},this.getClearColor=function(G){return G.copy(gt.getClearColor())},this.setClearColor=function(){gt.setClearColor.apply(gt,arguments)},this.getClearAlpha=function(){return gt.getClearAlpha()},this.setClearAlpha=function(){gt.setClearAlpha.apply(gt,arguments)},this.clear=function(G=!0,le=!0,pe=!0){let me=0;if(G){let he=!1;if(R!==null){const et=R.texture.format;he=et===qT||et===JT||et===YT}if(he){const et=R.texture.type,ut=et===Yo||et===ka||et===bx||et===Kl||et===XT||et===KT,xt=gt.getClearColor(),bt=gt.getClearAlpha(),Mt=xt.r,Et=xt.g,Tt=xt.b;ut?(m[0]=Mt,m[1]=Et,m[2]=Tt,m[3]=bt,X.clearBufferuiv(X.COLOR,0,m)):(g[0]=Mt,g[1]=Et,g[2]=Tt,g[3]=bt,X.clearBufferiv(X.COLOR,0,g))}else me|=X.COLOR_BUFFER_BIT}le&&(me|=X.DEPTH_BUFFER_BIT),pe&&(me|=X.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),X.clear(me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ce,!1),t.removeEventListener("webglcontextrestored",Z,!1),t.removeEventListener("webglcontextcreationerror",He,!1),Oe.dispose(),tt.dispose(),ze.dispose(),D.dispose(),ie.dispose(),ae.dispose(),Q.dispose(),be.dispose(),Ie.dispose(),Xe.dispose(),Xe.removeEventListener("sessionstart",fn),Xe.removeEventListener("sessionend",Ue),Me&&(Me.dispose(),Me=null),Qe.stop()};function Ce(G){G.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),A=!0}function Z(){console.log("THREE.WebGLRenderer: Context Restored."),A=!1;const G=We.autoReset,le=we.enabled,pe=we.autoUpdate,me=we.needsUpdate,he=we.type;je(),We.autoReset=G,we.enabled=le,we.autoUpdate=pe,we.needsUpdate=me,we.type=he}function He(G){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",G.statusMessage)}function Ve(G){const le=G.target;le.removeEventListener("dispose",Ve),pt(le)}function pt(G){ot(G),ze.remove(G)}function ot(G){const le=ze.get(G).programs;le!==void 0&&(le.forEach(function(pe){Ie.releaseProgram(pe)}),G.isShaderMaterial&&Ie.releaseShaderCache(G))}this.renderBufferDirect=function(G,le,pe,me,he,et){le===null&&(le=Fe);const ut=he.isMesh&&he.matrixWorld.determinant()<0,xt=H1(G,le,pe,me,he);ye.setMaterial(me,ut);let bt=pe.index,Mt=1;if(me.wireframe===!0){if(bt=oe.getWireframeAttribute(pe),bt===void 0)return;Mt=2}const Et=pe.drawRange,Tt=pe.attributes.position;let Pn=Et.start*Mt,kr=(Et.start+Et.count)*Mt;et!==null&&(Pn=Math.max(Pn,et.start*Mt),kr=Math.min(kr,(et.start+et.count)*Mt)),bt!==null?(Pn=Math.max(Pn,0),kr=Math.min(kr,bt.count)):Tt!=null&&(Pn=Math.max(Pn,0),kr=Math.min(kr,Tt.count));const yn=kr-Pn;if(yn<0||yn===1/0)return;Q.setup(he,me,xt,pe,bt);let Sr,At=ht;if(bt!==null&&(Sr=Ae.get(bt),At=at,At.setIndex(Sr)),he.isMesh)me.wireframe===!0?(ye.setLineWidth(me.wireframeLinewidth*Be()),At.setMode(X.LINES)):At.setMode(X.TRIANGLES);else if(he.isLine){let rt=me.linewidth;rt===void 0&&(rt=1),ye.setLineWidth(rt*Be()),he.isLineSegments?At.setMode(X.LINES):he.isLineLoop?At.setMode(X.LINE_LOOP):At.setMode(X.LINE_STRIP)}else he.isPoints?At.setMode(X.POINTS):he.isSprite&&At.setMode(X.TRIANGLES);if(he.isBatchedMesh)At.renderMultiDraw(he._multiDrawStarts,he._multiDrawCounts,he._multiDrawCount);else if(he.isInstancedMesh)At.renderInstances(Pn,yn,he.count);else if(pe.isInstancedBufferGeometry){const rt=pe._maxInstanceCount!==void 0?pe._maxInstanceCount:1/0,bs=Math.min(pe.instanceCount,rt);At.renderInstances(Pn,yn,bs)}else At.render(Pn,yn)};function Bt(G,le,pe){G.transparent===!0&&G.side===Hs&&G.forceSinglePass===!1?(G.side=ii,G.needsUpdate=!0,ju(G,le,pe),G.side=ta,G.needsUpdate=!0,ju(G,le,pe),G.side=Hs):ju(G,le,pe)}this.compile=function(G,le,pe=null){pe===null&&(pe=G),_=tt.get(pe),_.init(),x.push(_),pe.traverseVisible(function(he){he.isLight&&he.layers.test(le.layers)&&(_.pushLight(he),he.castShadow&&_.pushShadow(he))}),G!==pe&&G.traverseVisible(function(he){he.isLight&&he.layers.test(le.layers)&&(_.pushLight(he),he.castShadow&&_.pushShadow(he))}),_.setupLights(S._useLegacyLights);const me=new Set;return G.traverse(function(he){const et=he.material;if(et)if(Array.isArray(et))for(let ut=0;ut<et.length;ut++){const xt=et[ut];Bt(xt,pe,he),me.add(xt)}else Bt(et,pe,he),me.add(et)}),x.pop(),_=null,me},this.compileAsync=function(G,le,pe=null){const me=this.compile(G,le,pe);return new Promise(he=>{function et(){if(me.forEach(function(ut){ze.get(ut).currentProgram.isReady()&&me.delete(ut)}),me.size===0){he(G);return}setTimeout(et,10)}ve.get("KHR_parallel_shader_compile")!==null?et():setTimeout(et,10)})};let Ut=null;function tn(G){Ut&&Ut(G)}function fn(){Qe.stop()}function Ue(){Qe.start()}const Qe=new pU;Qe.setAnimationLoop(tn),typeof self<"u"&&Qe.setContext(self),this.setAnimationLoop=function(G){Ut=G,Xe.setAnimationLoop(G),G===null?Qe.stop():Qe.start()},Xe.addEventListener("sessionstart",fn),Xe.addEventListener("sessionend",Ue),this.render=function(G,le){if(le!==void 0&&le.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(A===!0)return;G.matrixWorldAutoUpdate===!0&&G.updateMatrixWorld(),le.parent===null&&le.matrixWorldAutoUpdate===!0&&le.updateMatrixWorld(),Xe.enabled===!0&&Xe.isPresenting===!0&&(Xe.cameraAutoUpdate===!0&&Xe.updateCamera(le),le=Xe.getCamera()),G.isScene===!0&&G.onBeforeRender(S,G,le,R),_=tt.get(G,x.length),_.init(),x.push(_),Re.multiplyMatrices(le.projectionMatrix,le.matrixWorldInverse),Y.setFromProjectionMatrix(Re),ce=this.localClippingEnabled,ne=Le.init(this.clippingPlanes,ce),y=Oe.get(G,v.length),y.init(),v.push(y),mt(G,le,0,S.sortObjects),y.finish(),S.sortObjects===!0&&y.sort(N,j),this.info.render.frame++,ne===!0&&Le.beginShadows();const pe=_.state.shadowsArray;if(we.render(pe,G,le),ne===!0&&Le.endShadows(),this.info.autoReset===!0&&this.info.reset(),gt.render(y,G),_.setupLights(S._useLegacyLights),le.isArrayCamera){const me=le.cameras;for(let he=0,et=me.length;he<et;he++){const ut=me[he];dn(y,G,ut,ut.viewport)}}else dn(y,G,le);R!==null&&(U.updateMultisampleRenderTarget(R),U.updateRenderTargetMipmap(R)),G.isScene===!0&&G.onAfterRender(S,G,le),Q.resetDefaultState(),I=-1,T=null,x.pop(),x.length>0?_=x[x.length-1]:_=null,v.pop(),v.length>0?y=v[v.length-1]:y=null};function mt(G,le,pe,me){if(G.visible===!1)return;if(G.layers.test(le.layers)){if(G.isGroup)pe=G.renderOrder;else if(G.isLOD)G.autoUpdate===!0&&G.update(le);else if(G.isLight)_.pushLight(G),G.castShadow&&_.pushShadow(G);else if(G.isSprite){if(!G.frustumCulled||Y.intersectsSprite(G)){me&&Je.setFromMatrixPosition(G.matrixWorld).applyMatrix4(Re);const ut=ae.update(G),xt=G.material;xt.visible&&y.push(G,ut,xt,pe,Je.z,null)}}else if((G.isMesh||G.isLine||G.isPoints)&&(!G.frustumCulled||Y.intersectsObject(G))){const ut=ae.update(G),xt=G.material;if(me&&(G.boundingSphere!==void 0?(G.boundingSphere===null&&G.computeBoundingSphere(),Je.copy(G.boundingSphere.center)):(ut.boundingSphere===null&&ut.computeBoundingSphere(),Je.copy(ut.boundingSphere.center)),Je.applyMatrix4(G.matrixWorld).applyMatrix4(Re)),Array.isArray(xt)){const bt=ut.groups;for(let Mt=0,Et=bt.length;Mt<Et;Mt++){const Tt=bt[Mt],Pn=xt[Tt.materialIndex];Pn&&Pn.visible&&y.push(G,ut,Pn,pe,Je.z,Tt)}}else xt.visible&&y.push(G,ut,xt,pe,Je.z,null)}}const et=G.children;for(let ut=0,xt=et.length;ut<xt;ut++)mt(et[ut],le,pe,me)}function dn(G,le,pe,me){const he=G.opaque,et=G.transmissive,ut=G.transparent;_.setupLightsView(pe),ne===!0&&Le.setGlobalState(S.clippingPlanes,pe),et.length>0&&Rn(he,et,le,pe),me&&ye.viewport(P.copy(me)),he.length>0&&fa(he,le,pe),et.length>0&&fa(et,le,pe),ut.length>0&&fa(ut,le,pe),ye.buffers.depth.setTest(!0),ye.buffers.depth.setMask(!0),ye.buffers.color.setMask(!0),ye.setPolygonOffset(!1)}function Rn(G,le,pe,me){if((pe.isScene===!0?pe.overrideMaterial:null)!==null)return;const et=de.isWebGL2;Me===null&&(Me=new So(1,1,{generateMipmaps:!0,type:ve.has("EXT_color_buffer_half_float")?Ud:Yo,minFilter:na,samples:et?4:0})),S.getDrawingBufferSize(Ze),et?Me.setSize(Ze.x,Ze.y):Me.setSize(f_(Ze.x),f_(Ze.y));const ut=S.getRenderTarget();S.setRenderTarget(Me),S.getClearColor(V),k=S.getClearAlpha(),k<1&&S.setClearColor(16777215,.5),S.clear();const xt=S.toneMapping;S.toneMapping=Ko,fa(G,pe,me),U.updateMultisampleRenderTarget(Me),U.updateRenderTargetMipmap(Me);let bt=!1;for(let Mt=0,Et=le.length;Mt<Et;Mt++){const Tt=le[Mt],Pn=Tt.object,kr=Tt.geometry,yn=Tt.material,Sr=Tt.group;if(yn.side===Hs&&Pn.layers.test(me.layers)){const At=yn.side;yn.side=ii,yn.needsUpdate=!0,ol(Pn,pe,me,kr,yn,Sr),yn.side=At,yn.needsUpdate=!0,bt=!0}}bt===!0&&(U.updateMultisampleRenderTarget(Me),U.updateRenderTargetMipmap(Me)),S.setRenderTarget(ut),S.setClearColor(V,k),S.toneMapping=xt}function fa(G,le,pe){const me=le.isScene===!0?le.overrideMaterial:null;for(let he=0,et=G.length;he<et;he++){const ut=G[he],xt=ut.object,bt=ut.geometry,Mt=me===null?ut.material:me,Et=ut.group;xt.layers.test(pe.layers)&&ol(xt,le,pe,bt,Mt,Et)}}function ol(G,le,pe,me,he,et){G.onBeforeRender(S,le,pe,me,he,et),G.modelViewMatrix.multiplyMatrices(pe.matrixWorldInverse,G.matrixWorld),G.normalMatrix.getNormalMatrix(G.modelViewMatrix),he.onBeforeRender(S,le,pe,me,G,et),he.transparent===!0&&he.side===Hs&&he.forceSinglePass===!1?(he.side=ii,he.needsUpdate=!0,S.renderBufferDirect(pe,le,me,he,G,et),he.side=ta,he.needsUpdate=!0,S.renderBufferDirect(pe,le,me,he,G,et),he.side=Hs):S.renderBufferDirect(pe,le,me,he,G,et),G.onAfterRender(S,le,pe,me,he,et)}function ju(G,le,pe){le.isScene!==!0&&(le=Fe);const me=ze.get(G),he=_.state.lights,et=_.state.shadowsArray,ut=he.state.version,xt=Ie.getParameters(G,he.state,et,le,pe),bt=Ie.getProgramCacheKey(xt);let Mt=me.programs;me.environment=G.isMeshStandardMaterial?le.environment:null,me.fog=le.fog,me.envMap=(G.isMeshStandardMaterial?ie:D).get(G.envMap||me.environment),Mt===void 0&&(G.addEventListener("dispose",Ve),Mt=new Map,me.programs=Mt);let Et=Mt.get(bt);if(Et!==void 0){if(me.currentProgram===Et&&me.lightsStateVersion===ut)return Dg(G,xt),Et}else xt.uniforms=Ie.getUniforms(G),G.onBuild(pe,xt,S),G.onBeforeCompile(xt,S),Et=Ie.acquireProgram(xt,bt),Mt.set(bt,Et),me.uniforms=xt.uniforms;const Tt=me.uniforms;return(!G.isShaderMaterial&&!G.isRawShaderMaterial||G.clipping===!0)&&(Tt.clippingPlanes=Le.uniform),Dg(G,xt),me.needsLights=V1(G),me.lightsStateVersion=ut,me.needsLights&&(Tt.ambientLightColor.value=he.state.ambient,Tt.lightProbe.value=he.state.probe,Tt.directionalLights.value=he.state.directional,Tt.directionalLightShadows.value=he.state.directionalShadow,Tt.spotLights.value=he.state.spot,Tt.spotLightShadows.value=he.state.spotShadow,Tt.rectAreaLights.value=he.state.rectArea,Tt.ltc_1.value=he.state.rectAreaLTC1,Tt.ltc_2.value=he.state.rectAreaLTC2,Tt.pointLights.value=he.state.point,Tt.pointLightShadows.value=he.state.pointShadow,Tt.hemisphereLights.value=he.state.hemi,Tt.directionalShadowMap.value=he.state.directionalShadowMap,Tt.directionalShadowMatrix.value=he.state.directionalShadowMatrix,Tt.spotShadowMap.value=he.state.spotShadowMap,Tt.spotLightMatrix.value=he.state.spotLightMatrix,Tt.spotLightMap.value=he.state.spotLightMap,Tt.pointShadowMap.value=he.state.pointShadowMap,Tt.pointShadowMatrix.value=he.state.pointShadowMatrix),me.currentProgram=Et,me.uniformsList=null,Et}function Bg(G){if(G.uniformsList===null){const le=G.currentProgram.getUniforms();G.uniformsList=by.seqWithValue(le.seq,G.uniforms)}return G.uniformsList}function Dg(G,le){const pe=ze.get(G);pe.outputColorSpace=le.outputColorSpace,pe.batching=le.batching,pe.instancing=le.instancing,pe.instancingColor=le.instancingColor,pe.skinning=le.skinning,pe.morphTargets=le.morphTargets,pe.morphNormals=le.morphNormals,pe.morphColors=le.morphColors,pe.morphTargetsCount=le.morphTargetsCount,pe.numClippingPlanes=le.numClippingPlanes,pe.numIntersection=le.numClipIntersection,pe.vertexAlphas=le.vertexAlphas,pe.vertexTangents=le.vertexTangents,pe.toneMapping=le.toneMapping}function H1(G,le,pe,me,he){le.isScene!==!0&&(le=Fe),U.resetTextureUnits();const et=le.fog,ut=me.isMeshStandardMaterial?le.environment:null,xt=R===null?S.outputColorSpace:R.isXRRenderTarget===!0?R.texture.colorSpace:ra,bt=(me.isMeshStandardMaterial?ie:D).get(me.envMap||ut),Mt=me.vertexColors===!0&&!!pe.attributes.color&&pe.attributes.color.itemSize===4,Et=!!pe.attributes.tangent&&(!!me.normalMap||me.anisotropy>0),Tt=!!pe.morphAttributes.position,Pn=!!pe.morphAttributes.normal,kr=!!pe.morphAttributes.color;let yn=Ko;me.toneMapped&&(R===null||R.isXRRenderTarget===!0)&&(yn=S.toneMapping);const Sr=pe.morphAttributes.position||pe.morphAttributes.normal||pe.morphAttributes.color,At=Sr!==void 0?Sr.length:0,rt=ze.get(me),bs=_.state.lights;if(ne===!0&&(ce===!0||G!==T)){const Nr=G===T&&me.id===I;Le.setState(me,G,Nr)}let Nt=!1;me.version===rt.__version?(rt.needsLights&&rt.lightsStateVersion!==bs.state.version||rt.outputColorSpace!==xt||he.isBatchedMesh&&rt.batching===!1||!he.isBatchedMesh&&rt.batching===!0||he.isInstancedMesh&&rt.instancing===!1||!he.isInstancedMesh&&rt.instancing===!0||he.isSkinnedMesh&&rt.skinning===!1||!he.isSkinnedMesh&&rt.skinning===!0||he.isInstancedMesh&&rt.instancingColor===!0&&he.instanceColor===null||he.isInstancedMesh&&rt.instancingColor===!1&&he.instanceColor!==null||rt.envMap!==bt||me.fog===!0&&rt.fog!==et||rt.numClippingPlanes!==void 0&&(rt.numClippingPlanes!==Le.numPlanes||rt.numIntersection!==Le.numIntersection)||rt.vertexAlphas!==Mt||rt.vertexTangents!==Et||rt.morphTargets!==Tt||rt.morphNormals!==Pn||rt.morphColors!==kr||rt.toneMapping!==yn||de.isWebGL2===!0&&rt.morphTargetsCount!==At)&&(Nt=!0):(Nt=!0,rt.__version=me.version);let $n=rt.currentProgram;Nt===!0&&($n=ju(me,le,he));let To=!1,As=!1,br=!1;const er=$n.getUniforms(),Co=rt.uniforms;if(ye.useProgram($n.program)&&(To=!0,As=!0,br=!0),me.id!==I&&(I=me.id,As=!0),To||T!==G){er.setValue(X,"projectionMatrix",G.projectionMatrix),er.setValue(X,"viewMatrix",G.matrixWorldInverse);const Nr=er.map.cameraPosition;Nr!==void 0&&Nr.setValue(X,Je.setFromMatrixPosition(G.matrixWorld)),de.logarithmicDepthBuffer&&er.setValue(X,"logDepthBufFC",2/(Math.log(G.far+1)/Math.LN2)),(me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshLambertMaterial||me.isMeshBasicMaterial||me.isMeshStandardMaterial||me.isShaderMaterial)&&er.setValue(X,"isOrthographic",G.isOrthographicCamera===!0),T!==G&&(T=G,As=!0,br=!0)}if(he.isSkinnedMesh){er.setOptional(X,he,"bindMatrix"),er.setOptional(X,he,"bindMatrixInverse");const Nr=he.skeleton;Nr&&(de.floatVertexTextures?(Nr.boneTexture===null&&Nr.computeBoneTexture(),er.setValue(X,"boneTexture",Nr.boneTexture,U)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}he.isBatchedMesh&&(er.setOptional(X,he,"batchingTexture"),er.setValue(X,"batchingTexture",he._matricesTexture,U));const Xu=pe.morphAttributes;if((Xu.position!==void 0||Xu.normal!==void 0||Xu.color!==void 0&&de.isWebGL2===!0)&&dt.update(he,pe,$n),(As||rt.receiveShadow!==he.receiveShadow)&&(rt.receiveShadow=he.receiveShadow,er.setValue(X,"receiveShadow",he.receiveShadow)),me.isMeshGouraudMaterial&&me.envMap!==null&&(Co.envMap.value=bt,Co.flipEnvMap.value=bt.isCubeTexture&&bt.isRenderTargetTexture===!1?-1:1),As&&(er.setValue(X,"toneMappingExposure",S.toneMappingExposure),rt.needsLights&&G1(Co,br),et&&me.fog===!0&&Te.refreshFogUniforms(Co,et),Te.refreshMaterialUniforms(Co,me,K,W,Me),by.upload(X,Bg(rt),Co,U)),me.isShaderMaterial&&me.uniformsNeedUpdate===!0&&(by.upload(X,Bg(rt),Co,U),me.uniformsNeedUpdate=!1),me.isSpriteMaterial&&er.setValue(X,"center",he.center),er.setValue(X,"modelViewMatrix",he.modelViewMatrix),er.setValue(X,"normalMatrix",he.normalMatrix),er.setValue(X,"modelMatrix",he.matrixWorld),me.isShaderMaterial||me.isRawShaderMaterial){const Nr=me.uniformsGroups;for(let Ku=0,Xi=Nr.length;Ku<Xi;Ku++)if(de.isWebGL2){const kg=Nr[Ku];be.update(kg,$n),be.bind(kg,$n)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return $n}function G1(G,le){G.ambientLightColor.needsUpdate=le,G.lightProbe.needsUpdate=le,G.directionalLights.needsUpdate=le,G.directionalLightShadows.needsUpdate=le,G.pointLights.needsUpdate=le,G.pointLightShadows.needsUpdate=le,G.spotLights.needsUpdate=le,G.spotLightShadows.needsUpdate=le,G.rectAreaLights.needsUpdate=le,G.hemisphereLights.needsUpdate=le}function V1(G){return G.isMeshLambertMaterial||G.isMeshToonMaterial||G.isMeshPhongMaterial||G.isMeshStandardMaterial||G.isShadowMaterial||G.isShaderMaterial&&G.lights===!0}this.getActiveCubeFace=function(){return M},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(G,le,pe){ze.get(G.texture).__webglTexture=le,ze.get(G.depthTexture).__webglTexture=pe;const me=ze.get(G);me.__hasExternalTextures=!0,me.__hasExternalTextures&&(me.__autoAllocateDepthBuffer=pe===void 0,me.__autoAllocateDepthBuffer||ve.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),me.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(G,le){const pe=ze.get(G);pe.__webglFramebuffer=le,pe.__useDefaultFramebuffer=le===void 0},this.setRenderTarget=function(G,le=0,pe=0){R=G,M=le,E=pe;let me=!0,he=null,et=!1,ut=!1;if(G){const bt=ze.get(G);bt.__useDefaultFramebuffer!==void 0?(ye.bindFramebuffer(X.FRAMEBUFFER,null),me=!1):bt.__webglFramebuffer===void 0?U.setupRenderTarget(G):bt.__hasExternalTextures&&U.rebindTextures(G,ze.get(G.texture).__webglTexture,ze.get(G.depthTexture).__webglTexture);const Mt=G.texture;(Mt.isData3DTexture||Mt.isDataArrayTexture||Mt.isCompressedArrayTexture)&&(ut=!0);const Et=ze.get(G).__webglFramebuffer;G.isWebGLCubeRenderTarget?(Array.isArray(Et[le])?he=Et[le][pe]:he=Et[le],et=!0):de.isWebGL2&&G.samples>0&&U.useMultisampledRTT(G)===!1?he=ze.get(G).__webglMultisampledFramebuffer:Array.isArray(Et)?he=Et[pe]:he=Et,P.copy(G.viewport),B.copy(G.scissor),F=G.scissorTest}else P.copy(J).multiplyScalar(K).floor(),B.copy(te).multiplyScalar(K).floor(),F=ee;if(ye.bindFramebuffer(X.FRAMEBUFFER,he)&&de.drawBuffers&&me&&ye.drawBuffers(G,he),ye.viewport(P),ye.scissor(B),ye.setScissorTest(F),et){const bt=ze.get(G.texture);X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_CUBE_MAP_POSITIVE_X+le,bt.__webglTexture,pe)}else if(ut){const bt=ze.get(G.texture),Mt=le||0;X.framebufferTextureLayer(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,bt.__webglTexture,pe||0,Mt)}I=-1},this.readRenderTargetPixels=function(G,le,pe,me,he,et,ut){if(!(G&&G.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let xt=ze.get(G).__webglFramebuffer;if(G.isWebGLCubeRenderTarget&&ut!==void 0&&(xt=xt[ut]),xt){ye.bindFramebuffer(X.FRAMEBUFFER,xt);try{const bt=G.texture,Mt=bt.format,Et=bt.type;if(Mt!==Si&&Ye.convert(Mt)!==X.getParameter(X.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Tt=Et===Ud&&(ve.has("EXT_color_buffer_half_float")||de.isWebGL2&&ve.has("EXT_color_buffer_float"));if(Et!==Yo&&Ye.convert(Et)!==X.getParameter(X.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Et===go&&(de.isWebGL2||ve.has("OES_texture_float")||ve.has("WEBGL_color_buffer_float")))&&!Tt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}le>=0&&le<=G.width-me&&pe>=0&&pe<=G.height-he&&X.readPixels(le,pe,me,he,Ye.convert(Mt),Ye.convert(Et),et)}finally{const bt=R!==null?ze.get(R).__webglFramebuffer:null;ye.bindFramebuffer(X.FRAMEBUFFER,bt)}}},this.copyFramebufferToTexture=function(G,le,pe=0){const me=Math.pow(2,-pe),he=Math.floor(le.image.width*me),et=Math.floor(le.image.height*me);U.setTexture2D(le,0),X.copyTexSubImage2D(X.TEXTURE_2D,pe,0,0,G.x,G.y,he,et),ye.unbindTexture()},this.copyTextureToTexture=function(G,le,pe,me=0){const he=le.image.width,et=le.image.height,ut=Ye.convert(pe.format),xt=Ye.convert(pe.type);U.setTexture2D(pe,0),X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,pe.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pe.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,pe.unpackAlignment),le.isDataTexture?X.texSubImage2D(X.TEXTURE_2D,me,G.x,G.y,he,et,ut,xt,le.image.data):le.isCompressedTexture?X.compressedTexSubImage2D(X.TEXTURE_2D,me,G.x,G.y,le.mipmaps[0].width,le.mipmaps[0].height,ut,le.mipmaps[0].data):X.texSubImage2D(X.TEXTURE_2D,me,G.x,G.y,ut,xt,le.image),me===0&&pe.generateMipmaps&&X.generateMipmap(X.TEXTURE_2D),ye.unbindTexture()},this.copyTextureToTexture3D=function(G,le,pe,me,he=0){if(S.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const et=G.max.x-G.min.x+1,ut=G.max.y-G.min.y+1,xt=G.max.z-G.min.z+1,bt=Ye.convert(me.format),Mt=Ye.convert(me.type);let Et;if(me.isData3DTexture)U.setTexture3D(me,0),Et=X.TEXTURE_3D;else if(me.isDataArrayTexture||me.isCompressedArrayTexture)U.setTexture2DArray(me,0),Et=X.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,me.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,me.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,me.unpackAlignment);const Tt=X.getParameter(X.UNPACK_ROW_LENGTH),Pn=X.getParameter(X.UNPACK_IMAGE_HEIGHT),kr=X.getParameter(X.UNPACK_SKIP_PIXELS),yn=X.getParameter(X.UNPACK_SKIP_ROWS),Sr=X.getParameter(X.UNPACK_SKIP_IMAGES),At=pe.isCompressedTexture?pe.mipmaps[he]:pe.image;X.pixelStorei(X.UNPACK_ROW_LENGTH,At.width),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,At.height),X.pixelStorei(X.UNPACK_SKIP_PIXELS,G.min.x),X.pixelStorei(X.UNPACK_SKIP_ROWS,G.min.y),X.pixelStorei(X.UNPACK_SKIP_IMAGES,G.min.z),pe.isDataTexture||pe.isData3DTexture?X.texSubImage3D(Et,he,le.x,le.y,le.z,et,ut,xt,bt,Mt,At.data):pe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),X.compressedTexSubImage3D(Et,he,le.x,le.y,le.z,et,ut,xt,bt,At.data)):X.texSubImage3D(Et,he,le.x,le.y,le.z,et,ut,xt,bt,Mt,At),X.pixelStorei(X.UNPACK_ROW_LENGTH,Tt),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,Pn),X.pixelStorei(X.UNPACK_SKIP_PIXELS,kr),X.pixelStorei(X.UNPACK_SKIP_ROWS,yn),X.pixelStorei(X.UNPACK_SKIP_IMAGES,Sr),he===0&&me.generateMipmaps&&X.generateMipmap(Et),ye.unbindTexture()},this.initTexture=function(G){G.isCubeTexture?U.setTextureCube(G,0):G.isData3DTexture?U.setTexture3D(G,0):G.isDataArrayTexture||G.isCompressedArrayTexture?U.setTexture2DArray(G,0):U.setTexture2D(G,0),ye.unbindTexture()},this.resetState=function(){M=0,E=0,R=null,ye.reset(),Q.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return vo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===wx?"display-p3":"srgb",t.unpackColorSpace=nn.workingColorSpace===og?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===vr?Jl:tC}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Jl?vr:ra}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class bU extends hC{}bU.prototype.isWebGL1Renderer=!0;class Tx{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new ke(e),this.density=t}clone(){return new Tx(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Cx{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new ke(e),this.near=t,this.far=r}clone(){return new Cx(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}let d_=class extends Xt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}};class fg{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Tm,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=us()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=us()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=us()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const pi=new H;class nc{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)pi.fromBufferAttribute(this,t),pi.applyMatrix4(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)pi.fromBufferAttribute(this,t),pi.applyNormalMatrix(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)pi.fromBufferAttribute(this,t),pi.transformDirection(e),this.setXYZ(t,pi.x,pi.y,pi.z);return this}setX(e,t){return this.normalized&&(t=It(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=It(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=It(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=It(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Di(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Di(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Di(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Di(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=It(t,this.array),r=It(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=It(t,this.array),r=It(r,this.array),i=It(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=It(t,this.array),r=It(r,this.array),i=It(i,this.array),s=It(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Kt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new nc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class pC extends hr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ke(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let wf;const up=new H,Ef=new H,Mf=new H,Tf=new xe,fp=new xe,AU=new _t,mv=new H,dp=new H,gv=new H,BL=new xe,Vb=new xe,DL=new xe;class wU extends Xt{constructor(e=new pC){if(super(),this.isSprite=!0,this.type="Sprite",wf===void 0){wf=new Ot;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new fg(t,5);wf.setIndex([0,1,2,0,2,3]),wf.setAttribute("position",new nc(r,3,0,!1)),wf.setAttribute("uv",new nc(r,2,3,!1))}this.geometry=wf,this.material=e,this.center=new xe(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Ef.setFromMatrixScale(this.matrixWorld),AU.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Mf.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Ef.multiplyScalar(-Mf.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;vv(mv.set(-.5,-.5,0),Mf,o,Ef,i,s),vv(dp.set(.5,-.5,0),Mf,o,Ef,i,s),vv(gv.set(.5,.5,0),Mf,o,Ef,i,s),BL.set(0,0),Vb.set(1,0),DL.set(1,1);let a=e.ray.intersectTriangle(mv,dp,gv,!1,up);if(a===null&&(vv(dp.set(-.5,.5,0),Mf,o,Ef,i,s),Vb.set(0,1),a=e.ray.intersectTriangle(mv,gv,dp,!1,up),a===null))return;const l=e.ray.origin.distanceTo(up);l<e.near||l>e.far||t.push({distance:l,point:up.clone(),uv:Bi.getInterpolation(up,mv,dp,gv,BL,Vb,DL,new xe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function vv(n,e,t,r,i,s){Tf.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(fp.x=s*Tf.x-i*Tf.y,fp.y=i*Tf.x+s*Tf.y):fp.copy(Tf),n.copy(e),n.x+=fp.x,n.y+=fp.y,n.applyMatrix4(AU)}const yv=new H,kL=new H;class EU extends Xt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){yv.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(yv);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){yv.setFromMatrixPosition(e.matrixWorld),kL.setFromMatrixPosition(this.matrixWorld);const r=yv.distanceTo(kL)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const NL=new H,FL=new rn,UL=new rn,MK=new H,zL=new _t,_v=new H,$b=new Vr,HL=new _t,Wb=new zu;class mC extends sr{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=qw,this.bindMatrix=new _t,this.bindMatrixInverse=new _t,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new si),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,_v),this.boundingBox.expandByPoint(_v)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Vr),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,_v),this.boundingSphere.expandByPoint(_v)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),$b.copy(this.boundingSphere),$b.applyMatrix4(i),e.ray.intersectsSphere($b)!==!1&&(HL.copy(i).invert(),Wb.copy(e.ray).applyMatrix4(HL),!(this.boundingBox!==null&&Wb.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,Wb)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new rn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===qw?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===NF?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;FL.fromBufferAttribute(i.attributes.skinIndex,e),UL.fromBufferAttribute(i.attributes.skinWeight,e),NL.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=UL.getComponent(s);if(o!==0){const a=FL.getComponent(s);zL.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(MK.copy(NL).applyMatrix4(zL),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class Rx extends Xt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class pu extends Cn{constructor(e=null,t=1,r=1,i,s,o,a,l,c=Jn,u=Jn,f,p){super(null,o,a,l,c,u,i,s,f,p),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const GL=new _t,TK=new _t;class dg{constructor(e=[],t=[]){this.uuid=us(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new _t)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new _t;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:TK;GL.multiplyMatrices(a,t[s]),GL.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new dg(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new pu(t,e,e,Si,go);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Rx),this.bones.push(o),this.boneInverses.push(new _t().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class $d extends Kt{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Cf=new _t,VL=new _t,xv=[],$L=new si,CK=new _t,hp=new sr,pp=new Vr;class gC extends sr{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new $d(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,CK)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new si),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Cf),$L.copy(e.boundingBox).applyMatrix4(Cf),this.boundingBox.union($L)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new Vr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Cf),pp.copy(e.boundingSphere).applyMatrix4(Cf),this.boundingSphere.union(pp)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(hp.geometry=this.geometry,hp.material=this.material,hp.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),pp.copy(this.boundingSphere),pp.applyMatrix4(r),e.ray.intersectsSphere(pp)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Cf),VL.multiplyMatrices(r,Cf),hp.matrixWorld=VL,hp.raycast(e,xv);for(let o=0,a=xv.length;o<a;o++){const l=xv[o];l.instanceId=s,l.object=this,t.push(l)}xv.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new $d(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function RK(n,e){return n.z-e.z}function PK(n,e){return e.z-n.z}class OK{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const s=r[this.index];i.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=t}reset(){this.list.length=0,this.index=0}}const Rf="batchId",Sl=new _t,WL=new _t,LK=new _t,jL=new _t,jb=new ug,Sv=new si,Dc=new Vr,mp=new H,Xb=new OK,Zr=new sr,bv=[];function IK(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const i=n.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+t,o,n.getComponent(s,o))}else e.array.set(n.array,t*r);e.needsUpdate=!0}class MU extends sr{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,t,r=t*2,i){super(new Ot,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new pu(t,e,e,Si,go);this._matricesTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:c,itemSize:u,normalized:f}=l,p=new c.constructor(r*u),m=new l.constructor(p,u,f);m.setUsage(l.usage),t.setAttribute(a,m)}if(e.getIndex()!==null){const a=r>65536?new Uint32Array(s):new Uint16Array(s);t.setIndex(new Kt(a,1))}const o=i>65536?new Uint32Array(r):new Uint16Array(r);t.setAttribute(Rf,new Kt(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(Rf))throw new Error(`BatchedMesh: Geometry cannot use attribute "${Rf}"`);const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(r===Rf)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=t.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new si);const e=this._geometryCount,t=this.boundingBox,r=this._active;t.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Sl),this.getBoundingBoxAt(i,Sv).applyMatrix4(Sl),t.union(Sv))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Vr);const e=this._geometryCount,t=this.boundingSphere,r=this._active;t.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Sl),this.getBoundingSphereAt(i,Dc).applyMatrix4(Sl),t.union(Dc))}addGeometry(e,t=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),t===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=t,s===null?i.vertexStart=0:i.vertexStart=s.vertexStart+s.vertexCount;const c=e.getIndex(),u=c!==null;if(u&&(r===-1?i.indexCount=c.count:i.indexCount=r,s===null?i.indexStart=0:i.indexStart=s.indexStart+s.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const f=this._visibility,p=this._active,m=this._matricesTexture,g=this._matricesTexture.image.data;f.push(!0),p.push(!0);const y=this._geometryCount;this._geometryCount++,LK.toArray(g,y*16),m.needsUpdate=!0,o.push(i),a.push({start:u?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new si,sphereInitialized:!1,sphere:new Vr});const _=this.geometry.getAttribute(Rf);for(let v=0;v<i.vertexCount;v++)_.setX(i.vertexStart+v,y);return _.needsUpdate=!0,this.setGeometryAt(y,e),y}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=t.getIndex(),a=this._reservedRanges[e];if(i&&o.count>a.indexCount||t.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const m in r.attributes){if(m===Rf)continue;const g=t.getAttribute(m),y=r.getAttribute(m);IK(g,y,l);const _=g.itemSize;for(let v=g.count,x=c;v<x;v++){const S=l+v;for(let A=0;A<_;A++)y.setComponent(S,A,0)}y.needsUpdate=!0}if(i){const m=a.indexStart;for(let g=0;g<o.count;g++)s.setX(m+g,l+o.getX(g));for(let g=o.count,y=a.indexCount;g<y;g++)s.setX(m+g,l);s.needsUpdate=!0}const u=this._bounds[e];t.boundingBox!==null?(u.box.copy(t.boundingBox),u.boxInitialized=!0):u.boxInitialized=!1,t.boundingSphere!==null?(u.sphere.copy(t.boundingSphere),u.sphereInitialized=!0):u.sphereInitialized=!1;const f=this._drawRanges[e],p=t.getAttribute("position");return f.count=i?o.count:p.count,this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._active;return e>=t.length||t[e]===!1?this:(t[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,t){if(this._active[e]===!1)return this;const i=this._bounds[e],s=i.box,o=this.geometry;if(i.boxInitialized===!1){s.makeEmpty();const a=o.index,l=o.attributes.position,c=this._drawRanges[e];for(let u=c.start,f=c.start+c.count;u<f;u++){let p=u;a&&(p=a.getX(p)),s.expandByPoint(mp.fromBufferAttribute(l,p))}i.boxInitialized=!0}return t.copy(s),t}getBoundingSphereAt(e,t){if(this._active[e]===!1)return this;const i=this._bounds[e],s=i.sphere,o=this.geometry;if(i.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,Sv),Sv.getCenter(s.center);const a=o.index,l=o.attributes.position,c=this._drawRanges[e];let u=0;for(let f=c.start,p=c.start+c.count;f<p;f++){let m=f;a&&(m=a.getX(m)),mp.fromBufferAttribute(l,m),u=Math.max(u,s.center.distanceToSquared(mp))}s.radius=Math.sqrt(u),i.sphereInitialized=!0}return t.copy(s),t}setMatrixAt(e,t){const r=this._active,i=this._matricesTexture,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?this:(t.toArray(s,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,t){const r=this._active,i=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?null:t.fromArray(i,e*16)}setVisibleAt(e,t){const r=this._visibility,i=this._active,s=this._geometryCount;return e>=s||i[e]===!1||r[e]===t?this:(r[e]=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:t[e]}raycast(e,t){const r=this._visibility,i=this._active,s=this._drawRanges,o=this._geometryCount,a=this.matrixWorld,l=this.geometry;Zr.material=this.material,Zr.geometry.index=l.index,Zr.geometry.attributes=l.attributes,Zr.geometry.boundingBox===null&&(Zr.geometry.boundingBox=new si),Zr.geometry.boundingSphere===null&&(Zr.geometry.boundingSphere=new Vr);for(let c=0;c<o;c++){if(!r[c]||!i[c])continue;const u=s[c];Zr.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(c,Zr.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,Zr.geometry.boundingBox),this.getBoundingSphereAt(c,Zr.geometry.boundingSphere),Zr.raycast(e,bv);for(let f=0,p=bv.length;f<p;f++){const m=bv[f];m.object=this,m.batchId=c,t.push(m)}bv.length=0}Zr.material=null,Zr.geometry.index=null,Zr.geometry.attributes={},Zr.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(t=>({...t})),this._reservedRanges=e._reservedRanges.map(t=>({...t})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(t=>({boxInitialized:t.boxInitialized,box:t.box.clone(),sphereInitialized:t.sphereInitialized,sphere:t.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,t,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._visibility,c=this._multiDrawStarts,u=this._multiDrawCounts,f=this._drawRanges,p=this.perObjectFrustumCulled;p&&(jL.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),jb.setFromProjectionMatrix(jL,e.isWebGPURenderer?Hd:vo));let m=0;if(this.sortObjects){WL.copy(this.matrixWorld).invert(),mp.setFromMatrixPosition(r.matrixWorld).applyMatrix4(WL);for(let _=0,v=l.length;_<v;_++)if(l[_]){this.getMatrixAt(_,Sl),this.getBoundingSphereAt(_,Dc).applyMatrix4(Sl);let x=!1;if(p&&(x=!jb.intersectsSphere(Dc)),!x){const S=mp.distanceTo(Dc.center);Xb.push(f[_],S)}}const g=Xb.list,y=this.customSort;y===null?g.sort(s.transparent?PK:RK):y.call(this,g,r);for(let _=0,v=g.length;_<v;_++){const x=g[_];c[m]=x.start*a,u[m]=x.count,m++}Xb.reset()}else for(let g=0,y=l.length;g<y;g++)if(l[g]){let _=!1;if(p&&(this.getMatrixAt(g,Sl),this.getBoundingSphereAt(g,Dc).applyMatrix4(Sl),_=!jb.intersectsSphere(Dc)),!_){const v=f[g];c[m]=v.start*a,u[m]=v.count,m++}}this._multiDrawCount=m,this._visibilityChanged=!1}onBeforeShadow(e,t,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class ci extends hr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ke(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const XL=new H,KL=new H,YL=new _t,Kb=new zu,Av=new Vr;class Ka extends Xt{constructor(e=new Ot,t=new ci){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)XL.fromBufferAttribute(t,i-1),KL.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=XL.distanceTo(KL);e.setAttribute("lineDistance",new lt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Av.copy(r.boundingSphere),Av.applyMatrix4(i),Av.radius+=s,e.ray.intersectsSphere(Av)===!1)return;YL.copy(i).invert(),Kb.copy(e.ray).applyMatrix4(YL);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new H,u=new H,f=new H,p=new H,m=this.isLineSegments?2:1,g=r.index,_=r.attributes.position;if(g!==null){const v=Math.max(0,o.start),x=Math.min(g.count,o.start+o.count);for(let S=v,A=x-1;S<A;S+=m){const M=g.getX(S),E=g.getX(S+1);if(c.fromBufferAttribute(_,M),u.fromBufferAttribute(_,E),Kb.distanceSqToSegment(c,u,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const I=e.ray.origin.distanceTo(p);I<e.near||I>e.far||t.push({distance:I,point:f.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,o.start),x=Math.min(_.count,o.start+o.count);for(let S=v,A=x-1;S<A;S+=m){if(c.fromBufferAttribute(_,S),u.fromBufferAttribute(_,S+1),Kb.distanceSqToSegment(c,u,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(p);E<e.near||E>e.far||t.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const JL=new H,qL=new H;class Ao extends Ka{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)JL.fromBufferAttribute(t,i),qL.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+JL.distanceTo(qL);e.setAttribute("lineDistance",new lt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class vC extends Ka{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Px extends hr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ke(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const QL=new _t,CE=new zu,wv=new Vr,Ev=new H;class yC extends Xt{constructor(e=new Ot,t=new Px){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),wv.copy(r.boundingSphere),wv.applyMatrix4(i),wv.radius+=s,e.ray.intersectsSphere(wv)===!1)return;QL.copy(i).invert(),CE.copy(e.ray).applyMatrix4(QL);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,f=r.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let g=p,y=m;g<y;g++){const _=c.getX(g);Ev.fromBufferAttribute(f,_),ZL(Ev,_,l,i,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let g=p,y=m;g<y;g++)Ev.fromBufferAttribute(f,g),ZL(Ev,g,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function ZL(n,e,t,r,i,s,o){const a=CE.distanceSqToPoint(n);if(a<t){const l=new H;CE.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class BK extends Cn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Nn,this.magFilter=s!==void 0?s:Nn,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class DK extends Cn{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Jn,this.minFilter=Jn,this.generateMipmaps=!1,this.needsUpdate=!0}}class Ox extends Cn{constructor(e,t,r,i,s,o,a,l,c,u,f,p){super(null,o,a,l,c,u,i,s,f,p),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class kK extends Ox{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Hr}}class NK extends Ox{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,Xa),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class FK extends Cn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class wo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],p=r[i+1]-u,m=(o-u)/p;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new xe:new H);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new H,i=[],s=[],o=[],a=new H,l=new _t;for(let m=0;m<=e;m++){const g=m/e;i[m]=this.getTangentAt(g,new H)}s[0]=new H,o[0]=new H;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),f=Math.abs(i[0].y),p=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),p<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(qn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(qn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],m*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Lx extends wo{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new xe,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*u-m*f+this.aX,c=p*f+m*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class TU extends Lx{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function _C(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,f){let p=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+f)+(l-a)/f;p*=u,m*=u,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const Mv=new H,Yb=new _C,Jb=new _C,qb=new _C;class CU extends wo{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new H){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(Mv.subVectors(i[0],i[1]).add(i[0]),c=Mv);const f=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(Mv.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=Mv),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(f),m),y=Math.pow(f.distanceToSquared(p),m),_=Math.pow(p.distanceToSquared(u),m);y<1e-4&&(y=1),g<1e-4&&(g=y),_<1e-4&&(_=y),Yb.initNonuniformCatmullRom(c.x,f.x,p.x,u.x,g,y,_),Jb.initNonuniformCatmullRom(c.y,f.y,p.y,u.y,g,y,_),qb.initNonuniformCatmullRom(c.z,f.z,p.z,u.z,g,y,_)}else this.curveType==="catmullrom"&&(Yb.initCatmullRom(c.x,f.x,p.x,u.x,this.tension),Jb.initCatmullRom(c.y,f.y,p.y,u.y,this.tension),qb.initCatmullRom(c.z,f.z,p.z,u.z,this.tension));return r.set(Yb.calc(l),Jb.calc(l),qb.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new H().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function eI(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function UK(n,e){const t=1-n;return t*t*e}function zK(n,e){return 2*(1-n)*n*e}function HK(n,e){return n*n*e}function Xp(n,e,t,r){return UK(n,e)+zK(n,t)+HK(n,r)}function GK(n,e){const t=1-n;return t*t*t*e}function VK(n,e){const t=1-n;return 3*t*t*n*e}function $K(n,e){return 3*(1-n)*n*n*e}function WK(n,e){return n*n*n*e}function Kp(n,e,t,r,i){return GK(n,e)+VK(n,t)+$K(n,r)+WK(n,i)}class xC extends wo{constructor(e=new xe,t=new xe,r=new xe,i=new xe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new xe){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Kp(e,i.x,s.x,o.x,a.x),Kp(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class RU extends wo{constructor(e=new H,t=new H,r=new H,i=new H){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new H){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Kp(e,i.x,s.x,o.x,a.x),Kp(e,i.y,s.y,o.y,a.y),Kp(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class SC extends wo{constructor(e=new xe,t=new xe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new xe){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new xe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class PU extends wo{constructor(e=new H,t=new H){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new H){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new H){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class bC extends wo{constructor(e=new xe,t=new xe,r=new xe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new xe){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Xp(e,i.x,s.x,o.x),Xp(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class AC extends wo{constructor(e=new H,t=new H,r=new H){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new H){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Xp(e,i.x,s.x,o.x),Xp(e,i.y,s.y,o.y),Xp(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class wC extends wo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new xe){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(eI(a,l.x,c.x,u.x,f.x),eI(a,l.y,c.y,u.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new xe().fromArray(i))}return this}}var h_=Object.freeze({__proto__:null,ArcCurve:TU,CatmullRomCurve3:CU,CubicBezierCurve:xC,CubicBezierCurve3:RU,EllipseCurve:Lx,LineCurve:SC,LineCurve3:PU,QuadraticBezierCurve:bC,QuadraticBezierCurve3:AC,SplineCurve:wC});class OU extends wo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new h_[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new h_[i.type]().fromJSON(i))}return this}}class Rm extends OU{constructor(e){super(),this.type="Path",this.currentPoint=new xe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new SC(this.currentPoint.clone(),new xe(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new bC(this.currentPoint.clone(),new xe(e,t),new xe(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new xC(this.currentPoint.clone(),new xe(e,t),new xe(r,i),new xe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new wC(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new Lx(e,t,r,i,s,o,a,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class hg extends Ot{constructor(e=[new xe(0,-.5),new xe(.5,0),new xe(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=qn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,f=new H,p=new xe,m=new H,g=new H,y=new H;let _=0,v=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:_=e[x+1].x-e[x].x,v=e[x+1].y-e[x].y,m.x=v*1,m.y=-_,m.z=v*0,y.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:_=e[x+1].x-e[x].x,v=e[x+1].y-e[x].y,m.x=v*1,m.y=-_,m.z=v*0,g.copy(m),m.x+=y.x,m.y+=y.y,m.z+=y.z,m.normalize(),l.push(m.x,m.y,m.z),y.copy(g)}for(let x=0;x<=t;x++){const S=r+x*u*i,A=Math.sin(S),M=Math.cos(S);for(let E=0;E<=e.length-1;E++){f.x=e[E].x*A,f.y=e[E].y,f.z=e[E].x*M,o.push(f.x,f.y,f.z),p.x=x/t,p.y=E/(e.length-1),a.push(p.x,p.y);const R=l[3*E+0]*A,I=l[3*E+1],T=l[3*E+0]*M;c.push(R,I,T)}}for(let x=0;x<t;x++)for(let S=0;S<e.length-1;S++){const A=S+x*e.length,M=A,E=A+e.length,R=A+e.length+1,I=A+1;s.push(M,E,I),s.push(R,I,E)}this.setIndex(s),this.setAttribute("position",new lt(o,3)),this.setAttribute("uv",new lt(a,2)),this.setAttribute("normal",new lt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hg(e.points,e.segments,e.phiStart,e.phiLength)}}class Ix extends hg{constructor(e=1,t=1,r=4,i=8){const s=new Rm;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new Ix(e.radius,e.length,e.capSegments,e.radialSegments)}}class Bx extends Ot{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new H,u=new xe;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,p=3;f<=t;f++,p+=3){const m=r+f/t*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[p]/e+1)/2,u.y=(o[p+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new lt(o,3)),this.setAttribute("normal",new lt(a,3)),this.setAttribute("uv",new lt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Bx(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class xh extends Ot{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],f=[],p=[],m=[];let g=0;const y=[],_=r/2;let v=0;x(),o===!1&&(e>0&&S(!0),t>0&&S(!1)),this.setIndex(u),this.setAttribute("position",new lt(f,3)),this.setAttribute("normal",new lt(p,3)),this.setAttribute("uv",new lt(m,2));function x(){const A=new H,M=new H;let E=0;const R=(t-e)/r;for(let I=0;I<=s;I++){const T=[],P=I/s,B=P*(t-e)+e;for(let F=0;F<=i;F++){const V=F/i,k=V*l+a,z=Math.sin(k),W=Math.cos(k);M.x=B*z,M.y=-P*r+_,M.z=B*W,f.push(M.x,M.y,M.z),A.set(z,R,W).normalize(),p.push(A.x,A.y,A.z),m.push(V,1-P),T.push(g++)}y.push(T)}for(let I=0;I<i;I++)for(let T=0;T<s;T++){const P=y[T][I],B=y[T+1][I],F=y[T+1][I+1],V=y[T][I+1];u.push(P,B,V),u.push(B,F,V),E+=6}c.addGroup(v,E,0),v+=E}function S(A){const M=g,E=new xe,R=new H;let I=0;const T=A===!0?e:t,P=A===!0?1:-1;for(let F=1;F<=i;F++)f.push(0,_*P,0),p.push(0,P,0),m.push(.5,.5),g++;const B=g;for(let F=0;F<=i;F++){const k=F/i*l+a,z=Math.cos(k),W=Math.sin(k);R.x=T*W,R.y=_*P,R.z=T*z,f.push(R.x,R.y,R.z),p.push(0,P,0),E.x=z*.5+.5,E.y=W*.5*P+.5,m.push(E.x,E.y),g++}for(let F=0;F<i;F++){const V=M+F,k=B+F;A===!0?u.push(k,k+1,V):u.push(k+1,k,V),I+=3}c.addGroup(v,I,A===!0?1:2),v+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xh(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Dx extends xh{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Dx(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class vc extends Ot{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new lt(s,3)),this.setAttribute("normal",new lt(s.slice(),3)),this.setAttribute("uv",new lt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const S=new H,A=new H,M=new H;for(let E=0;E<t.length;E+=3)m(t[E+0],S),m(t[E+1],A),m(t[E+2],M),l(S,A,M,x)}function l(x,S,A,M){const E=M+1,R=[];for(let I=0;I<=E;I++){R[I]=[];const T=x.clone().lerp(A,I/E),P=S.clone().lerp(A,I/E),B=E-I;for(let F=0;F<=B;F++)F===0&&I===E?R[I][F]=T:R[I][F]=T.clone().lerp(P,F/B)}for(let I=0;I<E;I++)for(let T=0;T<2*(E-I)-1;T++){const P=Math.floor(T/2);T%2===0?(p(R[I][P+1]),p(R[I+1][P]),p(R[I][P])):(p(R[I][P+1]),p(R[I+1][P+1]),p(R[I+1][P]))}}function c(x){const S=new H;for(let A=0;A<s.length;A+=3)S.x=s[A+0],S.y=s[A+1],S.z=s[A+2],S.normalize().multiplyScalar(x),s[A+0]=S.x,s[A+1]=S.y,s[A+2]=S.z}function u(){const x=new H;for(let S=0;S<s.length;S+=3){x.x=s[S+0],x.y=s[S+1],x.z=s[S+2];const A=_(x)/2/Math.PI+.5,M=v(x)/Math.PI+.5;o.push(A,1-M)}g(),f()}function f(){for(let x=0;x<o.length;x+=6){const S=o[x+0],A=o[x+2],M=o[x+4],E=Math.max(S,A,M),R=Math.min(S,A,M);E>.9&&R<.1&&(S<.2&&(o[x+0]+=1),A<.2&&(o[x+2]+=1),M<.2&&(o[x+4]+=1))}}function p(x){s.push(x.x,x.y,x.z)}function m(x,S){const A=x*3;S.x=e[A+0],S.y=e[A+1],S.z=e[A+2]}function g(){const x=new H,S=new H,A=new H,M=new H,E=new xe,R=new xe,I=new xe;for(let T=0,P=0;T<s.length;T+=9,P+=6){x.set(s[T+0],s[T+1],s[T+2]),S.set(s[T+3],s[T+4],s[T+5]),A.set(s[T+6],s[T+7],s[T+8]),E.set(o[P+0],o[P+1]),R.set(o[P+2],o[P+3]),I.set(o[P+4],o[P+5]),M.copy(x).add(S).add(A).divideScalar(3);const B=_(M);y(E,P+0,x,B),y(R,P+2,S,B),y(I,P+4,A,B)}}function y(x,S,A,M){M<0&&x.x===1&&(o[S]=x.x-1),A.x===0&&A.z===0&&(o[S]=M/2/Math.PI+.5)}function _(x){return Math.atan2(x.z,-x.x)}function v(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vc(e.vertices,e.indices,e.radius,e.details)}}class kx extends vc{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new kx(e.radius,e.detail)}}const Tv=new H,Cv=new H,Qb=new H,Rv=new Bi;class EC extends Ot{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(du*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),p={},m=[];for(let g=0;g<l;g+=3){o?(c[0]=o.getX(g),c[1]=o.getX(g+1),c[2]=o.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:y,b:_,c:v}=Rv;if(y.fromBufferAttribute(a,c[0]),_.fromBufferAttribute(a,c[1]),v.fromBufferAttribute(a,c[2]),Rv.getNormal(Qb),f[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[1]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,f[2]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let x=0;x<3;x++){const S=(x+1)%3,A=f[x],M=f[S],E=Rv[u[x]],R=Rv[u[S]],I=`${A}_${M}`,T=`${M}_${A}`;T in p&&p[T]?(Qb.dot(p[T].normal)<=s&&(m.push(E.x,E.y,E.z),m.push(R.x,R.y,R.z)),p[T]=null):I in p||(p[I]={index0:c[x],index1:c[S],normal:Qb.clone()})}}for(const g in p)if(p[g]){const{index0:y,index1:_}=p[g];Tv.fromBufferAttribute(a,y),Cv.fromBufferAttribute(a,_),m.push(Tv.x,Tv.y,Tv.z),m.push(Cv.x,Cv.y,Cv.z)}this.setAttribute("position",new lt(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class mu extends Rm{constructor(e){super(e),this.uuid=us(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new Rm().fromJSON(i))}return this}}const jK={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=LU(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,f,p,m;if(r&&(s=qK(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let g=t;g<i;g+=t)f=n[g],p=n[g+1],f<a&&(a=f),p<l&&(l=p),f>c&&(c=f),p>u&&(u=p);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return Pm(s,o,t,a,l,m,0),o}};function LU(n,e,t,r,i){let s,o;if(i===lY(n,e,t,r)>0)for(s=e;s<t;s+=r)o=tI(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=tI(s,n[s],n[s+1],o);return o&&Nx(o,o.next)&&(Lm(o),o=o.next),o}function Ru(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(Nx(t,t.next)||Fn(t.prev,t,t.next)===0)){if(Lm(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function Pm(n,e,t,r,i,s,o){if(!n)return;!o&&s&&nY(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?KK(n,r,i,s):XK(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),Lm(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=YK(Ru(n),e,t),Pm(n,e,t,r,i,s,2)):o===2&&JK(n,e,t,r,i,s):Pm(Ru(n),e,t,r,i,s,1);break}}}function XK(n){const e=n.prev,t=n,r=n.next;if(Fn(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let g=r.next;for(;g!==e;){if(g.x>=u&&g.x<=p&&g.y>=f&&g.y<=m&&sd(i,a,s,l,o,c,g.x,g.y)&&Fn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function KK(n,e,t,r){const i=n.prev,s=n,o=n.next;if(Fn(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,f=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,g=u<f?u<p?u:p:f<p?f:p,y=a>l?a>c?a:c:l>c?l:c,_=u>f?u>p?u:p:f>p?f:p,v=RE(m,g,e,t,r),x=RE(y,_,e,t,r);let S=n.prevZ,A=n.nextZ;for(;S&&S.z>=v&&A&&A.z<=x;){if(S.x>=m&&S.x<=y&&S.y>=g&&S.y<=_&&S!==i&&S!==o&&sd(a,u,l,f,c,p,S.x,S.y)&&Fn(S.prev,S,S.next)>=0||(S=S.prevZ,A.x>=m&&A.x<=y&&A.y>=g&&A.y<=_&&A!==i&&A!==o&&sd(a,u,l,f,c,p,A.x,A.y)&&Fn(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;S&&S.z>=v;){if(S.x>=m&&S.x<=y&&S.y>=g&&S.y<=_&&S!==i&&S!==o&&sd(a,u,l,f,c,p,S.x,S.y)&&Fn(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;A&&A.z<=x;){if(A.x>=m&&A.x<=y&&A.y>=g&&A.y<=_&&A!==i&&A!==o&&sd(a,u,l,f,c,p,A.x,A.y)&&Fn(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function YK(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!Nx(i,s)&&IU(i,r,r.next,s)&&Om(i,s)&&Om(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),Lm(r),Lm(r.next),r=n=s),r=r.next}while(r!==n);return Ru(r)}function JK(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&sY(o,a)){let l=BU(o,a);o=Ru(o,o.next),l=Ru(l,l.next),Pm(o,e,t,r,i,s,0),Pm(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function qK(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=LU(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(iY(c));for(i.sort(QK),s=0;s<i.length;s++)t=ZK(i[s],t);return t}function QK(n,e){return n.x-e.x}function ZK(n,e){const t=eY(n,e);if(!t)return e;const r=BU(t,n);return Ru(r,r.next),Ru(t,t.next)}function eY(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>r&&(r=p,i=t.x<t.next.x?t:t.next,p===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,f;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&sd(o<c?s:r,o,l,c,o<c?r:s,o,t.x,t.y)&&(f=Math.abs(o-t.y)/(s-t.x),Om(t,n)&&(f<u||f===u&&(t.x>i.x||t.x===i.x&&tY(i,t)))&&(i=t,u=f)),t=t.next;while(t!==a);return i}function tY(n,e){return Fn(n.prev,n,e.prev)<0&&Fn(e.next,n,n.next)<0}function nY(n,e,t,r){let i=n;do i.z===0&&(i.z=RE(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,rY(i)}function rY(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function RE(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function iY(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function sd(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function sY(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!oY(n,e)&&(Om(n,e)&&Om(e,n)&&aY(n,e)&&(Fn(n.prev,n,e.prev)||Fn(n,e.prev,e))||Nx(n,e)&&Fn(n.prev,n,n.next)>0&&Fn(e.prev,e,e.next)>0)}function Fn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function Nx(n,e){return n.x===e.x&&n.y===e.y}function IU(n,e,t,r){const i=Ov(Fn(n,e,t)),s=Ov(Fn(n,e,r)),o=Ov(Fn(t,r,n)),a=Ov(Fn(t,r,e));return!!(i!==s&&o!==a||i===0&&Pv(n,t,e)||s===0&&Pv(n,r,e)||o===0&&Pv(t,n,r)||a===0&&Pv(t,e,r))}function Pv(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Ov(n){return n>0?1:n<0?-1:0}function oY(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&IU(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Om(n,e){return Fn(n.prev,n,n.next)<0?Fn(n,e,n.next)>=0&&Fn(n,n.prev,e)>=0:Fn(n,e,n.prev)<0||Fn(n,n.next,e)<0}function aY(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function BU(n,e){const t=new PE(n.i,n.x,n.y),r=new PE(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function tI(n,e,t,r){const i=new PE(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Lm(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function PE(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function lY(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class Jo{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Jo.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];nI(e),rI(r,e);let o=e.length;t.forEach(nI);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,rI(r,t[l]);const a=jK.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function nI(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function rI(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Fx extends Ot{constructor(e=new mu([new xe(.5,.5),new xe(-.5,.5),new xe(-.5,-.5),new xe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new lt(i,3)),this.setAttribute("uv",new lt(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:m-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const v=t.extrudePath,x=t.UVGenerator!==void 0?t.UVGenerator:cY;let S,A=!1,M,E,R,I;v&&(S=v.getSpacedPoints(u),A=!0,p=!1,M=v.computeFrenetFrames(u,!1),E=new H,R=new H,I=new H),p||(_=0,m=0,g=0,y=0);const T=a.extractPoints(c);let P=T.shape;const B=T.holes;if(!Jo.isClockWise(P)){P=P.reverse();for(let X=0,Se=B.length;X<Se;X++){const ve=B[X];Jo.isClockWise(ve)&&(B[X]=ve.reverse())}}const V=Jo.triangulateShape(P,B),k=P;for(let X=0,Se=B.length;X<Se;X++){const ve=B[X];P=P.concat(ve)}function z(X,Se,ve){return Se||console.error("THREE.ExtrudeGeometry: vec does not exist"),X.clone().addScaledVector(Se,ve)}const W=P.length,K=V.length;function N(X,Se,ve){let de,ye,We;const ze=X.x-Se.x,U=X.y-Se.y,D=ve.x-X.x,ie=ve.y-X.y,Ae=ze*ze+U*U,oe=ze*ie-U*D;if(Math.abs(oe)>Number.EPSILON){const ae=Math.sqrt(Ae),Ie=Math.sqrt(D*D+ie*ie),Te=Se.x-U/ae,Oe=Se.y+ze/ae,tt=ve.x-ie/Ie,Le=ve.y+D/Ie,we=((tt-Te)*ie-(Le-Oe)*D)/(ze*ie-U*D);de=Te+ze*we-X.x,ye=Oe+U*we-X.y;const gt=de*de+ye*ye;if(gt<=2)return new xe(de,ye);We=Math.sqrt(gt/2)}else{let ae=!1;ze>Number.EPSILON?D>Number.EPSILON&&(ae=!0):ze<-Number.EPSILON?D<-Number.EPSILON&&(ae=!0):Math.sign(U)===Math.sign(ie)&&(ae=!0),ae?(de=-U,ye=ze,We=Math.sqrt(Ae)):(de=ze,ye=U,We=Math.sqrt(Ae/2))}return new xe(de/We,ye/We)}const j=[];for(let X=0,Se=k.length,ve=Se-1,de=X+1;X<Se;X++,ve++,de++)ve===Se&&(ve=0),de===Se&&(de=0),j[X]=N(k[X],k[ve],k[de]);const J=[];let te,ee=j.concat();for(let X=0,Se=B.length;X<Se;X++){const ve=B[X];te=[];for(let de=0,ye=ve.length,We=ye-1,ze=de+1;de<ye;de++,We++,ze++)We===ye&&(We=0),ze===ye&&(ze=0),te[de]=N(ve[de],ve[We],ve[ze]);J.push(te),ee=ee.concat(te)}for(let X=0;X<_;X++){const Se=X/_,ve=m*Math.cos(Se*Math.PI/2),de=g*Math.sin(Se*Math.PI/2)+y;for(let ye=0,We=k.length;ye<We;ye++){const ze=z(k[ye],j[ye],de);Re(ze.x,ze.y,-ve)}for(let ye=0,We=B.length;ye<We;ye++){const ze=B[ye];te=J[ye];for(let U=0,D=ze.length;U<D;U++){const ie=z(ze[U],te[U],de);Re(ie.x,ie.y,-ve)}}}const Y=g+y;for(let X=0;X<W;X++){const Se=p?z(P[X],ee[X],Y):P[X];A?(R.copy(M.normals[0]).multiplyScalar(Se.x),E.copy(M.binormals[0]).multiplyScalar(Se.y),I.copy(S[0]).add(R).add(E),Re(I.x,I.y,I.z)):Re(Se.x,Se.y,0)}for(let X=1;X<=u;X++)for(let Se=0;Se<W;Se++){const ve=p?z(P[Se],ee[Se],Y):P[Se];A?(R.copy(M.normals[X]).multiplyScalar(ve.x),E.copy(M.binormals[X]).multiplyScalar(ve.y),I.copy(S[X]).add(R).add(E),Re(I.x,I.y,I.z)):Re(ve.x,ve.y,f/u*X)}for(let X=_-1;X>=0;X--){const Se=X/_,ve=m*Math.cos(Se*Math.PI/2),de=g*Math.sin(Se*Math.PI/2)+y;for(let ye=0,We=k.length;ye<We;ye++){const ze=z(k[ye],j[ye],de);Re(ze.x,ze.y,f+ve)}for(let ye=0,We=B.length;ye<We;ye++){const ze=B[ye];te=J[ye];for(let U=0,D=ze.length;U<D;U++){const ie=z(ze[U],te[U],de);A?Re(ie.x,ie.y+S[u-1].y,S[u-1].x+ve):Re(ie.x,ie.y,f+ve)}}}ne(),ce();function ne(){const X=i.length/3;if(p){let Se=0,ve=W*Se;for(let de=0;de<K;de++){const ye=V[de];Ze(ye[2]+ve,ye[1]+ve,ye[0]+ve)}Se=u+_*2,ve=W*Se;for(let de=0;de<K;de++){const ye=V[de];Ze(ye[0]+ve,ye[1]+ve,ye[2]+ve)}}else{for(let Se=0;Se<K;Se++){const ve=V[Se];Ze(ve[2],ve[1],ve[0])}for(let Se=0;Se<K;Se++){const ve=V[Se];Ze(ve[0]+W*u,ve[1]+W*u,ve[2]+W*u)}}r.addGroup(X,i.length/3-X,0)}function ce(){const X=i.length/3;let Se=0;Me(k,Se),Se+=k.length;for(let ve=0,de=B.length;ve<de;ve++){const ye=B[ve];Me(ye,Se),Se+=ye.length}r.addGroup(X,i.length/3-X,1)}function Me(X,Se){let ve=X.length;for(;--ve>=0;){const de=ve;let ye=ve-1;ye<0&&(ye=X.length-1);for(let We=0,ze=u+_*2;We<ze;We++){const U=W*We,D=W*(We+1),ie=Se+de+U,Ae=Se+ye+U,oe=Se+ye+D,ae=Se+de+D;Je(ie,Ae,oe,ae)}}}function Re(X,Se,ve){l.push(X),l.push(Se),l.push(ve)}function Ze(X,Se,ve){Fe(X),Fe(Se),Fe(ve);const de=i.length/3,ye=x.generateTopUV(r,i,de-3,de-2,de-1);Be(ye[0]),Be(ye[1]),Be(ye[2])}function Je(X,Se,ve,de){Fe(X),Fe(Se),Fe(de),Fe(Se),Fe(ve),Fe(de);const ye=i.length/3,We=x.generateSideWallUV(r,i,ye-6,ye-3,ye-2,ye-1);Be(We[0]),Be(We[1]),Be(We[3]),Be(We[1]),Be(We[2]),Be(We[3])}function Fe(X){i.push(l[X*3+0]),i.push(l[X*3+1]),i.push(l[X*3+2])}function Be(X){s.push(X.x),s.push(X.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return uY(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new h_[i.type]().fromJSON(i)),new Fx(r,e.options)}}const cY={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new xe(s,o),new xe(a,l),new xe(c,u)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],f=e[r*3+2],p=e[i*3],m=e[i*3+1],g=e[i*3+2],y=e[s*3],_=e[s*3+1],v=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new xe(o,1-l),new xe(c,1-f),new xe(p,1-g),new xe(y,1-v)]:[new xe(a,1-l),new xe(u,1-f),new xe(m,1-g),new xe(_,1-v)]}};function uY(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Ux extends vc{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ux(e.radius,e.detail)}}class pg extends vc{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new pg(e.radius,e.detail)}}class zx extends Ot{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let f=e;const p=(t-e)/i,m=new H,g=new xe;for(let y=0;y<=i;y++){for(let _=0;_<=r;_++){const v=s+_/r*o;m.x=f*Math.cos(v),m.y=f*Math.sin(v),l.push(m.x,m.y,m.z),c.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,u.push(g.x,g.y)}f+=p}for(let y=0;y<i;y++){const _=y*(r+1);for(let v=0;v<r;v++){const x=v+_,S=x,A=x+r+1,M=x+r+2,E=x+1;a.push(S,A,E),a.push(A,M,E)}}this.setIndex(a),this.setAttribute("position",new lt(l,3)),this.setAttribute("normal",new lt(c,3)),this.setAttribute("uv",new lt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zx(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Hx extends Ot{constructor(e=new mu([new xe(0,.5),new xe(-.5,-.5),new xe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new lt(i,3)),this.setAttribute("normal",new lt(s,3)),this.setAttribute("uv",new lt(o,2));function c(u){const f=i.length/3,p=u.extractPoints(t);let m=p.shape;const g=p.holes;Jo.isClockWise(m)===!1&&(m=m.reverse());for(let _=0,v=g.length;_<v;_++){const x=g[_];Jo.isClockWise(x)===!0&&(g[_]=x.reverse())}const y=Jo.triangulateShape(m,g);for(let _=0,v=g.length;_<v;_++){const x=g[_];m=m.concat(x)}for(let _=0,v=m.length;_<v;_++){const x=m[_];i.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let _=0,v=y.length;_<v;_++){const x=y[_],S=x[0]+f,A=x[1]+f,M=x[2]+f;r.push(S,A,M),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return fY(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new Hx(r,e.curveSegments)}}function fY(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class mg extends Ot{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],f=new H,p=new H,m=[],g=[],y=[],_=[];for(let v=0;v<=r;v++){const x=[],S=v/r;let A=0;v===0&&o===0?A=.5/t:v===r&&l===Math.PI&&(A=-.5/t);for(let M=0;M<=t;M++){const E=M/t;f.x=-e*Math.cos(i+E*s)*Math.sin(o+S*a),f.y=e*Math.cos(o+S*a),f.z=e*Math.sin(i+E*s)*Math.sin(o+S*a),g.push(f.x,f.y,f.z),p.copy(f).normalize(),y.push(p.x,p.y,p.z),_.push(E+A,1-S),x.push(c++)}u.push(x)}for(let v=0;v<r;v++)for(let x=0;x<t;x++){const S=u[v][x+1],A=u[v][x],M=u[v+1][x],E=u[v+1][x+1];(v!==0||o>0)&&m.push(S,A,E),(v!==r-1||l<Math.PI)&&m.push(A,M,E)}this.setIndex(m),this.setAttribute("position",new lt(g,3)),this.setAttribute("normal",new lt(y,3)),this.setAttribute("uv",new lt(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mg(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Gx extends vc{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Gx(e.radius,e.detail)}}class Vx extends Ot{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new H,f=new H,p=new H;for(let m=0;m<=r;m++)for(let g=0;g<=i;g++){const y=g/i*s,_=m/r*Math.PI*2;f.x=(e+t*Math.cos(_))*Math.cos(y),f.y=(e+t*Math.cos(_))*Math.sin(y),f.z=t*Math.sin(_),a.push(f.x,f.y,f.z),u.x=e*Math.cos(y),u.y=e*Math.sin(y),p.subVectors(f,u).normalize(),l.push(p.x,p.y,p.z),c.push(g/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let g=1;g<=i;g++){const y=(i+1)*m+g-1,_=(i+1)*(m-1)+g-1,v=(i+1)*(m-1)+g,x=(i+1)*m+g;o.push(y,_,x),o.push(_,v,x)}this.setIndex(o),this.setAttribute("position",new lt(a,3)),this.setAttribute("normal",new lt(l,3)),this.setAttribute("uv",new lt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vx(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class $x extends Ot{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],f=new H,p=new H,m=new H,g=new H,y=new H,_=new H,v=new H;for(let S=0;S<=r;++S){const A=S/r*s*Math.PI*2;x(A,s,o,e,m),x(A+.01,s,o,e,g),_.subVectors(g,m),v.addVectors(g,m),y.crossVectors(_,v),v.crossVectors(y,_),y.normalize(),v.normalize();for(let M=0;M<=i;++M){const E=M/i*Math.PI*2,R=-t*Math.cos(E),I=t*Math.sin(E);f.x=m.x+(R*v.x+I*y.x),f.y=m.y+(R*v.y+I*y.y),f.z=m.z+(R*v.z+I*y.z),l.push(f.x,f.y,f.z),p.subVectors(f,m).normalize(),c.push(p.x,p.y,p.z),u.push(S/r),u.push(M/i)}}for(let S=1;S<=r;S++)for(let A=1;A<=i;A++){const M=(i+1)*(S-1)+(A-1),E=(i+1)*S+(A-1),R=(i+1)*S+A,I=(i+1)*(S-1)+A;a.push(M,E,I),a.push(E,R,I)}this.setIndex(a),this.setAttribute("position",new lt(l,3)),this.setAttribute("normal",new lt(c,3)),this.setAttribute("uv",new lt(u,2));function x(S,A,M,E,R){const I=Math.cos(S),T=Math.sin(S),P=M/A*S,B=Math.cos(P);R.x=E*(2+B)*.5*I,R.y=E*(2+B)*T*.5,R.z=E*Math.sin(P)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $x(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Wx extends Ot{constructor(e=new AC(new H(-1,-1,0),new H(-1,1,0),new H(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new H,l=new H,c=new xe;let u=new H;const f=[],p=[],m=[],g=[];y(),this.setIndex(g),this.setAttribute("position",new lt(f,3)),this.setAttribute("normal",new lt(p,3)),this.setAttribute("uv",new lt(m,2));function y(){for(let S=0;S<t;S++)_(S);_(s===!1?t:0),x(),v()}function _(S){u=e.getPointAt(S/t,u);const A=o.normals[S],M=o.binormals[S];for(let E=0;E<=i;E++){const R=E/i*Math.PI*2,I=Math.sin(R),T=-Math.cos(R);l.x=T*A.x+I*M.x,l.y=T*A.y+I*M.y,l.z=T*A.z+I*M.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,f.push(a.x,a.y,a.z)}}function v(){for(let S=1;S<=t;S++)for(let A=1;A<=i;A++){const M=(i+1)*(S-1)+(A-1),E=(i+1)*S+(A-1),R=(i+1)*S+A,I=(i+1)*(S-1)+A;g.push(M,E,I),g.push(E,R,I)}}function x(){for(let S=0;S<=t;S++)for(let A=0;A<=i;A++)c.x=S/t,c.y=A/i,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Wx(new h_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class DU extends Ot{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new H,s=new H;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],p=f.start,m=f.count;for(let g=p,y=p+m;g<y;g+=3)for(let _=0;_<3;_++){const v=a.getX(g+_),x=a.getX(g+(_+1)%3);i.fromBufferAttribute(o,v),s.fromBufferAttribute(o,x),iI(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,f=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,f),iI(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new lt(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function iI(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var sI=Object.freeze({__proto__:null,BoxGeometry:gc,CapsuleGeometry:Ix,CircleGeometry:Bx,ConeGeometry:Dx,CylinderGeometry:xh,DodecahedronGeometry:kx,EdgesGeometry:EC,ExtrudeGeometry:Fx,IcosahedronGeometry:Ux,LatheGeometry:hg,OctahedronGeometry:pg,PlaneGeometry:yh,PolyhedronGeometry:vc,RingGeometry:zx,ShapeGeometry:Hx,SphereGeometry:mg,TetrahedronGeometry:Gx,TorusGeometry:Vx,TorusKnotGeometry:$x,TubeGeometry:Wx,WireframeGeometry:DU});class kU extends hr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ke(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class NU extends qs{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class gg extends hr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ke(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mc,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class la extends gg{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new xe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return qn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ke(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ke(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ke(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class FU extends hr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ke(16777215),this.specular=new ke(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mc,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=sg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class UU extends hr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ke(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mc,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class zU extends hr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mc,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class HU extends hr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mc,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=sg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class GU extends hr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ke(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=mc,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class VU extends ci{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function su(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function $U(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function WU(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function OE(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function MC(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function dY(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),f=[],p=[];for(let m=0;m<c.times.length;++m){const g=c.times[m]*i;if(!(g<t||g>=r)){f.push(c.times[m]);for(let y=0;y<u;++y)p.push(c.values[m*u+y])}}f.length!==0&&(c.times=su(f,c.times.constructor),c.values=su(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function hY(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(v){return v.name===a.name&&v.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const g=a.times.length-1;let y;if(s<=a.times[0]){const v=u,x=f-u;y=a.values.slice(v,x)}else if(s>=a.times[g]){const v=g*f+u,x=v+f-u;y=a.values.slice(v,x)}else{const v=a.createInterpolant(),x=u,S=f-u;v.evaluate(s),y=v.resultBuffer.slice(x,S)}l==="quaternion"&&new Lr().fromArray(y).normalize().conjugate().toArray(y);const _=c.times.length;for(let v=0;v<_;++v){const x=v*m+p;if(l==="quaternion")Lr.multiplyQuaternionsFlat(c.values,x,y,0,c.values,x);else{const S=m-p*2;for(let A=0;A<S;++A)c.values[x+A]-=y[A]}}}return n.blendMode=ZT,n}const pY={convertArray:su,isTypedArray:$U,getKeyframeOrder:WU,sortedArray:OE,flattenJSON:MC,subclip:dY,makeClipAdditive:hY};class Sh{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class jU extends Sh{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:nu,endingEnd:nu}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case ru:s=e,a=2*t-r;break;case Am:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case ru:o=e,l=2*r-t;break;case Am:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,f=this._offsetNext,p=this._weightPrev,m=this._weightNext,g=(r-t)/(i-t),y=g*g,_=y*g,v=-p*_+2*p*y-p*g,x=(1+p)*_+(-1.5-2*p)*y+(-.5+p)*g+1,S=(-1-m)*_+(1.5+m)*y+.5*g,A=m*_-m*y;for(let M=0;M!==a;++M)s[M]=v*o[u+M]+x*o[c+M]+S*o[l+M]+A*o[f+M];return s}}class TC extends Sh{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),f=1-u;for(let p=0;p!==a;++p)s[p]=o[c+p]*f+o[l+p]*u;return s}}class XU extends Sh{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Eo{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=su(t,this.TimeBufferType),this.values=su(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:su(e.times,Array),values:su(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new XU(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new TC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new jU(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case zd:t=this.InterpolantFactoryMethodDiscrete;break;case Cu:t=this.InterpolantFactoryMethodLinear;break;case Sy:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return zd;case this.InterpolantFactoryMethodLinear:return Cu;case this.InterpolantFactoryMethodSmooth:return Sy}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&$U(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===Sy,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const f=a*r,p=f-r,m=f+r;for(let g=0;g!==r;++g){const y=t[f+g];if(y!==t[p+g]||y!==t[m+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,p=o*r;for(let m=0;m!==r;++m)t[p+m]=t[f+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Eo.prototype.TimeBufferType=Float32Array;Eo.prototype.ValueBufferType=Float32Array;Eo.prototype.DefaultInterpolation=Cu;class Hu extends Eo{}Hu.prototype.ValueTypeName="bool";Hu.prototype.ValueBufferType=Array;Hu.prototype.DefaultInterpolation=zd;Hu.prototype.InterpolantFactoryMethodLinear=void 0;Hu.prototype.InterpolantFactoryMethodSmooth=void 0;class CC extends Eo{}CC.prototype.ValueTypeName="color";class Wd extends Eo{}Wd.prototype.ValueTypeName="number";class KU extends Sh{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)Lr.slerpFlat(s,0,o,c-a,o,c,l);return s}}class rc extends Eo{InterpolantFactoryMethodLinear(e){return new KU(this.times,this.values,this.getValueSize(),e)}}rc.prototype.ValueTypeName="quaternion";rc.prototype.DefaultInterpolation=Cu;rc.prototype.InterpolantFactoryMethodSmooth=void 0;class Gu extends Eo{}Gu.prototype.ValueTypeName="string";Gu.prototype.ValueBufferType=Array;Gu.prototype.DefaultInterpolation=zd;Gu.prototype.InterpolantFactoryMethodLinear=void 0;Gu.prototype.InterpolantFactoryMethodSmooth=void 0;class jd extends Eo{}jd.prototype.ValueTypeName="vector";class Xd{constructor(e,t=-1,r,i=Ax){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=us(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(gY(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(Eo.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=WU(l);l=OE(l,1,u),c=OE(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Wd(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const f=u[1];let p=i[f];p||(i[f]=p=[]),p.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,p,m,g,y){if(m.length!==0){const _=[],v=[];MC(m,_,v,g),_.length!==0&&y.push(new f(p,_,v))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const p=c[f].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let g;for(g=0;g<p.length;g++)if(p[g].morphTargets)for(let y=0;y<p[g].morphTargets.length;y++)m[p[g].morphTargets[y]]=-1;for(const y in m){const _=[],v=[];for(let x=0;x!==p[g].morphTargets.length;++x){const S=p[g];_.push(S.time),v.push(S.morphTarget===y?1:0)}i.push(new Wd(".morphTargetInfluence["+y+"]",_,v))}l=m.length*o}else{const m=".bones["+t[f].name+"]";r(jd,m+".position",p,"pos",i),r(rc,m+".quaternion",p,"rot",i),r(jd,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function mY(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Wd;case"vector":case"vector2":case"vector3":case"vector4":return jd;case"color":return CC;case"quaternion":return rc;case"bool":case"boolean":return Hu;case"string":return Gu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function gY(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=mY(n.type);if(n.times===void 0){const t=[],r=[];MC(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Fa={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class RC{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,p=c.length;f<p;f+=2){const m=c[f],g=c[f+1];if(m.global&&(m.lastIndex=0),m.test(u))return g}return null}}}const od=new RC;class ui{constructor(e){this.manager=e!==void 0?e:od,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}ui.DEFAULT_MATERIAL_NAME="__DEFAULT";const Aa={};class vY extends Error{constructor(e,t){super(e),this.response=t}}class ms extends ui{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Fa.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Aa[e]!==void 0){Aa[e].push({onLoad:t,onProgress:r,onError:i});return}Aa[e]=[],Aa[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Aa[e],f=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,g=m!==0;let y=0;const _=new ReadableStream({start(v){x();function x(){f.read().then(({done:S,value:A})=>{if(S)v.close();else{y+=A.byteLength;const M=new ProgressEvent("progress",{lengthComputable:g,loaded:y,total:m});for(let E=0,R=u.length;E<R;E++){const I=u[E];I.onProgress&&I.onProgress(M)}v.enqueue(A),x()}})}}});return new Response(_)}else throw new vY(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),p=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(g=>m.decode(g))}}}).then(c=>{Fa.add(e,c);const u=Aa[e];delete Aa[e];for(let f=0,p=u.length;f<p;f++){const m=u[f];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=Aa[e];if(u===void 0)throw this.manager.itemError(e),c;delete Aa[e];for(let f=0,p=u.length;f<p;f++){const m=u[f];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class yY extends ui{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new ms(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Xd.parse(e[r]);t.push(i)}return t}}class _Y extends ui{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new Ox,l=new ms(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(f){l.load(e[f],function(p){const m=s.parse(p,!0);o[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=Nn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let f=0,p=e.length;f<p;++f)u(f);else l.load(e,function(f){const p=s.parse(f,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let y=0;y<p.mipmapCount;y++)o[g].mipmaps.push(p.mipmaps[g*p.mipmapCount+y]),o[g].format=p.format,o[g].width=p.width,o[g].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=Nn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class Im extends ui{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Fa.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Cm("img");function l(){u(),Fa.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(f){u(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class xY extends ui{constructor(e){super(e)}load(e,t,r,i){const s=new cg;s.colorSpace=vr;const o=new Im(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class SY extends ui{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new pu,a=new ms(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Hr,o.wrapT=c.wrapT!==void 0?c.wrapT:Hr,o.magFilter=c.magFilter!==void 0?c.magFilter:Nn,o.minFilter=c.minFilter!==void 0?c.minFilter:Nn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=na),c.mipmapCount===1&&(o.minFilter=Nn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},r,i),o}}class vg extends ui{constructor(e){super(e)}load(e,t,r,i){const s=new Cn,o=new Im(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class yc extends Xt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ke(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class YU extends yc{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Xt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ke(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Zb=new _t,oI=new H,aI=new H;class PC{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new xe(512,512),this.map=null,this.mapPass=null,this.matrix=new _t,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new ug,this._frameExtents=new xe(1,1),this._viewportCount=1,this._viewports=[new rn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;oI.setFromMatrixPosition(e.matrixWorld),t.position.copy(oI),aI.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(aI),t.updateMatrixWorld(),Zb.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Zb),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(Zb)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class bY extends PC{constructor(){super(new Sn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=Gd*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class OC extends yc{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Xt.DEFAULT_UP),this.updateMatrix(),this.target=new Xt,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new bY}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const lI=new _t,gp=new H,eA=new H;class AY extends PC{constructor(){super(new Sn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new xe(4,2),this._viewportCount=6,this._viewports=[new rn(2,1,1,1),new rn(0,1,1,1),new rn(3,1,1,1),new rn(1,1,1,1),new rn(3,0,1,1),new rn(1,0,1,1)],this._cubeDirections=[new H(1,0,0),new H(-1,0,0),new H(0,0,1),new H(0,0,-1),new H(0,1,0),new H(0,-1,0)],this._cubeUps=[new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,1,0),new H(0,0,1),new H(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),gp.setFromMatrixPosition(e.matrixWorld),r.position.copy(gp),eA.copy(r.position),eA.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(eA),r.updateMatrixWorld(),i.makeTranslation(-gp.x,-gp.y,-gp.z),lI.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(lI)}}class LC extends yc{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new AY}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class wY extends PC{constructor(){super(new $s(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class IC extends yc{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Xt.DEFAULT_UP),this.updateMatrix(),this.target=new Xt,this.shadow=new wY}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class JU extends yc{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class qU extends yc{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class QU{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new H)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class ZU extends yc{constructor(e=new QU,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class jx extends ui{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new ms(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=jx.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new ke().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new ke().setHex(o.value);break;case"v2":i.uniforms[s].value=new xe().fromArray(o.value);break;case"v3":i.uniforms[s].value=new H().fromArray(o.value);break;case"v4":i.uniforms[s].value=new rn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new kt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new _t().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new xe().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new xe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:kU,SpriteMaterial:pC,RawShaderMaterial:NU,ShaderMaterial:qs,PointsMaterial:Px,MeshPhysicalMaterial:la,MeshStandardMaterial:gg,MeshPhongMaterial:FU,MeshToonMaterial:UU,MeshNormalMaterial:zU,MeshLambertMaterial:HU,MeshDepthMaterial:fC,MeshDistanceMaterial:dC,MeshBasicMaterial:as,MeshMatcapMaterial:GU,LineDashedMaterial:VU,LineBasicMaterial:ci,Material:hr};return new t[e]}}class qo{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class ez extends Ot{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class tz extends ui{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new ms(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,g){if(t[g]!==void 0)return t[g];const _=m.interleavedBuffers[g],v=s(m,_.buffer),x=nd(_.type,v),S=new fg(x,_.stride);return S.uuid=_.uuid,t[g]=S,S}function s(m,g){if(r[g]!==void 0)return r[g];const _=m.arrayBuffers[g],v=new Uint32Array(_).buffer;return r[g]=v,v}const o=e.isInstancedBufferGeometry?new ez:new Ot,a=e.data.index;if(a!==void 0){const m=nd(a.type,a.array);o.setIndex(new Kt(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let y;if(g.isInterleavedBufferAttribute){const _=i(e.data,g.data);y=new nc(_,g.itemSize,g.offset,g.normalized)}else{const _=nd(g.type,g.array),v=g.isInstancedBufferAttribute?$d:Kt;y=new v(_,g.itemSize,g.normalized)}g.name!==void 0&&(y.name=g.name),g.usage!==void 0&&y.setUsage(g.usage),o.setAttribute(m,y)}const c=e.data.morphAttributes;if(c)for(const m in c){const g=c[m],y=[];for(let _=0,v=g.length;_<v;_++){const x=g[_];let S;if(x.isInterleavedBufferAttribute){const A=i(e.data,x.data);S=new nc(A,x.itemSize,x.offset,x.normalized)}else{const A=nd(x.type,x.array);S=new Kt(A,x.itemSize,x.normalized)}x.name!==void 0&&(S.name=x.name),y.push(S)}o.morphAttributes[m]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,g=f.length;m!==g;++m){const y=f[m];o.addGroup(y.start,y.count,y.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new H;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Vr(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class EY extends ui{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?qo.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new ms(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?qo.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new ms(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let f=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new mu().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new dg().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new tz;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in sI?a=sI[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new jx;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Xd.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:nd(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new RC(t);s=new Im(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],p=f.url;if(Array.isArray(p)){const m=[];for(let g=0,y=p.length;g<y;g++){const _=p[g],v=a(_);v!==null&&(v instanceof HTMLImageElement?m.push(v):m.push(new pu(v.data,v.width,v.height)))}i[f.uuid]=new iu(m)}else{const m=a(f.url);i[f.uuid]=new iu(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:nd(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Im(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,p=c.length;f<p;f++){const m=c[f],g=await s(m);g!==null&&(g instanceof HTMLImageElement?u.push(g):u.push(new pu(g.data,g.width,g.height)))}r[l.uuid]=new iu(u)}else{const u=await s(l.url);r[l.uuid]=new iu(u)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new cg,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new pu:u=new Cn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,MY)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],cI),u.wrapT=r(a.wrap[1],cI)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,uI)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,uI)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,t,r,i,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let g=0,y=p.length;g<y;g++){const _=p[g];r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),m.push(r[_])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function c(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let u,f;switch(e.type){case"Scene":o=new d_,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ke(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Cx(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Tx(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Sn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new $s(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new JU(e.color,e.intensity);break;case"DirectionalLight":o=new IC(e.color,e.intensity);break;case"PointLight":o=new LC(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new qU(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new OC(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new YU(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new ZU().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),f=l(e.material),o=new mC(u,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),f=l(e.material),o=new sr(u,f);break;case"InstancedMesh":u=a(e.geometry),f=l(e.material);const p=e.count,m=e.instanceMatrix,g=e.instanceColor;o=new gC(u,f,p),o.instanceMatrix=new $d(new Float32Array(m.array),16),g!==void 0&&(o.instanceColor=new $d(new Float32Array(g.array),g.itemSize));break;case"BatchedMesh":u=a(e.geometry),f=l(e.material),o=new MU(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,f),o.geometry=u,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(y=>{const _=new si;_.min.fromArray(y.boxMin),_.max.fromArray(y.boxMax);const v=new Vr;return v.radius=y.sphereRadius,v.center.fromArray(y.sphereCenter),{boxInitialized:y.boxInitialized,box:_,sphereInitialized:y.sphereInitialized,sphere:v}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":o=new EU;break;case"Line":o=new Ka(a(e.geometry),l(e.material));break;case"LineLoop":o=new vC(a(e.geometry),l(e.material));break;case"LineSegments":o=new Ao(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new yC(a(e.geometry),l(e.material));break;case"Sprite":o=new wU(l(e.material));break;case"Group":o=new Na;break;case"Bone":o=new Rx;break;default:o=new Xt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const g=p[m];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const g=p[m],y=o.getObjectByProperty("uuid",g.object);y!==void 0&&o.addLevel(y,g.distance,g.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const MY={UVMapping:xx,CubeReflectionMapping:Xa,CubeRefractionMapping:tc,EquirectangularReflectionMapping:xm,EquirectangularRefractionMapping:Sm,CubeUVReflectionMapping:vh},cI={RepeatWrapping:Mn,ClampToEdgeWrapping:Hr,MirroredRepeatWrapping:Fd},uI={NearestFilter:Jn,NearestMipmapNearestFilter:bm,NearestMipmapLinearFilter:_d,LinearFilter:Nn,LinearMipmapNearestFilter:Sx,LinearMipmapLinearFilter:na};class nz extends ui{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Fa.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{t&&t(c),s.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return Fa.add(e,c),t&&t(c),s.manager.itemEnd(e),c}).catch(function(c){i&&i(c),Fa.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Fa.add(e,l),s.manager.itemStart(e)}}let Lv;class BC{static getContext(){return Lv===void 0&&(Lv=new(window.AudioContext||window.webkitAudioContext)),Lv}static setContext(e){Lv=e}}class TY extends ui{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new ms(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);BC.getContext().decodeAudioData(c,function(f){t(f)}).catch(a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const fI=new _t,dI=new _t,kc=new _t;class CY{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Sn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Sn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,kc.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(du*t.fov*.5)/t.zoom;let a,l;dI.elements[12]=-i,fI.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,kc.elements[0]=2*t.near/(l-a),kc.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(kc),a=-o*t.aspect-s,l=o*t.aspect-s,kc.elements[0]=2*t.near/(l-a),kc.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(kc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(dI),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(fI)}}class DC{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=hI(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=hI();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function hI(){return(typeof performance>"u"?Date:performance).now()}const Nc=new H,pI=new Lr,RY=new H,Fc=new H;class PY extends Xt{constructor(){super(),this.type="AudioListener",this.context=BC.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new DC}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Nc,pI,RY),Fc.set(0,0,-1).applyQuaternion(pI),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Nc.x,i),t.positionY.linearRampToValueAtTime(Nc.y,i),t.positionZ.linearRampToValueAtTime(Nc.z,i),t.forwardX.linearRampToValueAtTime(Fc.x,i),t.forwardY.linearRampToValueAtTime(Fc.y,i),t.forwardZ.linearRampToValueAtTime(Fc.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Nc.x,Nc.y,Nc.z),t.setOrientation(Fc.x,Fc.y,Fc.z,r.x,r.y,r.z)}}class rz extends Xt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Uc=new H,mI=new Lr,OY=new H,zc=new H;class LY extends rz{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Uc,mI,OY),zc.set(0,0,1).applyQuaternion(mI);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Uc.x,r),t.positionY.linearRampToValueAtTime(Uc.y,r),t.positionZ.linearRampToValueAtTime(Uc.z,r),t.orientationX.linearRampToValueAtTime(zc.x,r),t.orientationY.linearRampToValueAtTime(zc.y,r),t.orientationZ.linearRampToValueAtTime(zc.z,r)}else t.setPosition(Uc.x,Uc.y,Uc.z),t.setOrientation(zc.x,zc.y,zc.z)}}class IY{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class iz{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Lr.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;Lr.multiplyQuaternionsFlat(e,o,e,t,e,r),Lr.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const kC="\\[\\]\\.:\\/",BY=new RegExp("["+kC+"]","g"),NC="[^"+kC+"]",DY="[^"+kC.replace("\\.","")+"]",kY=/((?:WC+[\/:])*)/.source.replace("WC",NC),NY=/(WCOD+)?/.source.replace("WCOD",DY),FY=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",NC),UY=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",NC),zY=new RegExp("^"+kY+NY+FY+UY+"$"),HY=["material","materials","bones","map"];class GY{constructor(e,t,r){const i=r||jt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class jt{constructor(e,t,r){this.path=t,this.parsedPath=r||jt.parseTrackName(t),this.node=jt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new jt.Composite(e,t,r):new jt(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(BY,"")}static parseTrackName(e){const t=zY.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);HY.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=jt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}jt.Composite=GY;jt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};jt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};jt.prototype.GetterByBindingType=[jt.prototype._getValue_direct,jt.prototype._getValue_array,jt.prototype._getValue_arrayElement,jt.prototype._getValue_toArray];jt.prototype.SetterByBindingTypeAndVersioning=[[jt.prototype._setValue_direct,jt.prototype._setValue_direct_setNeedsUpdate,jt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[jt.prototype._setValue_array,jt.prototype._setValue_array_setNeedsUpdate,jt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[jt.prototype._setValue_arrayElement,jt.prototype._setValue_arrayElement_setNeedsUpdate,jt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[jt.prototype._setValue_fromArray,jt.prototype._setValue_fromArray_setNeedsUpdate,jt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class VY{constructor(){this.isAnimationObjectGroup=!0,this.uuid=us(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const p=arguments[u],m=p.uuid;let g=t[m];if(g===void 0){g=l++,t[m]=g,e.push(p);for(let y=0,_=o;y!==_;++y)s[y].push(new jt(p,r[y],i[y]))}else if(g<c){a=e[g];const y=--c,_=e[y];t[_.uuid]=g,e[g]=_,t[m]=y,e[y]=p;for(let v=0,x=o;v!==x;++v){const S=s[v],A=S[y];let M=S[g];S[g]=A,M===void 0&&(M=new jt(p,r[v],i[v])),S[y]=M}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const f=s++,p=e[f];t[p.uuid]=u,e[u]=p,t[c]=f,e[f]=l;for(let m=0,g=i;m!==g;++m){const y=r[m],_=y[f],v=y[u];y[u]=_,y[f]=v}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,f=t[u];if(f!==void 0)if(delete t[u],f<s){const p=--s,m=e[p],g=--o,y=e[g];t[m.uuid]=f,e[f]=m,t[y.uuid]=p,e[p]=y,e.pop();for(let _=0,v=i;_!==v;++_){const x=r[_],S=x[p],A=x[g];x[f]=S,x[p]=A,x.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=f),e[f]=m,e.pop();for(let g=0,y=i;g!==y;++g){const _=r[g];_[f]=_[p],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(f);for(let p=u,m=l.length;p!==m;++p){const g=l[p];f[p]=new jt(g,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class sz{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:nu,endingEnd:nu};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=XF,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case ZT:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case Ax:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===KF;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===jF){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=ru,i.endingEnd=ru):(e?i.endingStart=this.zeroSlopeAtStart?ru:nu:i.endingStart=Am,t?i.endingEnd=this.zeroSlopeAtEnd?ru:nu:i.endingEnd=Am)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const $Y=new Float32Array(1);class WY extends aa{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==s;++f){const p=i[f],m=p.name;let g=u[m];if(g!==void 0)++g.referenceCount,o[f]=g;else{if(g=o[f],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const y=t&&t._propertyBindings[f].binding.parsedPath;g=new iz(jt.create(r,m,y),p.ValueTypeName,p.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[f]=g}a[f].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete f[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new TC(new Float32Array(2),new Float32Array(2),1,$Y),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?Xd.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=Ax),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new sz(this,o,t,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?Xd.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,f=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,t[u]=f,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class FC{constructor(e){this.value=e}clone(){return new FC(this.value.clone===void 0?this.value:this.value.clone())}}let jY=0;class XY extends aa{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:jY++}),this.name="",this.usage=Tm,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++){const s=Array.isArray(t[r])?t[r]:[t[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class KY extends fg{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class YY{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class oz{constructor(e,t,r=0,i=1/0){this.ray=new zu(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new hu,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return LE(e,this,r,t),r.sort(gI),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)LE(e[i],this,r,t);return r.sort(gI),r}}function gI(n,e){return n.distance-e.distance}function LE(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)LE(i[s],e,t,!0)}}class IE{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(qn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class JY{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const vI=new xe;class qY{constructor(e=new xe(1/0,1/0),t=new xe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=vI.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,vI).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const yI=new H,Iv=new H;class QY{constructor(e=new H,t=new H){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){yI.subVectors(e,this.start),Iv.subVectors(this.end,this.start);const r=Iv.dot(Iv);let s=Iv.dot(yI)/r;return t&&(s=qn(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _I=new H;class ZY extends Xt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new Ot,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new lt(i,3));const s=new ci({fog:!1,toneMapped:!1});this.cone=new Ao(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),_I.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_I),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const bl=new H,Bv=new _t,tA=new _t;class eJ extends Ao{constructor(e){const t=az(e),r=new Ot,i=[],s=[],o=new ke(0,0,1),a=new ke(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new lt(i,3)),r.setAttribute("color",new lt(s,3));const l=new ci({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");tA.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(Bv.multiplyMatrices(tA,a.matrixWorld),bl.setFromMatrixPosition(Bv),i.setXYZ(o,bl.x,bl.y,bl.z),Bv.multiplyMatrices(tA,a.parent.matrixWorld),bl.setFromMatrixPosition(Bv),i.setXYZ(o+1,bl.x,bl.y,bl.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function az(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,az(n.children[t]));return e}class tJ extends sr{constructor(e,t,r){const i=new mg(t,4,2),s=new as({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const nJ=new H,xI=new ke,SI=new ke;class rJ extends Xt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new pg(t);i.rotateY(Math.PI*.5),this.material=new as({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Kt(o,3)),this.add(new sr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");xI.copy(this.light.color),SI.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?xI:SI;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(nJ.setFromMatrixPosition(this.light.matrixWorld).negate())}}class iJ extends Ao{constructor(e=10,t=10,r=4473924,i=8947848){r=new ke(r),i=new ke(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,g=-a;p<=t;p++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const y=p===s?r:i;y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3}const u=new Ot;u.setAttribute("position",new lt(l,3)),u.setAttribute("color",new lt(c,3));const f=new ci({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class sJ extends Ao{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new ke(s),o=new ke(o);const a=[],l=[];if(t>1)for(let f=0;f<t;f++){const p=f/t*(Math.PI*2),m=Math.sin(p)*e,g=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,g);const y=f&1?s:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let f=0;f<r;f++){const p=f&1?s:o,m=e-e/r*f;for(let g=0;g<i;g++){let y=g/i*(Math.PI*2),_=Math.sin(y)*m,v=Math.cos(y)*m;a.push(_,0,v),l.push(p.r,p.g,p.b),y=(g+1)/i*(Math.PI*2),_=Math.sin(y)*m,v=Math.cos(y)*m,a.push(_,0,v),l.push(p.r,p.g,p.b)}}const c=new Ot;c.setAttribute("position",new lt(a,3)),c.setAttribute("color",new lt(l,3));const u=new ci({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const bI=new H,Dv=new H,AI=new H;class oJ extends Xt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Ot;i.setAttribute("position",new lt([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new ci({fog:!1,toneMapped:!1});this.lightPlane=new Ka(i,s),this.add(this.lightPlane),i=new Ot,i.setAttribute("position",new lt([0,0,0,0,0,1],3)),this.targetLine=new Ka(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),bI.setFromMatrixPosition(this.light.matrixWorld),Dv.setFromMatrixPosition(this.light.target.matrixWorld),AI.subVectors(Dv,bI),this.lightPlane.lookAt(Dv),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Dv),this.targetLine.scale.z=AI.length()}}const kv=new H,jn=new lg;class aJ extends Ao{constructor(e){const t=new Ot,r=new ci({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,y){l(g),l(y)}function l(g){i.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}t.setAttribute("position",new lt(i,3)),t.setAttribute("color",new lt(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new ke(16755200),u=new ke(16711680),f=new ke(43775),p=new ke(16777215),m=new ke(3355443);this.setColors(c,u,f,p,m)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;jn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),nr("c",t,e,jn,0,0,-1),nr("t",t,e,jn,0,0,1),nr("n1",t,e,jn,-r,-i,-1),nr("n2",t,e,jn,r,-i,-1),nr("n3",t,e,jn,-r,i,-1),nr("n4",t,e,jn,r,i,-1),nr("f1",t,e,jn,-r,-i,1),nr("f2",t,e,jn,r,-i,1),nr("f3",t,e,jn,-r,i,1),nr("f4",t,e,jn,r,i,1),nr("u1",t,e,jn,r*.7,i*1.1,-1),nr("u2",t,e,jn,-r*.7,i*1.1,-1),nr("u3",t,e,jn,0,i*2,-1),nr("cf1",t,e,jn,-r,0,1),nr("cf2",t,e,jn,r,0,1),nr("cf3",t,e,jn,0,-i,1),nr("cf4",t,e,jn,0,i,1),nr("cn1",t,e,jn,-r,0,-1),nr("cn2",t,e,jn,r,0,-1),nr("cn3",t,e,jn,0,-i,-1),nr("cn4",t,e,jn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function nr(n,e,t,r,i,s,o){kv.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],kv.x,kv.y,kv.z)}}const Nv=new si;class lJ extends Ao{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Ot;s.setIndex(new Kt(r,1)),s.setAttribute("position",new Kt(i,3)),super(s,new ci({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Nv.setFromObject(this.object),Nv.isEmpty())return;const t=Nv.min,r=Nv.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class cJ extends Ao{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Ot;s.setIndex(new Kt(r,1)),s.setAttribute("position",new lt(i,3)),super(s,new ci({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class uJ extends Ka{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Ot;o.setAttribute("position",new lt(s,3)),o.computeBoundingSphere(),super(o,new ci({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Ot;l.setAttribute("position",new lt(a,3)),l.computeBoundingSphere(),this.add(new sr(l,new as({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const wI=new H;let Fv,nA;class fJ extends Xt{constructor(e=new H(0,0,1),t=new H(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",Fv===void 0&&(Fv=new Ot,Fv.setAttribute("position",new lt([0,0,0,0,1,0],3)),nA=new xh(0,.5,1,5,1),nA.translate(0,-.5,0)),this.position.copy(t),this.line=new Ka(Fv,new ci({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new sr(nA,new as({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{wI.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(wI,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class dJ extends Ao{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Ot;i.setAttribute("position",new lt(t,3)),i.setAttribute("color",new lt(r,3));const s=new ci({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new ke,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class hJ{constructor(){this.type="ShapePath",this.color=new ke,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Rm,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(v){const x=[];for(let S=0,A=v.length;S<A;S++){const M=v[S],E=new mu;E.curves=M.curves,x.push(E)}return x}function r(v,x){const S=x.length;let A=!1;for(let M=S-1,E=0;E<S;M=E++){let R=x[M],I=x[E],T=I.x-R.x,P=I.y-R.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(R=x[E],T=-T,I=x[M],P=-P),v.y<R.y||v.y>I.y)continue;if(v.y===R.y){if(v.x===R.x)return!0}else{const B=P*(v.x-R.x)-T*(v.y-R.y);if(B===0)return!0;if(B<0)continue;A=!A}}else{if(v.y!==R.y)continue;if(I.x<=v.x&&v.x<=R.x||R.x<=v.x&&v.x<=I.x)return!0}}return A}const i=Jo.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new mu,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const f=[],p=[];let m=[],g=0,y;p[g]=void 0,m[g]=[];for(let v=0,x=s.length;v<x;v++)a=s[v],y=a.getPoints(),o=i(y),o=e?!o:o,o?(!u&&p[g]&&g++,p[g]={s:new mu,p:y},p[g].s.curves=a.curves,u&&g++,m[g]=[]):m[g].push({h:a,p:y[0]});if(!p[0])return t(s);if(p.length>1){let v=!1,x=0;for(let S=0,A=p.length;S<A;S++)f[S]=[];for(let S=0,A=p.length;S<A;S++){const M=m[S];for(let E=0;E<M.length;E++){const R=M[E];let I=!0;for(let T=0;T<p.length;T++)r(R.p,p[T].p)&&(S!==T&&x++,I?(I=!1,f[T].push(R)):v=!0);I&&f[S].push(R)}}x>0&&v===!1&&(m=f)}let _;for(let v=0,x=p.length;v<x;v++){l=p[v].s,c.push(l),_=m[v];for(let S=0,A=_.length;S<A;S++)l.holes.push(_[S].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:ig}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=ig);const pJ=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:WT,AddEquation:Ll,AddOperation:OF,AdditiveAnimationBlendMode:ZT,AdditiveBlending:jw,AgXToneMapping:kF,AlphaFormat:zF,AlwaysCompare:sU,AlwaysDepth:wF,AlwaysStencilFunc:AE,AmbientLight:JU,AnimationAction:sz,AnimationClip:Xd,AnimationLoader:yY,AnimationMixer:WY,AnimationObjectGroup:VY,AnimationUtils:pY,ArcCurve:TU,ArrayCamera:SU,ArrowHelper:fJ,AttachedBindMode:qw,Audio:rz,AudioAnalyser:IY,AudioContext:BC,AudioListener:PY,AudioLoader:TY,AxesHelper:dJ,BackSide:ii,BasicDepthPacking:JF,BasicShadowMap:oF,BatchedMesh:MU,Bone:Rx,BooleanKeyframeTrack:Hu,Box2:qY,Box3:si,Box3Helper:cJ,BoxGeometry:gc,BoxHelper:lJ,BufferAttribute:Kt,BufferGeometry:Ot,BufferGeometryLoader:tz,ByteType:FF,Cache:Fa,Camera:lg,CameraHelper:aJ,CanvasTexture:FK,CapsuleGeometry:Ix,CatmullRomCurve3:CU,CineonToneMapping:BF,CircleGeometry:Bx,ClampToEdgeWrapping:Hr,Clock:DC,Color:ke,ColorKeyframeTrack:CC,ColorManagement:nn,CompressedArrayTexture:kK,CompressedCubeTexture:NK,CompressedTexture:Ox,CompressedTextureLoader:_Y,ConeGeometry:Dx,ConstantAlphaFactor:SF,ConstantColorFactor:_F,CubeCamera:dU,CubeReflectionMapping:Xa,CubeRefractionMapping:tc,CubeTexture:cg,CubeTextureLoader:xY,CubeUVReflectionMapping:vh,CubicBezierCurve:xC,CubicBezierCurve3:RU,CubicInterpolant:jU,CullFaceBack:Ww,CullFaceFront:sF,CullFaceFrontBack:RV,CullFaceNone:iF,Curve:wo,CurvePath:OU,CustomBlending:aF,CustomToneMapping:DF,CylinderGeometry:xh,Cylindrical:JY,Data3DTexture:sC,DataArrayTexture:Ex,DataTexture:pu,DataTextureLoader:SY,DataUtils:D$,DecrementStencilOp:FV,DecrementWrapStencilOp:zV,DefaultLoadingManager:od,DepthFormat:Yl,DepthStencilFormat:Tu,DepthTexture:uC,DetachedBindMode:NF,DirectionalLight:IC,DirectionalLightHelper:oJ,DiscreteInterpolant:XU,DisplayP3ColorSpace:wx,DodecahedronGeometry:kx,DoubleSide:Hs,DstAlphaFactor:pF,DstColorFactor:gF,DynamicCopyUsage:t$,DynamicDrawUsage:YV,DynamicReadUsage:QV,EdgesGeometry:EC,EllipseCurve:Lx,EqualCompare:tU,EqualDepth:MF,EqualStencilFunc:$V,EquirectangularReflectionMapping:xm,EquirectangularRefractionMapping:Sm,Euler:ag,EventDispatcher:aa,ExtrudeGeometry:Fx,FileLoader:ms,Float16BufferAttribute:H$,Float32BufferAttribute:lt,Float64BufferAttribute:G$,FloatType:go,Fog:Cx,FogExp2:Tx,FramebufferTexture:DK,FrontSide:ta,Frustum:ug,GLBufferAttribute:YY,GLSL1:r$,GLSL3:wE,GreaterCompare:nU,GreaterDepth:CF,GreaterEqualCompare:iU,GreaterEqualDepth:TF,GreaterEqualStencilFunc:KV,GreaterStencilFunc:jV,GridHelper:iJ,Group:Na,HalfFloatType:Ud,HemisphereLight:YU,HemisphereLightHelper:rJ,IcosahedronGeometry:Ux,ImageBitmapLoader:nz,ImageLoader:Im,ImageUtils:iC,IncrementStencilOp:NV,IncrementWrapStencilOp:UV,InstancedBufferAttribute:$d,InstancedBufferGeometry:ez,InstancedInterleavedBuffer:KY,InstancedMesh:gC,Int16BufferAttribute:U$,Int32BufferAttribute:z$,Int8BufferAttribute:k$,IntType:jT,InterleavedBuffer:fg,InterleavedBufferAttribute:nc,Interpolant:Sh,InterpolateDiscrete:zd,InterpolateLinear:Cu,InterpolateSmooth:Sy,InvertStencilOp:HV,KeepStencilOp:Kc,KeyframeTrack:Eo,LOD:EU,LatheGeometry:hg,Layers:hu,LessCompare:eU,LessDepth:EF,LessEqualCompare:nC,LessEqualDepth:_m,LessEqualStencilFunc:WV,LessStencilFunc:VV,Light:yc,LightProbe:ZU,Line:Ka,Line3:QY,LineBasicMaterial:ci,LineCurve:SC,LineCurve3:PU,LineDashedMaterial:VU,LineLoop:vC,LineSegments:Ao,LinearDisplayP3ColorSpace:og,LinearEncoding:tC,LinearFilter:Nn,LinearInterpolant:TC,LinearMipMapLinearFilter:BV,LinearMipMapNearestFilter:IV,LinearMipmapLinearFilter:na,LinearMipmapNearestFilter:Sx,LinearSRGBColorSpace:ra,LinearToneMapping:LF,LinearTransfer:wm,Loader:ui,LoaderUtils:qo,LoadingManager:RC,LoopOnce:jF,LoopPingPong:KF,LoopRepeat:XF,LuminanceAlphaFormat:GF,LuminanceFormat:HF,MOUSE:jc,Material:hr,MaterialLoader:jx,MathUtils:oU,Matrix3:kt,Matrix4:_t,MaxEquation:Jw,Mesh:sr,MeshBasicMaterial:as,MeshDepthMaterial:fC,MeshDistanceMaterial:dC,MeshLambertMaterial:HU,MeshMatcapMaterial:GU,MeshNormalMaterial:zU,MeshPhongMaterial:FU,MeshPhysicalMaterial:la,MeshStandardMaterial:gg,MeshToonMaterial:UU,MinEquation:Yw,MirroredRepeatWrapping:Fd,MixOperation:PF,MultiplyBlending:Kw,MultiplyOperation:sg,NearestFilter:Jn,NearestMipMapLinearFilter:LV,NearestMipMapNearestFilter:OV,NearestMipmapLinearFilter:_d,NearestMipmapNearestFilter:bm,NeverCompare:ZF,NeverDepth:AF,NeverStencilFunc:GV,NoBlending:za,NoColorSpace:rs,NoToneMapping:Ko,NormalAnimationBlendMode:Ax,NormalBlending:fu,NotEqualCompare:rU,NotEqualDepth:RF,NotEqualStencilFunc:XV,NumberKeyframeTrack:Wd,Object3D:Xt,ObjectLoader:EY,ObjectSpaceNormalMap:QF,OctahedronGeometry:pg,OneFactor:fF,OneMinusConstantAlphaFactor:bF,OneMinusConstantColorFactor:xF,OneMinusDstAlphaFactor:mF,OneMinusDstColorFactor:vF,OneMinusSrcAlphaFactor:l_,OneMinusSrcColorFactor:hF,OrthographicCamera:$s,P3Primaries:Mm,PCFShadowMap:_x,PCFSoftShadowMap:yd,PMREMGenerator:ME,Path:Rm,PerspectiveCamera:Sn,Plane:Ra,PlaneGeometry:yh,PlaneHelper:uJ,PointLight:LC,PointLightHelper:tJ,Points:yC,PointsMaterial:Px,PolarGridHelper:sJ,PolyhedronGeometry:vc,PositionalAudio:LY,PropertyBinding:jt,PropertyMixer:iz,QuadraticBezierCurve:bC,QuadraticBezierCurve3:AC,Quaternion:Lr,QuaternionKeyframeTrack:rc,QuaternionLinearInterpolant:KU,RED_GREEN_RGTC2_Format:SE,RED_RGTC1_Format:WF,REVISION:ig,RGBADepthPacking:qF,RGBAFormat:Si,RGBAIntegerFormat:qT,RGBA_ASTC_10x10_Format:mE,RGBA_ASTC_10x5_Format:dE,RGBA_ASTC_10x6_Format:hE,RGBA_ASTC_10x8_Format:pE,RGBA_ASTC_12x10_Format:gE,RGBA_ASTC_12x12_Format:vE,RGBA_ASTC_4x4_Format:iE,RGBA_ASTC_5x4_Format:sE,RGBA_ASTC_5x5_Format:oE,RGBA_ASTC_6x5_Format:aE,RGBA_ASTC_6x6_Format:lE,RGBA_ASTC_8x5_Format:cE,RGBA_ASTC_8x6_Format:uE,RGBA_ASTC_8x8_Format:fE,RGBA_BPTC_Format:xy,RGBA_ETC2_EAC_Format:rE,RGBA_PVRTC_2BPPV1_Format:tE,RGBA_PVRTC_4BPPV1_Format:eE,RGBA_S3TC_DXT1_Format:vy,RGBA_S3TC_DXT3_Format:yy,RGBA_S3TC_DXT5_Format:_y,RGB_BPTC_SIGNED_Format:yE,RGB_BPTC_UNSIGNED_Format:_E,RGB_ETC1_Format:QT,RGB_ETC2_Format:nE,RGB_PVRTC_2BPPV1_Format:Zw,RGB_PVRTC_4BPPV1_Format:Qw,RGB_S3TC_DXT1_Format:gy,RGFormat:$F,RGIntegerFormat:JT,RawShaderMaterial:NU,Ray:zu,Raycaster:oz,Rec709Primaries:Em,RectAreaLight:qU,RedFormat:VF,RedIntegerFormat:YT,ReinhardToneMapping:IF,RenderTarget:cU,RepeatWrapping:Mn,ReplaceStencilOp:kV,ReverseSubtractEquation:cF,RingGeometry:zx,SIGNED_RED_GREEN_RGTC2_Format:bE,SIGNED_RED_RGTC1_Format:xE,SRGBColorSpace:vr,SRGBTransfer:pn,Scene:d_,ShaderChunk:Lt,ShaderLib:ho,ShaderMaterial:qs,ShadowMaterial:kU,Shape:mu,ShapeGeometry:Hx,ShapePath:hJ,ShapeUtils:Jo,ShortType:UF,Skeleton:dg,SkeletonHelper:eJ,SkinnedMesh:mC,Source:iu,Sphere:Vr,SphereGeometry:mg,Spherical:IE,SphericalHarmonics3:QU,SplineCurve:wC,SpotLight:OC,SpotLightHelper:ZY,Sprite:wU,SpriteMaterial:pC,SrcAlphaFactor:a_,SrcAlphaSaturateFactor:yF,SrcColorFactor:dF,StaticCopyUsage:e$,StaticDrawUsage:Tm,StaticReadUsage:qV,StereoCamera:CY,StreamCopyUsage:n$,StreamDrawUsage:JV,StreamReadUsage:ZV,StringKeyframeTrack:Gu,SubtractEquation:lF,SubtractiveBlending:Xw,TOUCH:Xc,TangentSpaceNormalMap:mc,TetrahedronGeometry:Gx,Texture:Cn,TextureLoader:vg,TorusGeometry:Vx,TorusKnotGeometry:$x,Triangle:Bi,TriangleFanDrawMode:c_,TriangleStripDrawMode:eC,TrianglesDrawMode:YF,TubeGeometry:Wx,TwoPassDoubleSide:PV,UVMapping:xx,Uint16BufferAttribute:oC,Uint32BufferAttribute:aC,Uint8BufferAttribute:N$,Uint8ClampedBufferAttribute:F$,Uniform:FC,UniformsGroup:XY,UniformsLib:Ge,UniformsUtils:lC,UnsignedByteType:Yo,UnsignedInt248Type:Kl,UnsignedIntType:ka,UnsignedShort4444Type:XT,UnsignedShort5551Type:KT,UnsignedShortType:bx,VSMShadowMap:co,Vector2:xe,Vector3:H,Vector4:rn,VectorKeyframeTrack:jd,VideoTexture:BK,WebGL1Renderer:bU,WebGL3DRenderTarget:A$,WebGLArrayRenderTarget:b$,WebGLCoordinateSystem:vo,WebGLCubeRenderTarget:hU,WebGLMultipleRenderTargets:w$,WebGLRenderTarget:So,WebGLRenderer:hC,WebGLUtils:xU,WebGPUCoordinateSystem:Hd,WireframeGeometry:DU,WrapAroundEnding:Am,ZeroCurvatureEnding:nu,ZeroFactor:uF,ZeroSlopeEnding:ru,ZeroStencilOp:DV,_SRGBAFormat:u_,createCanvasElement:lU,sRGBEncoding:Jl},Symbol.toStringTag,{value:"Module"}));var lz={exports:{}},Vu={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Vu.ConcurrentRoot=1;Vu.ContinuousEventPriority=4;Vu.DefaultEventPriority=16;Vu.DiscreteEventPriority=1;Vu.IdleEventPriority=536870912;Vu.LegacyRoot=0;lz.exports=Vu;var ad=lz.exports;function mJ(n){let e;const t=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const p=e;e=u?f:Object.assign({},e,f),t.forEach(m=>m(e,p))}},i=()=>e,s=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function m(){const g=u(e);if(!f(p,g)){const y=p;c(p=g,y)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(c,u,f)=>u||f?s(c,u,f):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const gJ=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),EI=gJ?O.useEffect:O.useLayoutEffect;function vJ(n){const e=typeof n=="function"?mJ(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=O.useReducer(_=>_+1,0),o=e.getState(),a=O.useRef(o),l=O.useRef(r),c=O.useRef(i),u=O.useRef(!1),f=O.useRef();f.current===void 0&&(f.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(p=r(o),m=!i(f.current,p)),EI(()=>{m&&(f.current=p),a.current=o,l.current=r,c.current=i,u.current=!1});const g=O.useRef(o);EI(()=>{const _=()=>{try{const x=e.getState(),S=l.current(x);c.current(f.current,S)||(a.current=x,f.current=S,s())}catch{u.current=!0,s()}},v=e.subscribe(_);return e.getState()!==g.current&&_(),v},[]);const y=m?p:f.current;return O.useDebugValue(y),y};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var cz={exports:{}},uz={exports:{}},fz={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(N,j){var J=N.length;N.push(j);e:for(;0<J;){var te=J-1>>>1,ee=N[te];if(0<i(ee,j))N[te]=j,N[J]=ee,J=te;else break e}}function t(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var j=N[0],J=N.pop();if(J!==j){N[0]=J;e:for(var te=0,ee=N.length,Y=ee>>>1;te<Y;){var ne=2*(te+1)-1,ce=N[ne],Me=ne+1,Re=N[Me];if(0>i(ce,J))Me<ee&&0>i(Re,ce)?(N[te]=Re,N[Me]=J,te=Me):(N[te]=ce,N[ne]=J,te=ne);else if(Me<ee&&0>i(Re,J))N[te]=Re,N[Me]=J,te=Me;else break e}}return j}function i(N,j){var J=N.sortIndex-j.sortIndex;return J!==0?J:N.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,p=3,m=!1,g=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(N){for(var j=t(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=N)r(c),j.sortIndex=j.expirationTime,e(l,j);else break;j=t(c)}}function A(N){if(y=!1,S(N),!g)if(t(l)!==null)g=!0,W(M);else{var j=t(c);j!==null&&K(A,j.startTime-N)}}function M(N,j){g=!1,y&&(y=!1,v(I),I=-1),m=!0;var J=p;try{for(S(j),f=t(l);f!==null&&(!(f.expirationTime>j)||N&&!B());){var te=f.callback;if(typeof te=="function"){f.callback=null,p=f.priorityLevel;var ee=te(f.expirationTime<=j);j=n.unstable_now(),typeof ee=="function"?f.callback=ee:f===t(l)&&r(l),S(j)}else r(l);f=t(l)}if(f!==null)var Y=!0;else{var ne=t(c);ne!==null&&K(A,ne.startTime-j),Y=!1}return Y}finally{f=null,p=J,m=!1}}var E=!1,R=null,I=-1,T=5,P=-1;function B(){return!(n.unstable_now()-P<T)}function F(){if(R!==null){var N=n.unstable_now();P=N;var j=!0;try{j=R(!0,N)}finally{j?V():(E=!1,R=null)}}else E=!1}var V;if(typeof x=="function")V=function(){x(F)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,z=k.port2;k.port1.onmessage=F,V=function(){z.postMessage(null)}}else V=function(){_(F,0)};function W(N){R=N,E||(E=!0,V())}function K(N,j){I=_(function(){N(n.unstable_now())},j)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,W(M))},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(N){switch(p){case 1:case 2:case 3:var j=3;break;default:j=p}var J=p;p=j;try{return N()}finally{p=J}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(N,j){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var J=p;p=N;try{return j()}finally{p=J}},n.unstable_scheduleCallback=function(N,j,J){var te=n.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?te+J:te):J=te,N){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=J+ee,N={id:u++,callback:j,priorityLevel:N,startTime:J,expirationTime:ee,sortIndex:-1},J>te?(N.sortIndex=J,e(c,N),t(l)===null&&N===t(c)&&(y?(v(I),I=-1):y=!0,K(A,J-te))):(N.sortIndex=ee,e(l,N),g||m||(g=!0,W(M))),N},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(N){var j=p;return function(){var J=p;p=j;try{return N.apply(this,arguments)}finally{p=J}}}})(fz);uz.exports=fz;var BE=uz.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yJ=function(e){var t={},r=O,i=BE,s=Object.assign;function o(d){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+d,b=1;b<arguments.length;b++)h+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),M=Symbol.iterator;function E(d){return d===null||typeof d!="object"?null:(d=M&&d[M]||d["@@iterator"],typeof d=="function"?d:null)}function R(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case f:return"StrictMode";case _:return"Suspense";case v:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case g:return(d.displayName||"Context")+".Consumer";case m:return(d._context.displayName||"Context")+".Provider";case y:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case x:return h=d.displayName||null,h!==null?h:R(d.type)||"Memo";case S:h=d._payload,d=d._init;try{return R(d(h))}catch{}}return null}function I(d){var h=d.type;switch(d.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=h.render,d=d.displayName||d.name||"",h.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(h);case 8:return h===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function T(d){var h=d,b=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,h.flags&4098&&(b=h.return),d=h.return;while(d)}return h.tag===3?b:null}function P(d){if(T(d)!==d)throw Error(o(188))}function B(d){var h=d.alternate;if(!h){if(h=T(d),h===null)throw Error(o(188));return h!==d?null:d}for(var b=d,w=h;;){var C=b.return;if(C===null)break;var L=C.alternate;if(L===null){if(w=C.return,w!==null){b=w;continue}break}if(C.child===L.child){for(L=C.child;L;){if(L===b)return P(C),d;if(L===w)return P(C),h;L=L.sibling}throw Error(o(188))}if(b.return!==w.return)b=C,w=L;else{for(var $=!1,re=C.child;re;){if(re===b){$=!0,b=C,w=L;break}if(re===w){$=!0,w=C,b=L;break}re=re.sibling}if(!$){for(re=L.child;re;){if(re===b){$=!0,b=L,w=C;break}if(re===w){$=!0,w=L,b=C;break}re=re.sibling}if(!$)throw Error(o(189))}}if(b.alternate!==w)throw Error(o(190))}if(b.tag!==3)throw Error(o(188));return b.stateNode.current===b?d:h}function F(d){return d=B(d),d!==null?V(d):null}function V(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var h=V(d);if(h!==null)return h;d=d.sibling}return null}function k(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var h=k(d);if(h!==null)return h}d=d.sibling}return null}var z=Array.isArray,W=e.getPublicInstance,K=e.getRootHostContext,N=e.getChildHostContext,j=e.prepareForCommit,J=e.resetAfterCommit,te=e.createInstance,ee=e.appendInitialChild,Y=e.finalizeInitialChildren,ne=e.prepareUpdate,ce=e.shouldSetTextContent,Me=e.createTextInstance,Re=e.scheduleTimeout,Ze=e.cancelTimeout,Je=e.noTimeout,Fe=e.isPrimaryRenderer,Be=e.supportsMutation,X=e.supportsPersistence,Se=e.supportsHydration,ve=e.getInstanceFromNode,de=e.preparePortalMount,ye=e.getCurrentEventPriority,We=e.detachDeletedInstance,ze=e.supportsMicrotasks,U=e.scheduleMicrotask,D=e.supportsTestSelectors,ie=e.findFiberRoot,Ae=e.getBoundingRect,oe=e.getTextContent,ae=e.isHiddenSubtree,Ie=e.matchAccessibilityRole,Te=e.setFocusIfFocusable,Oe=e.setupIntersectionObserver,tt=e.appendChild,Le=e.appendChildToContainer,we=e.commitTextUpdate,gt=e.commitMount,dt=e.commitUpdate,ht=e.insertBefore,at=e.insertInContainerBefore,Ye=e.removeChild,Q=e.removeChildFromContainer,be=e.resetTextContent,je=e.hideInstance,Xe=e.hideTextInstance,Ce=e.unhideInstance,Z=e.unhideTextInstance,He=e.clearContainer,Ve=e.cloneInstance,pt=e.createContainerChildSet,ot=e.appendChildToContainerChildSet,Bt=e.finalizeContainerChildren,Ut=e.replaceContainerChildren,tn=e.cloneHiddenInstance,fn=e.cloneHiddenTextInstance,Ue=e.canHydrateInstance,Qe=e.canHydrateTextInstance,mt=e.canHydrateSuspenseInstance,dn=e.isSuspenseInstancePending,Rn=e.isSuspenseInstanceFallback,fa=e.registerSuspenseInstanceRetry,ol=e.getNextHydratableSibling,ju=e.getFirstHydratableChild,Bg=e.getFirstHydratableChildWithinContainer,Dg=e.getFirstHydratableChildWithinSuspenseInstance,H1=e.hydrateInstance,G1=e.hydrateTextInstance,V1=e.hydrateSuspenseInstance,G=e.getNextHydratableInstanceAfterSuspenseInstance,le=e.commitHydratedContainer,pe=e.commitHydratedSuspenseInstance,me=e.clearSuspenseBoundary,he=e.clearSuspenseBoundaryFromContainer,et=e.shouldDeleteUnhydratedTailInstances,ut=e.didNotMatchHydratedContainerTextInstance,xt=e.didNotMatchHydratedTextInstance,bt;function Mt(d){if(bt===void 0)try{throw Error()}catch(b){var h=b.stack.trim().match(/\n( *(at )?)/);bt=h&&h[1]||""}return`
`+bt+d}var Et=!1;function Tt(d,h){if(!d||Et)return"";Et=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Ne){var w=Ne}Reflect.construct(d,[],h)}else{try{h.call()}catch(Ne){w=Ne}d.call(h.prototype)}else{try{throw Error()}catch(Ne){w=Ne}d()}}catch(Ne){if(Ne&&w&&typeof Ne.stack=="string"){for(var C=Ne.stack.split(`
`),L=w.stack.split(`
`),$=C.length-1,re=L.length-1;1<=$&&0<=re&&C[$]!==L[re];)re--;for(;1<=$&&0<=re;$--,re--)if(C[$]!==L[re]){if($!==1||re!==1)do if($--,re--,0>re||C[$]!==L[re]){var _e=`
`+C[$].replace(" at new "," at ");return d.displayName&&_e.includes("<anonymous>")&&(_e=_e.replace("<anonymous>",d.displayName)),_e}while(1<=$&&0<=re);break}}}finally{Et=!1,Error.prepareStackTrace=b}return(d=d?d.displayName||d.name:"")?Mt(d):""}var Pn=Object.prototype.hasOwnProperty,kr=[],yn=-1;function Sr(d){return{current:d}}function At(d){0>yn||(d.current=kr[yn],kr[yn]=null,yn--)}function rt(d,h){yn++,kr[yn]=d.current,d.current=h}var bs={},Nt=Sr(bs),$n=Sr(!1),To=bs;function As(d,h){var b=d.type.contextTypes;if(!b)return bs;var w=d.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===h)return w.__reactInternalMemoizedMaskedChildContext;var C={},L;for(L in b)C[L]=h[L];return w&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=h,d.__reactInternalMemoizedMaskedChildContext=C),C}function br(d){return d=d.childContextTypes,d!=null}function er(){At($n),At(Nt)}function Co(d,h,b){if(Nt.current!==bs)throw Error(o(168));rt(Nt,h),rt($n,b)}function Xu(d,h,b){var w=d.stateNode;if(h=h.childContextTypes,typeof w.getChildContext!="function")return b;w=w.getChildContext();for(var C in w)if(!(C in h))throw Error(o(108,I(d)||"Unknown",C));return s({},b,w)}function Nr(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||bs,To=Nt.current,rt(Nt,d),rt($n,$n.current),!0}function Ku(d,h,b){var w=d.stateNode;if(!w)throw Error(o(169));b?(d=Xu(d,h,To),w.__reactInternalMemoizedMergedChildContext=d,At($n),At(Nt),rt(Nt,d)):At($n),rt($n,b)}var Xi=Math.clz32?Math.clz32:p9,kg=Math.log,h9=Math.LN2;function p9(d){return d>>>=0,d===0?32:31-(kg(d)/h9|0)|0}var Ng=64,Fg=4194304;function Ih(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Ug(d,h){var b=d.pendingLanes;if(b===0)return 0;var w=0,C=d.suspendedLanes,L=d.pingedLanes,$=b&268435455;if($!==0){var re=$&~C;re!==0?w=Ih(re):(L&=$,L!==0&&(w=Ih(L)))}else $=b&~C,$!==0?w=Ih($):L!==0&&(w=Ih(L));if(w===0)return 0;if(h!==0&&h!==w&&!(h&C)&&(C=w&-w,L=h&-h,C>=L||C===16&&(L&4194240)!==0))return h;if(w&4&&(w|=b&16),h=d.entangledLanes,h!==0)for(d=d.entanglements,h&=w;0<h;)b=31-Xi(h),C=1<<b,w|=d[b],h&=~C;return w}function m9(d,h){switch(d){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function g9(d,h){for(var b=d.suspendedLanes,w=d.pingedLanes,C=d.expirationTimes,L=d.pendingLanes;0<L;){var $=31-Xi(L),re=1<<$,_e=C[$];_e===-1?(!(re&b)||re&w)&&(C[$]=m9(re,h)):_e<=h&&(d.expiredLanes|=re),L&=~re}}function $1(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function W1(d){for(var h=[],b=0;31>b;b++)h.push(d);return h}function Bh(d,h,b){d.pendingLanes|=h,h!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,h=31-Xi(h),d[h]=b}function v9(d,h){var b=d.pendingLanes&~h;d.pendingLanes=h,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=h,d.mutableReadLanes&=h,d.entangledLanes&=h,h=d.entanglements;var w=d.eventTimes;for(d=d.expirationTimes;0<b;){var C=31-Xi(b),L=1<<C;h[C]=0,w[C]=-1,d[C]=-1,b&=~L}}function j1(d,h){var b=d.entangledLanes|=h;for(d=d.entanglements;b;){var w=31-Xi(b),C=1<<w;C&h|d[w]&h&&(d[w]|=h),b&=~C}}var Jt=0;function uP(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var X1=i.unstable_scheduleCallback,fP=i.unstable_cancelCallback,y9=i.unstable_shouldYield,_9=i.unstable_requestPaint,Ar=i.unstable_now,K1=i.unstable_ImmediatePriority,x9=i.unstable_UserBlockingPriority,Y1=i.unstable_NormalPriority,S9=i.unstable_IdlePriority,zg=null,Ro=null;function b9(d){if(Ro&&typeof Ro.onCommitFiberRoot=="function")try{Ro.onCommitFiberRoot(zg,d,void 0,(d.current.flags&128)===128)}catch{}}function A9(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var Po=typeof Object.is=="function"?Object.is:A9,da=null,Hg=!1,J1=!1;function dP(d){da===null?da=[d]:da.push(d)}function w9(d){Hg=!0,dP(d)}function Oo(){if(!J1&&da!==null){J1=!0;var d=0,h=Jt;try{var b=da;for(Jt=1;d<b.length;d++){var w=b[d];do w=w(!0);while(w!==null)}da=null,Hg=!1}catch(C){throw da!==null&&(da=da.slice(d+1)),X1(K1,Oo),C}finally{Jt=h,J1=!1}}return null}var E9=a.ReactCurrentBatchConfig;function Gg(d,h){if(Po(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var b=Object.keys(d),w=Object.keys(h);if(b.length!==w.length)return!1;for(w=0;w<b.length;w++){var C=b[w];if(!Pn.call(h,C)||!Po(d[C],h[C]))return!1}return!0}function M9(d){switch(d.tag){case 5:return Mt(d.type);case 16:return Mt("Lazy");case 13:return Mt("Suspense");case 19:return Mt("SuspenseList");case 0:case 2:case 15:return d=Tt(d.type,!1),d;case 11:return d=Tt(d.type.render,!1),d;case 1:return d=Tt(d.type,!0),d;default:return""}}function no(d,h){if(d&&d.defaultProps){h=s({},h),d=d.defaultProps;for(var b in d)h[b]===void 0&&(h[b]=d[b]);return h}return h}var Vg=Sr(null),$g=null,Yu=null,q1=null;function Q1(){q1=Yu=$g=null}function hP(d,h,b){Fe?(rt(Vg,h._currentValue),h._currentValue=b):(rt(Vg,h._currentValue2),h._currentValue2=b)}function Z1(d){var h=Vg.current;At(Vg),Fe?d._currentValue=h:d._currentValue2=h}function eS(d,h,b){for(;d!==null;){var w=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),d===b)break;d=d.return}}function Ju(d,h){$g=d,q1=Yu=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&h&&(Ji=!0),d.firstContext=null)}function ws(d){var h=Fe?d._currentValue:d._currentValue2;if(q1!==d)if(d={context:d,memoizedValue:h,next:null},Yu===null){if($g===null)throw Error(o(308));Yu=d,$g.dependencies={lanes:0,firstContext:d}}else Yu=Yu.next=d;return h}var Lo=null,al=!1;function tS(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pP(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function ha(d,h){return{eventTime:d,lane:h,tag:0,payload:null,callback:null,next:null}}function ll(d,h){var b=d.updateQueue;b!==null&&(b=b.shared,ar!==null&&d.mode&1&&!(Ft&2)?(d=b.interleaved,d===null?(h.next=h,Lo===null?Lo=[b]:Lo.push(b)):(h.next=d.next,d.next=h),b.interleaved=h):(d=b.pending,d===null?h.next=h:(h.next=d.next,d.next=h),b.pending=h))}function Wg(d,h,b){if(h=h.updateQueue,h!==null&&(h=h.shared,(b&4194240)!==0)){var w=h.lanes;w&=d.pendingLanes,b|=w,h.lanes=b,j1(d,b)}}function mP(d,h){var b=d.updateQueue,w=d.alternate;if(w!==null&&(w=w.updateQueue,b===w)){var C=null,L=null;if(b=b.firstBaseUpdate,b!==null){do{var $={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};L===null?C=L=$:L=L.next=$,b=b.next}while(b!==null);L===null?C=L=h:L=L.next=h}else C=L=h;b={baseState:w.baseState,firstBaseUpdate:C,lastBaseUpdate:L,shared:w.shared,effects:w.effects},d.updateQueue=b;return}d=b.lastBaseUpdate,d===null?b.firstBaseUpdate=h:d.next=h,b.lastBaseUpdate=h}function jg(d,h,b,w){var C=d.updateQueue;al=!1;var L=C.firstBaseUpdate,$=C.lastBaseUpdate,re=C.shared.pending;if(re!==null){C.shared.pending=null;var _e=re,Ne=_e.next;_e.next=null,$===null?L=Ne:$.next=Ne,$=_e;var it=d.alternate;it!==null&&(it=it.updateQueue,re=it.lastBaseUpdate,re!==$&&(re===null?it.firstBaseUpdate=Ne:re.next=Ne,it.lastBaseUpdate=_e))}if(L!==null){var Ct=C.baseState;$=0,it=Ne=_e=null,re=L;do{var vt=re.lane,ln=re.eventTime;if((w&vt)===vt){it!==null&&(it=it.next={eventTime:ln,lane:0,tag:re.tag,payload:re.payload,callback:re.callback,next:null});e:{var ft=d,Kr=re;switch(vt=h,ln=b,Kr.tag){case 1:if(ft=Kr.payload,typeof ft=="function"){Ct=ft.call(ln,Ct,vt);break e}Ct=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=Kr.payload,vt=typeof ft=="function"?ft.call(ln,Ct,vt):ft,vt==null)break e;Ct=s({},Ct,vt);break e;case 2:al=!0}}re.callback!==null&&re.lane!==0&&(d.flags|=64,vt=C.effects,vt===null?C.effects=[re]:vt.push(re))}else ln={eventTime:ln,lane:vt,tag:re.tag,payload:re.payload,callback:re.callback,next:null},it===null?(Ne=it=ln,_e=Ct):it=it.next=ln,$|=vt;if(re=re.next,re===null){if(re=C.shared.pending,re===null)break;vt=re,re=vt.next,vt.next=null,C.lastBaseUpdate=vt,C.shared.pending=null}}while(1);if(it===null&&(_e=Ct),C.baseState=_e,C.firstBaseUpdate=Ne,C.lastBaseUpdate=it,h=C.shared.interleaved,h!==null){C=h;do $|=C.lane,C=C.next;while(C!==h)}else L===null&&(C.shared.lanes=0);of|=$,d.lanes=$,d.memoizedState=Ct}}function gP(d,h,b){if(d=h.effects,h.effects=null,d!==null)for(h=0;h<d.length;h++){var w=d[h],C=w.callback;if(C!==null){if(w.callback=null,w=b,typeof C!="function")throw Error(o(191,C));C.call(w)}}}var vP=new r.Component().refs;function nS(d,h,b,w){h=d.memoizedState,b=b(w,h),b=b==null?h:s({},h,b),d.memoizedState=b,d.lanes===0&&(d.updateQueue.baseState=b)}var Xg={isMounted:function(d){return(d=d._reactInternals)?T(d)===d:!1},enqueueSetState:function(d,h,b){d=d._reactInternals;var w=hi(),C=fl(d),L=ha(w,C);L.payload=h,b!=null&&(L.callback=b),ll(d,L),h=Rs(d,C,w),h!==null&&Wg(h,d,C)},enqueueReplaceState:function(d,h,b){d=d._reactInternals;var w=hi(),C=fl(d),L=ha(w,C);L.tag=1,L.payload=h,b!=null&&(L.callback=b),ll(d,L),h=Rs(d,C,w),h!==null&&Wg(h,d,C)},enqueueForceUpdate:function(d,h){d=d._reactInternals;var b=hi(),w=fl(d),C=ha(b,w);C.tag=2,h!=null&&(C.callback=h),ll(d,C),h=Rs(d,w,b),h!==null&&Wg(h,d,w)}};function yP(d,h,b,w,C,L,$){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(w,L,$):h.prototype&&h.prototype.isPureReactComponent?!Gg(b,w)||!Gg(C,L):!0}function _P(d,h,b){var w=!1,C=bs,L=h.contextType;return typeof L=="object"&&L!==null?L=ws(L):(C=br(h)?To:Nt.current,w=h.contextTypes,L=(w=w!=null)?As(d,C):bs),h=new h(b,L),d.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Xg,d.stateNode=h,h._reactInternals=d,w&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=C,d.__reactInternalMemoizedMaskedChildContext=L),h}function xP(d,h,b,w){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(b,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(b,w),h.state!==d&&Xg.enqueueReplaceState(h,h.state,null)}function rS(d,h,b,w){var C=d.stateNode;C.props=b,C.state=d.memoizedState,C.refs=vP,tS(d);var L=h.contextType;typeof L=="object"&&L!==null?C.context=ws(L):(L=br(h)?To:Nt.current,C.context=As(d,L)),C.state=d.memoizedState,L=h.getDerivedStateFromProps,typeof L=="function"&&(nS(d,h,L,b),C.state=d.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(h=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),h!==C.state&&Xg.enqueueReplaceState(C,C.state,null),jg(d,b,C,w),C.state=d.memoizedState),typeof C.componentDidMount=="function"&&(d.flags|=4194308)}var qu=[],Qu=0,Kg=null,Yg=0,Es=[],Ms=0,bc=null,pa=1,ma="";function Ac(d,h){qu[Qu++]=Yg,qu[Qu++]=Kg,Kg=d,Yg=h}function SP(d,h,b){Es[Ms++]=pa,Es[Ms++]=ma,Es[Ms++]=bc,bc=d;var w=pa;d=ma;var C=32-Xi(w)-1;w&=~(1<<C),b+=1;var L=32-Xi(h)+C;if(30<L){var $=C-C%5;L=(w&(1<<$)-1).toString(32),w>>=$,C-=$,pa=1<<32-Xi(h)+C|b<<C|w,ma=L+d}else pa=1<<L|b<<C|w,ma=d}function iS(d){d.return!==null&&(Ac(d,1),SP(d,1,0))}function sS(d){for(;d===Kg;)Kg=qu[--Qu],qu[Qu]=null,Yg=qu[--Qu],qu[Qu]=null;for(;d===bc;)bc=Es[--Ms],Es[Ms]=null,ma=Es[--Ms],Es[Ms]=null,pa=Es[--Ms],Es[Ms]=null}var Ki=null,Yi=null,An=!1,Dh=!1,ro=null;function bP(d,h){var b=Ps(5,null,null,0);b.elementType="DELETED",b.stateNode=h,b.return=d,h=d.deletions,h===null?(d.deletions=[b],d.flags|=16):h.push(b)}function AP(d,h){switch(d.tag){case 5:return h=Ue(h,d.type,d.pendingProps),h!==null?(d.stateNode=h,Ki=d,Yi=ju(h),!0):!1;case 6:return h=Qe(h,d.pendingProps),h!==null?(d.stateNode=h,Ki=d,Yi=null,!0):!1;case 13:if(h=mt(h),h!==null){var b=bc!==null?{id:pa,overflow:ma}:null;return d.memoizedState={dehydrated:h,treeContext:b,retryLane:1073741824},b=Ps(18,null,null,0),b.stateNode=h,b.return=d,d.child=b,Ki=d,Yi=null,!0}return!1;default:return!1}}function oS(d){return(d.mode&1)!==0&&(d.flags&128)===0}function aS(d){if(An){var h=Yi;if(h){var b=h;if(!AP(d,h)){if(oS(d))throw Error(o(418));h=ol(b);var w=Ki;h&&AP(d,h)?bP(w,b):(d.flags=d.flags&-4097|2,An=!1,Ki=d)}}else{if(oS(d))throw Error(o(418));d.flags=d.flags&-4097|2,An=!1,Ki=d}}}function wP(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Ki=d}function kh(d){if(!Se||d!==Ki)return!1;if(!An)return wP(d),An=!0,!1;if(d.tag!==3&&(d.tag!==5||et(d.type)&&!ce(d.type,d.memoizedProps))){var h=Yi;if(h){if(oS(d)){for(d=Yi;d;)d=ol(d);throw Error(o(418))}for(;h;)bP(d,h),h=ol(h)}}if(wP(d),d.tag===13){if(!Se)throw Error(o(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));Yi=G(d)}else Yi=Ki?ol(d.stateNode):null;return!0}function Zu(){Se&&(Yi=Ki=null,Dh=An=!1)}function lS(d){ro===null?ro=[d]:ro.push(d)}function Nh(d,h,b){if(d=b.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(o(309));var w=b.stateNode}if(!w)throw Error(o(147,d));var C=w,L=""+d;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===L?h.ref:(h=function($){var re=C.refs;re===vP&&(re=C.refs={}),$===null?delete re[L]:re[L]=$},h._stringRef=L,h)}if(typeof d!="string")throw Error(o(284));if(!b._owner)throw Error(o(290,d))}return d}function Jg(d,h){throw d=Object.prototype.toString.call(h),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d))}function EP(d){var h=d._init;return h(d._payload)}function MP(d){function h(fe,se){if(d){var ge=fe.deletions;ge===null?(fe.deletions=[se],fe.flags|=16):ge.push(se)}}function b(fe,se){if(!d)return null;for(;se!==null;)h(fe,se),se=se.sibling;return null}function w(fe,se){for(fe=new Map;se!==null;)se.key!==null?fe.set(se.key,se):fe.set(se.index,se),se=se.sibling;return fe}function C(fe,se){return fe=hl(fe,se),fe.index=0,fe.sibling=null,fe}function L(fe,se,ge){return fe.index=ge,d?(ge=fe.alternate,ge!==null?(ge=ge.index,ge<se?(fe.flags|=2,se):ge):(fe.flags|=2,se)):(fe.flags|=1048576,se)}function $(fe){return d&&fe.alternate===null&&(fe.flags|=2),fe}function re(fe,se,ge,qe){return se===null||se.tag!==6?(se=WS(ge,fe.mode,qe),se.return=fe,se):(se=C(se,ge),se.return=fe,se)}function _e(fe,se,ge,qe){var ct=ge.type;return ct===u?it(fe,se,ge.props.children,qe,ge.key):se!==null&&(se.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&EP(ct)===se.type)?(qe=C(se,ge.props),qe.ref=Nh(fe,se,ge),qe.return=fe,qe):(qe=T0(ge.type,ge.key,ge.props,null,fe.mode,qe),qe.ref=Nh(fe,se,ge),qe.return=fe,qe)}function Ne(fe,se,ge,qe){return se===null||se.tag!==4||se.stateNode.containerInfo!==ge.containerInfo||se.stateNode.implementation!==ge.implementation?(se=jS(ge,fe.mode,qe),se.return=fe,se):(se=C(se,ge.children||[]),se.return=fe,se)}function it(fe,se,ge,qe,ct){return se===null||se.tag!==7?(se=Pc(ge,fe.mode,qe,ct),se.return=fe,se):(se=C(se,ge),se.return=fe,se)}function Ct(fe,se,ge){if(typeof se=="string"&&se!==""||typeof se=="number")return se=WS(""+se,fe.mode,ge),se.return=fe,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case l:return ge=T0(se.type,se.key,se.props,null,fe.mode,ge),ge.ref=Nh(fe,null,se),ge.return=fe,ge;case c:return se=jS(se,fe.mode,ge),se.return=fe,se;case S:var qe=se._init;return Ct(fe,qe(se._payload),ge)}if(z(se)||E(se))return se=Pc(se,fe.mode,ge,null),se.return=fe,se;Jg(fe,se)}return null}function vt(fe,se,ge,qe){var ct=se!==null?se.key:null;if(typeof ge=="string"&&ge!==""||typeof ge=="number")return ct!==null?null:re(fe,se,""+ge,qe);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case l:return ge.key===ct?_e(fe,se,ge,qe):null;case c:return ge.key===ct?Ne(fe,se,ge,qe):null;case S:return ct=ge._init,vt(fe,se,ct(ge._payload),qe)}if(z(ge)||E(ge))return ct!==null?null:it(fe,se,ge,qe,null);Jg(fe,ge)}return null}function ln(fe,se,ge,qe,ct){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return fe=fe.get(ge)||null,re(se,fe,""+qe,ct);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case l:return fe=fe.get(qe.key===null?ge:qe.key)||null,_e(se,fe,qe,ct);case c:return fe=fe.get(qe.key===null?ge:qe.key)||null,Ne(se,fe,qe,ct);case S:var Dt=qe._init;return ln(fe,se,ge,Dt(qe._payload),ct)}if(z(qe)||E(qe))return fe=fe.get(ge)||null,it(se,fe,qe,ct,null);Jg(se,qe)}return null}function ft(fe,se,ge,qe){for(var ct=null,Dt=null,Rt=se,qt=se=0,Er=null;Rt!==null&&qt<ge.length;qt++){Rt.index>qt?(Er=Rt,Rt=null):Er=Rt.sibling;var Qt=vt(fe,Rt,ge[qt],qe);if(Qt===null){Rt===null&&(Rt=Er);break}d&&Rt&&Qt.alternate===null&&h(fe,Rt),se=L(Qt,se,qt),Dt===null?ct=Qt:Dt.sibling=Qt,Dt=Qt,Rt=Er}if(qt===ge.length)return b(fe,Rt),An&&Ac(fe,qt),ct;if(Rt===null){for(;qt<ge.length;qt++)Rt=Ct(fe,ge[qt],qe),Rt!==null&&(se=L(Rt,se,qt),Dt===null?ct=Rt:Dt.sibling=Rt,Dt=Rt);return An&&Ac(fe,qt),ct}for(Rt=w(fe,Rt);qt<ge.length;qt++)Er=ln(Rt,fe,qt,ge[qt],qe),Er!==null&&(d&&Er.alternate!==null&&Rt.delete(Er.key===null?qt:Er.key),se=L(Er,se,qt),Dt===null?ct=Er:Dt.sibling=Er,Dt=Er);return d&&Rt.forEach(function(pl){return h(fe,pl)}),An&&Ac(fe,qt),ct}function Kr(fe,se,ge,qe){var ct=E(ge);if(typeof ct!="function")throw Error(o(150));if(ge=ct.call(ge),ge==null)throw Error(o(151));for(var Dt=ct=null,Rt=se,qt=se=0,Er=null,Qt=ge.next();Rt!==null&&!Qt.done;qt++,Qt=ge.next()){Rt.index>qt?(Er=Rt,Rt=null):Er=Rt.sibling;var pl=vt(fe,Rt,Qt.value,qe);if(pl===null){Rt===null&&(Rt=Er);break}d&&Rt&&pl.alternate===null&&h(fe,Rt),se=L(pl,se,qt),Dt===null?ct=pl:Dt.sibling=pl,Dt=pl,Rt=Er}if(Qt.done)return b(fe,Rt),An&&Ac(fe,qt),ct;if(Rt===null){for(;!Qt.done;qt++,Qt=ge.next())Qt=Ct(fe,Qt.value,qe),Qt!==null&&(se=L(Qt,se,qt),Dt===null?ct=Qt:Dt.sibling=Qt,Dt=Qt);return An&&Ac(fe,qt),ct}for(Rt=w(fe,Rt);!Qt.done;qt++,Qt=ge.next())Qt=ln(Rt,fe,qt,Qt.value,qe),Qt!==null&&(d&&Qt.alternate!==null&&Rt.delete(Qt.key===null?qt:Qt.key),se=L(Qt,se,qt),Dt===null?ct=Qt:Dt.sibling=Qt,Dt=Qt);return d&&Rt.forEach(function(n8){return h(fe,n8)}),An&&Ac(fe,qt),ct}function Os(fe,se,ge,qe){if(typeof ge=="object"&&ge!==null&&ge.type===u&&ge.key===null&&(ge=ge.props.children),typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case l:e:{for(var ct=ge.key,Dt=se;Dt!==null;){if(Dt.key===ct){if(ct=ge.type,ct===u){if(Dt.tag===7){b(fe,Dt.sibling),se=C(Dt,ge.props.children),se.return=fe,fe=se;break e}}else if(Dt.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&EP(ct)===Dt.type){b(fe,Dt.sibling),se=C(Dt,ge.props),se.ref=Nh(fe,Dt,ge),se.return=fe,fe=se;break e}b(fe,Dt);break}else h(fe,Dt);Dt=Dt.sibling}ge.type===u?(se=Pc(ge.props.children,fe.mode,qe,ge.key),se.return=fe,fe=se):(qe=T0(ge.type,ge.key,ge.props,null,fe.mode,qe),qe.ref=Nh(fe,se,ge),qe.return=fe,fe=qe)}return $(fe);case c:e:{for(Dt=ge.key;se!==null;){if(se.key===Dt)if(se.tag===4&&se.stateNode.containerInfo===ge.containerInfo&&se.stateNode.implementation===ge.implementation){b(fe,se.sibling),se=C(se,ge.children||[]),se.return=fe,fe=se;break e}else{b(fe,se);break}else h(fe,se);se=se.sibling}se=jS(ge,fe.mode,qe),se.return=fe,fe=se}return $(fe);case S:return Dt=ge._init,Os(fe,se,Dt(ge._payload),qe)}if(z(ge))return ft(fe,se,ge,qe);if(E(ge))return Kr(fe,se,ge,qe);Jg(fe,ge)}return typeof ge=="string"&&ge!==""||typeof ge=="number"?(ge=""+ge,se!==null&&se.tag===6?(b(fe,se.sibling),se=C(se,ge),se.return=fe,fe=se):(b(fe,se),se=WS(ge,fe.mode,qe),se.return=fe,fe=se),$(fe)):b(fe,se)}return Os}var ef=MP(!0),TP=MP(!1),Fh={},Ts=Sr(Fh),Uh=Sr(Fh),tf=Sr(Fh);function Io(d){if(d===Fh)throw Error(o(174));return d}function cS(d,h){rt(tf,h),rt(Uh,d),rt(Ts,Fh),d=K(h),At(Ts),rt(Ts,d)}function nf(){At(Ts),At(Uh),At(tf)}function CP(d){var h=Io(tf.current),b=Io(Ts.current);h=N(b,d.type,h),b!==h&&(rt(Uh,d),rt(Ts,h))}function uS(d){Uh.current===d&&(At(Ts),At(Uh))}var On=Sr(0);function qg(d){for(var h=d;h!==null;){if(h.tag===13){var b=h.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||dn(b)||Rn(b)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var fS=[];function dS(){for(var d=0;d<fS.length;d++){var h=fS[d];Fe?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}fS.length=0}var Qg=a.ReactCurrentDispatcher,Cs=a.ReactCurrentBatchConfig,rf=0,Wn=null,Wr=null,wr=null,Zg=!1,zh=!1,Hh=0,T9=0;function jr(){throw Error(o(321))}function hS(d,h){if(h===null)return!1;for(var b=0;b<h.length&&b<d.length;b++)if(!Po(d[b],h[b]))return!1;return!0}function pS(d,h,b,w,C,L){if(rf=L,Wn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Qg.current=d===null||d.memoizedState===null?O9:L9,d=b(w,C),zh){L=0;do{if(zh=!1,Hh=0,25<=L)throw Error(o(301));L+=1,wr=Wr=null,h.updateQueue=null,Qg.current=I9,d=b(w,C)}while(zh)}if(Qg.current=i0,h=Wr!==null&&Wr.next!==null,rf=0,wr=Wr=Wn=null,Zg=!1,h)throw Error(o(300));return d}function mS(){var d=Hh!==0;return Hh=0,d}function ga(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?Wn.memoizedState=wr=d:wr=wr.next=d,wr}function Bo(){if(Wr===null){var d=Wn.alternate;d=d!==null?d.memoizedState:null}else d=Wr.next;var h=wr===null?Wn.memoizedState:wr.next;if(h!==null)wr=h,Wr=d;else{if(d===null)throw Error(o(310));Wr=d,d={memoizedState:Wr.memoizedState,baseState:Wr.baseState,baseQueue:Wr.baseQueue,queue:Wr.queue,next:null},wr===null?Wn.memoizedState=wr=d:wr=wr.next=d}return wr}function wc(d,h){return typeof h=="function"?h(d):h}function e0(d){var h=Bo(),b=h.queue;if(b===null)throw Error(o(311));b.lastRenderedReducer=d;var w=Wr,C=w.baseQueue,L=b.pending;if(L!==null){if(C!==null){var $=C.next;C.next=L.next,L.next=$}w.baseQueue=C=L,b.pending=null}if(C!==null){L=C.next,w=w.baseState;var re=$=null,_e=null,Ne=L;do{var it=Ne.lane;if((rf&it)===it)_e!==null&&(_e=_e.next={lane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),w=Ne.hasEagerState?Ne.eagerState:d(w,Ne.action);else{var Ct={lane:it,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null};_e===null?(re=_e=Ct,$=w):_e=_e.next=Ct,Wn.lanes|=it,of|=it}Ne=Ne.next}while(Ne!==null&&Ne!==L);_e===null?$=w:_e.next=re,Po(w,h.memoizedState)||(Ji=!0),h.memoizedState=w,h.baseState=$,h.baseQueue=_e,b.lastRenderedState=w}if(d=b.interleaved,d!==null){C=d;do L=C.lane,Wn.lanes|=L,of|=L,C=C.next;while(C!==d)}else C===null&&(b.lanes=0);return[h.memoizedState,b.dispatch]}function t0(d){var h=Bo(),b=h.queue;if(b===null)throw Error(o(311));b.lastRenderedReducer=d;var w=b.dispatch,C=b.pending,L=h.memoizedState;if(C!==null){b.pending=null;var $=C=C.next;do L=d(L,$.action),$=$.next;while($!==C);Po(L,h.memoizedState)||(Ji=!0),h.memoizedState=L,h.baseQueue===null&&(h.baseState=L),b.lastRenderedState=L}return[L,w]}function RP(){}function PP(d,h){var b=Wn,w=Bo(),C=h(),L=!Po(w.memoizedState,C);if(L&&(w.memoizedState=C,Ji=!0),w=w.queue,Vh(IP.bind(null,b,w,d),[d]),w.getSnapshot!==h||L||wr!==null&&wr.memoizedState.tag&1){if(b.flags|=2048,Gh(9,LP.bind(null,b,w,C,h),void 0,null),ar===null)throw Error(o(349));rf&30||OP(b,h,C)}return C}function OP(d,h,b){d.flags|=16384,d={getSnapshot:h,value:b},h=Wn.updateQueue,h===null?(h={lastEffect:null,stores:null},Wn.updateQueue=h,h.stores=[d]):(b=h.stores,b===null?h.stores=[d]:b.push(d))}function LP(d,h,b,w){h.value=b,h.getSnapshot=w,BP(h)&&Rs(d,1,-1)}function IP(d,h,b){return b(function(){BP(h)&&Rs(d,1,-1)})}function BP(d){var h=d.getSnapshot;d=d.value;try{var b=h();return!Po(d,b)}catch{return!0}}function gS(d){var h=ga();return typeof d=="function"&&(d=d()),h.memoizedState=h.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wc,lastRenderedState:d},h.queue=d,d=d.dispatch=P9.bind(null,Wn,d),[h.memoizedState,d]}function Gh(d,h,b,w){return d={tag:d,create:h,destroy:b,deps:w,next:null},h=Wn.updateQueue,h===null?(h={lastEffect:null,stores:null},Wn.updateQueue=h,h.lastEffect=d.next=d):(b=h.lastEffect,b===null?h.lastEffect=d.next=d:(w=b.next,b.next=d,d.next=w,h.lastEffect=d)),d}function DP(){return Bo().memoizedState}function n0(d,h,b,w){var C=ga();Wn.flags|=d,C.memoizedState=Gh(1|h,b,void 0,w===void 0?null:w)}function r0(d,h,b,w){var C=Bo();w=w===void 0?null:w;var L=void 0;if(Wr!==null){var $=Wr.memoizedState;if(L=$.destroy,w!==null&&hS(w,$.deps)){C.memoizedState=Gh(h,b,L,w);return}}Wn.flags|=d,C.memoizedState=Gh(1|h,b,L,w)}function vS(d,h){return n0(8390656,8,d,h)}function Vh(d,h){return r0(2048,8,d,h)}function kP(d,h){return r0(4,2,d,h)}function NP(d,h){return r0(4,4,d,h)}function FP(d,h){if(typeof h=="function")return d=d(),h(d),function(){h(null)};if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function UP(d,h,b){return b=b!=null?b.concat([d]):null,r0(4,4,FP.bind(null,h,d),b)}function yS(){}function zP(d,h){var b=Bo();h=h===void 0?null:h;var w=b.memoizedState;return w!==null&&h!==null&&hS(h,w[1])?w[0]:(b.memoizedState=[d,h],d)}function HP(d,h){var b=Bo();h=h===void 0?null:h;var w=b.memoizedState;return w!==null&&h!==null&&hS(h,w[1])?w[0]:(d=d(),b.memoizedState=[d,h],d)}function C9(d,h){var b=Jt;Jt=b!==0&&4>b?b:4,d(!0);var w=Cs.transition;Cs.transition={};try{d(!1),h()}finally{Jt=b,Cs.transition=w}}function GP(){return Bo().memoizedState}function R9(d,h,b){var w=fl(d);b={lane:w,action:b,hasEagerState:!1,eagerState:null,next:null},VP(d)?$P(h,b):(WP(d,h,b),b=hi(),d=Rs(d,w,b),d!==null&&jP(d,h,w))}function P9(d,h,b){var w=fl(d),C={lane:w,action:b,hasEagerState:!1,eagerState:null,next:null};if(VP(d))$P(h,C);else{WP(d,h,C);var L=d.alternate;if(d.lanes===0&&(L===null||L.lanes===0)&&(L=h.lastRenderedReducer,L!==null))try{var $=h.lastRenderedState,re=L($,b);if(C.hasEagerState=!0,C.eagerState=re,Po(re,$))return}catch{}finally{}b=hi(),d=Rs(d,w,b),d!==null&&jP(d,h,w)}}function VP(d){var h=d.alternate;return d===Wn||h!==null&&h===Wn}function $P(d,h){zh=Zg=!0;var b=d.pending;b===null?h.next=h:(h.next=b.next,b.next=h),d.pending=h}function WP(d,h,b){ar!==null&&d.mode&1&&!(Ft&2)?(d=h.interleaved,d===null?(b.next=b,Lo===null?Lo=[h]:Lo.push(h)):(b.next=d.next,d.next=b),h.interleaved=b):(d=h.pending,d===null?b.next=b:(b.next=d.next,d.next=b),h.pending=b)}function jP(d,h,b){if(b&4194240){var w=h.lanes;w&=d.pendingLanes,b|=w,h.lanes=b,j1(d,b)}}var i0={readContext:ws,useCallback:jr,useContext:jr,useEffect:jr,useImperativeHandle:jr,useInsertionEffect:jr,useLayoutEffect:jr,useMemo:jr,useReducer:jr,useRef:jr,useState:jr,useDebugValue:jr,useDeferredValue:jr,useTransition:jr,useMutableSource:jr,useSyncExternalStore:jr,useId:jr,unstable_isNewReconciler:!1},O9={readContext:ws,useCallback:function(d,h){return ga().memoizedState=[d,h===void 0?null:h],d},useContext:ws,useEffect:vS,useImperativeHandle:function(d,h,b){return b=b!=null?b.concat([d]):null,n0(4194308,4,FP.bind(null,h,d),b)},useLayoutEffect:function(d,h){return n0(4194308,4,d,h)},useInsertionEffect:function(d,h){return n0(4,2,d,h)},useMemo:function(d,h){var b=ga();return h=h===void 0?null:h,d=d(),b.memoizedState=[d,h],d},useReducer:function(d,h,b){var w=ga();return h=b!==void 0?b(h):h,w.memoizedState=w.baseState=h,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:h},w.queue=d,d=d.dispatch=R9.bind(null,Wn,d),[w.memoizedState,d]},useRef:function(d){var h=ga();return d={current:d},h.memoizedState=d},useState:gS,useDebugValue:yS,useDeferredValue:function(d){var h=gS(d),b=h[0],w=h[1];return vS(function(){var C=Cs.transition;Cs.transition={};try{w(d)}finally{Cs.transition=C}},[d]),b},useTransition:function(){var d=gS(!1),h=d[0];return d=C9.bind(null,d[1]),ga().memoizedState=d,[h,d]},useMutableSource:function(){},useSyncExternalStore:function(d,h,b){var w=Wn,C=ga();if(An){if(b===void 0)throw Error(o(407));b=b()}else{if(b=h(),ar===null)throw Error(o(349));rf&30||OP(w,h,b)}C.memoizedState=b;var L={value:b,getSnapshot:h};return C.queue=L,vS(IP.bind(null,w,L,d),[d]),w.flags|=2048,Gh(9,LP.bind(null,w,L,b,h),void 0,null),b},useId:function(){var d=ga(),h=ar.identifierPrefix;if(An){var b=ma,w=pa;b=(w&~(1<<32-Xi(w)-1)).toString(32)+b,h=":"+h+"R"+b,b=Hh++,0<b&&(h+="H"+b.toString(32)),h+=":"}else b=T9++,h=":"+h+"r"+b.toString(32)+":";return d.memoizedState=h},unstable_isNewReconciler:!1},L9={readContext:ws,useCallback:zP,useContext:ws,useEffect:Vh,useImperativeHandle:UP,useInsertionEffect:kP,useLayoutEffect:NP,useMemo:HP,useReducer:e0,useRef:DP,useState:function(){return e0(wc)},useDebugValue:yS,useDeferredValue:function(d){var h=e0(wc),b=h[0],w=h[1];return Vh(function(){var C=Cs.transition;Cs.transition={};try{w(d)}finally{Cs.transition=C}},[d]),b},useTransition:function(){var d=e0(wc)[0],h=Bo().memoizedState;return[d,h]},useMutableSource:RP,useSyncExternalStore:PP,useId:GP,unstable_isNewReconciler:!1},I9={readContext:ws,useCallback:zP,useContext:ws,useEffect:Vh,useImperativeHandle:UP,useInsertionEffect:kP,useLayoutEffect:NP,useMemo:HP,useReducer:t0,useRef:DP,useState:function(){return t0(wc)},useDebugValue:yS,useDeferredValue:function(d){var h=t0(wc),b=h[0],w=h[1];return Vh(function(){var C=Cs.transition;Cs.transition={};try{w(d)}finally{Cs.transition=C}},[d]),b},useTransition:function(){var d=t0(wc)[0],h=Bo().memoizedState;return[d,h]},useMutableSource:RP,useSyncExternalStore:PP,useId:GP,unstable_isNewReconciler:!1};function _S(d,h){try{var b="",w=h;do b+=M9(w),w=w.return;while(w);var C=b}catch(L){C=`
Error generating stack: `+L.message+`
`+L.stack}return{value:d,source:h,stack:C}}function xS(d,h){try{console.error(h.value)}catch(b){setTimeout(function(){throw b})}}var B9=typeof WeakMap=="function"?WeakMap:Map;function XP(d,h,b){b=ha(-1,b),b.tag=3,b.payload={element:null};var w=h.value;return b.callback=function(){x0||(x0=!0,FS=w),xS(d,h)},b}function KP(d,h,b){b=ha(-1,b),b.tag=3;var w=d.type.getDerivedStateFromError;if(typeof w=="function"){var C=h.value;b.payload=function(){return w(C)},b.callback=function(){xS(d,h)}}var L=d.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(b.callback=function(){xS(d,h),typeof w!="function"&&(cl===null?cl=new Set([this]):cl.add(this));var $=h.stack;this.componentDidCatch(h.value,{componentStack:$!==null?$:""})}),b}function YP(d,h,b){var w=d.pingCache;if(w===null){w=d.pingCache=new B9;var C=new Set;w.set(h,C)}else C=w.get(h),C===void 0&&(C=new Set,w.set(h,C));C.has(b)||(C.add(b),d=K9.bind(null,d,h,b),h.then(d,d))}function JP(d){do{var h;if((h=d.tag===13)&&(h=d.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return d;d=d.return}while(d!==null);return null}function qP(d,h,b,w,C){return d.mode&1?(d.flags|=65536,d.lanes=C,d):(d===h?d.flags|=65536:(d.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(h=ha(-1,1),h.tag=2,ll(b,h))),b.lanes|=1),d)}function Do(d){d.flags|=4}function QP(d,h){if(d!==null&&d.child===h.child)return!0;if(h.flags&16)return!1;for(d=h.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var $h,Wh,s0,o0;if(Be)$h=function(d,h){for(var b=h.child;b!==null;){if(b.tag===5||b.tag===6)ee(d,b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===h)break;for(;b.sibling===null;){if(b.return===null||b.return===h)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},Wh=function(){},s0=function(d,h,b,w,C){if(d=d.memoizedProps,d!==w){var L=h.stateNode,$=Io(Ts.current);b=ne(L,b,d,w,C,$),(h.updateQueue=b)&&Do(h)}},o0=function(d,h,b,w){b!==w&&Do(h)};else if(X){$h=function(d,h,b,w){for(var C=h.child;C!==null;){if(C.tag===5){var L=C.stateNode;b&&w&&(L=tn(L,C.type,C.memoizedProps,C)),ee(d,L)}else if(C.tag===6)L=C.stateNode,b&&w&&(L=fn(L,C.memoizedProps,C)),ee(d,L);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)L=C.child,L!==null&&(L.return=C),$h(d,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===h)break;for(;C.sibling===null;){if(C.return===null||C.return===h)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};var ZP=function(d,h,b,w){for(var C=h.child;C!==null;){if(C.tag===5){var L=C.stateNode;b&&w&&(L=tn(L,C.type,C.memoizedProps,C)),ot(d,L)}else if(C.tag===6)L=C.stateNode,b&&w&&(L=fn(L,C.memoizedProps,C)),ot(d,L);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)L=C.child,L!==null&&(L.return=C),ZP(d,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===h)break;for(;C.sibling===null;){if(C.return===null||C.return===h)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};Wh=function(d,h){var b=h.stateNode;if(!QP(d,h)){d=b.containerInfo;var w=pt(d);ZP(w,h,!1,!1),b.pendingChildren=w,Do(h),Bt(d,w)}},s0=function(d,h,b,w,C){var L=d.stateNode,$=d.memoizedProps;if((d=QP(d,h))&&$===w)h.stateNode=L;else{var re=h.stateNode,_e=Io(Ts.current),Ne=null;$!==w&&(Ne=ne(re,b,$,w,C,_e)),d&&Ne===null?h.stateNode=L:(L=Ve(L,Ne,b,$,w,h,d,re),Y(L,b,w,C,_e)&&Do(h),h.stateNode=L,d?Do(h):$h(L,h,!1,!1))}},o0=function(d,h,b,w){b!==w?(d=Io(tf.current),b=Io(Ts.current),h.stateNode=Me(w,d,b,h),Do(h)):h.stateNode=d.stateNode}}else Wh=function(){},s0=function(){},o0=function(){};function jh(d,h){if(!An)switch(d.tailMode){case"hidden":h=d.tail;for(var b=null;h!==null;)h.alternate!==null&&(b=h),h=h.sibling;b===null?d.tail=null:b.sibling=null;break;case"collapsed":b=d.tail;for(var w=null;b!==null;)b.alternate!==null&&(w=b),b=b.sibling;w===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:w.sibling=null}}function Xr(d){var h=d.alternate!==null&&d.alternate.child===d.child,b=0,w=0;if(h)for(var C=d.child;C!==null;)b|=C.lanes|C.childLanes,w|=C.subtreeFlags&14680064,w|=C.flags&14680064,C.return=d,C=C.sibling;else for(C=d.child;C!==null;)b|=C.lanes|C.childLanes,w|=C.subtreeFlags,w|=C.flags,C.return=d,C=C.sibling;return d.subtreeFlags|=w,d.childLanes=b,h}function D9(d,h,b){var w=h.pendingProps;switch(sS(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xr(h),null;case 1:return br(h.type)&&er(),Xr(h),null;case 3:return w=h.stateNode,nf(),At($n),At(Nt),dS(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(d===null||d.child===null)&&(kh(h)?Do(h):d===null||d.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,ro!==null&&(HS(ro),ro=null))),Wh(d,h),Xr(h),null;case 5:uS(h),b=Io(tf.current);var C=h.type;if(d!==null&&h.stateNode!=null)s0(d,h,C,w,b),d.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!w){if(h.stateNode===null)throw Error(o(166));return Xr(h),null}if(d=Io(Ts.current),kh(h)){if(!Se)throw Error(o(175));d=H1(h.stateNode,h.type,h.memoizedProps,b,d,h,!Dh),h.updateQueue=d,d!==null&&Do(h)}else{var L=te(C,w,b,d,h);$h(L,h,!1,!1),h.stateNode=L,Y(L,C,w,b,d)&&Do(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Xr(h),null;case 6:if(d&&h.stateNode!=null)o0(d,h,d.memoizedProps,w);else{if(typeof w!="string"&&h.stateNode===null)throw Error(o(166));if(d=Io(tf.current),b=Io(Ts.current),kh(h)){if(!Se)throw Error(o(176));if(d=h.stateNode,w=h.memoizedProps,(b=G1(d,w,h,!Dh))&&(C=Ki,C!==null))switch(L=(C.mode&1)!==0,C.tag){case 3:ut(C.stateNode.containerInfo,d,w,L);break;case 5:xt(C.type,C.memoizedProps,C.stateNode,d,w,L)}b&&Do(h)}else h.stateNode=Me(w,d,b,h)}return Xr(h),null;case 13:if(At(On),w=h.memoizedState,An&&Yi!==null&&h.mode&1&&!(h.flags&128)){for(d=Yi;d;)d=ol(d);return Zu(),h.flags|=98560,h}if(w!==null&&w.dehydrated!==null){if(w=kh(h),d===null){if(!w)throw Error(o(318));if(!Se)throw Error(o(344));if(d=h.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));V1(d,h)}else Zu(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return Xr(h),null}return ro!==null&&(HS(ro),ro=null),h.flags&128?(h.lanes=b,h):(w=w!==null,b=!1,d===null?kh(h):b=d.memoizedState!==null,w&&!b&&(h.child.flags|=8192,h.mode&1&&(d===null||On.current&1?mr===0&&(mr=3):VS())),h.updateQueue!==null&&(h.flags|=4),Xr(h),null);case 4:return nf(),Wh(d,h),d===null&&de(h.stateNode.containerInfo),Xr(h),null;case 10:return Z1(h.type._context),Xr(h),null;case 17:return br(h.type)&&er(),Xr(h),null;case 19:if(At(On),C=h.memoizedState,C===null)return Xr(h),null;if(w=(h.flags&128)!==0,L=C.rendering,L===null)if(w)jh(C,!1);else{if(mr!==0||d!==null&&d.flags&128)for(d=h.child;d!==null;){if(L=qg(d),L!==null){for(h.flags|=128,jh(C,!1),d=L.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),h.subtreeFlags=0,d=b,w=h.child;w!==null;)b=w,C=d,b.flags&=14680066,L=b.alternate,L===null?(b.childLanes=0,b.lanes=C,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=L.childLanes,b.lanes=L.lanes,b.child=L.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=L.memoizedProps,b.memoizedState=L.memoizedState,b.updateQueue=L.updateQueue,b.type=L.type,C=L.dependencies,b.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext}),w=w.sibling;return rt(On,On.current&1|2),h.child}d=d.sibling}C.tail!==null&&Ar()>NS&&(h.flags|=128,w=!0,jh(C,!1),h.lanes=4194304)}else{if(!w)if(d=qg(L),d!==null){if(h.flags|=128,w=!0,d=d.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),jh(C,!0),C.tail===null&&C.tailMode==="hidden"&&!L.alternate&&!An)return Xr(h),null}else 2*Ar()-C.renderingStartTime>NS&&b!==1073741824&&(h.flags|=128,w=!0,jh(C,!1),h.lanes=4194304);C.isBackwards?(L.sibling=h.child,h.child=L):(d=C.last,d!==null?d.sibling=L:h.child=L,C.last=L)}return C.tail!==null?(h=C.tail,C.rendering=h,C.tail=h.sibling,C.renderingStartTime=Ar(),h.sibling=null,d=On.current,rt(On,w?d&1|2:d&1),h):(Xr(h),null);case 22:case 23:return GS(),w=h.memoizedState!==null,d!==null&&d.memoizedState!==null!==w&&(h.flags|=8192),w&&h.mode&1?qi&1073741824&&(Xr(h),Be&&h.subtreeFlags&6&&(h.flags|=8192)):Xr(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}var k9=a.ReactCurrentOwner,Ji=!1;function di(d,h,b,w){h.child=d===null?TP(h,null,b,w):ef(h,d.child,b,w)}function e2(d,h,b,w,C){b=b.render;var L=h.ref;return Ju(h,C),w=pS(d,h,b,w,L,C),b=mS(),d!==null&&!Ji?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~C,va(d,h,C)):(An&&b&&iS(h),h.flags|=1,di(d,h,w,C),h.child)}function t2(d,h,b,w,C){if(d===null){var L=b.type;return typeof L=="function"&&!$S(L)&&L.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(h.tag=15,h.type=L,n2(d,h,L,w,C)):(d=T0(b.type,null,w,h,h.mode,C),d.ref=h.ref,d.return=h,h.child=d)}if(L=d.child,!(d.lanes&C)){var $=L.memoizedProps;if(b=b.compare,b=b!==null?b:Gg,b($,w)&&d.ref===h.ref)return va(d,h,C)}return h.flags|=1,d=hl(L,w),d.ref=h.ref,d.return=h,h.child=d}function n2(d,h,b,w,C){if(d!==null&&Gg(d.memoizedProps,w)&&d.ref===h.ref)if(Ji=!1,(d.lanes&C)!==0)d.flags&131072&&(Ji=!0);else return h.lanes=d.lanes,va(d,h,C);return SS(d,h,b,w,C)}function r2(d,h,b){var w=h.pendingProps,C=w.children,L=d!==null?d.memoizedState:null;if(w.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},rt(sf,qi),qi|=b;else if(b&1073741824)h.memoizedState={baseLanes:0,cachePool:null},w=L!==null?L.baseLanes:b,rt(sf,qi),qi|=w;else return d=L!==null?L.baseLanes|b:b,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:d,cachePool:null},h.updateQueue=null,rt(sf,qi),qi|=d,null;else L!==null?(w=L.baseLanes|b,h.memoizedState=null):w=b,rt(sf,qi),qi|=w;return di(d,h,C,b),h.child}function i2(d,h){var b=h.ref;(d===null&&b!==null||d!==null&&d.ref!==b)&&(h.flags|=512,h.flags|=2097152)}function SS(d,h,b,w,C){var L=br(b)?To:Nt.current;return L=As(h,L),Ju(h,C),b=pS(d,h,b,w,L,C),w=mS(),d!==null&&!Ji?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~C,va(d,h,C)):(An&&w&&iS(h),h.flags|=1,di(d,h,b,C),h.child)}function s2(d,h,b,w,C){if(br(b)){var L=!0;Nr(h)}else L=!1;if(Ju(h,C),h.stateNode===null)d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),_P(h,b,w),rS(h,b,w,C),w=!0;else if(d===null){var $=h.stateNode,re=h.memoizedProps;$.props=re;var _e=$.context,Ne=b.contextType;typeof Ne=="object"&&Ne!==null?Ne=ws(Ne):(Ne=br(b)?To:Nt.current,Ne=As(h,Ne));var it=b.getDerivedStateFromProps,Ct=typeof it=="function"||typeof $.getSnapshotBeforeUpdate=="function";Ct||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(re!==w||_e!==Ne)&&xP(h,$,w,Ne),al=!1;var vt=h.memoizedState;$.state=vt,jg(h,w,$,C),_e=h.memoizedState,re!==w||vt!==_e||$n.current||al?(typeof it=="function"&&(nS(h,b,it,w),_e=h.memoizedState),(re=al||yP(h,b,re,w,vt,_e,Ne))?(Ct||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(h.flags|=4194308)):(typeof $.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=_e),$.props=w,$.state=_e,$.context=Ne,w=re):(typeof $.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{$=h.stateNode,pP(d,h),re=h.memoizedProps,Ne=h.type===h.elementType?re:no(h.type,re),$.props=Ne,Ct=h.pendingProps,vt=$.context,_e=b.contextType,typeof _e=="object"&&_e!==null?_e=ws(_e):(_e=br(b)?To:Nt.current,_e=As(h,_e));var ln=b.getDerivedStateFromProps;(it=typeof ln=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(re!==Ct||vt!==_e)&&xP(h,$,w,_e),al=!1,vt=h.memoizedState,$.state=vt,jg(h,w,$,C);var ft=h.memoizedState;re!==Ct||vt!==ft||$n.current||al?(typeof ln=="function"&&(nS(h,b,ln,w),ft=h.memoizedState),(Ne=al||yP(h,b,Ne,w,vt,ft,_e)||!1)?(it||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(w,ft,_e),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(w,ft,_e)),typeof $.componentDidUpdate=="function"&&(h.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof $.componentDidUpdate!="function"||re===d.memoizedProps&&vt===d.memoizedState||(h.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||re===d.memoizedProps&&vt===d.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=ft),$.props=w,$.state=ft,$.context=_e,w=Ne):(typeof $.componentDidUpdate!="function"||re===d.memoizedProps&&vt===d.memoizedState||(h.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||re===d.memoizedProps&&vt===d.memoizedState||(h.flags|=1024),w=!1)}return bS(d,h,b,w,L,C)}function bS(d,h,b,w,C,L){i2(d,h);var $=(h.flags&128)!==0;if(!w&&!$)return C&&Ku(h,b,!1),va(d,h,L);w=h.stateNode,k9.current=h;var re=$&&typeof b.getDerivedStateFromError!="function"?null:w.render();return h.flags|=1,d!==null&&$?(h.child=ef(h,d.child,null,L),h.child=ef(h,null,re,L)):di(d,h,re,L),h.memoizedState=w.state,C&&Ku(h,b,!0),h.child}function o2(d){var h=d.stateNode;h.pendingContext?Co(d,h.pendingContext,h.pendingContext!==h.context):h.context&&Co(d,h.context,!1),cS(d,h.containerInfo)}function a2(d,h,b,w,C){return Zu(),lS(C),h.flags|=256,di(d,h,b,w),h.child}var a0={dehydrated:null,treeContext:null,retryLane:0};function l0(d){return{baseLanes:d,cachePool:null}}function l2(d,h,b){var w=h.pendingProps,C=On.current,L=!1,$=(h.flags&128)!==0,re;if((re=$)||(re=d!==null&&d.memoizedState===null?!1:(C&2)!==0),re?(L=!0,h.flags&=-129):(d===null||d.memoizedState!==null)&&(C|=1),rt(On,C&1),d===null)return aS(h),d=h.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(h.mode&1?Rn(d)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(C=w.children,d=w.fallback,L?(w=h.mode,L=h.child,C={mode:"hidden",children:C},!(w&1)&&L!==null?(L.childLanes=0,L.pendingProps=C):L=C0(C,w,0,null),d=Pc(d,w,b,null),L.return=h,d.return=h,L.sibling=d,h.child=L,h.child.memoizedState=l0(b),h.memoizedState=a0,d):AS(h,C));if(C=d.memoizedState,C!==null){if(re=C.dehydrated,re!==null){if($)return h.flags&256?(h.flags&=-257,c0(d,h,b,Error(o(422)))):h.memoizedState!==null?(h.child=d.child,h.flags|=128,null):(L=w.fallback,C=h.mode,w=C0({mode:"visible",children:w.children},C,0,null),L=Pc(L,C,b,null),L.flags|=2,w.return=h,L.return=h,w.sibling=L,h.child=w,h.mode&1&&ef(h,d.child,null,b),h.child.memoizedState=l0(b),h.memoizedState=a0,L);if(!(h.mode&1))h=c0(d,h,b,null);else if(Rn(re))h=c0(d,h,b,Error(o(419)));else if(w=(b&d.childLanes)!==0,Ji||w){if(w=ar,w!==null){switch(b&-b){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}w=L&(w.suspendedLanes|b)?0:L,w!==0&&w!==C.retryLane&&(C.retryLane=w,Rs(d,w,-1))}VS(),h=c0(d,h,b,Error(o(421)))}else dn(re)?(h.flags|=128,h.child=d.child,h=Y9.bind(null,d),fa(re,h),h=null):(b=C.treeContext,Se&&(Yi=Dg(re),Ki=h,An=!0,ro=null,Dh=!1,b!==null&&(Es[Ms++]=pa,Es[Ms++]=ma,Es[Ms++]=bc,pa=b.id,ma=b.overflow,bc=h)),h=AS(h,h.pendingProps.children),h.flags|=4096);return h}return L?(w=u2(d,h,w.children,w.fallback,b),L=h.child,C=d.child.memoizedState,L.memoizedState=C===null?l0(b):{baseLanes:C.baseLanes|b,cachePool:null},L.childLanes=d.childLanes&~b,h.memoizedState=a0,w):(b=c2(d,h,w.children,b),h.memoizedState=null,b)}return L?(w=u2(d,h,w.children,w.fallback,b),L=h.child,C=d.child.memoizedState,L.memoizedState=C===null?l0(b):{baseLanes:C.baseLanes|b,cachePool:null},L.childLanes=d.childLanes&~b,h.memoizedState=a0,w):(b=c2(d,h,w.children,b),h.memoizedState=null,b)}function AS(d,h){return h=C0({mode:"visible",children:h},d.mode,0,null),h.return=d,d.child=h}function c2(d,h,b,w){var C=d.child;return d=C.sibling,b=hl(C,{mode:"visible",children:b}),!(h.mode&1)&&(b.lanes=w),b.return=h,b.sibling=null,d!==null&&(w=h.deletions,w===null?(h.deletions=[d],h.flags|=16):w.push(d)),h.child=b}function u2(d,h,b,w,C){var L=h.mode;d=d.child;var $=d.sibling,re={mode:"hidden",children:b};return!(L&1)&&h.child!==d?(b=h.child,b.childLanes=0,b.pendingProps=re,h.deletions=null):(b=hl(d,re),b.subtreeFlags=d.subtreeFlags&14680064),$!==null?w=hl($,w):(w=Pc(w,L,C,null),w.flags|=2),w.return=h,b.return=h,b.sibling=w,h.child=b,w}function c0(d,h,b,w){return w!==null&&lS(w),ef(h,d.child,null,b),d=AS(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function f2(d,h,b){d.lanes|=h;var w=d.alternate;w!==null&&(w.lanes|=h),eS(d.return,h,b)}function wS(d,h,b,w,C){var L=d.memoizedState;L===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:b,tailMode:C}:(L.isBackwards=h,L.rendering=null,L.renderingStartTime=0,L.last=w,L.tail=b,L.tailMode=C)}function d2(d,h,b){var w=h.pendingProps,C=w.revealOrder,L=w.tail;if(di(d,h,w.children,b),w=On.current,w&2)w=w&1|2,h.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&f2(d,b,h);else if(d.tag===19)f2(d,b,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}w&=1}if(rt(On,w),!(h.mode&1))h.memoizedState=null;else switch(C){case"forwards":for(b=h.child,C=null;b!==null;)d=b.alternate,d!==null&&qg(d)===null&&(C=b),b=b.sibling;b=C,b===null?(C=h.child,h.child=null):(C=b.sibling,b.sibling=null),wS(h,!1,C,b,L);break;case"backwards":for(b=null,C=h.child,h.child=null;C!==null;){if(d=C.alternate,d!==null&&qg(d)===null){h.child=C;break}d=C.sibling,C.sibling=b,b=C,C=d}wS(h,!0,b,null,L);break;case"together":wS(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function va(d,h,b){if(d!==null&&(h.dependencies=d.dependencies),of|=h.lanes,!(b&h.childLanes))return null;if(d!==null&&h.child!==d.child)throw Error(o(153));if(h.child!==null){for(d=h.child,b=hl(d,d.pendingProps),h.child=b,b.return=h;d.sibling!==null;)d=d.sibling,b=b.sibling=hl(d,d.pendingProps),b.return=h;b.sibling=null}return h.child}function N9(d,h,b){switch(h.tag){case 3:o2(h),Zu();break;case 5:CP(h);break;case 1:br(h.type)&&Nr(h);break;case 4:cS(h,h.stateNode.containerInfo);break;case 10:hP(h,h.type._context,h.memoizedProps.value);break;case 13:var w=h.memoizedState;if(w!==null)return w.dehydrated!==null?(rt(On,On.current&1),h.flags|=128,null):b&h.child.childLanes?l2(d,h,b):(rt(On,On.current&1),d=va(d,h,b),d!==null?d.sibling:null);rt(On,On.current&1);break;case 19:if(w=(b&h.childLanes)!==0,d.flags&128){if(w)return d2(d,h,b);h.flags|=128}var C=h.memoizedState;if(C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),rt(On,On.current),w)break;return null;case 22:case 23:return h.lanes=0,r2(d,h,b)}return va(d,h,b)}function F9(d,h){switch(sS(h),h.tag){case 1:return br(h.type)&&er(),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return nf(),At($n),At(Nt),dS(),d=h.flags,d&65536&&!(d&128)?(h.flags=d&-65537|128,h):null;case 5:return uS(h),null;case 13:if(At(On),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(o(340));Zu()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return At(On),null;case 4:return nf(),null;case 10:return Z1(h.type._context),null;case 22:case 23:return GS(),null;case 24:return null;default:return null}}var u0=!1,Ec=!1,U9=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function f0(d,h){var b=d.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(w){Ri(d,h,w)}else b.current=null}function ES(d,h,b){try{b()}catch(w){Ri(d,h,w)}}var h2=!1;function z9(d,h){for(j(d.containerInfo),Ke=h;Ke!==null;)if(d=Ke,h=d.child,(d.subtreeFlags&1028)!==0&&h!==null)h.return=d,Ke=h;else for(;Ke!==null;){d=Ke;try{var b=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,C=b.memoizedState,L=d.stateNode,$=L.getSnapshotBeforeUpdate(d.elementType===d.type?w:no(d.type,w),C);L.__reactInternalSnapshotBeforeUpdate=$}break;case 3:Be&&He(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(re){Ri(d,d.return,re)}if(h=d.sibling,h!==null){h.return=d.return,Ke=h;break}Ke=d.return}return b=h2,h2=!1,b}function Mc(d,h,b){var w=h.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var C=w=w.next;do{if((C.tag&d)===d){var L=C.destroy;C.destroy=void 0,L!==void 0&&ES(h,b,L)}C=C.next}while(C!==w)}}function Xh(d,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var b=h=h.next;do{if((b.tag&d)===d){var w=b.create;b.destroy=w()}b=b.next}while(b!==h)}}function MS(d){var h=d.ref;if(h!==null){var b=d.stateNode;switch(d.tag){case 5:d=W(b);break;default:d=b}typeof h=="function"?h(d):h.current=d}}function p2(d,h,b){if(Ro&&typeof Ro.onCommitFiberUnmount=="function")try{Ro.onCommitFiberUnmount(zg,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(d=h.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var w=d=d.next;do{var C=w,L=C.destroy;C=C.tag,L!==void 0&&(C&2||C&4)&&ES(h,b,L),w=w.next}while(w!==d)}break;case 1:if(f0(h,b),d=h.stateNode,typeof d.componentWillUnmount=="function")try{d.props=h.memoizedProps,d.state=h.memoizedState,d.componentWillUnmount()}catch($){Ri(h,b,$)}break;case 5:f0(h,b);break;case 4:Be?x2(d,h,b):X&&X&&(h=h.stateNode.containerInfo,b=pt(h),Ut(h,b))}}function m2(d,h,b){for(var w=h;;)if(p2(d,w,b),w.child===null||Be&&w.tag===4){if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else w.child.return=w,w=w.child}function g2(d){var h=d.alternate;h!==null&&(d.alternate=null,g2(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&We(h)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function v2(d){return d.tag===5||d.tag===3||d.tag===4}function y2(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||v2(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function _2(d){if(Be){e:{for(var h=d.return;h!==null;){if(v2(h))break e;h=h.return}throw Error(o(160))}var b=h;switch(b.tag){case 5:h=b.stateNode,b.flags&32&&(be(h),b.flags&=-33),b=y2(d),CS(d,b,h);break;case 3:case 4:h=b.stateNode.containerInfo,b=y2(d),TS(d,b,h);break;default:throw Error(o(161))}}}function TS(d,h,b){var w=d.tag;if(w===5||w===6)d=d.stateNode,h?at(b,d,h):Le(b,d);else if(w!==4&&(d=d.child,d!==null))for(TS(d,h,b),d=d.sibling;d!==null;)TS(d,h,b),d=d.sibling}function CS(d,h,b){var w=d.tag;if(w===5||w===6)d=d.stateNode,h?ht(b,d,h):tt(b,d);else if(w!==4&&(d=d.child,d!==null))for(CS(d,h,b),d=d.sibling;d!==null;)CS(d,h,b),d=d.sibling}function x2(d,h,b){for(var w=h,C=!1,L,$;;){if(!C){C=w.return;e:for(;;){if(C===null)throw Error(o(160));switch(L=C.stateNode,C.tag){case 5:$=!1;break e;case 3:L=L.containerInfo,$=!0;break e;case 4:L=L.containerInfo,$=!0;break e}C=C.return}C=!0}if(w.tag===5||w.tag===6)m2(d,w,b),$?Q(L,w.stateNode):Ye(L,w.stateNode);else if(w.tag===18)$?he(L,w.stateNode):me(L,w.stateNode);else if(w.tag===4){if(w.child!==null){L=w.stateNode.containerInfo,$=!0,w.child.return=w,w=w.child;continue}}else if(p2(d,w,b),w.child!==null){w.child.return=w,w=w.child;continue}if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return,w.tag===4&&(C=!1)}w.sibling.return=w.return,w=w.sibling}}function RS(d,h){if(Be){switch(h.tag){case 0:case 11:case 14:case 15:Mc(3,h,h.return),Xh(3,h),Mc(5,h,h.return);return;case 1:return;case 5:var b=h.stateNode;if(b!=null){var w=h.memoizedProps;d=d!==null?d.memoizedProps:w;var C=h.type,L=h.updateQueue;h.updateQueue=null,L!==null&&dt(b,L,C,d,w,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));b=h.memoizedProps,we(h.stateNode,d!==null?d.memoizedProps:b,b);return;case 3:Se&&d!==null&&d.memoizedState.isDehydrated&&le(h.stateNode.containerInfo);return;case 12:return;case 13:d0(h);return;case 19:d0(h);return;case 17:return}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:Mc(3,h,h.return),Xh(3,h),Mc(5,h,h.return);return;case 12:return;case 13:d0(h);return;case 19:d0(h);return;case 3:Se&&d!==null&&d.memoizedState.isDehydrated&&le(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(X){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,Ut(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function d0(d){var h=d.updateQueue;if(h!==null){d.updateQueue=null;var b=d.stateNode;b===null&&(b=d.stateNode=new U9),h.forEach(function(w){var C=J9.bind(null,d,w);b.has(w)||(b.add(w),w.then(C,C))})}}function H9(d,h){for(Ke=h;Ke!==null;){h=Ke;var b=h.deletions;if(b!==null)for(var w=0;w<b.length;w++){var C=b[w];try{var L=d;Be?x2(L,C,h):m2(L,C,h);var $=C.alternate;$!==null&&($.return=null),C.return=null}catch(ct){Ri(C,h,ct)}}if(b=h.child,h.subtreeFlags&12854&&b!==null)b.return=h,Ke=b;else for(;Ke!==null;){h=Ke;try{var re=h.flags;if(re&32&&Be&&be(h.stateNode),re&512){var _e=h.alternate;if(_e!==null){var Ne=_e.ref;Ne!==null&&(typeof Ne=="function"?Ne(null):Ne.current=null)}}if(re&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var it=h.alternate;(it===null||it.memoizedState===null)&&(kS=Ar())}break;case 22:var Ct=h.memoizedState!==null,vt=h.alternate,ln=vt!==null&&vt.memoizedState!==null;if(b=h,Be){e:if(w=b,C=Ct,L=null,Be)for(var ft=w;;){if(ft.tag===5){if(L===null){L=ft;var Kr=ft.stateNode;C?je(Kr):Ce(ft.stateNode,ft.memoizedProps)}}else if(ft.tag===6){if(L===null){var Os=ft.stateNode;C?Xe(Os):Z(Os,ft.memoizedProps)}}else if((ft.tag!==22&&ft.tag!==23||ft.memoizedState===null||ft===w)&&ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===w)break;for(;ft.sibling===null;){if(ft.return===null||ft.return===w)break e;L===ft&&(L=null),ft=ft.return}L===ft&&(L=null),ft.sibling.return=ft.return,ft=ft.sibling}}if(Ct&&!ln&&b.mode&1){Ke=b;for(var fe=b.child;fe!==null;){for(b=Ke=fe;Ke!==null;){w=Ke;var se=w.child;switch(w.tag){case 0:case 11:case 14:case 15:Mc(4,w,w.return);break;case 1:f0(w,w.return);var ge=w.stateNode;if(typeof ge.componentWillUnmount=="function"){var qe=w.return;try{ge.props=w.memoizedProps,ge.state=w.memoizedState,ge.componentWillUnmount()}catch(ct){Ri(w,qe,ct)}}break;case 5:f0(w,w.return);break;case 22:if(w.memoizedState!==null){A2(b);continue}}se!==null?(se.return=w,Ke=se):A2(b)}fe=fe.sibling}}}switch(re&4102){case 2:_2(h),h.flags&=-3;break;case 6:_2(h),h.flags&=-3,RS(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,RS(h.alternate,h);break;case 4:RS(h.alternate,h)}}catch(ct){Ri(h,h.return,ct)}if(b=h.sibling,b!==null){b.return=h.return,Ke=b;break}Ke=h.return}}}function G9(d,h,b){Ke=d,S2(d)}function S2(d,h,b){for(var w=(d.mode&1)!==0;Ke!==null;){var C=Ke,L=C.child;if(C.tag===22&&w){var $=C.memoizedState!==null||u0;if(!$){var re=C.alternate,_e=re!==null&&re.memoizedState!==null||Ec;re=u0;var Ne=Ec;if(u0=$,(Ec=_e)&&!Ne)for(Ke=C;Ke!==null;)$=Ke,_e=$.child,$.tag===22&&$.memoizedState!==null?w2(C):_e!==null?(_e.return=$,Ke=_e):w2(C);for(;L!==null;)Ke=L,S2(L),L=L.sibling;Ke=C,u0=re,Ec=Ne}b2(d)}else C.subtreeFlags&8772&&L!==null?(L.return=C,Ke=L):b2(d)}}function b2(d){for(;Ke!==null;){var h=Ke;if(h.flags&8772){var b=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:Ec||Xh(5,h);break;case 1:var w=h.stateNode;if(h.flags&4&&!Ec)if(b===null)w.componentDidMount();else{var C=h.elementType===h.type?b.memoizedProps:no(h.type,b.memoizedProps);w.componentDidUpdate(C,b.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var L=h.updateQueue;L!==null&&gP(h,L,w);break;case 3:var $=h.updateQueue;if($!==null){if(b=null,h.child!==null)switch(h.child.tag){case 5:b=W(h.child.stateNode);break;case 1:b=h.child.stateNode}gP(h,$,b)}break;case 5:var re=h.stateNode;b===null&&h.flags&4&&gt(re,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(Se&&h.memoizedState===null){var _e=h.alternate;if(_e!==null){var Ne=_e.memoizedState;if(Ne!==null){var it=Ne.dehydrated;it!==null&&pe(it)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Ec||h.flags&512&&MS(h)}catch(Ct){Ri(h,h.return,Ct)}}if(h===d){Ke=null;break}if(b=h.sibling,b!==null){b.return=h.return,Ke=b;break}Ke=h.return}}function A2(d){for(;Ke!==null;){var h=Ke;if(h===d){Ke=null;break}var b=h.sibling;if(b!==null){b.return=h.return,Ke=b;break}Ke=h.return}}function w2(d){for(;Ke!==null;){var h=Ke;try{switch(h.tag){case 0:case 11:case 15:var b=h.return;try{Xh(4,h)}catch(_e){Ri(h,b,_e)}break;case 1:var w=h.stateNode;if(typeof w.componentDidMount=="function"){var C=h.return;try{w.componentDidMount()}catch(_e){Ri(h,C,_e)}}var L=h.return;try{MS(h)}catch(_e){Ri(h,L,_e)}break;case 5:var $=h.return;try{MS(h)}catch(_e){Ri(h,$,_e)}}}catch(_e){Ri(h,h.return,_e)}if(h===d){Ke=null;break}var re=h.sibling;if(re!==null){re.return=h.return,Ke=re;break}Ke=h.return}}var h0=0,p0=1,m0=2,g0=3,v0=4;if(typeof Symbol=="function"&&Symbol.for){var Kh=Symbol.for;h0=Kh("selector.component"),p0=Kh("selector.has_pseudo_class"),m0=Kh("selector.role"),g0=Kh("selector.test_id"),v0=Kh("selector.text")}function PS(d){var h=ve(d);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(d=ie(d),d===null)throw Error(o(362));return d.stateNode.current}function OS(d,h){switch(h.$$typeof){case h0:if(d.type===h.value)return!0;break;case p0:e:{h=h.value,d=[d,0];for(var b=0;b<d.length;){var w=d[b++],C=d[b++],L=h[C];if(w.tag!==5||!ae(w)){for(;L!=null&&OS(w,L);)C++,L=h[C];if(C===h.length){h=!0;break e}else for(w=w.child;w!==null;)d.push(w,C),w=w.sibling}}h=!1}return h;case m0:if(d.tag===5&&Ie(d.stateNode,h.value))return!0;break;case v0:if((d.tag===5||d.tag===6)&&(d=oe(d),d!==null&&0<=d.indexOf(h.value)))return!0;break;case g0:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function LS(d){switch(d.$$typeof){case h0:return"<"+(R(d.value)||"Unknown")+">";case p0:return":has("+(LS(d)||"")+")";case m0:return'[role="'+d.value+'"]';case v0:return'"'+d.value+'"';case g0:return'[data-testname="'+d.value+'"]';default:throw Error(o(365))}}function E2(d,h){var b=[];d=[d,0];for(var w=0;w<d.length;){var C=d[w++],L=d[w++],$=h[L];if(C.tag!==5||!ae(C)){for(;$!=null&&OS(C,$);)L++,$=h[L];if(L===h.length)b.push(C);else for(C=C.child;C!==null;)d.push(C,L),C=C.sibling}}return b}function IS(d,h){if(!D)throw Error(o(363));d=PS(d),d=E2(d,h),h=[],d=Array.from(d);for(var b=0;b<d.length;){var w=d[b++];if(w.tag===5)ae(w)||h.push(w.stateNode);else for(w=w.child;w!==null;)d.push(w),w=w.sibling}return h}var V9=Math.ceil,y0=a.ReactCurrentDispatcher,BS=a.ReactCurrentOwner,tr=a.ReactCurrentBatchConfig,Ft=0,ar=null,lr=null,Fr=0,qi=0,sf=Sr(0),mr=0,Yh=null,of=0,_0=0,DS=0,Jh=null,Ti=null,kS=0,NS=1/0;function af(){NS=Ar()+500}var x0=!1,FS=null,cl=null,S0=!1,ul=null,b0=0,qh=0,US=null,A0=-1,w0=0;function hi(){return Ft&6?Ar():A0!==-1?A0:A0=Ar()}function fl(d){return d.mode&1?Ft&2&&Fr!==0?Fr&-Fr:E9.transition!==null?(w0===0&&(d=Ng,Ng<<=1,!(Ng&4194240)&&(Ng=64),w0=d),w0):(d=Jt,d!==0?d:ye()):1}function Rs(d,h,b){if(50<qh)throw qh=0,US=null,Error(o(185));var w=E0(d,h);return w===null?null:(Bh(w,h,b),(!(Ft&2)||w!==ar)&&(w===ar&&(!(Ft&2)&&(_0|=h),mr===4&&dl(w,Fr)),Ci(w,b),h===1&&Ft===0&&!(d.mode&1)&&(af(),Hg&&Oo())),w)}function E0(d,h){d.lanes|=h;var b=d.alternate;for(b!==null&&(b.lanes|=h),b=d,d=d.return;d!==null;)d.childLanes|=h,b=d.alternate,b!==null&&(b.childLanes|=h),b=d,d=d.return;return b.tag===3?b.stateNode:null}function Ci(d,h){var b=d.callbackNode;g9(d,h);var w=Ug(d,d===ar?Fr:0);if(w===0)b!==null&&fP(b),d.callbackNode=null,d.callbackPriority=0;else if(h=w&-w,d.callbackPriority!==h){if(b!=null&&fP(b),h===1)d.tag===0?w9(T2.bind(null,d)):dP(T2.bind(null,d)),ze?U(function(){Ft===0&&Oo()}):X1(K1,Oo),b=null;else{switch(uP(w)){case 1:b=K1;break;case 4:b=x9;break;case 16:b=Y1;break;case 536870912:b=S9;break;default:b=Y1}b=k2(b,M2.bind(null,d))}d.callbackPriority=h,d.callbackNode=b}}function M2(d,h){if(A0=-1,w0=0,Ft&6)throw Error(o(327));var b=d.callbackNode;if(Rc()&&d.callbackNode!==b)return null;var w=Ug(d,d===ar?Fr:0);if(w===0)return null;if(w&30||w&d.expiredLanes||h)h=M0(d,w);else{h=w;var C=Ft;Ft|=2;var L=P2();(ar!==d||Fr!==h)&&(af(),Tc(d,h));do try{j9();break}catch(re){R2(d,re)}while(1);Q1(),y0.current=L,Ft=C,lr!==null?h=0:(ar=null,Fr=0,h=mr)}if(h!==0){if(h===2&&(C=$1(d),C!==0&&(w=C,h=zS(d,C))),h===1)throw b=Yh,Tc(d,0),dl(d,w),Ci(d,Ar()),b;if(h===6)dl(d,w);else{if(C=d.current.alternate,!(w&30)&&!$9(C)&&(h=M0(d,w),h===2&&(L=$1(d),L!==0&&(w=L,h=zS(d,L))),h===1))throw b=Yh,Tc(d,0),dl(d,w),Ci(d,Ar()),b;switch(d.finishedWork=C,d.finishedLanes=w,h){case 0:case 1:throw Error(o(345));case 2:Cc(d,Ti);break;case 3:if(dl(d,w),(w&130023424)===w&&(h=kS+500-Ar(),10<h)){if(Ug(d,0)!==0)break;if(C=d.suspendedLanes,(C&w)!==w){hi(),d.pingedLanes|=d.suspendedLanes&C;break}d.timeoutHandle=Re(Cc.bind(null,d,Ti),h);break}Cc(d,Ti);break;case 4:if(dl(d,w),(w&4194240)===w)break;for(h=d.eventTimes,C=-1;0<w;){var $=31-Xi(w);L=1<<$,$=h[$],$>C&&(C=$),w&=~L}if(w=C,w=Ar()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*V9(w/1960))-w,10<w){d.timeoutHandle=Re(Cc.bind(null,d,Ti),w);break}Cc(d,Ti);break;case 5:Cc(d,Ti);break;default:throw Error(o(329))}}}return Ci(d,Ar()),d.callbackNode===b?M2.bind(null,d):null}function zS(d,h){var b=Jh;return d.current.memoizedState.isDehydrated&&(Tc(d,h).flags|=256),d=M0(d,h),d!==2&&(h=Ti,Ti=b,h!==null&&HS(h)),d}function HS(d){Ti===null?Ti=d:Ti.push.apply(Ti,d)}function $9(d){for(var h=d;;){if(h.flags&16384){var b=h.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var w=0;w<b.length;w++){var C=b[w],L=C.getSnapshot;C=C.value;try{if(!Po(L(),C))return!1}catch{return!1}}}if(b=h.child,h.subtreeFlags&16384&&b!==null)b.return=h,h=b;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function dl(d,h){for(h&=~DS,h&=~_0,d.suspendedLanes|=h,d.pingedLanes&=~h,d=d.expirationTimes;0<h;){var b=31-Xi(h),w=1<<b;d[b]=-1,h&=~w}}function T2(d){if(Ft&6)throw Error(o(327));Rc();var h=Ug(d,0);if(!(h&1))return Ci(d,Ar()),null;var b=M0(d,h);if(d.tag!==0&&b===2){var w=$1(d);w!==0&&(h=w,b=zS(d,w))}if(b===1)throw b=Yh,Tc(d,0),dl(d,h),Ci(d,Ar()),b;if(b===6)throw Error(o(345));return d.finishedWork=d.current.alternate,d.finishedLanes=h,Cc(d,Ti),Ci(d,Ar()),null}function C2(d){ul!==null&&ul.tag===0&&!(Ft&6)&&Rc();var h=Ft;Ft|=1;var b=tr.transition,w=Jt;try{if(tr.transition=null,Jt=1,d)return d()}finally{Jt=w,tr.transition=b,Ft=h,!(Ft&6)&&Oo()}}function GS(){qi=sf.current,At(sf)}function Tc(d,h){d.finishedWork=null,d.finishedLanes=0;var b=d.timeoutHandle;if(b!==Je&&(d.timeoutHandle=Je,Ze(b)),lr!==null)for(b=lr.return;b!==null;){var w=b;switch(sS(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&er();break;case 3:nf(),At($n),At(Nt),dS();break;case 5:uS(w);break;case 4:nf();break;case 13:At(On);break;case 19:At(On);break;case 10:Z1(w.type._context);break;case 22:case 23:GS()}b=b.return}if(ar=d,lr=d=hl(d.current,null),Fr=qi=h,mr=0,Yh=null,DS=_0=of=0,Ti=Jh=null,Lo!==null){for(h=0;h<Lo.length;h++)if(b=Lo[h],w=b.interleaved,w!==null){b.interleaved=null;var C=w.next,L=b.pending;if(L!==null){var $=L.next;L.next=C,w.next=$}b.pending=w}Lo=null}return d}function R2(d,h){do{var b=lr;try{if(Q1(),Qg.current=i0,Zg){for(var w=Wn.memoizedState;w!==null;){var C=w.queue;C!==null&&(C.pending=null),w=w.next}Zg=!1}if(rf=0,wr=Wr=Wn=null,zh=!1,Hh=0,BS.current=null,b===null||b.return===null){mr=1,Yh=h,lr=null;break}e:{var L=d,$=b.return,re=b,_e=h;if(h=Fr,re.flags|=32768,_e!==null&&typeof _e=="object"&&typeof _e.then=="function"){var Ne=_e,it=re,Ct=it.tag;if(!(it.mode&1)&&(Ct===0||Ct===11||Ct===15)){var vt=it.alternate;vt?(it.updateQueue=vt.updateQueue,it.memoizedState=vt.memoizedState,it.lanes=vt.lanes):(it.updateQueue=null,it.memoizedState=null)}var ln=JP($);if(ln!==null){ln.flags&=-257,qP(ln,$,re,L,h),ln.mode&1&&YP(L,Ne,h),h=ln,_e=Ne;var ft=h.updateQueue;if(ft===null){var Kr=new Set;Kr.add(_e),h.updateQueue=Kr}else ft.add(_e);break e}else{if(!(h&1)){YP(L,Ne,h),VS();break e}_e=Error(o(426))}}else if(An&&re.mode&1){var Os=JP($);if(Os!==null){!(Os.flags&65536)&&(Os.flags|=256),qP(Os,$,re,L,h),lS(_e);break e}}L=_e,mr!==4&&(mr=2),Jh===null?Jh=[L]:Jh.push(L),_e=_S(_e,re),re=$;do{switch(re.tag){case 3:re.flags|=65536,h&=-h,re.lanes|=h;var fe=XP(re,_e,h);mP(re,fe);break e;case 1:L=_e;var se=re.type,ge=re.stateNode;if(!(re.flags&128)&&(typeof se.getDerivedStateFromError=="function"||ge!==null&&typeof ge.componentDidCatch=="function"&&(cl===null||!cl.has(ge)))){re.flags|=65536,h&=-h,re.lanes|=h;var qe=KP(re,L,h);mP(re,qe);break e}}re=re.return}while(re!==null)}L2(b)}catch(ct){h=ct,lr===b&&b!==null&&(lr=b=b.return);continue}break}while(1)}function P2(){var d=y0.current;return y0.current=i0,d===null?i0:d}function VS(){(mr===0||mr===3||mr===2)&&(mr=4),ar===null||!(of&268435455)&&!(_0&268435455)||dl(ar,Fr)}function M0(d,h){var b=Ft;Ft|=2;var w=P2();ar===d&&Fr===h||Tc(d,h);do try{W9();break}catch(C){R2(d,C)}while(1);if(Q1(),Ft=b,y0.current=w,lr!==null)throw Error(o(261));return ar=null,Fr=0,mr}function W9(){for(;lr!==null;)O2(lr)}function j9(){for(;lr!==null&&!y9();)O2(lr)}function O2(d){var h=D2(d.alternate,d,qi);d.memoizedProps=d.pendingProps,h===null?L2(d):lr=h,BS.current=null}function L2(d){var h=d;do{var b=h.alternate;if(d=h.return,h.flags&32768){if(b=F9(b,h),b!==null){b.flags&=32767,lr=b;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{mr=6,lr=null;return}}else if(b=D9(b,h,qi),b!==null){lr=b;return}if(h=h.sibling,h!==null){lr=h;return}lr=h=d}while(h!==null);mr===0&&(mr=5)}function Cc(d,h){var b=Jt,w=tr.transition;try{tr.transition=null,Jt=1,X9(d,h,b)}finally{tr.transition=w,Jt=b}return null}function X9(d,h,b){do Rc();while(ul!==null);if(Ft&6)throw Error(o(327));var w=d.finishedWork,C=d.finishedLanes;if(w===null)return null;if(d.finishedWork=null,d.finishedLanes=0,w===d.current)throw Error(o(177));d.callbackNode=null,d.callbackPriority=0;var L=w.lanes|w.childLanes;if(v9(d,L),d===ar&&(lr=ar=null,Fr=0),!(w.subtreeFlags&2064)&&!(w.flags&2064)||S0||(S0=!0,k2(Y1,function(){return Rc(),null})),L=(w.flags&15990)!==0,w.subtreeFlags&15990||L){L=tr.transition,tr.transition=null;var $=Jt;Jt=1;var re=Ft;Ft|=4,BS.current=null,z9(d,w),H9(d,w),J(d.containerInfo),d.current=w,G9(w),_9(),Ft=re,Jt=$,tr.transition=L}else d.current=w;if(S0&&(S0=!1,ul=d,b0=C),L=d.pendingLanes,L===0&&(cl=null),b9(w.stateNode),Ci(d,Ar()),h!==null)for(b=d.onRecoverableError,w=0;w<h.length;w++)b(h[w]);if(x0)throw x0=!1,d=FS,FS=null,d;return b0&1&&d.tag!==0&&Rc(),L=d.pendingLanes,L&1?d===US?qh++:(qh=0,US=d):qh=0,Oo(),null}function Rc(){if(ul!==null){var d=uP(b0),h=tr.transition,b=Jt;try{if(tr.transition=null,Jt=16>d?16:d,ul===null)var w=!1;else{if(d=ul,ul=null,b0=0,Ft&6)throw Error(o(331));var C=Ft;for(Ft|=4,Ke=d.current;Ke!==null;){var L=Ke,$=L.child;if(Ke.flags&16){var re=L.deletions;if(re!==null){for(var _e=0;_e<re.length;_e++){var Ne=re[_e];for(Ke=Ne;Ke!==null;){var it=Ke;switch(it.tag){case 0:case 11:case 15:Mc(8,it,L)}var Ct=it.child;if(Ct!==null)Ct.return=it,Ke=Ct;else for(;Ke!==null;){it=Ke;var vt=it.sibling,ln=it.return;if(g2(it),it===Ne){Ke=null;break}if(vt!==null){vt.return=ln,Ke=vt;break}Ke=ln}}}var ft=L.alternate;if(ft!==null){var Kr=ft.child;if(Kr!==null){ft.child=null;do{var Os=Kr.sibling;Kr.sibling=null,Kr=Os}while(Kr!==null)}}Ke=L}}if(L.subtreeFlags&2064&&$!==null)$.return=L,Ke=$;else e:for(;Ke!==null;){if(L=Ke,L.flags&2048)switch(L.tag){case 0:case 11:case 15:Mc(9,L,L.return)}var fe=L.sibling;if(fe!==null){fe.return=L.return,Ke=fe;break e}Ke=L.return}}var se=d.current;for(Ke=se;Ke!==null;){$=Ke;var ge=$.child;if($.subtreeFlags&2064&&ge!==null)ge.return=$,Ke=ge;else e:for($=se;Ke!==null;){if(re=Ke,re.flags&2048)try{switch(re.tag){case 0:case 11:case 15:Xh(9,re)}}catch(ct){Ri(re,re.return,ct)}if(re===$){Ke=null;break e}var qe=re.sibling;if(qe!==null){qe.return=re.return,Ke=qe;break e}Ke=re.return}}if(Ft=C,Oo(),Ro&&typeof Ro.onPostCommitFiberRoot=="function")try{Ro.onPostCommitFiberRoot(zg,d)}catch{}w=!0}return w}finally{Jt=b,tr.transition=h}}return!1}function I2(d,h,b){h=_S(b,h),h=XP(d,h,1),ll(d,h),h=hi(),d=E0(d,1),d!==null&&(Bh(d,1,h),Ci(d,h))}function Ri(d,h,b){if(d.tag===3)I2(d,d,b);else for(;h!==null;){if(h.tag===3){I2(h,d,b);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(cl===null||!cl.has(w))){d=_S(b,d),d=KP(h,d,1),ll(h,d),d=hi(),h=E0(h,1),h!==null&&(Bh(h,1,d),Ci(h,d));break}}h=h.return}}function K9(d,h,b){var w=d.pingCache;w!==null&&w.delete(h),h=hi(),d.pingedLanes|=d.suspendedLanes&b,ar===d&&(Fr&b)===b&&(mr===4||mr===3&&(Fr&130023424)===Fr&&500>Ar()-kS?Tc(d,0):DS|=b),Ci(d,h)}function B2(d,h){h===0&&(d.mode&1?(h=Fg,Fg<<=1,!(Fg&130023424)&&(Fg=4194304)):h=1);var b=hi();d=E0(d,h),d!==null&&(Bh(d,h,b),Ci(d,b))}function Y9(d){var h=d.memoizedState,b=0;h!==null&&(b=h.retryLane),B2(d,b)}function J9(d,h){var b=0;switch(d.tag){case 13:var w=d.stateNode,C=d.memoizedState;C!==null&&(b=C.retryLane);break;case 19:w=d.stateNode;break;default:throw Error(o(314))}w!==null&&w.delete(h),B2(d,b)}var D2;D2=function(d,h,b){if(d!==null)if(d.memoizedProps!==h.pendingProps||$n.current)Ji=!0;else{if(!(d.lanes&b)&&!(h.flags&128))return Ji=!1,N9(d,h,b);Ji=!!(d.flags&131072)}else Ji=!1,An&&h.flags&1048576&&SP(h,Yg,h.index);switch(h.lanes=0,h.tag){case 2:var w=h.type;d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),d=h.pendingProps;var C=As(h,Nt.current);Ju(h,b),C=pS(null,h,w,d,C,b);var L=mS();return h.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,br(w)?(L=!0,Nr(h)):L=!1,h.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,tS(h),C.updater=Xg,h.stateNode=C,C._reactInternals=h,rS(h,w,d,b),h=bS(null,h,w,!0,L,b)):(h.tag=0,An&&L&&iS(h),di(null,h,C,b),h=h.child),h;case 16:w=h.elementType;e:{switch(d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),d=h.pendingProps,C=w._init,w=C(w._payload),h.type=w,C=h.tag=Q9(w),d=no(w,d),C){case 0:h=SS(null,h,w,d,b);break e;case 1:h=s2(null,h,w,d,b);break e;case 11:h=e2(null,h,w,d,b);break e;case 14:h=t2(null,h,w,no(w.type,d),b);break e}throw Error(o(306,w,""))}return h;case 0:return w=h.type,C=h.pendingProps,C=h.elementType===w?C:no(w,C),SS(d,h,w,C,b);case 1:return w=h.type,C=h.pendingProps,C=h.elementType===w?C:no(w,C),s2(d,h,w,C,b);case 3:e:{if(o2(h),d===null)throw Error(o(387));w=h.pendingProps,L=h.memoizedState,C=L.element,pP(d,h),jg(h,w,null,b);var $=h.memoizedState;if(w=$.element,Se&&L.isDehydrated)if(L={element:w,isDehydrated:!1,cache:$.cache,transitions:$.transitions},h.updateQueue.baseState=L,h.memoizedState=L,h.flags&256){C=Error(o(423)),h=a2(d,h,w,b,C);break e}else if(w!==C){C=Error(o(424)),h=a2(d,h,w,b,C);break e}else for(Se&&(Yi=Bg(h.stateNode.containerInfo),Ki=h,An=!0,ro=null,Dh=!1),b=TP(h,null,w,b),h.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(Zu(),w===C){h=va(d,h,b);break e}di(d,h,w,b)}h=h.child}return h;case 5:return CP(h),d===null&&aS(h),w=h.type,C=h.pendingProps,L=d!==null?d.memoizedProps:null,$=C.children,ce(w,C)?$=null:L!==null&&ce(w,L)&&(h.flags|=32),i2(d,h),di(d,h,$,b),h.child;case 6:return d===null&&aS(h),null;case 13:return l2(d,h,b);case 4:return cS(h,h.stateNode.containerInfo),w=h.pendingProps,d===null?h.child=ef(h,null,w,b):di(d,h,w,b),h.child;case 11:return w=h.type,C=h.pendingProps,C=h.elementType===w?C:no(w,C),e2(d,h,w,C,b);case 7:return di(d,h,h.pendingProps,b),h.child;case 8:return di(d,h,h.pendingProps.children,b),h.child;case 12:return di(d,h,h.pendingProps.children,b),h.child;case 10:e:{if(w=h.type._context,C=h.pendingProps,L=h.memoizedProps,$=C.value,hP(h,w,$),L!==null)if(Po(L.value,$)){if(L.children===C.children&&!$n.current){h=va(d,h,b);break e}}else for(L=h.child,L!==null&&(L.return=h);L!==null;){var re=L.dependencies;if(re!==null){$=L.child;for(var _e=re.firstContext;_e!==null;){if(_e.context===w){if(L.tag===1){_e=ha(-1,b&-b),_e.tag=2;var Ne=L.updateQueue;if(Ne!==null){Ne=Ne.shared;var it=Ne.pending;it===null?_e.next=_e:(_e.next=it.next,it.next=_e),Ne.pending=_e}}L.lanes|=b,_e=L.alternate,_e!==null&&(_e.lanes|=b),eS(L.return,b,h),re.lanes|=b;break}_e=_e.next}}else if(L.tag===10)$=L.type===h.type?null:L.child;else if(L.tag===18){if($=L.return,$===null)throw Error(o(341));$.lanes|=b,re=$.alternate,re!==null&&(re.lanes|=b),eS($,b,h),$=L.sibling}else $=L.child;if($!==null)$.return=L;else for($=L;$!==null;){if($===h){$=null;break}if(L=$.sibling,L!==null){L.return=$.return,$=L;break}$=$.return}L=$}di(d,h,C.children,b),h=h.child}return h;case 9:return C=h.type,w=h.pendingProps.children,Ju(h,b),C=ws(C),w=w(C),h.flags|=1,di(d,h,w,b),h.child;case 14:return w=h.type,C=no(w,h.pendingProps),C=no(w.type,C),t2(d,h,w,C,b);case 15:return n2(d,h,h.type,h.pendingProps,b);case 17:return w=h.type,C=h.pendingProps,C=h.elementType===w?C:no(w,C),d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,br(w)?(d=!0,Nr(h)):d=!1,Ju(h,b),_P(h,w,C),rS(h,w,C,b),bS(null,h,w,!0,d,b);case 19:return d2(d,h,b);case 22:return r2(d,h,b)}throw Error(o(156,h.tag))};function k2(d,h){return X1(d,h)}function q9(d,h,b,w){this.tag=d,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ps(d,h,b,w){return new q9(d,h,b,w)}function $S(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Q9(d){if(typeof d=="function")return $S(d)?1:0;if(d!=null){if(d=d.$$typeof,d===y)return 11;if(d===x)return 14}return 2}function hl(d,h){var b=d.alternate;return b===null?(b=Ps(d.tag,h,d.key,d.mode),b.elementType=d.elementType,b.type=d.type,b.stateNode=d.stateNode,b.alternate=d,d.alternate=b):(b.pendingProps=h,b.type=d.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=d.flags&14680064,b.childLanes=d.childLanes,b.lanes=d.lanes,b.child=d.child,b.memoizedProps=d.memoizedProps,b.memoizedState=d.memoizedState,b.updateQueue=d.updateQueue,h=d.dependencies,b.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},b.sibling=d.sibling,b.index=d.index,b.ref=d.ref,b}function T0(d,h,b,w,C,L){var $=2;if(w=d,typeof d=="function")$S(d)&&($=1);else if(typeof d=="string")$=5;else e:switch(d){case u:return Pc(b.children,C,L,h);case f:$=8,C|=8;break;case p:return d=Ps(12,b,h,C|2),d.elementType=p,d.lanes=L,d;case _:return d=Ps(13,b,h,C),d.elementType=_,d.lanes=L,d;case v:return d=Ps(19,b,h,C),d.elementType=v,d.lanes=L,d;case A:return C0(b,C,L,h);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case m:$=10;break e;case g:$=9;break e;case y:$=11;break e;case x:$=14;break e;case S:$=16,w=null;break e}throw Error(o(130,d==null?d:typeof d,""))}return h=Ps($,b,h,C),h.elementType=d,h.type=w,h.lanes=L,h}function Pc(d,h,b,w){return d=Ps(7,d,w,h),d.lanes=b,d}function C0(d,h,b,w){return d=Ps(22,d,w,h),d.elementType=A,d.lanes=b,d.stateNode={},d}function WS(d,h,b){return d=Ps(6,d,null,h),d.lanes=b,d}function jS(d,h,b){return h=Ps(4,d.children!==null?d.children:[],d.key,h),h.lanes=b,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}function Z9(d,h,b,w,C){this.tag=h,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Je,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=W1(0),this.expirationTimes=W1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=W1(0),this.identifierPrefix=w,this.onRecoverableError=C,Se&&(this.mutableSourceEagerHydrationData=null)}function N2(d,h,b,w,C,L,$,re,_e){return d=new Z9(d,h,b,re,_e),h===1?(h=1,L===!0&&(h|=8)):h=0,L=Ps(3,null,null,h),d.current=L,L.stateNode=d,L.memoizedState={element:w,isDehydrated:b,cache:null,transitions:null},tS(L),d}function F2(d){if(!d)return bs;d=d._reactInternals;e:{if(T(d)!==d||d.tag!==1)throw Error(o(170));var h=d;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(br(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(d.tag===1){var b=d.type;if(br(b))return Xu(d,b,h)}return h}function U2(d){var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=F(h),d===null?null:d.stateNode}function z2(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var b=d.retryLane;d.retryLane=b!==0&&b<h?b:h}}function XS(d,h){z2(d,h),(d=d.alternate)&&z2(d,h)}function e8(d){return d=F(d),d===null?null:d.stateNode}function t8(){return null}return t.attemptContinuousHydration=function(d){if(d.tag===13){var h=hi();Rs(d,134217728,h),XS(d,134217728)}},t.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var h=hi(),b=fl(d);Rs(d,b,h),XS(d,b)}},t.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var h=d.stateNode;if(h.current.memoizedState.isDehydrated){var b=Ih(h.pendingLanes);b!==0&&(j1(h,b|1),Ci(h,Ar()),!(Ft&6)&&(af(),Oo()))}break;case 13:var w=hi();C2(function(){return Rs(d,1,w)}),XS(d,1)}},t.batchedUpdates=function(d,h){var b=Ft;Ft|=1;try{return d(h)}finally{Ft=b,Ft===0&&(af(),Hg&&Oo())}},t.createComponentSelector=function(d){return{$$typeof:h0,value:d}},t.createContainer=function(d,h,b,w,C,L,$){return N2(d,h,!1,null,b,w,C,L,$)},t.createHasPseudoClassSelector=function(d){return{$$typeof:p0,value:d}},t.createHydrationContainer=function(d,h,b,w,C,L,$,re,_e){return d=N2(b,w,!0,d,C,L,$,re,_e),d.context=F2(null),b=d.current,w=hi(),C=fl(b),L=ha(w,C),L.callback=h??null,ll(b,L),d.current.lanes=C,Bh(d,C,w),Ci(d,w),d},t.createPortal=function(d,h,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:d,containerInfo:h,implementation:b}},t.createRoleSelector=function(d){return{$$typeof:m0,value:d}},t.createTestNameSelector=function(d){return{$$typeof:g0,value:d}},t.createTextSelector=function(d){return{$$typeof:v0,value:d}},t.deferredUpdates=function(d){var h=Jt,b=tr.transition;try{return tr.transition=null,Jt=16,d()}finally{Jt=h,tr.transition=b}},t.discreteUpdates=function(d,h,b,w,C){var L=Jt,$=tr.transition;try{return tr.transition=null,Jt=1,d(h,b,w,C)}finally{Jt=L,tr.transition=$,Ft===0&&af()}},t.findAllNodes=IS,t.findBoundingRects=function(d,h){if(!D)throw Error(o(363));h=IS(d,h),d=[];for(var b=0;b<h.length;b++)d.push(Ae(h[b]));for(h=d.length-1;0<h;h--){b=d[h];for(var w=b.x,C=w+b.width,L=b.y,$=L+b.height,re=h-1;0<=re;re--)if(h!==re){var _e=d[re],Ne=_e.x,it=Ne+_e.width,Ct=_e.y,vt=Ct+_e.height;if(w>=Ne&&L>=Ct&&C<=it&&$<=vt){d.splice(h,1);break}else if(w!==Ne||b.width!==_e.width||vt<L||Ct>$){if(!(L!==Ct||b.height!==_e.height||it<w||Ne>C)){Ne>w&&(_e.width+=Ne-w,_e.x=w),it<C&&(_e.width=C-Ne),d.splice(h,1);break}}else{Ct>L&&(_e.height+=Ct-L,_e.y=L),vt<$&&(_e.height=$-Ct),d.splice(h,1);break}}}return d},t.findHostInstance=U2,t.findHostInstanceWithNoPortals=function(d){return d=B(d),d=d!==null?k(d):null,d===null?null:d.stateNode},t.findHostInstanceWithWarning=function(d){return U2(d)},t.flushControlled=function(d){var h=Ft;Ft|=1;var b=tr.transition,w=Jt;try{tr.transition=null,Jt=1,d()}finally{Jt=w,tr.transition=b,Ft=h,Ft===0&&(af(),Oo())}},t.flushPassiveEffects=Rc,t.flushSync=C2,t.focusWithin=function(d,h){if(!D)throw Error(o(363));for(d=PS(d),h=E2(d,h),h=Array.from(h),d=0;d<h.length;){var b=h[d++];if(!ae(b)){if(b.tag===5&&Te(b.stateNode))return!0;for(b=b.child;b!==null;)h.push(b),b=b.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Jt},t.getFindAllNodesFailureDescription=function(d,h){if(!D)throw Error(o(363));var b=0,w=[];d=[PS(d),0];for(var C=0;C<d.length;){var L=d[C++],$=d[C++],re=h[$];if((L.tag!==5||!ae(L))&&(OS(L,re)&&(w.push(LS(re)),$++,$>b&&(b=$)),$<h.length))for(L=L.child;L!==null;)d.push(L,$),L=L.sibling}if(b<h.length){for(d=[];b<h.length;b++)d.push(LS(h[b]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},t.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return W(d.child.stateNode);default:return d.child.stateNode}},t.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:e8,findFiberByHostInstance:d.findFiberByHostInstance||t8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)d=!0;else{try{zg=h.inject(d),Ro=h}catch{}d=!!h.checkDCE}}return d},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(d,h,b,w){if(!D)throw Error(o(363));d=IS(d,h);var C=Oe(d,b,w).disconnect;return{disconnect:function(){C()}}},t.registerMutableSourceForHydration=function(d,h){var b=h._getVersion;b=b(h._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[h,b]:d.mutableSourceEagerHydrationData.push(h,b)},t.runWithPriority=function(d,h){var b=Jt;try{return Jt=d,h()}finally{Jt=b}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(d,h,b,w){var C=h.current,L=hi(),$=fl(C);return b=F2(b),h.context===null?h.context=b:h.pendingContext=b,h=ha(L,$),h.payload={element:d},w=w===void 0?null:w,w!==null&&(h.callback=w),ll(C,h),d=Rs(C,$,L),d!==null&&Wg(d,C,$),$},t};cz.exports=yJ;var _J=cz.exports;const xJ=fc(_J),SJ=n=>typeof n=="object"&&typeof n.then=="function",ou=[];function dz(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function hz(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of ou)if(dz(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=ou.indexOf(i);s!==-1&&ou.splice(s,1)},promise:(SJ(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(ou.push(i),!t)throw i.promise}const bJ=(n,e,t)=>hz(n,e,!1,t),AJ=(n,e,t)=>void hz(n,e,!0,t),wJ=n=>{if(n===void 0||n.length===0)ou.splice(0,ou.length);else{const e=ou.find(t=>dz(n,t.keys,t.equal));e&&e.remove()}},UC={},EJ=n=>void Object.assign(UC,n);function MJ(n,e){function t(u,{args:f=[],attach:p,...m},g){let y=`${u[0].toUpperCase()}${u.slice(1)}`,_;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=m.object;_=Hf(v,{type:u,root:g,attach:p,primitive:!0})}else{const v=UC[y];if(!v)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");_=Hf(new v(...f),{type:u,root:g,attach:p,memoizedProps:{args:f}})}return _.__r3f.attach===void 0&&(_ instanceof Ot?_.__r3f.attach="geometry":_ instanceof hr&&(_.__r3f.attach="material")),y!=="inject"&&sA(_,m),_}function r(u,f){let p=!1;if(f){var m,g;(m=f.__r3f)!=null&&m.attach?iA(u,f,f.__r3f.attach):f.isObject3D&&u.isObject3D&&(u.add(f),p=!0),p||(g=u.__r3f)==null||g.objects.push(f),f.__r3f||Hf(f,{}),f.__r3f.parent=u,kE(f),Gf(f)}}function i(u,f,p){let m=!1;if(f){var g,y;if((g=f.__r3f)!=null&&g.attach)iA(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"});const _=u.children.filter(x=>x!==f),v=_.indexOf(p);u.children=[..._.slice(0,v),f,..._.slice(v)],m=!0}m||(y=u.__r3f)==null||y.objects.push(f),f.__r3f||Hf(f,{}),f.__r3f.parent=u,kE(f),Gf(f)}}function s(u,f,p=!1){u&&[...u].forEach(m=>o(f,m,p))}function o(u,f,p){if(f){var m,g,y;if(f.__r3f&&(f.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(A=>A!==f)),(g=f.__r3f)!=null&&g.attach)PI(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){var _;u.remove(f),(_=f.__r3f)!=null&&_.root&&DJ(Ay(f),f)}const x=(y=f.__r3f)==null?void 0:y.primitive,S=!x&&(p===void 0?f.dispose!==null:p);if(!x){var v;s((v=f.__r3f)==null?void 0:v.objects,f,S),s(f.children,f,S)}if(delete f.__r3f,S&&f.dispose&&f.type!=="Scene"){const A=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?BE.unstable_scheduleCallback(BE.unstable_IdlePriority,A):A()}Gf(u)}}function a(u,f,p,m){var g;const y=(g=u.__r3f)==null?void 0:g.parent;if(!y)return;const _=t(f,p,u.__r3f.root);if(u.children){for(const v of u.children)v.__r3f&&r(_,v);u.children=u.children.filter(v=>!v.__r3f)}u.__r3f.objects.forEach(v=>r(_,v)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(y,u),_.parent&&(_.__r3f.autoRemovedBeforeAppend=!0),r(y,_),_.raycast&&_.__r3f.eventCount&&Ay(_).getState().internal.interaction.push(_),[m,m.alternate].forEach(v=>{v!==null&&(v.stateNode=_,v.ref&&(typeof v.ref=="function"?v.ref(_):v.ref.current=_))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:xJ({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,f)=>{if(!f)return;const p=u.getState().scene;p.__r3f&&(p.__r3f.root=u,r(p,f))},removeChildFromContainer:(u,f)=>{f&&o(u.getState().scene,f)},insertInContainerBefore:(u,f,p)=>{if(!f||!p)return;const m=u.getState().scene;m.__r3f&&i(m,f,p)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var f;return!!((f=u==null?void 0:u.__r3f)!=null?f:{}).handlers},prepareUpdate(u,f,p,m){var g;if(((g=u==null?void 0:u.__r3f)!=null?g:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:_=[],children:v,...x}=m,{args:S=[],children:A,...M}=p;if(!Array.isArray(_))throw new Error("R3F: the args prop must be an array!");if(_.some((R,I)=>R!==S[I]))return[!0];const E=xz(u,x,M,!0);return E.changes.length?[!1,E]:null}},commitUpdate(u,[f,p],m,g,y,_){f?a(u,m,y,_):sA(u,p)},commitMount(u,f,p,m){var g;const y=(g=u.__r3f)!=null?g:{};u.raycast&&y.handlers&&y.eventCount&&Ay(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Hf(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var f;const{attach:p,parent:m}=(f=u.__r3f)!=null?f:{};p&&m&&PI(m,u,p),u.isObject3D&&(u.visible=!1),Gf(u)},unhideInstance(u,f){var p;const{attach:m,parent:g}=(p=u.__r3f)!=null?p:{};m&&g&&iA(g,u,m),(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0),Gf(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():ad.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&xn.fun(performance.now)?performance.now:xn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:xn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:xn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:sA}}var MI,TI;const rA=n=>"colorSpace"in n||"outputColorSpace"in n,pz=()=>{var n;return(n=UC.ColorManagement)!=null?n:null},mz=n=>n&&n.isOrthographicCamera,TJ=n=>n&&n.hasOwnProperty("current"),yg=typeof window<"u"&&((MI=window.document)!=null&&MI.createElement||((TI=window.navigator)==null?void 0:TI.product)==="ReactNative")?O.useLayoutEffect:O.useEffect;function gz(n){const e=O.useRef(n);return yg(()=>void(e.current=n),[n]),e}function CJ({set:n}){return yg(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class vz extends O.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}vz.getDerivedStateFromError=()=>({error:!0});const yz="__default",CI=new Map,RJ=n=>n&&!!n.memoized&&!!n.changes;function _z(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const vp=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function Ay(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const xn={obj:n=>n===Object(n)&&!xn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(xn.str(n)||xn.num(n))return n===e;const s=xn.obj(n);if(s&&r==="reference")return n===e;const o=xn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!xn.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(xn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function PJ(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function OJ(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Hf(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function DE(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const RI=/-\d+$/;function iA(n,e,t){if(xn.str(t)){if(RI.test(t)){const s=t.replace(RI,""),{target:o,key:a}=DE(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=DE(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function PI(n,e,t){var r,i;if(xn.str(t)){const{target:s,key:o}=DE(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function xz(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const f=(u=n==null?void 0:n.__r3f)!=null?u:{},p=Object.entries(i),m=[];if(c){const y=Object.keys(l);for(let _=0;_<y.length;_++)i.hasOwnProperty(y[_])||p.unshift([y[_],yz+"remove"])}p.forEach(([y,_])=>{var v;if((v=n.__r3f)!=null&&v.primitive&&y==="object"||xn.equ(_,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return m.push([y,_,!0,[]]);let x=[];y.includes("-")&&(x=y.split("-")),m.push([y,_,!1,x]);for(const S in i){const A=i[S];S.startsWith(`${y}-`)&&m.push([S,A,!1,S.split("-")])}});const g={...i};return f.memoizedProps&&f.memoizedProps.args&&(g.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(g.attach=f.memoizedProps.attach),{memoized:g,changes:m}}const LJ=typeof process<"u"&&!1;function sA(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=RJ(e)?e:xz(n,e),u=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<c.length;p++){let[m,g,y,_]=c[p];if(rA(n)){const A="srgb",M="srgb-linear";m==="encoding"?(m="colorSpace",g=g===3001?A:M):m==="outputEncoding"&&(m="outputColorSpace",g=g===3001?A:M)}let v=n,x=v[m];if(_.length&&(x=_.reduce((S,A)=>S[A],n),!(x&&x.set))){const[S,...A]=_.reverse();v=A.reverse().reduce((M,E)=>M[E],n),m=S}if(g===yz+"remove")if(v.constructor){let S=CI.get(v.constructor);S||(S=new v.constructor,CI.set(v.constructor,S)),g=S[m]}else g=0;if(y)g?s.handlers[m]=g:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(x&&x.set&&(x.copy||x instanceof hu)){if(Array.isArray(g))x.fromArray?x.fromArray(g):x.set(...g);else if(x.copy&&g&&g.constructor&&(LJ?x.constructor.name===g.constructor.name:x.constructor===g.constructor))x.copy(g);else if(g!==void 0){const S=x instanceof ke;!S&&x.setScalar?x.setScalar(g):x instanceof hu&&g instanceof hu?x.mask=g.mask:x.set(g),!pz()&&!a.linear&&S&&x.convertSRGBToLinear()}}else if(v[m]=g,v[m]instanceof Cn&&v[m].format===Si&&v[m].type===Yo){const S=v[m];rA(S)&&rA(a.gl)?S.colorSpace=a.gl.outputColorSpace:S.encoding=a.gl.outputEncoding}Gf(n)}if(s.parent&&n.raycast&&u!==s.eventCount){const p=Ay(n).getState().internal,m=p.interaction.indexOf(n);m>-1&&p.interaction.splice(m,1),s.eventCount&&p.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=n.__r3f)!=null&&i.parent&&kE(n),n}function Gf(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function kE(n){n.onUpdate==null||n.onUpdate(n)}function IJ(n,e){n.manual||(mz(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Uv(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function BJ(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return ad.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ad.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ad.ContinuousEventPriority;default:return ad.DefaultEventPriority}}function Sz(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function DJ(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{Sz(t.capturedMap,e,r,i)})}function kJ(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function r(l,c){const u=n.getState(),f=new Set,p=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let v=0;v<m.length;v++){const x=vp(m[v]);x&&(x.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function g(v){const x=vp(v);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var S;x.events.compute==null||x.events.compute(l,x,(S=x.previousRoot)==null?void 0:S.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(v,!0):[]}let y=m.flatMap(g).sort((v,x)=>{const S=vp(v.object),A=vp(x.object);return!S||!A?v.distance-x.distance:A.events.priority-S.events.priority||v.distance-x.distance}).filter(v=>{const x=Uv(v);return f.has(x)?!1:(f.add(x),!0)});u.events.filter&&(y=u.events.filter(y,u));for(const v of y){let x=v.object;for(;x;){var _;(_=x.__r3f)!=null&&_.eventCount&&p.push({...v,eventObject:x}),x=x.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let v of u.internal.capturedMap.get(l.pointerId).values())f.has(Uv(v.intersection))||p.push(v.intersection);return p}function i(l,c,u,f){const p=n.getState();if(l.length){const m={stopped:!1};for(const g of l){const y=vp(g.object)||p,{raycaster:_,pointer:v,camera:x,internal:S}=y,A=new H(v.x,v.y,0).unproject(x),M=P=>{var B,F;return(B=(F=S.capturedMap.get(P))==null?void 0:F.has(g.eventObject))!=null?B:!1},E=P=>{const B={intersection:g,target:c.target};S.capturedMap.has(P)?S.capturedMap.get(P).set(g.eventObject,B):S.capturedMap.set(P,new Map([[g.eventObject,B]])),c.target.setPointerCapture(P)},R=P=>{const B=S.capturedMap.get(P);B&&Sz(S.capturedMap,g.eventObject,B,P)};let I={};for(let P in c){let B=c[P];typeof B!="function"&&(I[P]=B)}let T={...g,...I,pointer:v,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:A,ray:_.ray,camera:x,stopPropagation(){const P="pointerId"in c&&S.capturedMap.get(c.pointerId);if((!P||P.has(g.eventObject))&&(T.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(B=>B.eventObject===g.eventObject))){const B=l.slice(0,l.indexOf(g));s([...B,g])}},target:{hasPointerCapture:M,setPointerCapture:E,releasePointerCapture:R},currentTarget:{hasPointerCapture:M,setPointerCapture:E,releasePointerCapture:R},nativeEvent:c};if(f(T),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const p=u.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(Uv(u)),p!=null&&p.eventCount){const g={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:f,internal:p}=n.getState();p.lastEvent.current=u;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=r(u,m?t:void 0),v=g?e(u):0;l==="onPointerDown"&&(p.initialClick=[u.offsetX,u.offsetY],p.initialHits=_.map(S=>S.eventObject)),g&&!_.length&&v<=2&&(o(u,p.interaction),f&&f(u)),m&&s(_);function x(S){const A=S.eventObject,M=A.__r3f,E=M==null?void 0:M.handlers;if(M!=null&&M.eventCount)if(m){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const R=Uv(S),I=p.hovered.get(R);I?I.stopped&&S.stopPropagation():(p.hovered.set(R,S),E.onPointerOver==null||E.onPointerOver(S),E.onPointerEnter==null||E.onPointerEnter(S))}E.onPointerMove==null||E.onPointerMove(S)}else{const R=E[l];R?(!g||p.initialHits.includes(A))&&(o(u,p.interaction.filter(I=>!p.initialHits.includes(I))),R(S)):g&&p.initialHits.includes(A)&&o(u,p.interaction.filter(I=>!p.initialHits.includes(I)))}}i(_,u,v,x)}}return{handlePointer:a}}const bz=n=>!!(n!=null&&n.render),Az=O.createContext(null),NJ=(n,e)=>{const t=vJ((a,l)=>{const c=new H,u=new H,f=new H;function p(v=l().camera,x=u,S=l().size){const{width:A,height:M,top:E,left:R}=S,I=A/M;x instanceof H?f.copy(x):f.set(...x);const T=v.getWorldPosition(c).distanceTo(f);if(mz(v))return{width:A/v.zoom,height:M/v.zoom,top:E,left:R,factor:1,distance:T,aspect:I};{const P=v.fov*Math.PI/180,B=2*Math.tan(P/2)*T,F=B*(A/M);return{width:F,height:B,top:E,left:R,factor:A/F,distance:T,aspect:I}}}let m;const g=v=>a(x=>({performance:{...x.performance,current:v}})),y=new xe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>n(l(),v),advance:(v,x)=>e(v,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new DC,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=l();m&&clearTimeout(m),v.performance.current!==v.performance.min&&g(v.performance.min),m=setTimeout(()=>g(l().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:v=>a(x=>({...x,events:{...x.events,...v}})),setSize:(v,x,S,A,M)=>{const E=l().camera,R={width:v,height:x,top:A||0,left:M||0,updateStyle:S};a(I=>({size:R,viewport:{...I.viewport,...p(E,u,R)}}))},setDpr:v=>a(x=>{const S=_z(v);return{viewport:{...x.viewport,dpr:S,initialDpr:x.viewport.initialDpr||S}}}),setFrameloop:(v="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,v!=="never"&&(x.start(),x.elapsedTime=0),a(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:O.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,x,S)=>{const A=l().internal;return A.priority=A.priority+(x>0?1:0),A.subscribers.push({ref:v,priority:x,store:S}),A.subscribers=A.subscribers.sort((M,E)=>M.priority-E.priority),()=>{const M=l().internal;M!=null&&M.subscribers&&(M.priority=M.priority-(x>0?1:0),M.subscribers=M.subscribers.filter(E=>E.ref!==v))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:f}=t.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var p;i=l,s=c.dpr,IJ(a,l),u.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let zv,FJ=new Set,UJ=new Set,zJ=new Set;function oA(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function yp(n,e){switch(n){case"before":return oA(FJ,e);case"after":return oA(UJ,e);case"tail":return oA(zJ,e)}}let aA,lA;function cA(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),aA=e.internal.subscribers,zv=0;zv<aA.length;zv++)lA=aA[zv],lA.ref.current(lA.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function HJ(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,yp("before",l);for(const u of n.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(t+=cA(l,i))}if(yp("after",l),t===0)return yp("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return n.forEach(f=>o(f.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,f){if(c&&yp("before",l),u)cA(l,u,f);else for(const p of n.values())cA(l,p.store.getState());c&&yp("after",l)}return{loop:s,invalidate:o,advance:a}}function wz(){const n=O.useContext(Az);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Uo(n=t=>t,e){return wz()(n,e)}function _g(n,e=0){const t=wz(),r=t.getState().internal.subscribe,i=gz(n);return yg(()=>r(i,e,t),[e,r,t]),null}const OI=new WeakMap;function Ez(n,e){return function(t,...r){let i=OI.get(t);return i||(i=new t,OI.set(t,i)),n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,PJ(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`)))))).finally(()=>i.dispose==null?void 0:i.dispose())}}function _c(n,e,t,r){const i=Array.isArray(e)?e:[e],s=bJ(Ez(t,r),[n,...i],{equal:xn.equ});return Array.isArray(e)?s:s[0]}_c.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return AJ(Ez(t),[n,...r])};_c.clear=function(n,e){const t=Array.isArray(e)?e:[e];return wJ([n,...t])};const Kd=new Map,{invalidate:LI,advance:II}=HJ(Kd),{reconciler:p_,applyProps:Pf}=MJ(Kd,BJ),Of={objects:"shallow",strict:!1},GJ=(n,e)=>{const t=typeof n=="function"?n(e):n;return bz(t)?t:new hC({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function VJ(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=t}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:r,height:i,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function $J(n){const e=Kd.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||NJ(LI,II),o=t||p_.createContainer(s,ad.ConcurrentRoot,null,!1,null,"",i,null);e||Kd.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:f,size:p,scene:m,events:g,onCreated:y,shadows:_=!1,linear:v=!1,flat:x=!1,legacy:S=!1,orthographic:A=!1,frameloop:M="always",dpr:E=[1,2],performance:R,raycaster:I,camera:T,onPointerMissed:P}=u,B=s.getState(),F=B.gl;B.gl||B.set({gl:F=GJ(f,n)});let V=B.raycaster;V||B.set({raycaster:V=new oz});const{params:k,...z}=I||{};if(xn.equ(z,V,Of)||Pf(V,{...z}),xn.equ(k,V.params,Of)||Pf(V,{params:{...V.params,...k}}),!B.camera||B.camera===c&&!xn.equ(c,T,Of)){c=T;const ee=T instanceof lg,Y=ee?T:A?new $s(0,0,0,0,.1,1e3):new Sn(75,0,.1,1e3);ee||(Y.position.z=5,T&&Pf(Y,T),!B.camera&&!(T!=null&&T.rotation)&&Y.lookAt(0,0,0)),B.set({camera:Y}),V.camera=Y}if(!B.scene){let ee;m instanceof d_?ee=m:(ee=new d_,m&&Pf(ee,m)),B.set({scene:Hf(ee)})}if(!B.xr){var W;const ee=(ce,Me)=>{const Re=s.getState();Re.frameloop!=="never"&&II(ce,!0,Re,Me)},Y=()=>{const ce=s.getState();ce.gl.xr.enabled=ce.gl.xr.isPresenting,ce.gl.xr.setAnimationLoop(ce.gl.xr.isPresenting?ee:null),ce.gl.xr.isPresenting||LI(ce)},ne={connect(){const ce=s.getState().gl;ce.xr.addEventListener("sessionstart",Y),ce.xr.addEventListener("sessionend",Y)},disconnect(){const ce=s.getState().gl;ce.xr.removeEventListener("sessionstart",Y),ce.xr.removeEventListener("sessionend",Y)}};typeof((W=F.xr)==null?void 0:W.addEventListener)=="function"&&ne.connect(),B.set({xr:ne})}if(F.shadowMap){const ee=F.shadowMap.enabled,Y=F.shadowMap.type;if(F.shadowMap.enabled=!!_,xn.boo(_))F.shadowMap.type=yd;else if(xn.str(_)){var K;const ne={basic:oF,percentage:_x,soft:yd,variance:co};F.shadowMap.type=(K=ne[_])!=null?K:yd}else xn.obj(_)&&Object.assign(F.shadowMap,_);(ee!==F.shadowMap.enabled||Y!==F.shadowMap.type)&&(F.shadowMap.needsUpdate=!0)}const N=pz();N&&("enabled"in N?N.enabled=!S:"legacyMode"in N&&(N.legacyMode=S)),Pf(F,{outputEncoding:v?3e3:3001,toneMapping:x?Ko:WT}),B.legacy!==S&&B.set(()=>({legacy:S})),B.linear!==v&&B.set(()=>({linear:v})),B.flat!==x&&B.set(()=>({flat:x})),f&&!xn.fun(f)&&!bz(f)&&!xn.equ(f,F,Of)&&Pf(F,f),g&&!B.events.handlers&&B.set({events:g(s)});const te=VJ(n,p);return xn.equ(te,B.size,Of)||B.setSize(te.width,te.height,te.updateStyle,te.top,te.left),E&&B.viewport.dpr!==_z(E)&&B.setDpr(E),B.frameloop!==M&&B.setFrameloop(M),B.onPointerMissed||B.set({onPointerMissed:P}),R&&!xn.equ(R,B.performance,Of)&&B.set(ee=>({performance:{...ee.performance,...R}})),a=y,l=!0,this},render(u){return l||this.configure(),p_.updateContainer(O.createElement(WJ,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){Mz(n)}}}function WJ({store:n,children:e,onCreated:t,rootElement:r}){return yg(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),O.createElement(Az.Provider,{value:n},e)}function Mz(n,e){const t=Kd.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),p_.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),OJ(i),Kd.delete(n),e&&e(n)}catch{}},500)})}}p_.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:O.version});function Pe(){return Pe=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Pe.apply(this,arguments)}function NE(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,t||(a=n.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=t&&!r;return r||(r=setTimeout(l,e)),u&&(a=n.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}NE.debounce=NE;var jJ=NE;const BI=fc(jJ);function XJ(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=O.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=O.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,f=O.useRef(!1);O.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[p,m,g]=O.useMemo(()=>{const x=()=>{if(!l.current.element)return;const{left:S,top:A,width:M,height:E,bottom:R,right:I,x:T,y:P}=l.current.element.getBoundingClientRect(),B={left:S,top:A,width:M,height:E,bottom:R,right:I,x:T,y:P};l.current.element instanceof HTMLElement&&i&&(B.height=l.current.element.offsetHeight,B.width=l.current.element.offsetWidth),Object.freeze(B),f.current&&!qJ(l.current.lastBounds,B)&&a(l.current.lastBounds=B)};return[x,u?BI(x,u):x,c?BI(x,c):x]},[a,i,c,u]);function y(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function _(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(x=>x.addEventListener("scroll",g,{capture:!0,passive:!0})))}const v=x=>{!x||x===l.current.element||(y(),l.current.element=x,l.current.scrollContainers=Tz(x),_())};return YJ(g,!!t),KJ(m),O.useEffect(()=>{y(),_()},[t,g,m]),O.useEffect(()=>y,[]),[v,o,p]}function KJ(n){O.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function YJ(n,e){O.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function Tz(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...Tz(n.parentElement)]}const JJ=["x","y","top","bottom","left","right","width","height"],qJ=(n,e)=>JJ.every(t=>n[t]===e[t]);var QJ=Object.defineProperty,ZJ=Object.defineProperties,eq=Object.getOwnPropertyDescriptors,DI=Object.getOwnPropertySymbols,tq=Object.prototype.hasOwnProperty,nq=Object.prototype.propertyIsEnumerable,kI=(n,e,t)=>e in n?QJ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,NI=(n,e)=>{for(var t in e||(e={}))tq.call(e,t)&&kI(n,t,e[t]);if(DI)for(var t of DI(e))nq.call(e,t)&&kI(n,t,e[t]);return n},rq=(n,e)=>ZJ(n,eq(e));function Cz(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=Cz(r,e,t);if(i)return i;r=e?null:r.sibling}}function Rz(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const zC=Rz(O.createContext(null));class Pz extends O.Component{render(){return O.createElement(zC.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:FI,ReactCurrentDispatcher:UI}=O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function iq(){const n=O.useContext(zC);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=O.useId();return O.useMemo(()=>{for(const r of[FI==null?void 0:FI.current,n,n==null?void 0:n.alternate]){if(!r)continue;const i=Cz(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function sq(){var n,e;const t=iq(),[r]=O.useState(()=>new Map);r.clear();let i=t;for(;i;){const s=(n=i.type)==null?void 0:n._context;s&&s!==zC&&!r.has(s)&&r.set(s,(e=UI==null?void 0:UI.current)==null?void 0:e.readContext(Rz(s))),i=i.return}return r}function oq(){const n=sq();return O.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>O.createElement(e,null,O.createElement(t.Provider,rq(NI({},r),{value:n.get(t)}))),e=>O.createElement(Pz,NI({},e))),[n])}const uA={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function aq(n){const{handlePointer:e}=kJ(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(uA).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=uA[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=uA[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const lq=O.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=aq,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:p,orthographic:m,frameloop:g,dpr:y,performance:_,raycaster:v,camera:x,scene:S,onPointerMissed:A,onCreated:M,...E},R){O.useMemo(()=>EJ(pJ),[]);const I=oq(),[T,P]=XJ({scroll:!0,debounce:{scroll:50,resize:0},...r}),B=O.useRef(null),F=O.useRef(null);O.useImperativeHandle(R,()=>B.current);const V=gz(A),[k,z]=O.useState(!1),[W,K]=O.useState(!1);if(k)throw k;if(W)throw W;const N=O.useRef(null);yg(()=>{const J=B.current;P.width>0&&P.height>0&&J&&(N.current||(N.current=$J(J)),N.current.configure({gl:s,events:o,shadows:c,linear:u,flat:f,legacy:p,orthographic:m,frameloop:g,dpr:y,performance:_,raycaster:v,camera:x,scene:S,size:P,onPointerMissed:(...te)=>V.current==null?void 0:V.current(...te),onCreated:te=>{te.events.connect==null||te.events.connect(a?TJ(a)?a.current:a:F.current),l&&te.setEvents({compute:(ee,Y)=>{const ne=ee[l+"X"],ce=ee[l+"Y"];Y.pointer.set(ne/Y.size.width*2-1,-(ce/Y.size.height)*2+1),Y.raycaster.setFromCamera(Y.pointer,Y.camera)}}),M==null||M(te)}}),N.current.render(O.createElement(I,null,O.createElement(vz,{set:K},O.createElement(O.Suspense,{fallback:O.createElement(CJ,{set:z})},e)))))}),O.useEffect(()=>{const J=B.current;if(J)return()=>Mz(J)},[]);const j=a?"none":"auto";return O.createElement("div",Pe({ref:F,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:j,...i}},E),O.createElement("div",{ref:T,style:{width:"100%",height:"100%"}},O.createElement("canvas",{ref:B,style:{display:"block"}},t)))}),cq=O.forwardRef(function(e,t){return O.createElement(Pz,null,O.createElement(lq,Pe({},e,{ref:t})))});function uq(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function Oz(...n){return e=>n.forEach(t=>uq(t,e))}function bh(...n){return O.useCallback(Oz(...n),n)}const Lz=O.forwardRef((n,e)=>{const{children:t,...r}=n,i=O.Children.toArray(t),s=i.find(fq);if(s){const o=s.props.children,a=i.map(l=>l===s?O.Children.count(o)>1?O.Children.only(null):O.isValidElement(o)?o.props.children:null:l);return O.createElement(FE,Pe({},r,{ref:e}),O.isValidElement(o)?O.cloneElement(o,void 0,a):null)}return O.createElement(FE,Pe({},r,{ref:e}),t)});Lz.displayName="Slot";const FE=O.forwardRef((n,e)=>{const{children:t,...r}=n;return O.isValidElement(t)?O.cloneElement(t,{...dq(r,t.props),ref:e?Oz(e,t.ref):t.ref}):O.Children.count(t)>1?O.Children.only(null):null});FE.displayName="SlotClone";const Iz=({children:n})=>O.createElement(O.Fragment,null,n);function fq(n){return O.isValidElement(n)&&n.type===Iz}function dq(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{s(...a),i(...a)}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}const hq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],$u=hq.reduce((n,e)=>{const t=O.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Lz:e;return O.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),O.createElement(a,Pe({},o,{ref:i}))});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function pq(n,e){n&&rg.flushSync(()=>n.dispatchEvent(e))}const mq=O.forwardRef((n,e)=>{var t;const{container:r=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...i}=n;return r?CV.createPortal(O.createElement($u.div,Pe({},i,{ref:e})),r):null}),gq=mq;var zI=Object.prototype.hasOwnProperty;function m_(n,e){var t,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&m_(n[r],e[r]););return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(zI.call(n,t)&&++r&&!zI.call(e,t)||!(t in e)||!m_(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function Bz(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}var Xx=function(e,t,r,i){this.name=e,this.fn=t,this.args=r,this.modifiers=i};Xx.prototype._test=function(e){var t=this.fn;try{Sd(this.modifiers.slice(),t,this)(e)}catch{t=function(){return!1}}try{return Sd(this.modifiers.slice(),t,this)(e)}catch{return!1}};Xx.prototype._check=function(e){try{Sd(this.modifiers.slice(),this.fn,this)(e)}catch{if(Sd(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!Sd(this.modifiers.slice(),this.fn,this)(e))throw null};Xx.prototype._testAsync=function(e){var t=this;return new Promise(function(r,i){kz(t.modifiers.slice(),t.fn,t)(e).then(function(s){s?r(e):i(null)}).catch(function(s){return i(s)})})};function Dz(n,e){return e===void 0&&(e="simple"),typeof n=="object"?n[e]:n}function Sd(n,e,t){if(n.length){var r=n.shift(),i=Sd(n,e,t);return r.perform(i,t)}else return Dz(e)}function kz(n,e,t){if(n.length){var r=n.shift(),i=kz(n,e,t);return r.performAsync(i,t)}else return function(s){return Promise.resolve(Dz(e,"async")(s))}}var vq=function(e,t,r){this.name=e,this.perform=t,this.performAsync=r},HC=function(n){function e(t,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];n.call(this,o),n.captureStackTrace&&n.captureStackTrace(this,e),this.rule=t,this.value=r,this.cause=i,this.target=s}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e}(Error),ia=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.chain=e,this.nextRuleModifiers=t};ia.prototype._applyRule=function(e,t){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new Xx(t,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};ia.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new vq(t,e.simple,e.async)),this};ia.prototype._clone=function(){return new ia(this.chain.slice(),this.nextRuleModifiers.slice())};ia.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})};ia.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){t.push(new HC(r,e,i))}}),t};ia.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(r){throw new HC(t,e,r)}})};ia.prototype.testAsync=function(e){var t=this;return new Promise(function(r,i){Nz(e,t.chain.slice(),r,i)})};function Nz(n,e,t,r){if(e.length){var i=e.shift();i._testAsync(n).then(function(){Nz(n,e,t,r)},function(s){r(new HC(i,n,s))})}else t(n)}var HI=function(n,e){return e&&typeof n=="string"&&n.trim().length===0?!0:n==null};function yq(n,e){return e===void 0&&(e=!1),{simple:function(t){return HI(t,e)||n.check(t)===void 0},async:function(t){return HI(t,e)||n.testAsync(t)}}}function Ni(){return typeof Proxy<"u"?Fz(new ia):UE(new ia)}var Bm={};Ni.extend=function(n){Object.assign(Bm,n)};Ni.clearCustomRules=function(){Bm={}};function Fz(n){return new Proxy(n,{get:function(t,r){if(r in t)return t[r];var i=Fz(n._clone());if(r in g_)return i._applyModifier(g_[r],r);if(r in Bm)return i._applyRule(Bm[r],r);if(r in zE)return i._applyRule(zE[r],r)}})}function UE(n){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=UE(s._clone()),u=c._applyRule(i[o],o).apply(void 0,a);return u}}),s},t=e(zE,n),r=e(Bm,t);return Object.keys(g_).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=UE(r._clone());return s._applyModifier(g_[i],i)}})}),r}var g_={not:{simple:function(n){return function(e){return!n(e)}},async:function(n){return function(e){return Promise.resolve(n(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(n){return function(e){return Hv(e).some(function(t){try{return n(t)}catch{return!1}})}},async:function(n){return function(e){return Promise.all(Hv(e).map(function(t){try{return n(t).catch(function(){return!1})}catch{return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(n){return function(e){return e!==!1&&Hv(e).every(n)}},async:function(n){return function(e){return Promise.all(Hv(e).map(n)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(n,e){return function(t){return GI(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&n(t):n(t)}},async:function(n,e){return function(t){return Promise.resolve(n(t)).then(function(r){return GI(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&r:r}).catch(function(){return!1})}}}};function GI(n){return n&&n.name==="schema"&&n.args.length>0&&typeof n.args[0]=="object"}function Hv(n){return typeof n=="string"?n.split(""):n}var zE={equal:function(n){return function(e){return e==n}},exact:function(n){return function(e){return e===n}},number:function(n){return n===void 0&&(n=!0),function(e){return typeof e=="number"&&(n||isFinite(e))}},integer:function(){return function(n){var e=Number.isInteger||_q;return e(n)}},numeric:function(){return function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},string:function(){return Lf("string")},boolean:function(){return Lf("boolean")},undefined:function(){return Lf("undefined")},null:function(){return Lf("null")},array:function(){return Lf("array")},object:function(){return Lf("object")},instanceOf:function(n){return function(e){return e instanceof n}},pattern:function(n){return function(e){return n.test(e)}},lowercase:function(){return function(n){return typeof n=="boolean"||n===n.toLowerCase()&&n.trim()!==""}},uppercase:function(){return function(n){return n===n.toUpperCase()&&n.trim()!==""}},vowel:function(){return function(n){return/^[aeiou]+$/i.test(n)}},consonant:function(){return function(n){return/^(?=[^aeiou])([a-z]+)$/i.test(n)}},first:function(n){return function(e){return e[0]==n}},last:function(n){return function(e){return e[e.length-1]==n}},empty:function(){return function(n){return n.length===0}},length:function(n,e){return function(t){return t.length>=n&&t.length<=(e||n)}},minLength:function(n){return function(e){return e.length>=n}},maxLength:function(n){return function(e){return e.length<=n}},negative:function(){return function(n){return n<0}},positive:function(){return function(n){return n>=0}},between:function(n,e){return function(t){return t>=n&&t<=e}},range:function(n,e){return function(t){return t>=n&&t<=e}},lessThan:function(n){return function(e){return e<n}},lessThanOrEqual:function(n){return function(e){return e<=n}},greaterThan:function(n){return function(e){return e>n}},greaterThanOrEqual:function(n){return function(e){return e>=n}},even:function(){return function(n){return n%2===0}},odd:function(){return function(n){return n%2!==0}},includes:function(n){return function(e){return~e.indexOf(n)}},schema:function(n){return xq(n)},passesAnyOf:function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return function(t){return n.some(function(r){return r.test(t)})}},optional:yq};function Lf(n){return function(e){return Array.isArray(e)&&n==="array"||e===null&&n==="null"||typeof e===n}}function _q(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function xq(n){return{simple:function(e){var t=[];if(Object.keys(n).forEach(function(r){var i=n[r];try{i.check((e||{})[r])}catch(s){s.target=r,t.push(s)}}),t.length>0)throw t;return!0},async:function(e){var t=[],r=Object.keys(n).map(function(i){var s=n[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,t.push(o)})});return Promise.all(r).then(function(){if(t.length>0)throw t;return!0})}}}var an="colors",mi="sizes",st="space",Sq={gap:st,gridGap:st,columnGap:st,gridColumnGap:st,rowGap:st,gridRowGap:st,inset:st,insetBlock:st,insetBlockEnd:st,insetBlockStart:st,insetInline:st,insetInlineEnd:st,insetInlineStart:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,marginBlock:st,marginBlockEnd:st,marginBlockStart:st,marginInline:st,marginInlineEnd:st,marginInlineStart:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,paddingBlock:st,paddingBlockEnd:st,paddingBlockStart:st,paddingInline:st,paddingInlineEnd:st,paddingInlineStart:st,top:st,right:st,bottom:st,left:st,scrollMargin:st,scrollMarginTop:st,scrollMarginRight:st,scrollMarginBottom:st,scrollMarginLeft:st,scrollMarginX:st,scrollMarginY:st,scrollMarginBlock:st,scrollMarginBlockEnd:st,scrollMarginBlockStart:st,scrollMarginInline:st,scrollMarginInlineEnd:st,scrollMarginInlineStart:st,scrollPadding:st,scrollPaddingTop:st,scrollPaddingRight:st,scrollPaddingBottom:st,scrollPaddingLeft:st,scrollPaddingX:st,scrollPaddingY:st,scrollPaddingBlock:st,scrollPaddingBlockEnd:st,scrollPaddingBlockStart:st,scrollPaddingInline:st,scrollPaddingInlineEnd:st,scrollPaddingInlineStart:st,fontSize:"fontSizes",background:an,backgroundColor:an,backgroundImage:an,borderImage:an,border:an,borderBlock:an,borderBlockEnd:an,borderBlockStart:an,borderBottom:an,borderBottomColor:an,borderColor:an,borderInline:an,borderInlineEnd:an,borderInlineStart:an,borderLeft:an,borderLeftColor:an,borderRight:an,borderRightColor:an,borderTop:an,borderTopColor:an,caretColor:an,color:an,columnRuleColor:an,fill:an,outline:an,outlineColor:an,stroke:an,textDecorationColor:an,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:mi,minBlockSize:mi,maxBlockSize:mi,inlineSize:mi,minInlineSize:mi,maxInlineSize:mi,width:mi,minWidth:mi,maxWidth:mi,height:mi,minHeight:mi,maxHeight:mi,flexBasis:mi,gridTemplateColumns:mi,gridTemplateRows:mi,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},bq=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,Ah=()=>{const n=Object.create(null);return(e,t,...r)=>{const i=(s=>JSON.stringify(s,bq))(e);return i in n?n[i]:n[i]=t(e,...r)}},gu=Symbol.for("sxs.internal"),GC=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),VI=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:Aq}=Object.prototype,HE=n=>n.includes("-")?n:n.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),wq=/\s+(?![^()]*\))/,If=n=>e=>n(...typeof e=="string"?String(e).split(wq):[e]),$I={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:If((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n})),marginInline:If((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n})),maxSize:If((n,e)=>({maxBlockSize:n,maxInlineSize:e||n})),minSize:If((n,e)=>({minBlockSize:n,minInlineSize:e||n})),paddingBlock:If((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n})),paddingInline:If((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n}))},fA=/([\d.]+)([^]*)/,Eq=(n,e)=>n.length?n.reduce((t,r)=>(t.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),t),[]):e,Mq=(n,e)=>n in Tq&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${HE(n)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${HE(n)}:${r}fit-content`)+s):String(e),Tq={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Ya=n=>n?n+"-":"",Uz=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?Ya(e)+(a.includes("$")?"":Ya(t))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),Cq=/\s*,\s*(?![^()]*\))/,Rq=Object.prototype.toString,ld=(n,e,t,r,i)=>{let s,o,a;const l=(c,u,f)=>{let p,m;const g=y=>{for(p in y){const x=p.charCodeAt(0)===64,S=x&&Array.isArray(y[p])?y[p]:[y[p]];for(m of S){const A=/[A-Z]/.test(v=p)?v:v.replace(/-[^]/g,E=>E[1].toUpperCase()),M=typeof m=="object"&&m&&m.toString===Rq&&(!r.utils[A]||!u.length);if(A in r.utils&&!M){const E=r.utils[A];if(E!==o){o=E,g(E(m)),o=null;continue}}else if(A in $I){const E=$I[A];if(E!==a){a=E,g(E(m)),a=null;continue}}if(x&&(_=p.slice(1)in r.media?"@media "+r.media[p.slice(1)]:p,p=_.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(E,R,I,T,P,B)=>{const F=fA.test(R),V=.0625*(F?-1:1),[k,z]=F?[T,R]:[R,T];return"("+(I[0]==="="?"":I[0]===">"===F?"max-":"min-")+k+":"+(I[0]!=="="&&I.length===1?z.replace(fA,(W,K,N)=>Number(K)+V*(I===">"?1:-1)+N):z)+(P?") and ("+(P[0]===">"?"min-":"max-")+k+":"+(P.length===1?B.replace(fA,(W,K,N)=>Number(K)+V*(P===">"?-1:1)+N):B):"")+")"})),M){const E=x?f.concat(p):[...f],R=x?[...u]:Eq(u,p.split(Cq));s!==void 0&&i(WI(...s)),s=void 0,l(m,R,E)}else s===void 0&&(s=[[],u,f]),p=x||p.charCodeAt(0)!==36?p:`--${Ya(r.prefix)}${p.slice(1).replace(/\$/g,"-")}`,m=M?m:typeof m=="number"?m&&A in Pq?String(m)+"px":String(m):Uz(Mq(A,m??""),r.prefix,r.themeMap[A]),s[0].push(`${x?`${p} `:`${HE(p)}:`}${m}`)}}var _,v};g(c),s!==void 0&&i(WI(...s)),s=void 0};l(n,e,t)},WI=(n,e,t)=>`${t.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,Pq={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},jI=n=>String.fromCharCode(n+(n>25?39:97)),vu=n=>(e=>{let t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=jI(t%52)+r;return jI(t%52)+r})(((e,t)=>{let r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return e})(5381,JSON.stringify(n))>>>0),Lp=["themed","global","styled","onevar","resonevar","allvar","inline"],Oq=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},Lq=n=>{let e;const t=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===s)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in a)delete a[c]}const i=Object(n).styleSheets||[];for(const a of i)if(Oq(a)){for(let l=0,c=a.cssRules;c[l];++l){const u=Object(c[l]);if(u.type!==1)continue;const f=Object(c[l+1]);if(f.type!==4)continue;++l;const{cssText:p}=u;if(!p.startsWith("--sxs"))continue;const m=p.slice(14,-3).trim().split(/\s+/),g=Lp[m[0]];g&&(e||(e={sheet:a,reset:r,rules:{},toString:t}),e.rules[g]={group:f,index:l,cache:new Set(m)})}if(e)break}if(!e){const a=(l,c)=>({type:c,cssRules:[],insertRule(u,f){this.cssRules.splice(f,0,a(u,{import:3,undefined:1}[(u.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,u=>u.cssText).join("")}}`:l}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:t}}const{sheet:s,rules:o}=e;for(let a=Lp.length-1;a>=0;--a){const l=Lp[a];if(!o[l]){const c=Lp[a+1],u=o[c]?o[c].index:s.cssRules.length;s.insertRule("@media{}",u),s.insertRule(`--sxs{--sxs:${a}}`,u),o[l]={group:s.cssRules[u+1],index:u,cache:new Set([a])}}Iq(o[l])}};return r(),e},Iq=n=>{const e=n.group;let t=e.cssRules.length;n.apply=r=>{try{e.insertRule(r,t),++t}catch{}}},_p=Symbol(),Bq=Ah(),XI=(n,e)=>Bq(n,()=>(...t)=>{let r={type:null,composers:new Set};for(const i of t)if(i!=null)if(i[gu]){r.type==null&&(r.type=i[gu].type);for(const s of i[gu].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(Dq(i,n));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),kq(n,r,e)}),Dq=({variants:n,compoundVariants:e,defaultVariants:t,...r},i)=>{const s=`${Ya(i.prefix)}c-${vu(r)}`,o=[],a=[],l=Object.create(null),c=[];for(const p in t)l[p]=String(t[p]);if(typeof n=="object"&&n)for(const p in n){u=l,f=p,Aq.call(u,f)||(l[p]="undefined");const m=n[p];for(const g in m){const y={[p]:String(g)};String(g)==="undefined"&&c.push(p);const _=m[g],v=[y,_,!VI(_)];o.push(v)}}var u,f;if(typeof e=="object"&&e)for(const p of e){let{css:m,...g}=p;m=typeof m=="object"&&m||{};for(const _ in g)g[_]=String(g[_]);const y=[g,m,!VI(m)];a.push(y)}return[s,r,o,a,l,c]},kq=(n,e,t)=>{const[r,i,s,o]=Nq(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(f=>{function p(){for(let m=0;m<p[_p].length;m++){const[g,y]=p[_p][m];f.rules[g].apply(y)}return p[_p]=[],null}return p[_p]=[],p.rules={},Lp.forEach(m=>p.rules[m]={apply:g=>p[_p].push([m,g])}),p})(t):null,l=(a||t).rules,c=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,u=f=>{f=typeof f=="object"&&f||Fq;const{css:p,...m}=f,g={};for(const v in s)if(delete m[v],v in f){let x=f[v];typeof x=="object"&&x?g[v]={"@initial":s[v],...x}:(x=String(x),g[v]=x!=="undefined"||o.has(v)?x:s[v])}else g[v]=s[v];const y=new Set([...i]);for(const[v,x,S,A]of e.composers){t.rules.styled.cache.has(v)||(t.rules.styled.cache.add(v),ld(x,[`.${v}`],[],n,R=>{l.styled.apply(R)}));const M=KI(S,g,n.media),E=KI(A,g,n.media,!0);for(const R of M)if(R!==void 0)for(const[I,T,P]of R){const B=`${v}-${vu(T)}-${I}`;y.add(B);const F=(P?t.rules.resonevar:t.rules.onevar).cache,V=P?l.resonevar:l.onevar;F.has(B)||(F.add(B),ld(T,[`.${B}`],[],n,k=>{V.apply(k)}))}for(const R of E)if(R!==void 0)for(const[I,T]of R){const P=`${v}-${vu(T)}-${I}`;y.add(P),t.rules.allvar.cache.has(P)||(t.rules.allvar.cache.add(P),ld(T,[`.${P}`],[],n,B=>{l.allvar.apply(B)}))}}if(typeof p=="object"&&p){const v=`${r}-i${vu(p)}-css`;y.add(v),t.rules.inline.cache.has(v)||(t.rules.inline.cache.add(v),ld(p,[`.${v}`],[],n,x=>{l.inline.apply(x)}))}for(const v of String(f.className||"").trim().split(/\s+/))v&&y.add(v);const _=m.className=[...y].join(" ");return{type:e.type,className:_,selector:c,props:m,toString:()=>_,deferredInjector:a}};return GC(u,{className:r,selector:c,[gu]:e,toString:()=>(t.rules.styled.cache.has(r)||u(),r)})},Nq=n=>{let e="";const t=[],r={},i=[];for(const[s,,,,o,a]of n){e===""&&(e=s),t.push(s),i.push(...a);for(const l in o){const c=o[l];(r[l]===void 0||c!=="undefined"||a.includes(c))&&(r[l]=c)}}return[e,t,r,new Set(i)]},KI=(n,e,t,r)=>{const i=[];e:for(let[s,o,a]of n){if(a)continue;let l,c=0,u=!1;for(l in s){const f=s[l];let p=e[l];if(p!==f){if(typeof p!="object"||!p)continue e;{let m,g,y=0;for(const _ in p){if(f===String(p[_])){if(_!=="@initial"){const v=_.slice(1);(g=g||[]).push(v in t?t[v]:_.replace(/^@media ?/,"")),u=!0}c+=y,m=!0}++y}if(g&&g.length&&(o={["@media "+g.join(", ")]:o}),!m)continue e}}}(i[c]=i[c]||[]).push([r?"cv":`${l}-${s[l]}`,o,u])}return i},Fq={},Uq=Ah(),zq=(n,e)=>Uq(n,()=>(...t)=>{const r=()=>{for(let i of t){i=typeof i=="object"&&i||{};let s=vu(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}ld(i,[],[],n,o=>{e.rules.global.apply(o)})}}return""};return GC(r,{toString:r})}),Hq=Ah(),Gq=(n,e)=>Hq(n,()=>t=>{const r=`${Ya(n.prefix)}k-${vu(t)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];ld(t,[],[],n,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return GC(i,{get name(){return i()},toString:i})}),Vq=class{constructor(n,e,t,r){this.token=n==null?"":String(n),this.value=e==null?"":String(e),this.scale=t==null?"":String(t),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Ya(this.prefix)+Ya(this.scale)+this.token}toString(){return this.computedValue}},$q=Ah(),Wq=(n,e)=>$q(n,()=>(t,r)=>{r=typeof t=="object"&&t||Object(r);const i=`.${t=(t=typeof t=="string"?t:"")||`${Ya(n.prefix)}t-${vu(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const c in r[l]){const u=`--${Ya(n.prefix)}${l}-${c}`,f=Uz(String(r[l][c]),n.prefix,l);s[l][c]=new Vq(c,f,l,n.prefix),o.push(`${u}:${f}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const l=`${r===n.theme?":root,":""}.${t}{${o.join(";")}}`;e.rules.themed.apply(l)}return t};return{...s,get className(){return a()},selector:i,toString:a}}),jq=Ah(),Xq=Ah(),Kq=n=>{const e=(t=>{let r=!1;const i=jq(t,s=>{r=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,c=typeof s.theme=="object"&&s.theme||{},u={prefix:o,media:a,theme:c,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...Sq},utils:typeof s.utils=="object"&&s.utils||{}},f=Lq(l),p={css:XI(u,f),globalCss:zq(u,f),keyframes:Gq(u,f),createTheme:Wq(u,f),reset(){f.reset(),p.theme.toString()},theme:{},sheet:f,config:u,prefix:o,getCssText:f.toString,toString:f.toString};return String(p.theme=p.createTheme(c)),p});return r||i.reset(),i})(n);return e.styled=(({config:t,sheet:r})=>Xq(t,()=>{const i=XI(t,r);return(...s)=>{const o=i(...s),a=o[gu].type,l=q.forwardRef((c,u)=>{const f=c&&c.as||a,{props:p,deferredInjector:m}=o(c);return delete p.as,p.ref=u,m?q.createElement(q.Fragment,null,q.createElement(f,p),q.createElement(m,null)):q.createElement(f,p)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[gu]=o[gu],l}}))(e),e};function Yq(n,e,t){return Math.max(e,Math.min(n,t))}const ri={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function YI(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function JI(n,e,t,r=.15){return r===0?Yq(n,e,t):n<e?-YI(e-n,t-e,r)+e:n>t?+YI(n-t,t-e,r)+t:n}function Jq(n,[e,t],[r,i]){const[[s,o],[a,l]]=n;return[JI(e,s,o,r),JI(t,a,l,i)]}function qq(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Qq(n){var e=qq(n,"string");return typeof e=="symbol"?e:String(e)}function Li(n,e,t){return e=Qq(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qI(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Hn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?qI(Object(t),!0).forEach(function(r){Li(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):qI(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const zz={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function QI(n){return n?n[0].toUpperCase()+n.slice(1):""}const Zq=["enter","leave"];function eQ(n=!1,e){return n&&!Zq.includes(e)}function tQ(n,e="",t=!1){const r=zz[n],i=r&&r[e]||e;return"on"+QI(n)+QI(i)+(eQ(t,i)?"Capture":"")}const nQ=["gotpointercapture","lostpointercapture"];function rQ(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const r=nQ.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:t}}function iQ(n,e=""){const t=zz[n],r=t&&t[e]||e;return n+r}function Kx(n){return"touches"in n}function Hz(n){return Kx(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function sQ(n){return Array.from(n.touches).filter(e=>{var t,r;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(r=t.contains)===null||r===void 0?void 0:r.call(t,e.target))})}function oQ(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function Gz(n){return Kx(n)?oQ(n)[0]:n}function aQ(n){return sQ(n).map(e=>e.identifier)}function dA(n){const e=Gz(n);return Kx(n)?e.identifier:e.pointerId}function ZI(n){const e=Gz(n);return[e.clientX,e.clientY]}function lQ(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s}=n;Object.assign(e,{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s})}return e}function v_(n,...e){return typeof n=="function"?n(...e):n}function cQ(){}function uQ(...n){return n.length===0?cQ:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function eB(n,e){return Object.assign({},e,n||{})}const fQ=32;class dQ{constructor(e,t,r){this.ctrl=e,this.args=t,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:r,args:i}=this;t[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,r=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=r.from?v_(r.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:r,shared:i}=this;t.args=this.args;let s=0;if(e&&(t.event=e,r.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,lQ(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const E=t._delta.map(Math.abs);ri.addTo(t._distance,E)}this.axisIntent&&this.axisIntent(e);const[o,a]=t._movement,[l,c]=r.threshold,{_step:u,values:f}=t;if(r.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(o)>=l&&f[0]),u[1]===!1&&(u[1]=Math.abs(a)>=c&&f[1])):(u[0]===!1&&(u[0]=Math.abs(o)>=l&&Math.sign(o)*l),u[1]===!1&&(u[1]=Math.abs(a)>=c&&Math.sign(a)*c)),t.intentional=u[0]!==!1||u[1]!==!1,!t.intentional)return;const p=[0,0];if(r.hasCustomTransform){const[E,R]=f;p[0]=u[0]!==!1?E-u[0]:0,p[1]=u[1]!==!1?R-u[1]:0}else p[0]=u[0]!==!1?o-u[0]:0,p[1]=u[1]!==!1?a-u[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(p);const m=t.offset,g=t._active&&!t._blocked||t.active;g&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e&&(t.first&&("bounds"in r&&(t._bounds=v_(r.bounds,t)),this.setup&&this.setup()),t.movement=p,this.computeOffset()));const[y,_]=t.offset,[[v,x],[S,A]]=t._bounds;t.overflow=[y<v?-1:y>x?1:0,_<S?-1:_>A?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const M=t._active?r.rubberband||[0,0]:[0,0];if(t.offset=Jq(t._bounds,t.offset,M),t.delta=ri.sub(t.offset,m),this.computeMovement(),g&&(!t.last||s>fQ)){t.delta=ri.sub(t.offset,m);const E=t.delta.map(Math.abs);ri.addTo(t.distance,E),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[E[0]/s,E[1]/s],t.timeDelta=s)}}emit(){const e=this.state,t=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(Hn(Hn(Hn({},t),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function hQ([n,e],t){const r=Math.abs(n),i=Math.abs(e);if(r>i&&r>t)return"x";if(i>r&&i>t)return"y"}class pQ extends dQ{constructor(...e){super(...e),Li(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=ri.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=ri.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,r=this.config;if(!t.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[Hz(e)]:r.axisThreshold;t.axis=hQ(t._movement,i)}t._blocked=(r.lockDirection||!!r.axis)&&!t.axis||!!r.axis&&r.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const mQ=n=>n,tB=.15,Vz={enabled(n=!0){return n},eventOptions(n,e,t){return Hn(Hn({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[tB,tB];case!1:return[0,0];default:return ri.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return ri.toVector(n)},transform(n,e,t){const r=n||t.shared.transform;return this.hasCustomTransform=!!r,r||mQ},threshold(n){return ri.toVector(n,0)}},gQ=0,xg=Hn(Hn({},Vz),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=gQ){return n},bounds(n={}){if(typeof n=="function")return s=>xg.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:r=-1/0,bottom:i=1/0}=n;return[[e,t],[r,i]]}}),nB={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class vQ extends pQ{constructor(...e){super(...e),Li(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:t.left-r.left+e.offset[0],right:t.right-r.right+e.offset[0],top:t.top-r.top+e.offset[1],bottom:t.bottom-r.bottom+e.offset[1]};e._bounds=xg.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=dA(e),r._pointerActive=!0,this.computeValues(ZI(e)),this.computeInitial(),t.preventScrollAxis&&Hz(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,r=this.config;if(!t._pointerActive)return;const i=dA(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;const s=ZI(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=ri.sub(s,t._values),this.computeValues(s)),ri.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,r=this.config;if(!t._active||!t._pointerActive)return;const i=dA(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=t._distance;if(t.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,t.tap&&r.filterTaps)t._force=!0;else{const[a,l]=t._delta,[c,u]=t._movement,[f,p]=r.swipe.velocity,[m,g]=r.swipe.distance,y=r.swipe.duration;if(t.elapsedTime<y){const _=Math.abs(a/t.timeDelta),v=Math.abs(l/t.timeDelta);_>f&&Math.abs(c)>m&&(t.swipe[0]=Math.sign(a)),v>p&&Math.abs(u)>g&&(t.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,r=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,yQ(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=nB[e.key];if(t){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=t(this.config.keyboardDisplacement,i),r._keyboardActive=!0,ri.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in nB&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function yQ(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const Sg=typeof window<"u"&&window.document&&window.document.createElement;function $z(){return Sg&&"ontouchstart"in window}function _Q(){return $z()||Sg&&window.navigator.maxTouchPoints>1}function xQ(){return Sg&&"onpointerdown"in window}function SQ(){return Sg&&"exitPointerLock"in window.document}function bQ(){try{return"constructor"in GestureEvent}catch{return!1}}const Us={isBrowser:Sg,gesture:bQ(),touch:$z(),touchscreen:_Q(),pointer:xQ(),pointerLock:SQ()},AQ=250,wQ=180,EQ=.5,MQ=50,TQ=250,CQ=10,rB={mouse:0,touch:0,pen:8},RQ=Hn(Hn({},xg),{},{device(n,e,{pointer:{touch:t=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&Us.pointerLock,Us.touch&&t?"touch":this.pointerLock?"mouse":Us.pointer&&!i?"pointer":Us.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?AQ:void 0,!(!Us.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:r=3,axis:i=void 0}){const s=ri.toVector(n,t?r:i?1:0);return this.filterTaps=t,this.tapsThreshold=r,s},swipe({velocity:n=EQ,distance:e=MQ,duration:t=TQ}={}){return{velocity:this.transform(ri.toVector(n)),distance:this.transform(ri.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return wQ;case!1:return 0;default:return n}},axisThreshold(n){return n?Hn(Hn({},rB),n):rB},keyboardDisplacement(n=CQ){return n}});Hn(Hn({},Vz),{},{device(n,e,{shared:t,pointer:{touch:r=!1}={}}){if(t.target&&!Us.touch&&Us.gesture)return"gesture";if(Us.touch&&r)return"touch";if(Us.touchscreen){if(Us.pointer)return"pointer";if(Us.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:r={}}){const i=o=>{const a=eB(v_(t,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=eB(v_(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof t!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",ri.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});Hn(Hn({},xg),{},{mouseOnly:(n=!0)=>n});Hn(Hn({},xg),{},{mouseOnly:(n=!0)=>n});const Wz=new Map,GE=new Map;function PQ(n){Wz.set(n.key,n.engine),GE.set(n.key,n.resolver)}const OQ={key:"drag",engine:vQ,resolver:RQ};function LQ(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function IQ(n,e){if(n==null)return{};var t=LQ(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}const BQ={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=Us.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},DQ=["target","eventOptions","window","enabled","transform"];function wy(n={},e){const t={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":t[r]=i.call(t,n[r],r,n);break;case"object":t[r]=wy(n[r],i);break;case"boolean":i&&(t[r]=n[r]);break}return t}function kQ(n,e,t={}){const r=n,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,c=IQ(r,DQ);if(t.shared=wy({target:i,eventOptions:s,window:o,enabled:a,transform:l},BQ),e){const u=GE.get(e);t[e]=wy(Hn({shared:t.shared},c),u)}else for(const u in c){const f=GE.get(u);f&&(t[u]=wy(Hn({shared:t.shared},c[u]),f))}return t}class jz{constructor(e,t){Li(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,r,i,s){const o=this._listeners,a=iQ(t,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=Hn(Hn({},l),s);e.addEventListener(a,i,c);const u=()=>{e.removeEventListener(a,i,c),o.delete(u)};return o.add(u),u}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class NQ{constructor(){Li(this,"_timeouts",new Map)}add(e,t,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(t,r,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class FQ{constructor(e){Li(this,"gestures",new Set),Li(this,"_targetEventStore",new jz(this)),Li(this,"gestureEventStores",{}),Li(this,"gestureTimeoutStores",{}),Li(this,"handlers",{}),Li(this,"config",{}),Li(this,"pointerIds",new Set),Li(this,"touchIds",new Set),Li(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),UQ(this,e)}setEventIds(e){if(Kx(e))return this.touchIds=new Set(aQ(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=kQ(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,r={};let i;if(!(t.target&&(i=t.target(),!i))){if(t.enabled){for(const o of this.gestures){const a=this.config[o],l=iB(r,a.eventOptions,!!i);if(a.enabled){const c=Wz.get(o);new c(this,e,o).bind(l)}}const s=iB(r,t.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](Hn(Hn({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=uQ(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=rQ(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}}function Bf(n,e){n.gestures.add(e),n.gestureEventStores[e]=new jz(n,e),n.gestureTimeoutStores[e]=new NQ}function UQ(n,e){e.drag&&Bf(n,"drag"),e.wheel&&Bf(n,"wheel"),e.scroll&&Bf(n,"scroll"),e.move&&Bf(n,"move"),e.pinch&&Bf(n,"pinch"),e.hover&&Bf(n,"hover")}const iB=(n,e,t)=>(r,i,s,o={},a=!1)=>{var l,c;const u=(l=o.capture)!==null&&l!==void 0?l:e.capture,f=(c=o.passive)!==null&&c!==void 0?c:e.passive;let p=a?r:tQ(r,i,u);t&&f&&(p+="Passive"),n[p]=n[p]||[],n[p].push(s)};function zQ(n,e={},t,r){const i=q.useMemo(()=>new FQ(n),[]);if(i.applyHandlers(n,r),i.applyConfig(e,t),q.useEffect(i.effect.bind(i)),q.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function HQ(n,e){return PQ(OQ),zQ({drag:n},e||{},"drag")}function Pa(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Xz(n,e=[]){let t=[];function r(s,o){const a=O.createContext(o),l=t.length;t=[...t,o];function c(f){const{scope:p,children:m,...g}=f,y=(p==null?void 0:p[n][l])||a,_=O.useMemo(()=>g,Object.values(g));return O.createElement(y.Provider,{value:_},m)}function u(f,p){const m=(p==null?void 0:p[n][l])||a,g=O.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=t.map(o=>O.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return O.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,GQ(i,...e)]}function GQ(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return O.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function wh(n){const e=O.useRef(n);return O.useEffect(()=>{e.current=n}),O.useMemo(()=>(...t)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...t)},[])}function VQ(n,e=globalThis==null?void 0:globalThis.document){const t=wh(n);O.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[t,e])}const VE="dismissableLayer.update",$Q="dismissableLayer.pointerDownOutside",WQ="dismissableLayer.focusOutside";let sB;const jQ=O.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),XQ=O.forwardRef((n,e)=>{var t;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=n,u=O.useContext(jQ),[f,p]=O.useState(null),m=(t=f==null?void 0:f.ownerDocument)!==null&&t!==void 0?t:globalThis==null?void 0:globalThis.document,[,g]=O.useState({}),y=bh(e,I=>p(I)),_=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=_.indexOf(v),S=f?_.indexOf(f):-1,A=u.layersWithOutsidePointerEventsDisabled.size>0,M=S>=x,E=KQ(I=>{const T=I.target,P=[...u.branches].some(B=>B.contains(T));!M||P||(s==null||s(I),a==null||a(I),I.defaultPrevented||l==null||l())},m),R=YQ(I=>{const T=I.target;[...u.branches].some(B=>B.contains(T))||(o==null||o(I),a==null||a(I),I.defaultPrevented||l==null||l())},m);return VQ(I=>{S===u.layers.size-1&&(i==null||i(I),!I.defaultPrevented&&l&&(I.preventDefault(),l()))},m),O.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(sB=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),oB(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=sB)}},[f,m,r,u]),O.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),oB())},[f,u]),O.useEffect(()=>{const I=()=>g({});return document.addEventListener(VE,I),()=>document.removeEventListener(VE,I)},[]),O.createElement($u.div,Pe({},c,{ref:y,style:{pointerEvents:A?M?"auto":"none":void 0,...n.style},onFocusCapture:Pa(n.onFocusCapture,R.onFocusCapture),onBlurCapture:Pa(n.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Pa(n.onPointerDownCapture,E.onPointerDownCapture)}))});function KQ(n,e=globalThis==null?void 0:globalThis.document){const t=wh(n),r=O.useRef(!1),i=O.useRef(()=>{});return O.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let u=function(){Kz($Q,t,c,{discrete:!0})};var l=u;const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function YQ(n,e=globalThis==null?void 0:globalThis.document){const t=wh(n),r=O.useRef(!1);return O.useEffect(()=>{const i=s=>{s.target&&!r.current&&Kz(WQ,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function oB(){const n=new CustomEvent(VE);document.dispatchEvent(n)}function Kz(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?pq(i,s):i.dispatchEvent(s)}const Yd=globalThis!=null&&globalThis.document?O.useLayoutEffect:()=>{},JQ=ky["useId".toString()]||(()=>{});let qQ=0;function QQ(n){const[e,t]=O.useState(JQ());return Yd(()=>{n||t(r=>r??String(qQ++))},[n]),n||(e?`radix-${e}`:"")}const ZQ=["top","right","bottom","left"],ic=Math.min,ns=Math.max,y_=Math.round,Gv=Math.floor,sc=n=>({x:n,y:n}),eZ={left:"right",right:"left",bottom:"top",top:"bottom"},tZ={start:"end",end:"start"};function $E(n,e,t){return ns(n,ic(e,t))}function Ja(n,e){return typeof n=="function"?n(e):n}function qa(n){return n.split("-")[0]}function Eh(n){return n.split("-")[1]}function VC(n){return n==="x"?"y":"x"}function $C(n){return n==="y"?"height":"width"}function Mh(n){return["top","bottom"].includes(qa(n))?"y":"x"}function WC(n){return VC(Mh(n))}function nZ(n,e,t){t===void 0&&(t=!1);const r=Eh(n),i=WC(n),s=$C(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=__(o)),[o,__(o)]}function rZ(n){const e=__(n);return[WE(n),e,WE(e)]}function WE(n){return n.replace(/start|end/g,e=>tZ[e])}function iZ(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function sZ(n,e,t,r){const i=Eh(n);let s=iZ(qa(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(WE)))),s}function __(n){return n.replace(/left|right|bottom|top/g,e=>eZ[e])}function oZ(n){return{top:0,right:0,bottom:0,left:0,...n}}function Yz(n){return typeof n!="number"?oZ(n):{top:n,right:n,bottom:n,left:n}}function x_(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function aB(n,e,t){let{reference:r,floating:i}=n;const s=Mh(e),o=WC(e),a=$C(o),l=qa(e),c=s==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-i.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Eh(e)){case"start":m[o]-=p*(t&&c?-1:1);break;case"end":m[o]+=p*(t&&c?-1:1);break}return m}const aZ=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:f}=aB(c,r,l),p=r,m={},g=0;for(let y=0;y<a.length;y++){const{name:_,fn:v}=a[y],{x,y:S,data:A,reset:M}=await v({x:u,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:n,floating:e}});u=x??u,f=S??f,m={...m,[_]:{...m[_],...A}},M&&g<=50&&(g++,typeof M=="object"&&(M.placement&&(p=M.placement),M.rects&&(c=M.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):M.rects),{x:u,y:f}=aB(c,p,l)),y=-1)}return{x:u,y:f,placement:p,strategy:i,middlewareData:m}};async function Dm(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=Ja(e,n),g=Yz(m),_=a[p?f==="floating"?"reference":"floating":f],v=x_(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(_)))==null||t?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),x=f==="floating"?{...o.floating,x:r,y:i}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},M=x_(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:S,strategy:l}):x);return{top:(v.top-M.top+g.top)/A.y,bottom:(M.bottom-v.bottom+g.bottom)/A.y,left:(v.left-M.left+g.left)/A.x,right:(M.right-v.right+g.right)/A.x}}const lZ=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=Ja(n,e)||{};if(c==null)return{};const f=Yz(u),p={x:t,y:r},m=WC(i),g=$C(m),y=await o.getDimensions(c),_=m==="y",v=_?"top":"left",x=_?"bottom":"right",S=_?"clientHeight":"clientWidth",A=s.reference[g]+s.reference[m]-p[m]-s.floating[g],M=p[m]-s.reference[m],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let R=E?E[S]:0;(!R||!await(o.isElement==null?void 0:o.isElement(E)))&&(R=a.floating[S]||s.floating[g]);const I=A/2-M/2,T=R/2-y[g]/2-1,P=ic(f[v],T),B=ic(f[x],T),F=P,V=R-y[g]-B,k=R/2-y[g]/2+I,z=$E(F,k,V),W=!l.arrow&&Eh(i)!=null&&k!==z&&s.reference[g]/2-(k<F?P:B)-y[g]/2<0,K=W?k<F?k-F:k-V:0;return{[m]:p[m]+K,data:{[m]:z,centerOffset:k-z-K,...W&&{alignmentOffset:K}},reset:W}}}),cZ=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,..._}=Ja(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const v=qa(i),x=qa(a)===a,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),A=p||(x||!y?[__(a)]:rZ(a));!p&&g!=="none"&&A.push(...sZ(a,y,g,S));const M=[a,...A],E=await Dm(e,_),R=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&R.push(E[v]),f){const F=nZ(i,o,S);R.push(E[F[0]],E[F[1]])}if(I=[...I,{placement:i,overflows:R}],!R.every(F=>F<=0)){var T,P;const F=(((T=s.flip)==null?void 0:T.index)||0)+1,V=M[F];if(V)return{data:{index:F,overflows:I},reset:{placement:V}};let k=(P=I.filter(z=>z.overflows[0]<=0).sort((z,W)=>z.overflows[1]-W.overflows[1])[0])==null?void 0:P.placement;if(!k)switch(m){case"bestFit":{var B;const z=(B=I.map(W=>[W.placement,W.overflows.filter(K=>K>0).reduce((K,N)=>K+N,0)]).sort((W,K)=>W[1]-K[1])[0])==null?void 0:B[0];z&&(k=z);break}case"initialPlacement":k=a;break}if(i!==k)return{reset:{placement:k}}}return{}}}};function lB(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function cB(n){return ZQ.some(e=>n[e]>=0)}const uZ=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=Ja(n,e);switch(r){case"referenceHidden":{const s=await Dm(e,{...i,elementContext:"reference"}),o=lB(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:cB(o)}}}case"escaped":{const s=await Dm(e,{...i,altBoundary:!0}),o=lB(s,t.floating);return{data:{escapedOffsets:o,escaped:cB(o)}}}default:return{}}}}};async function fZ(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=qa(t),a=Eh(t),l=Mh(t)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,f=Ja(e,n);let{mainAxis:p,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof g=="number"&&(m=a==="end"?g*-1:g),l?{x:m*u,y:p*c}:{x:p*c,y:m*u}}const dZ=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await fZ(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},hZ=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:v,y:x}=_;return{x:v,y:x}}},...l}=Ja(n,e),c={x:t,y:r},u=await Dm(e,l),f=Mh(qa(i)),p=VC(f);let m=c[p],g=c[f];if(s){const _=p==="y"?"top":"left",v=p==="y"?"bottom":"right",x=m+u[_],S=m-u[v];m=$E(x,m,S)}if(o){const _=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=g+u[_],S=g-u[v];g=$E(x,g,S)}const y=a.fn({...e,[p]:m,[f]:g});return{...y,data:{x:y.x-t,y:y.y-r}}}}},pZ=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Ja(n,e),u={x:t,y:r},f=Mh(i),p=VC(f);let m=u[p],g=u[f];const y=Ja(a,e),_=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const S=p==="y"?"height":"width",A=s.reference[p]-s.floating[S]+_.mainAxis,M=s.reference[p]+s.reference[S]-_.mainAxis;m<A?m=A:m>M&&(m=M)}if(c){var v,x;const S=p==="y"?"width":"height",A=["top","left"].includes(qa(i)),M=s.reference[f]-s.floating[S]+(A&&((v=o.offset)==null?void 0:v[f])||0)+(A?0:_.crossAxis),E=s.reference[f]+s.reference[S]+(A?0:((x=o.offset)==null?void 0:x[f])||0)-(A?_.crossAxis:0);g<M?g=M:g>E&&(g=E)}return{[p]:m,[f]:g}}}},mZ=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){const{placement:t,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=Ja(n,e),l=await Dm(e,a),c=qa(t),u=Eh(t),f=Mh(t)==="y",{width:p,height:m}=r.floating;let g,y;c==="top"||c==="bottom"?(g=c,y=u===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(y=c,g=u==="end"?"top":"bottom");const _=m-l[g],v=p-l[y],x=!e.middlewareData.shift;let S=_,A=v;if(f){const E=p-l.left-l.right;A=u||x?ic(v,E):E}else{const E=m-l.top-l.bottom;S=u||x?ic(_,E):E}if(x&&!u){const E=ns(l.left,0),R=ns(l.right,0),I=ns(l.top,0),T=ns(l.bottom,0);f?A=p-2*(E!==0||R!==0?E+R:ns(l.left,l.right)):S=m-2*(I!==0||T!==0?I+T:ns(l.top,l.bottom))}await o({...e,availableWidth:A,availableHeight:S});const M=await i.getDimensions(s.floating);return p!==M.width||m!==M.height?{reset:{rects:!0}}:{}}}};function oc(n){return Jz(n)?(n.nodeName||"").toLowerCase():"#document"}function fs(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function rl(n){var e;return(e=(Jz(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function Jz(n){return n instanceof Node||n instanceof fs(n).Node}function Qa(n){return n instanceof Element||n instanceof fs(n).Element}function sa(n){return n instanceof HTMLElement||n instanceof fs(n).HTMLElement}function uB(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof fs(n).ShadowRoot}function bg(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=Qs(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function gZ(n){return["table","td","th"].includes(oc(n))}function jC(n){const e=XC(),t=Qs(n);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function qz(n){let e=Jd(n);for(;sa(e)&&!Yx(e);){if(jC(e))return e;e=Jd(e)}return null}function XC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Yx(n){return["html","body","#document"].includes(oc(n))}function Qs(n){return fs(n).getComputedStyle(n)}function Jx(n){return Qa(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function Jd(n){if(oc(n)==="html")return n;const e=n.assignedSlot||n.parentNode||uB(n)&&n.host||rl(n);return uB(e)?e.host:e}function Qz(n){const e=Jd(n);return Yx(e)?n.ownerDocument?n.ownerDocument.body:n.body:sa(e)&&bg(e)?e:Qz(e)}function km(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=Qz(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=fs(i);return s?e.concat(o,o.visualViewport||[],bg(i)?i:[],o.frameElement&&t?km(o.frameElement):[]):e.concat(i,km(i,[],t))}function Zz(n){const e=Qs(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=sa(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=y_(t)!==s||y_(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function KC(n){return Qa(n)?n:n.contextElement}function bd(n){const e=KC(n);if(!sa(e))return sc(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=Zz(e);let o=(s?y_(t.width):t.width)/r,a=(s?y_(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const vZ=sc(0);function e4(n){const e=fs(n);return!XC()||!e.visualViewport?vZ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function yZ(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==fs(n)?!1:e}function Pu(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=KC(n);let o=sc(1);e&&(r?Qa(r)&&(o=bd(r)):o=bd(n));const a=yZ(s,t,r)?e4(s):sc(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(s){const p=fs(s),m=r&&Qa(r)?fs(r):r;let g=p.frameElement;for(;g&&r&&m!==p;){const y=bd(g),_=g.getBoundingClientRect(),v=Qs(g),x=_.left+(g.clientLeft+parseFloat(v.paddingLeft))*y.x,S=_.top+(g.clientTop+parseFloat(v.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,f*=y.y,l+=x,c+=S,g=fs(g).frameElement}}return x_({width:u,height:f,x:l,y:c})}const _Z=[":popover-open",":modal"];function t4(n){let e=!1,t=0,r=0;function i(s){try{e=e||n.matches(s)}catch{}}if(_Z.forEach(s=>{i(s)}),e){const s=qz(n);if(s){const o=s.getBoundingClientRect();t=o.x,r=o.y}}return[e,t,r]}function xZ(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=rl(r),[o]=e?t4(e.floating):[!1];if(r===s||o)return t;let a={scrollLeft:0,scrollTop:0},l=sc(1);const c=sc(0),u=sa(r);if((u||!u&&i!=="fixed")&&((oc(r)!=="body"||bg(s))&&(a=Jx(r)),sa(r))){const f=Pu(r);l=bd(r),c.x=f.x+r.clientLeft,c.y=f.y+r.clientTop}return{width:t.width*l.x,height:t.height*l.y,x:t.x*l.x-a.scrollLeft*l.x+c.x,y:t.y*l.y-a.scrollTop*l.y+c.y}}function SZ(n){return Array.from(n.getClientRects())}function n4(n){return Pu(rl(n)).left+Jx(n).scrollLeft}function bZ(n){const e=rl(n),t=Jx(n),r=n.ownerDocument.body,i=ns(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ns(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+n4(n);const a=-t.scrollTop;return Qs(r).direction==="rtl"&&(o+=ns(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function AZ(n,e){const t=fs(n),r=rl(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=XC();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function wZ(n,e){const t=Pu(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=sa(n)?bd(n):sc(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function fB(n,e,t){let r;if(e==="viewport")r=AZ(n,t);else if(e==="document")r=bZ(rl(n));else if(Qa(e))r=wZ(e,t);else{const i=e4(n);r={...e,x:e.x-i.x,y:e.y-i.y}}return x_(r)}function r4(n,e){const t=Jd(n);return t===e||!Qa(t)||Yx(t)?!1:Qs(t).position==="fixed"||r4(t,e)}function EZ(n,e){const t=e.get(n);if(t)return t;let r=km(n,[],!1).filter(a=>Qa(a)&&oc(a)!=="body"),i=null;const s=Qs(n).position==="fixed";let o=s?Jd(n):n;for(;Qa(o)&&!Yx(o);){const a=Qs(o),l=jC(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||bg(o)&&!l&&r4(n,o))?r=r.filter(u=>u!==o):i=a,o=Jd(o)}return e.set(n,r),r}function MZ(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?EZ(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,u)=>{const f=fB(e,u,i);return c.top=ns(f.top,c.top),c.right=ic(f.right,c.right),c.bottom=ic(f.bottom,c.bottom),c.left=ns(f.left,c.left),c},fB(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function TZ(n){const{width:e,height:t}=Zz(n);return{width:e,height:t}}function CZ(n,e,t,r){const i=sa(e),s=rl(e),o=t==="fixed",a=Pu(n,!0,o,e);let l={scrollLeft:0,scrollTop:0};const c=sc(0);if(i||!i&&!o)if((oc(e)!=="body"||bg(s))&&(l=Jx(e)),i){const y=Pu(e,!0,o,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else s&&(c.x=n4(s));let u=a.left+l.scrollLeft-c.x,f=a.top+l.scrollTop-c.y;const[p,m,g]=t4(r);return p&&(u+=m,f+=g,i&&(u+=e.clientLeft,f+=e.clientTop)),{x:u,y:f,width:a.width,height:a.height}}function dB(n,e){return!sa(n)||Qs(n).position==="fixed"?null:e?e(n):n.offsetParent}function i4(n,e){const t=fs(n);if(!sa(n))return t;let r=dB(n,e);for(;r&&gZ(r)&&Qs(r).position==="static";)r=dB(r,e);return r&&(oc(r)==="html"||oc(r)==="body"&&Qs(r).position==="static"&&!jC(r))?t:r||qz(n)||t}const RZ=async function(n){const e=this.getOffsetParent||i4,t=this.getDimensions;return{reference:CZ(n.reference,await e(n.floating),n.strategy,n.floating),floating:{x:0,y:0,...await t(n.floating)}}};function PZ(n){return Qs(n).direction==="rtl"}const OZ={convertOffsetParentRelativeRectToViewportRelativeRect:xZ,getDocumentElement:rl,getClippingRect:MZ,getOffsetParent:i4,getElementRects:RZ,getClientRects:SZ,getDimensions:TZ,getScale:bd,isElement:Qa,isRTL:PZ};function LZ(n,e){let t=null,r;const i=rl(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:f,height:p}=n.getBoundingClientRect();if(a||e(),!f||!p)return;const m=Gv(u),g=Gv(i.clientWidth-(c+f)),y=Gv(i.clientHeight-(u+p)),_=Gv(c),x={rootMargin:-m+"px "+-g+"px "+-y+"px "+-_+"px",threshold:ns(0,ic(1,l))||1};let S=!0;function A(M){const E=M[0].intersectionRatio;if(E!==l){if(!S)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},100)}S=!1}try{t=new IntersectionObserver(A,{...x,root:i.ownerDocument})}catch{t=new IntersectionObserver(A,x)}t.observe(n)}return o(!0),s}function IZ(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=KC(n),u=i||s?[...c?km(c):[],...km(e)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",t,{passive:!0}),s&&v.addEventListener("resize",t)});const f=c&&a?LZ(c,t):null;let p=-1,m=null;o&&(m=new ResizeObserver(v=>{let[x]=v;x&&x.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(e)})),t()}),c&&!l&&m.observe(c),m.observe(e));let g,y=l?Pu(n):null;l&&_();function _(){const v=Pu(n);y&&(v.x!==y.x||v.y!==y.y||v.width!==y.width||v.height!==y.height)&&t(),y=v,g=requestAnimationFrame(_)}return t(),()=>{var v;u.forEach(x=>{i&&x.removeEventListener("scroll",t),s&&x.removeEventListener("resize",t)}),f==null||f(),(v=m)==null||v.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const BZ=hZ,DZ=cZ,kZ=mZ,NZ=uZ,hB=lZ,FZ=pZ,UZ=(n,e,t)=>{const r=new Map,i={platform:OZ,...t},s={...i.platform,_c:r};return aZ(n,e,{...i,platform:s})},zZ=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?hB({element:r.current,padding:i}).fn(t):{}:r?hB({element:r,padding:i}).fn(t):{}}}};var Ey=typeof document<"u"?O.useLayoutEffect:O.useEffect;function S_(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!S_(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!S_(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function s4(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function pB(n,e){const t=s4(n);return Math.round(e*t)/t}function mB(n){const e=O.useRef(n);return Ey(()=>{e.current=n}),e}function HZ(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,f]=O.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=O.useState(r);S_(p,r)||m(r);const[g,y]=O.useState(null),[_,v]=O.useState(null),x=O.useCallback(K=>{K!==E.current&&(E.current=K,y(K))},[]),S=O.useCallback(K=>{K!==R.current&&(R.current=K,v(K))},[]),A=s||g,M=o||_,E=O.useRef(null),R=O.useRef(null),I=O.useRef(u),T=l!=null,P=mB(l),B=mB(i),F=O.useCallback(()=>{if(!E.current||!R.current)return;const K={placement:e,strategy:t,middleware:p};B.current&&(K.platform=B.current),UZ(E.current,R.current,K).then(N=>{const j={...N,isPositioned:!0};V.current&&!S_(I.current,j)&&(I.current=j,rg.flushSync(()=>{f(j)}))})},[p,e,t,B]);Ey(()=>{c===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(K=>({...K,isPositioned:!1})))},[c]);const V=O.useRef(!1);Ey(()=>(V.current=!0,()=>{V.current=!1}),[]),Ey(()=>{if(A&&(E.current=A),M&&(R.current=M),A&&M){if(P.current)return P.current(A,M,F);F()}},[A,M,F,P,T]);const k=O.useMemo(()=>({reference:E,floating:R,setReference:x,setFloating:S}),[x,S]),z=O.useMemo(()=>({reference:A,floating:M}),[A,M]),W=O.useMemo(()=>{const K={position:t,left:0,top:0};if(!z.floating)return K;const N=pB(z.floating,u.x),j=pB(z.floating,u.y);return a?{...K,transform:"translate("+N+"px, "+j+"px)",...s4(z.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:N,top:j}},[t,a,z.floating,u.x,u.y]);return O.useMemo(()=>({...u,update:F,refs:k,elements:z,floatingStyles:W}),[u,F,k,z,W])}const GZ=O.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return O.createElement($u.svg,Pe({},s,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),n.asChild?t:O.createElement("polygon",{points:"0,0 30,0 15,10"}))}),VZ=GZ;function $Z(n){const[e,t]=O.useState(void 0);return Yd(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}const o4="Popper",[a4,l4]=Xz(o4),[WZ,c4]=a4(o4),jZ=n=>{const{__scopePopper:e,children:t}=n,[r,i]=O.useState(null);return O.createElement(WZ,{scope:e,anchor:r,onAnchorChange:i},t)},XZ="PopperAnchor",KZ=O.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=c4(XZ,t),o=O.useRef(null),a=bh(e,o);return O.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:O.createElement($u.div,Pe({},i,{ref:a}))}),u4="PopperContent",[YZ,JZ]=a4(u4),qZ=O.forwardRef((n,e)=>{var t,r,i,s,o,a,l,c;const{__scopePopper:u,side:f="bottom",sideOffset:p=0,align:m="center",alignOffset:g=0,arrowPadding:y=0,avoidCollisions:_=!0,collisionBoundary:v=[],collisionPadding:x=0,sticky:S="partial",hideWhenDetached:A=!1,updatePositionStrategy:M="optimized",onPlaced:E,...R}=n,I=c4(u4,u),[T,P]=O.useState(null),B=bh(e,de=>P(de)),[F,V]=O.useState(null),k=$Z(F),z=(t=k==null?void 0:k.width)!==null&&t!==void 0?t:0,W=(r=k==null?void 0:k.height)!==null&&r!==void 0?r:0,K=f+(m!=="center"?"-"+m:""),N=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},j=Array.isArray(v)?v:[v],J=j.length>0,te={padding:N,boundary:j.filter(tee),altBoundary:J},{refs:ee,floatingStyles:Y,placement:ne,isPositioned:ce,middlewareData:Me}=HZ({strategy:"fixed",placement:K,whileElementsMounted:(...de)=>IZ(...de,{animationFrame:M==="always"}),elements:{reference:I.anchor},middleware:[dZ({mainAxis:p+W,alignmentAxis:g}),_&&BZ({mainAxis:!0,crossAxis:!1,limiter:S==="partial"?FZ():void 0,...te}),_&&DZ({...te}),kZ({...te,apply:({elements:de,rects:ye,availableWidth:We,availableHeight:ze})=>{const{width:U,height:D}=ye.reference,ie=de.floating.style;ie.setProperty("--radix-popper-available-width",`${We}px`),ie.setProperty("--radix-popper-available-height",`${ze}px`),ie.setProperty("--radix-popper-anchor-width",`${U}px`),ie.setProperty("--radix-popper-anchor-height",`${D}px`)}}),F&&zZ({element:F,padding:y}),nee({arrowWidth:z,arrowHeight:W}),A&&NZ({strategy:"referenceHidden",...te})]}),[Re,Ze]=f4(ne),Je=wh(E);Yd(()=>{ce&&(Je==null||Je())},[ce,Je]);const Fe=(i=Me.arrow)===null||i===void 0?void 0:i.x,Be=(s=Me.arrow)===null||s===void 0?void 0:s.y,X=((o=Me.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[Se,ve]=O.useState();return Yd(()=>{T&&ve(window.getComputedStyle(T).zIndex)},[T]),O.createElement("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:ce?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(a=Me.transformOrigin)===null||a===void 0?void 0:a.x,(l=Me.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:n.dir},O.createElement(YZ,{scope:u,placedSide:Re,onArrowChange:V,arrowX:Fe,arrowY:Be,shouldHideArrow:X},O.createElement($u.div,Pe({"data-side":Re,"data-align":Ze},R,{ref:B,style:{...R.style,animation:ce?void 0:"none",opacity:(c=Me.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))}),QZ="PopperArrow",ZZ={top:"bottom",right:"left",bottom:"top",left:"right"},eee=O.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=JZ(QZ,r),o=ZZ[s.placedSide];return O.createElement("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0}},O.createElement(VZ,Pe({},i,{ref:t,style:{...i.style,display:"block"}})))});function tee(n){return n!==null}const nee=n=>({name:"transformOrigin",options:n,fn(e){var t,r,i,s,o;const{placement:a,rects:l,middlewareData:c}=e,f=((t=c.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,p=f?0:n.arrowWidth,m=f?0:n.arrowHeight,[g,y]=f4(a),_={start:"0%",center:"50%",end:"100%"}[y],v=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+p/2,x=((s=(o=c.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+m/2;let S="",A="";return g==="bottom"?(S=f?_:`${v}px`,A=`${-m}px`):g==="top"?(S=f?_:`${v}px`,A=`${l.floating.height+m}px`):g==="right"?(S=`${-m}px`,A=f?_:`${x}px`):g==="left"&&(S=`${l.floating.width+m}px`,A=f?_:`${x}px`),{data:{x:S,y:A}}}});function f4(n){const[e,t="center"]=n.split("-");return[e,t]}const ree=jZ,iee=KZ,see=qZ,oee=eee;function aee(n,e){return O.useReducer((t,r)=>{const i=e[t][r];return i??t},n)}const d4=n=>{const{present:e,children:t}=n,r=lee(e),i=typeof t=="function"?t({present:r.isPresent}):O.Children.only(t),s=bh(r.ref,i.ref);return typeof t=="function"||r.isPresent?O.cloneElement(i,{ref:s}):null};d4.displayName="Presence";function lee(n){const[e,t]=O.useState(),r=O.useRef({}),i=O.useRef(n),s=O.useRef("none"),o=n?"mounted":"unmounted",[a,l]=aee(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const c=Vv(r.current);s.current=a==="mounted"?c:"none"},[a]),Yd(()=>{const c=r.current,u=i.current;if(u!==n){const p=s.current,m=Vv(c);n?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),Yd(()=>{if(e){const c=f=>{const m=Vv(r.current).includes(f.animationName);f.target===e&&m&&rg.flushSync(()=>l("ANIMATION_END"))},u=f=>{f.target===e&&(s.current=Vv(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:O.useCallback(c=>{c&&(r.current=getComputedStyle(c)),t(c)},[])}}function Vv(n){return(n==null?void 0:n.animationName)||"none"}function cee({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=uee({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:r,a=wh(t),l=O.useCallback(c=>{if(s){const f=typeof c=="function"?c(n):c;f!==n&&a(f)}else i(c)},[s,n,i,a]);return[o,l]}function uee({defaultProp:n,onChange:e}){const t=O.useState(n),[r]=t,i=O.useRef(r),s=wh(e);return O.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),t}const fee=O.forwardRef((n,e)=>O.createElement($u.span,Pe({},n,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}))),dee=fee,[qx,Bge]=Xz("Tooltip",[l4]),Qx=l4(),hee="TooltipProvider",jE="tooltip.open",[Dge,YC]=qx(hee),JC="Tooltip",[pee,Zx]=qx(JC),mee=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=n,l=YC(JC,n.__scopeTooltip),c=Qx(e),[u,f]=O.useState(null),p=QQ(),m=O.useRef(0),g=o??l.disableHoverableContent,y=a??l.delayDuration,_=O.useRef(!1),[v=!1,x]=cee({prop:r,defaultProp:i,onChange:R=>{R?(l.onOpen(),document.dispatchEvent(new CustomEvent(jE))):l.onClose(),s==null||s(R)}}),S=O.useMemo(()=>v?_.current?"delayed-open":"instant-open":"closed",[v]),A=O.useCallback(()=>{window.clearTimeout(m.current),_.current=!1,x(!0)},[x]),M=O.useCallback(()=>{window.clearTimeout(m.current),x(!1)},[x]),E=O.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{_.current=!0,x(!0)},y)},[y,x]);return O.useEffect(()=>()=>window.clearTimeout(m.current),[]),O.createElement(ree,c,O.createElement(pee,{scope:e,contentId:p,open:v,stateAttribute:S,trigger:u,onTriggerChange:f,onTriggerEnter:O.useCallback(()=>{l.isOpenDelayed?E():A()},[l.isOpenDelayed,E,A]),onTriggerLeave:O.useCallback(()=>{g?M():window.clearTimeout(m.current)},[M,g]),onOpen:A,onClose:M,disableHoverableContent:g},t))},gB="TooltipTrigger",gee=O.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=Zx(gB,t),s=YC(gB,t),o=Qx(t),a=O.useRef(null),l=bh(e,a,i.onTriggerChange),c=O.useRef(!1),u=O.useRef(!1),f=O.useCallback(()=>c.current=!1,[]);return O.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),O.createElement(iee,Pe({asChild:!0},o),O.createElement($u.button,Pe({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:l,onPointerMove:Pa(n.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Pa(n.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Pa(n.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Pa(n.onFocus,()=>{c.current||i.onOpen()}),onBlur:Pa(n.onBlur,i.onClose),onClick:Pa(n.onClick,i.onClose)})))}),vee="TooltipPortal",[kge,yee]=qx(vee,{forceMount:void 0}),Nm="TooltipContent",_ee=O.forwardRef((n,e)=>{const t=yee(Nm,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,o=Zx(Nm,n.__scopeTooltip);return O.createElement(d4,{present:r||o.open},o.disableHoverableContent?O.createElement(h4,Pe({side:i},s,{ref:e})):O.createElement(xee,Pe({side:i},s,{ref:e})))}),xee=O.forwardRef((n,e)=>{const t=Zx(Nm,n.__scopeTooltip),r=YC(Nm,n.__scopeTooltip),i=O.useRef(null),s=bh(e,i),[o,a]=O.useState(null),{trigger:l,onClose:c}=t,u=i.current,{onPointerInTransitChange:f}=r,p=O.useCallback(()=>{a(null),f(!1)},[f]),m=O.useCallback((g,y)=>{const _=g.currentTarget,v={x:g.clientX,y:g.clientY},x=Eee(v,_.getBoundingClientRect()),S=Mee(v,x),A=Tee(y.getBoundingClientRect()),M=Ree([...S,...A]);a(M),f(!0)},[f]);return O.useEffect(()=>()=>p(),[p]),O.useEffect(()=>{if(l&&u){const g=_=>m(_,u),y=_=>m(_,l);return l.addEventListener("pointerleave",g),u.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",y)}}},[l,u,m,p]),O.useEffect(()=>{if(o){const g=y=>{const _=y.target,v={x:y.clientX,y:y.clientY},x=(l==null?void 0:l.contains(_))||(u==null?void 0:u.contains(_)),S=!Cee(v,o);x?p():S&&(p(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,u,o,c,p]),O.createElement(h4,Pe({},n,{ref:s}))}),[See,bee]=qx(JC,{isInside:!1}),h4=O.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=Zx(Nm,t),c=Qx(t),{onClose:u}=l;return O.useEffect(()=>(document.addEventListener(jE,u),()=>document.removeEventListener(jE,u)),[u]),O.useEffect(()=>{if(l.trigger){const f=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),O.createElement(XQ,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u},O.createElement(see,Pe({"data-state":l.stateAttribute},c,a,{ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),O.createElement(Iz,null,r),O.createElement(See,{scope:t,isInside:!0},O.createElement(dee,{id:l.contentId,role:"tooltip"},i||r))))}),Aee="TooltipArrow",wee=O.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=Qx(t);return bee(Aee,t).isInside?null:O.createElement(oee,Pe({},i,r,{ref:e}))});function Eee(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Mee(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function Tee(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function Cee(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>r!=u>r&&t<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function Ree(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),Pee(e)}function Pee(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}const Oee=mee,Lee=gee,Iee=_ee,Bee=wee;function Dee(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function vn(n,e){if(n==null)return{};var t=Dee(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}let Bn;(function(n){n[n.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",n[n.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",n[n.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",n[n.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",n[n.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",n[n.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",n[n.THEME_ERROR=6]="THEME_ERROR",n[n.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",n[n.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",n[n.EMPTY_KEY=9]="EMPTY_KEY"})(Bn||(Bn={}));const kee={[Bn.UNSUPPORTED_INPUT]:(n,e)=>[`An input with type \`${n}\` input was found at path \`${e}\` but it's not supported yet.`],[Bn.NO_COMPONENT_FOR_TYPE]:(n,e)=>[`Type \`${n}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[Bn.UNKNOWN_INPUT]:(n,e)=>[`input at path \`${n}\` is not recognized.`,e],[Bn.DUPLICATE_KEYS]:(n,e,t)=>[`Key \`${n}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[Bn.ALREADY_REGISTERED_TYPE]:n=>[`Type ${n} has already been registered. You can't register a component with the same type.`],[Bn.CLIPBOARD_ERROR]:n=>["Error copying the value",n],[Bn.THEME_ERROR]:(n,e)=>[`Error accessing the theme \`${n}.${e}\` value.`],[Bn.PATH_DOESNT_EXIST]:n=>[`Error getting the value at path \`${n}\`. There is probably an error in your \`render\` function.`],[Bn.PATH_DOESNT_EXIST]:n=>[`Error accessing the value at path \`${n}\``],[Bn.INPUT_TYPE_OVERRIDE]:(n,e,t)=>[`Input at path \`${n}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[Bn.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function p4(n,e,...t){const[r,...i]=kee[e](...t);console[n]("LEVA: "+r,...i)}const Ia=p4.bind(null,"warn"),Nee=p4.bind(null,"log"),Fee=["value"],Uee=["schema"],zee=["value"],m4=[],Ou={};function vB(n){let{value:e}=n,t=vn(n,Fee);for(let r of m4){const i=r(e,t);if(i)return i}}function il(n,e){let{schema:t}=e,r=vn(e,Uee);if(n in Ou){Ia(Bn.ALREADY_REGISTERED_TYPE,n);return}m4.push((i,s)=>t(i,s)&&n),Ou[n]=r}function hA(n,e,t,r){const{normalize:i}=Ou[n];if(i)return i(e,t,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=vn(e,zee);return{value:s,settings:o}}function Hee(n,e,t,r,i,s){const{sanitize:o}=Ou[n];return o?o(e,t,r,i,s):e}function yB(n,e,t){const{format:r}=Ou[n];return r?r(e,t):e}function Gee(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _B(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Pt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_B(Object(t),!0).forEach(function(r){Gee(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_B(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const ac=(n,e,t)=>n>t?t:n<e?e:n,Vee=n=>{if(n===""||typeof n=="number")return n;try{const e=El(n);if(!isNaN(e))return e}catch{}return parseFloat(n)},$ee=Math.log(10);function xB(n){let e=Math.abs(+String(n).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const t=Math.floor(Math.log(e)/$ee)+1,r=Math.floor(Math.log10(Math.abs(n))),i=Math.pow(10,r-t);return Math.max(i,.001)}const b_=(n,e,t)=>t===e?0:(ac(n,e,t)-e)/(t-e),A_=(n,e,t)=>n*(t-e)+e,Wee=()=>"_"+Math.random().toString(36).substr(2,9),SB=/\(([0-9+\-*/^ .]+)\)/,bB=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,AB=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,wB=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,EB=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,MB=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function El(n){if(isNaN(Number(n)))if(SB.test(n)){const e=n.replace(SB,(t,r)=>String(El(r)));return El(e)}else if(bB.test(n)){const e=n.replace(bB,(t,r,i)=>String(Math.pow(Number(r),Number(i))));return El(e)}else if(AB.test(n)){const e=n.replace(AB,(t,r,i)=>String(Number(r)*Number(i)));return El(e)}else if(wB.test(n)){const e=n.replace(wB,(t,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return El(e)}else if(EB.test(n)){const e=n.replace(EB,(t,r,i)=>String(Number(r)+Number(i)));return El(e)}else if(MB.test(n)){const e=n.replace(MB,(t,r,i)=>String(Number(r)-Number(i)));return El(e)}else return Number(n);return Number(n)}function jee(n,e){const t=Pt({},n);return e.forEach(r=>r in n&&delete t[r]),t}function Xee(n,e){return n.reduce((t,r,i)=>Object.assign(t,{[e[i]]:r}),{})}function g4(n){return Object.prototype.toString.call(n)==="[object Object]"}const Kee=n=>g4(n)&&Object.keys(n).length===0;let Qo;(function(n){n.BUTTON="BUTTON",n.BUTTON_GROUP="BUTTON_GROUP",n.MONITOR="MONITOR",n.FOLDER="FOLDER"})(Qo||(Qo={}));let bo;(function(n){n.SELECT="SELECT",n.IMAGE="IMAGE",n.NUMBER="NUMBER",n.COLOR="COLOR",n.STRING="STRING",n.BOOLEAN="BOOLEAN",n.INTERVAL="INTERVAL",n.VECTOR3D="VECTOR3D",n.VECTOR2D="VECTOR2D"})(bo||(bo={}));const Yee=["type","__customInput"],Jee=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],qee=["type"];function v4(n,e,t={},r){var i,s;if(typeof n!="object"||Array.isArray(n))return{type:r,input:n,options:Pt({key:e,label:e,optional:!1,disabled:!1,order:0},t)};if("__customInput"in n){const{type:M,__customInput:E}=n,R=vn(n,Yee);return v4(E,e,R,M)}const{render:o,label:a,optional:l,order:c=0,disabled:u,hint:f,onChange:p,onEditStart:m,onEditEnd:g,transient:y}=n,_=vn(n,Jee),v=Pt({render:o,key:e,label:a??e,hint:f,transient:y??!!p,onEditStart:m,onEditEnd:g,disabled:u,optional:l,order:c},t);let{type:x}=_,S=vn(_,qee);if(x=r??x,x in Qo)return{type:x,input:S,options:v};let A;return r&&g4(S)&&"value"in S?A=S.value:A=Kee(S)?void 0:S,{type:x,input:A,options:Pt(Pt({},v),{},{onChange:p,optional:(i=v.optional)!==null&&i!==void 0?i:!1,disabled:(s=v.disabled)!==null&&s!==void 0?s:!1})}}function Qee(n,e,t,r){const i=v4(n,e),{type:s,input:o,options:a}=i;if(s)return s in Qo?i:{type:s,input:hA(s,o,t,r),options:a};let l=vB(o);return l?{type:l,input:hA(l,o,t,r),options:a}:(l=vB({value:o}),l?{type:l,input:hA(l,{value:o},t,r),options:a}:!1)}function TB(n,e,t,r,i){const{value:s,type:o,settings:a}=n;n.value=y4({type:o,value:s,settings:a},e,t,r),n.fromPanel=i}const Zee=function(e,t,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=r};function y4({type:n,value:e,settings:t},r,i,s){const o=n!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=Hee(n,o,t,e,i,s)}catch(l){throw new Zee(`The value \`${r}\` did not result in a correct value.`,e,l)}return m_(a,e)?e:a}const _4=(n,e,t=!1)=>{let r=0;return function(){const i=arguments,s=t&&!r,o=()=>n.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},x4=n=>n.shiftKey?5:n.altKey?1/5:1,ete=["value"],tte=["min","max"],nte=n=>{if(typeof n=="number")return!0;if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?!1:n.substring((""+e).length).trim().length<4}return!1},S4=(n,{min:e=-1/0,max:t=1/0,suffix:r})=>{const i=parseFloat(n);if(n===""||isNaN(i))throw Error("Invalid number");const s=ac(i,e,t);return r?s+r:s},rte=(n,{pad:e=0,suffix:t})=>{const r=parseFloat(n).toFixed(e);return t?r+t:r},b4=n=>{let{value:e}=n,t=vn(n,ete);const{min:r=-1/0,max:i=1/0}=t,s=vn(t,tte);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=ac(o,r,i);let l=t.step;l||(Number.isFinite(r)?Number.isFinite(i)?l=+(Math.abs(i-r)/100).toPrecision(1):l=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-o)/100).toPrecision(1)));const c=l?xB(l)*10:xB(o);l=l||c/10;const u=Math.round(ac(Math.log10(1/c),0,2));return{value:a?o+a:o,settings:Pt({initialValue:o,step:l,pad:u,min:r,max:i,suffix:a},s)}},A4=(n,{step:e,initialValue:t})=>{const r=Math.round((n-t)/e);return t+r*e};var w4=Object.freeze({__proto__:null,schema:nte,sanitize:S4,format:rte,normalize:b4,sanitizeStep:A4});function pr(){return pr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},pr.apply(this,arguments)}const E4=O.createContext({});function fi(){return O.useContext(E4)}const M4=O.createContext(null),T4=O.createContext(null),C4=O.createContext(null);function Ag(){return O.useContext(T4)}function ite(){return O.useContext(C4)}const ste=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function $v(n,e){const[t,r]=n.split(" "),i={};return t!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),r&&(i.backgroundColor=r),i}const xp={$inputStyle:()=>n=>$v(n,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>n=>$v(n,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>n=>$v(n,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>n=>$v(n,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:yt,css:Nge,createTheme:Fge,globalCss:ote,keyframes:Uge}=Kq({prefix:"leva",theme:ste(),utils:Pt(Pt({},xp),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:n=>({"&:focus":xp.$focusStyle()(n)}),$focusWithin:n=>({"&:focus-within":xp.$focusStyle()(n)}),$hover:n=>({"&:hover":xp.$hoverStyle()(n)}),$active:n=>({"&:active":xp.$activeStyle()(n)})})}),ate=ote({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function Ha(n,e){const{theme:t}=O.useContext(M4);if(!(n in t)||!(e in t[n]))return Ia(Bn.THEME_ERROR,n,e),"";let r=e;for(;;){let i=t[n][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const R4=yt("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),P4=yt("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${R4}`]:{paddingLeft:0}}),lte=yt(P4,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),cte=yt("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),ute=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],fte=["onUpdate"];function qC(n){let{innerLabel:e,value:t,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:l="text",rows:c=0}=n,u=vn(n,ute);const{id:f,emitOnEditStart:p,emitOnEditEnd:m,disabled:g}=fi(),y=a||f,_=O.useRef(null),v=c>0,x=v?"textarea":"input",S=O.useCallback(E=>R=>{const I=R.currentTarget.value;E(I)},[]);q.useEffect(()=>{const E=_.current,R=S(I=>{r(I),m()});return E==null||E.addEventListener("blur",R),()=>E==null?void 0:E.removeEventListener("blur",R)},[S,r,m]);const A=O.useCallback(E=>{E.key==="Enter"&&S(r)(E)},[S,r]),M=Object.assign({as:x},v?{rows:c}:{},u);return q.createElement(cte,{textArea:v},e&&typeof e=="string"?q.createElement(P4,null,e):e,q.createElement(R4,pr({levaType:o,ref:_,id:y,type:l,autoComplete:"off",spellCheck:"false",value:t,onChange:S(i),onFocus:()=>p(),onKeyPress:A,onKeyDown:s,disabled:g},M)))}function dte(n){let{onUpdate:e}=n,t=vn(n,fte);const r=O.useCallback(s=>e(Vee(s)),[e]),i=O.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+o*a)}},[e]);return q.createElement(qC,pr({},t,{onUpdate:r,onKeyDown:i,type:"number"}))}const w_=yt("div",{}),XE=yt("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),hte=yt("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${XE}::after`]:{opacity:.6},[`${w_}:hover > & + ${XE}::after`]:{opacity:.6},[`${w_}:hover > & > svg`]:{opacity:1}}),O4=yt("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${w_}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),L4=yt("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${O4} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),I4=yt(L4,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),pte=yt("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),mte=yt("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),KE=yt("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),gte=yt("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${KE}`]:{pointerEvents:"auto"}}}}}),B4=yt("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),vte=yt("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),yte=yt(Bee,{fill:"$toolTipBackground"});function QC({children:n}){const{className:e}=O.useContext(M4);return q.createElement(gq,{className:e},n)}const _te=["align"];function xte(){const{id:n,disable:e,disabled:t}=fi();return q.createElement(q.Fragment,null,q.createElement(mte,{id:n+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),q.createElement("label",{htmlFor:n+"__disable"}))}function Ste(n){const{id:e,optional:t,hint:r}=fi(),i=n.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof n.children=="string"?{title:n.children}:null;return q.createElement(q.Fragment,null,t&&q.createElement(xte,null),r!==void 0?q.createElement(Oee,null,q.createElement(Lee,{asChild:!0},q.createElement(KE,pr({},i,n))),q.createElement(Iee,{side:"top",sideOffset:2},q.createElement(vte,null,r,q.createElement(yte,null)))):q.createElement(KE,pr({},i,s,n)))}function Mo(n){let{align:e}=n,t=vn(n,_te);const{value:r,label:i,key:s,disabled:o}=fi(),{hideCopyButton:a}=ite(),l=!a&&s!==void 0,[c,u]=O.useState(!1),f=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r??""})),u(!0)}catch{Ia(Bn.CLIPBOARD_ERROR,{[s]:r})}};return q.createElement(pte,{align:e,onPointerLeave:()=>u(!1)},q.createElement(Ste,t),l&&!o&&q.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},c?q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},q.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),q.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):q.createElement("svg",{onClick:f,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},q.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),q.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const bte=["toggled"],Ate=yt("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function ZC(n){let{toggled:e}=n,t=vn(n,bte);return q.createElement(Ate,pr({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},t),q.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const wte=["input"];function eo(n){let{input:e}=n,t=vn(n,wte);return e?q.createElement(I4,t):q.createElement(L4,t)}function D4({value:n,type:e,settings:t,setValue:r}){const[i,s]=O.useState(yB(e,n,t)),o=O.useRef(n),a=O.useRef(t);a.current=t;const l=O.useCallback(u=>s(yB(e,u,a.current)),[e]),c=O.useCallback(u=>{try{r(u)}catch(f){const{type:p,previousValue:m}=f;if(p!=="LEVA_ERROR")throw f;l(m)}},[l,r]);return O.useEffect(()=>{m_(n,o.current)||l(n),o.current=n},[n,l]),{displayValue:i,onChange:s,onUpdate:c}}function wg(n,e){const{emitOnEditStart:t,emitOnEditEnd:r}=fi();return HQ(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),t==null||t());const s=n(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function Ete(n){const e=O.useRef(null),t=O.useRef(null),r=O.useRef(!1);return O.useEffect(()=>{const i=_4(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,n(e.current,t.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[n]),O.useEffect(()=>{t.current=e.current.getContext("2d")},[]),[e,t]}function k4(){const n=O.useRef(null),e=O.useRef({x:0,y:0}),t=O.useCallback(r=>{Object.assign(e.current,r),n.current&&(n.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[n,t]}const Mte=["__refCount"],pA=(n,e)=>{if(!n[e])return null;const t=n[e];return vn(t,Mte)};function Tte(n){const e=Ag(),[t,r]=O.useState(pA(e.getData(),n)),i=O.useCallback(c=>e.setValueAtPath(n,c,!0),[n,e]),s=O.useCallback(c=>e.setSettingsAtPath(n,c),[n,e]),o=O.useCallback(c=>e.disableInputAtPath(n,c),[n,e]),a=O.useCallback(()=>e.emitOnEditStart(n),[n,e]),l=O.useCallback(()=>e.emitOnEditEnd(n),[n,e]);return O.useEffect(()=>{r(pA(e.getData(),n));const c=e.useStore.subscribe(u=>pA(u.data,n),r,{equalityFn:Bz});return()=>c()},[e,n]),[t,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const Cte=yt("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),N4=yt("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),YE=yt("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),F4=yt("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),U4=yt("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function Rte({value:n,min:e,max:t,onDrag:r,step:i,initialValue:s}){const o=O.useRef(null),a=O.useRef(null),l=O.useRef(0),c=Ha("sizes","scrubberWidth"),u=wg(({event:p,first:m,xy:[g],movement:[y],memo:_})=>{if(m){const{width:x,left:S}=o.current.getBoundingClientRect();l.current=x-parseFloat(c),_=(p==null?void 0:p.target)===a.current?n:A_((g-S)/x,e,t)}const v=_+A_(y/l.current,0,t-e);return r(A4(v,{step:i,initialValue:s})),_}),f=b_(n,e,t);return q.createElement(F4,pr({ref:o},u()),q.createElement(N4,null,q.createElement(U4,{style:{left:0,right:`${(1-f)*100}%`}})),q.createElement(YE,{ref:a,style:{left:`calc(${f} * (100% - ${c}))`}}))}const Pte=q.memo(({label:n,onUpdate:e,step:t,innerLabelTrim:r})=>{const[i,s]=O.useState(!1),o=wg(({active:a,delta:[l],event:c,memo:u=0})=>(s(a),u+=l/2,Math.abs(u)>=1&&(e(f=>parseFloat(f)+Math.floor(u)*t*x4(c)),u=0),u));return q.createElement(lte,pr({dragging:i,title:n.length>1?n:""},o()),n.slice(0,r))});function z4({label:n,id:e,displayValue:t,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&q.createElement(Pte,{label:n,step:s.step,onUpdate:r,innerLabelTrim:o});return q.createElement(dte,{id:e,value:String(t),onUpdate:r,onChange:i,innerLabel:a})}function Ote(){const n=fi(),{label:e,value:t,onUpdate:r,settings:i,id:s}=n,{min:o,max:a}=i,l=a!==1/0&&o!==-1/0;return q.createElement(eo,{input:!0},q.createElement(Mo,null,e),q.createElement(Cte,{hasRange:l},l&&q.createElement(Rte,pr({value:parseFloat(t),onDrag:r},i)),q.createElement(z4,pr({},n,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:Lte}=w4,Ite=vn(w4,["sanitizeStep"]);var Bte=Pt({component:Ote},Ite);const Dte=(n,e)=>Ni().schema({options:Ni().passesAnyOf(Ni().object(),Ni().array())}).test(e),kte=(n,{values:e})=>{if(e.indexOf(n)<0)throw Error("Selected value doesn't match Select options");return n},Nte=(n,{values:e})=>e.indexOf(n),Fte=n=>{let{value:e,options:t}=n,r,i;return Array.isArray(t)?(i=t,r=t.map(s=>String(s))):(i=Object.values(t),r=Object.keys(t)),"value"in n?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(t).includes(e)||(t[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var Ute=Object.freeze({__proto__:null,schema:Dte,sanitize:kte,format:Nte,normalize:Fte});const zte=yt("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),JE=yt("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),Hte=yt("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${JE}:focus + &`]:{$focusStyle:""},[`${JE}:hover + &`]:{$hoverStyle:""}});function Gte({displayValue:n,value:e,onUpdate:t,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,l=O.useRef();return e===a[n]&&(l.current=o[n]),q.createElement(zte,null,q.createElement(JE,{id:r,value:n,onChange:c=>t(a[Number(c.currentTarget.value)]),disabled:s},o.map((c,u)=>q.createElement("option",{key:c,value:u},c))),q.createElement(Hte,null,l.current),q.createElement(ZC,{toggled:!0}))}function Vte(){const{label:n,value:e,displayValue:t,onUpdate:r,id:i,disabled:s,settings:o}=fi();return q.createElement(eo,{input:!0},q.createElement(Mo,null,n),q.createElement(Gte,{id:i,value:e,displayValue:t,onUpdate:r,settings:o,disabled:s}))}var $te=Pt({component:Vte},Ute);const Wte=n=>Ni().string().test(n),jte=n=>{if(typeof n!="string")throw Error("Invalid string");return n},Xte=({value:n,editable:e=!0,rows:t=!1})=>({value:n,settings:{editable:e,rows:typeof t=="number"?t:t?5:0}});var Kte=Object.freeze({__proto__:null,schema:Wte,sanitize:jte,normalize:Xte});const Yte=["displayValue","onUpdate","onChange","editable"],Jte=yt("div",{whiteSpace:"pre-wrap"});function qte(n){let{displayValue:e,onUpdate:t,onChange:r,editable:i=!0}=n,s=vn(n,Yte);return i?q.createElement(qC,pr({value:e,onUpdate:t,onChange:r},s)):q.createElement(Jte,null,e)}function Qte(){const{label:n,settings:e,displayValue:t,onUpdate:r,onChange:i}=fi();return q.createElement(eo,{input:!0},q.createElement(Mo,null,n),q.createElement(qte,pr({displayValue:t,onUpdate:r,onChange:i},e)))}var Zte=Pt({component:Qte},Kte);const ene=n=>Ni().boolean().test(n),tne=n=>{if(typeof n!="boolean")throw Error("Invalid boolean");return n};var nne=Object.freeze({__proto__:null,schema:ene,sanitize:tne});const rne=yt("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function ine({value:n,onUpdate:e,id:t,disabled:r}){return q.createElement(rne,null,q.createElement("input",{id:t,type:"checkbox",checked:n,onChange:i=>e(i.currentTarget.checked),disabled:r}),q.createElement("label",{htmlFor:t},q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function sne(){const{label:n,value:e,onUpdate:t,disabled:r,id:i}=fi();return q.createElement(eo,{input:!0},q.createElement(Mo,null,n),q.createElement(ine,{value:e,onUpdate:t,id:i,disabled:r}))}var one=Pt({component:sne},nne);const ane=["locked"];function lne({value:n,id:e,valueKey:t,settings:r,onUpdate:i,innerLabelTrim:s}){const o=O.useRef(n[t]);o.current=n[t];const a=O.useCallback(c=>i({[t]:y4({type:"NUMBER",value:o.current,settings:r},c)}),[i,r,t]),l=D4({type:"NUMBER",value:n[t],settings:r,setValue:a});return q.createElement(z4,{id:e,label:t,value:n[t],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:s})}const cne=yt("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function une(n){let{locked:e}=n,t=vn(n,ane);return q.createElement("svg",pr({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e?q.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):q.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function eR({value:n,onUpdate:e,settings:t,innerLabelTrim:r}){const{id:i,setSettings:s}=fi(),{lock:o,locked:a}=t;return q.createElement(cne,{withLock:o},o&&q.createElement(une,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(n).map((l,c)=>q.createElement(lne,{id:c===0?i:`${i}.${l}`,key:l,valueKey:l,value:n,settings:t[l],onUpdate:e,innerLabelTrim:r})))}const H4=(n,e)=>{const t={};let r=0,i=1/0;Object.entries(n).forEach(([s,o])=>{t[s]=b4(Pt({value:o},e[s])).settings,r=Math.max(r,t[s].step),i=Math.min(i,t[s].pad)});for(let s in t){const{step:o,min:a,max:l}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(t[s].step=r,t[s].pad=i)}return t},fne=["lock"],dne=["value"];function hne(n){const e=Ni().array().length(n).every.number(),t=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===n&&i.every(s=>isFinite(s))};return r=>e.test(r)||t(r)}function pne(n){return Array.isArray(n)?"array":"object"}function Yp(n,e,t){return pne(n)===e?n:e==="array"?Object.values(n):Xee(n,t)}const mne=(n,e,t)=>{const r=Yp(n,"object",e.keys);for(let o in r)r[o]=S4(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=Yp(t,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],l=r[a],c=o[a],u=c!==0?l/c:1;for(let f in o)f===a?s[a]=l:s[f]=o[f]*u}else s=Pt(Pt({},o),r)}return Yp(s,e.format,e.keys)},gne=(n,e)=>Yp(n,"object",e.keys),vne=n=>!!n&&("step"in n||"min"in n||"max"in n);function yne(n,e,t=[]){const{lock:r=!1}=e,i=vn(e,fne),s=Array.isArray(n)?"array":"object",o=s==="object"?Object.keys(n):t,a=Yp(n,"object",o),l=vne(i)?o.reduce((u,f)=>Object.assign(u,{[f]:i}),{}):i,c=H4(a,l);return{value:s==="array"?n:a,settings:Pt(Pt({},c),{},{format:s,keys:o,lock:r,locked:!1})}}function G4(n){return{schema:hne(n.length),normalize:e=>{let{value:t}=e,r=vn(e,dne);return yne(t,r,n)},format:(e,t)=>gne(e,t),sanitize:(e,t,r)=>mne(e,t,r)}}var _ne={grad:.9,turn:360,rad:360/(2*Math.PI)},wa=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},Rr=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},Ws=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},V4=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},CB=function(n){return{r:Ws(n.r,0,255),g:Ws(n.g,0,255),b:Ws(n.b,0,255),a:Ws(n.a)}},mA=function(n){return{r:Rr(n.r),g:Rr(n.g),b:Rr(n.b),a:Rr(n.a,3)}},xne=/^#([0-9a-f]{3,8})$/i,Wv=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},$4=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},W4=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),c=s%6;return{r:255*[r,a,o,o,l,r][c],g:255*[l,r,r,a,o,o][c],b:255*[o,o,l,r,r,a][c],a:i}},RB=function(n){return{h:V4(n.h),s:Ws(n.s,0,100),l:Ws(n.l,0,100),a:Ws(n.a)}},PB=function(n){return{h:Rr(n.h),s:Rr(n.s),l:Rr(n.l),a:Rr(n.a,3)}},OB=function(n){return W4((t=(e=n).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},Jp=function(n){return{h:(e=$4(n)).h,s:(i=(200-(t=e.s))*(r=e.v)/100)>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,r,i},Sne=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,bne=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ane=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,wne=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,qE={string:[[function(n){var e=xne.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?Rr(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?Rr(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=Ane.exec(n)||wne.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:CB({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=Sne.exec(n)||bne.exec(n);if(!e)return null;var t,r,i=RB({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(_ne[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return OB(i)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=i===void 0?1:i;return wa(e)&&wa(t)&&wa(r)?CB({r:Number(e),g:Number(t),b:Number(r),a:Number(s)}):null},"rgb"],[function(n){var e=n.h,t=n.s,r=n.l,i=n.a,s=i===void 0?1:i;if(!wa(e)||!wa(t)||!wa(r))return null;var o=RB({h:Number(e),s:Number(t),l:Number(r),a:Number(s)});return OB(o)},"hsl"],[function(n){var e=n.h,t=n.s,r=n.v,i=n.a,s=i===void 0?1:i;if(!wa(e)||!wa(t)||!wa(r))return null;var o=function(a){return{h:V4(a.h),s:Ws(a.s,0,100),v:Ws(a.v,0,100),a:Ws(a.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(s)});return W4(o)},"hsv"]]},LB=function(n,e){for(var t=0;t<e.length;t++){var r=e[t][0](n);if(r)return[r,e[t][1]]}return[null,void 0]},j4=function(n){return typeof n=="string"?LB(n.trim(),qE.string):typeof n=="object"&&n!==null?LB(n,qE.object):[null,void 0]},Ene=function(n){return j4(n)[1]},gA=function(n,e){var t=Jp(n);return{h:t.h,s:Ws(t.s+100*e,0,100),l:t.l,a:t.a}},vA=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},IB=function(n,e){var t=Jp(n);return{h:t.h,s:t.s,l:Ws(t.l+100*e,0,100),a:t.a}},QE=function(){function n(e){this.parsed=j4(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return Rr(vA(this.rgba),2)},n.prototype.isDark=function(){return vA(this.rgba)<.5},n.prototype.isLight=function(){return vA(this.rgba)>=.5},n.prototype.toHex=function(){return e=mA(this.rgba),t=e.r,r=e.g,i=e.b,o=(s=e.a)<1?Wv(Rr(255*s)):"","#"+Wv(t)+Wv(r)+Wv(i)+o;var e,t,r,i,s,o},n.prototype.toRgb=function(){return mA(this.rgba)},n.prototype.toRgbString=function(){return e=mA(this.rgba),t=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+t+", "+r+", "+i+", "+s+")":"rgb("+t+", "+r+", "+i+")";var e,t,r,i,s},n.prototype.toHsl=function(){return PB(Jp(this.rgba))},n.prototype.toHslString=function(){return e=PB(Jp(this.rgba)),t=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+t+", "+r+"%, "+i+"%, "+s+")":"hsl("+t+", "+r+"%, "+i+"%)";var e,t,r,i,s},n.prototype.toHsv=function(){return e=$4(this.rgba),{h:Rr(e.h),s:Rr(e.s),v:Rr(e.v),a:Rr(e.a,3)};var e},n.prototype.invert=function(){return _i({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),_i(gA(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),_i(gA(this.rgba,-e))},n.prototype.grayscale=function(){return _i(gA(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),_i(IB(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),_i(IB(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?_i({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Rr(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=Jp(this.rgba);return typeof e=="number"?_i({h:e,s:t.s,l:t.l,a:t.a}):Rr(t.h)},n.prototype.isEqual=function(e){return this.toHex()===_i(e).toHex()},n}(),_i=function(n){return n instanceof QE?n:new QE(n)},BB=[],Mne=function(n){n.forEach(function(e){BB.indexOf(e)<0&&(e(QE,qE),BB.push(e))})};function Tne(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in t)r[t[i]]=i;var s={};n.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,c=r[this.toHex()];if(c)return c;if(o!=null&&o.closest){var u=this.toRgb(),f=1/0,p="black";if(!s.length)for(var m in t)s[m]=new n(t[m]).toRgb();for(var g in t){var y=(a=u,l=s[g],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));y<f&&(f=y,p=g)}return p}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":t[a];return l?new n(l).toRgb():null},"name"])}function Th(){return(Th=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function tR(n,e){if(n==null)return{};var t,r,i={},s=Object.keys(n);for(r=0;r<s.length;r++)e.indexOf(t=s[r])>=0||(i[t]=n[t]);return i}function ZE(n){var e=O.useRef(n),t=O.useRef(function(r){e.current&&e.current(r)});return e.current=n,t.current}var qd=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},qp=function(n){return"touches"in n},eM=function(n){return n&&n.ownerDocument.defaultView||self},DB=function(n,e,t){var r=n.getBoundingClientRect(),i=qp(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,t):e;return{left:qd((i.pageX-(r.left+eM(n).pageXOffset))/r.width),top:qd((i.pageY-(r.top+eM(n).pageYOffset))/r.height)}},kB=function(n){!qp(n)&&n.preventDefault()},nR=q.memo(function(n){var e=n.onMove,t=n.onKey,r=tR(n,["onMove","onKey"]),i=O.useRef(null),s=ZE(e),o=ZE(t),a=O.useRef(null),l=O.useRef(!1),c=O.useMemo(function(){var m=function(_){kB(_),(qp(_)?_.touches.length>0:_.buttons>0)&&i.current?s(DB(i.current,_,a.current)):y(!1)},g=function(){return y(!1)};function y(_){var v=l.current,x=eM(i.current),S=_?x.addEventListener:x.removeEventListener;S(v?"touchmove":"mousemove",m),S(v?"touchend":"mouseup",g)}return[function(_){var v=_.nativeEvent,x=i.current;if(x&&(kB(v),!function(A,M){return M&&!qp(A)}(v,l.current)&&x)){if(qp(v)){l.current=!0;var S=v.changedTouches||[];S.length&&(a.current=S[0].identifier)}x.focus(),s(DB(x,v,a.current)),y(!0)}},function(_){var v=_.which||_.keyCode;v<37||v>40||(_.preventDefault(),o({left:v===39?.05:v===37?-.05:0,top:v===40?.05:v===38?-.05:0}))},y]},[o,s]),u=c[0],f=c[1],p=c[2];return O.useEffect(function(){return p},[p]),q.createElement("div",Th({},r,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:i,onKeyDown:f,tabIndex:0,role:"slider"}))}),Eg=function(n){return n.filter(Boolean).join(" ")},rR=function(n){var e=n.color,t=n.left,r=n.top,i=r===void 0?.5:r,s=Eg(["react-colorful__pointer",n.className]);return q.createElement("div",{className:s,style:{top:100*i+"%",left:100*t+"%"}},q.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},Ai=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},X4=function(n){var e=n.s,t=n.v,r=n.a,i=(200-e)*t/100;return{h:Ai(n.h),s:Ai(i>0&&i<200?e*t/100/(i<=100?i:200-i)*100:0),l:Ai(i/2),a:Ai(r,2)}},tM=function(n){var e=X4(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},yA=function(n){var e=X4(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},K4=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),c=s%6;return{r:Ai(255*[r,a,o,o,l,r][c]),g:Ai(255*[l,r,r,a,o,o][c]),b:Ai(255*[o,o,l,r,r,a][c]),a:Ai(i,2)}},Y4=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:Ai(60*(a<0?a+6:a)),s:Ai(s?o/s*100:0),v:Ai(s/255*100),a:i}},J4=q.memo(function(n){var e=n.hue,t=n.onChange,r=Eg(["react-colorful__hue",n.className]);return q.createElement("div",{className:r},q.createElement(nR,{onMove:function(i){t({h:360*i.left})},onKey:function(i){t({h:qd(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":Ai(e),"aria-valuemax":"360","aria-valuemin":"0"},q.createElement(rR,{className:"react-colorful__hue-pointer",left:e/360,color:tM({h:e,s:100,v:100,a:1})})))}),q4=q.memo(function(n){var e=n.hsva,t=n.onChange,r={backgroundColor:tM({h:e.h,s:100,v:100,a:1})};return q.createElement("div",{className:"react-colorful__saturation",style:r},q.createElement(nR,{onMove:function(i){t({s:100*i.left,v:100-100*i.top})},onKey:function(i){t({s:qd(e.s+100*i.left,0,100),v:qd(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Ai(e.s)+"%, Brightness "+Ai(e.v)+"%"},q.createElement(rR,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:tM(e)})))}),iR=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0};function Q4(n,e,t){var r=ZE(t),i=O.useState(function(){return n.toHsva(e)}),s=i[0],o=i[1],a=O.useRef({color:e,hsva:s});O.useEffect(function(){if(!n.equal(e,a.current.color)){var c=n.toHsva(e);a.current={hsva:c,color:e},o(c)}},[e,n]),O.useEffect(function(){var c;iR(s,a.current.hsva)||n.equal(c=n.fromHsva(s),a.current.color)||(a.current={hsva:s,color:c},r(c))},[s,n,r]);var l=O.useCallback(function(c){o(function(u){return Object.assign({},u,c)})},[]);return[s,l]}var Cne=typeof window<"u"?O.useLayoutEffect:O.useEffect,Rne=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},NB=new Map,Z4=function(n){Cne(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!NB.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,NB.set(e,t);var r=Rne();r&&t.setAttribute("nonce",r),e.head.appendChild(t)}},[])},Pne=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=tR(n,["className","colorModel","color","onChange"]),a=O.useRef(null);Z4(a);var l=Q4(t,i,s),c=l[0],u=l[1],f=Eg(["react-colorful",e]);return q.createElement("div",Th({},o,{ref:a,className:f}),q.createElement(q4,{hsva:c,onChange:u}),q.createElement(J4,{hue:c.h,onChange:u,className:"react-colorful__last-control"}))},One=function(n){var e=n.className,t=n.hsva,r=n.onChange,i={backgroundImage:"linear-gradient(90deg, "+yA(Object.assign({},t,{a:0}))+", "+yA(Object.assign({},t,{a:1}))+")"},s=Eg(["react-colorful__alpha",e]),o=Ai(100*t.a);return q.createElement("div",{className:s},q.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),q.createElement(nR,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:qd(t.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},q.createElement(rR,{className:"react-colorful__alpha-pointer",left:t.a,color:yA(t)})))},Lne=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=tR(n,["className","colorModel","color","onChange"]),a=O.useRef(null);Z4(a);var l=Q4(t,i,s),c=l[0],u=l[1],f=Eg(["react-colorful",e]);return q.createElement("div",Th({},o,{ref:a,className:f}),q.createElement(q4,{hsva:c,onChange:u}),q.createElement(J4,{hue:c.h,onChange:u}),q.createElement(One,{hsva:c,onChange:u,className:"react-colorful__last-control"}))},Ine={defaultColor:{r:0,g:0,b:0,a:1},toHsva:Y4,fromHsva:K4,equal:iR},Bne=function(n){return q.createElement(Lne,Th({},n,{colorModel:Ine}))},Dne={defaultColor:{r:0,g:0,b:0},toHsva:function(n){return Y4({r:n.r,g:n.g,b:n.b,a:1})},fromHsva:function(n){return{r:(e=K4(n)).r,g:e.g,b:e.b};var e},equal:iR},kne=function(n){return q.createElement(Pne,Th({},n,{colorModel:Dne}))},e5={exports:{}},Nne="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Fne=Nne,Une=Fne;function t5(){}function n5(){}n5.resetWarningCache=t5;var zne=function(){function n(r,i,s,o,a,l){if(l!==Une){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:n5,resetWarningCache:t5};return t.PropTypes=t,t};e5.exports=zne();var Hne=e5.exports;const hn=fc(Hne);function Ch(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function Rh(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Gne(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function Vne(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Gne(arguments[e]));return n}var $ne=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Mg(n,e){var t=Wne(n);if(typeof t.path!="string"){var r=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Wne(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var r=e.split(".").pop().toLowerCase(),i=$ne.get(r);i&&Object.defineProperty(n,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return n}var jne=[".DS_Store","Thumbs.db"];function Xne(n){return Ch(this,void 0,void 0,function(){return Rh(this,function(e){return E_(n)&&Kne(n)?[2,Qne(n.dataTransfer,n.type)]:Yne(n)?[2,Jne(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,qne(n)]:[2,[]]})})}function Kne(n){return E_(n.dataTransfer)}function Yne(n){return E_(n)&&E_(n.target)}function E_(n){return typeof n=="object"&&n!==null}function Jne(n){return nM(n.target.files).map(function(e){return Mg(e)})}function qne(n){return Ch(this,void 0,void 0,function(){var e;return Rh(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(r){return r.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(r){return Mg(r)})]}})})}function Qne(n,e){return Ch(this,void 0,void 0,function(){var t,r;return Rh(this,function(i){switch(i.label){case 0:return n===null?[2,[]]:n.items?(t=nM(n.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(Zne))]):[3,2];case 1:return r=i.sent(),[2,FB(r5(r))];case 2:return[2,FB(nM(n.files).map(function(s){return Mg(s)}))]}})})}function FB(n){return n.filter(function(e){return jne.indexOf(e.name)===-1})}function nM(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var r=n[t];e.push(r)}return e}function Zne(n){if(typeof n.webkitGetAsEntry!="function")return UB(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?i5(e):UB(n)}function r5(n){return n.reduce(function(e,t){return Vne(e,Array.isArray(t)?r5(t):[t])},[])}function UB(n){var e=n.getAsFile();if(!e)return Promise.reject(n+" is not a File");var t=Mg(e);return Promise.resolve(t)}function ere(n){return Ch(this,void 0,void 0,function(){return Rh(this,function(e){return[2,n.isDirectory?i5(n):tre(n)]})})}function i5(n){var e=n.createReader();return new Promise(function(t,r){var i=[];function s(){var o=this;e.readEntries(function(a){return Ch(o,void 0,void 0,function(){var l,c,u;return Rh(this,function(f){switch(f.label){case 0:if(a.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=f.sent(),t(l),[3,4];case 3:return c=f.sent(),r(c),[3,4];case 4:return[3,6];case 5:u=Promise.all(a.map(ere)),i.push(u),s(),f.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function tre(n){return Ch(this,void 0,void 0,function(){return Rh(this,function(e){return[2,new Promise(function(t,r){n.file(function(i){var s=Mg(i,n.fullPath);t(s)},function(i){r(i)})})]})})}var nre=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(","),r=n.name||"",i=(n.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return t.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function zB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function HB(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?zB(Object(t),!0).forEach(function(r){s5(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):zB(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function s5(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function GB(n,e){return ore(n)||sre(n,e)||ire(n,e)||rre()}function rre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ire(n,e){if(n){if(typeof n=="string")return VB(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return VB(n,e)}}function VB(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function sre(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function ore(n){if(Array.isArray(n))return n}var are="file-invalid-type",lre="file-too-large",cre="file-too-small",ure="too-many-files",fre=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:are,message:"File type must be ".concat(t)}},$B=function(e){return{code:lre,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},WB=function(e){return{code:cre,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},dre={code:ure,message:"Too many files"};function o5(n,e){var t=n.type==="application/x-moz-file"||nre(n,e);return[t,t?null:fre(e)]}function a5(n,e,t){if(Sp(n.size))if(Sp(e)&&Sp(t)){if(n.size>t)return[!1,$B(t)];if(n.size<e)return[!1,WB(e)]}else{if(Sp(e)&&n.size<e)return[!1,WB(e)];if(Sp(t)&&n.size>t)return[!1,$B(t)]}return[!0,null]}function Sp(n){return n!=null}function hre(n){var e=n.files,t=n.accept,r=n.minSize,i=n.maxSize,s=n.multiple,o=n.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=o5(a,t),c=GB(l,1),u=c[0],f=a5(a,r,i),p=GB(f,1),m=p[0];return u&&m})}function M_(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function jv(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function jB(n){n.preventDefault()}function pre(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function mre(n){return n.indexOf("Edge/")!==-1}function gre(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return pre(n)||mre(n)}function No(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!M_(r)&&a&&a.apply(void 0,[r].concat(s)),M_(r)})}}function vre(){return"showOpenFilePicker"in window}function yre(n){return n=typeof n=="string"?n.split(","):n,[{description:"everything",accept:Array.isArray(n)?n.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return HB(HB({},e),{},s5({},t,[]))},{}):{}}]}function _re(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function xre(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}var Sre=["children"],bre=["open"],Are=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],wre=["refKey","onChange","onClick"];function Ere(n){return Cre(n)||Tre(n)||l5(n)||Mre()}function Mre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tre(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function Cre(n){if(Array.isArray(n))return rM(n)}function _A(n,e){return Ore(n)||Pre(n,e)||l5(n,e)||Rre()}function Rre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l5(n,e){if(n){if(typeof n=="string")return rM(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return rM(n,e)}}function rM(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Pre(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function Ore(n){if(Array.isArray(n))return n}function XB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function In(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?XB(Object(t),!0).forEach(function(r){iM(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):XB(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function iM(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function T_(n,e){if(n==null)return{};var t=Lre(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function Lre(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var sR=O.forwardRef(function(n,e){var t=n.children,r=T_(n,Sre),i=u5(r),s=i.open,o=T_(i,bre);return O.useImperativeHandle(e,function(){return{open:s}},[s]),q.createElement(O.Fragment,null,t(In(In({},o),{},{open:s})))});sR.displayName="Dropzone";var c5={disabled:!1,getFilesFromEvent:Xne,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};sR.defaultProps=c5;sR.propTypes={children:hn.func,accept:hn.oneOfType([hn.string,hn.arrayOf(hn.string)]),multiple:hn.bool,preventDropOnDocument:hn.bool,noClick:hn.bool,noKeyboard:hn.bool,noDrag:hn.bool,noDragEventsBubbling:hn.bool,minSize:hn.number,maxSize:hn.number,maxFiles:hn.number,disabled:hn.bool,getFilesFromEvent:hn.func,onFileDialogCancel:hn.func,onFileDialogOpen:hn.func,useFsAccessApi:hn.bool,onDragEnter:hn.func,onDragLeave:hn.func,onDragOver:hn.func,onDrop:hn.func,onDropAccepted:hn.func,onDropRejected:hn.func,validator:hn.func};var sM={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function u5(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=In(In({},c5),n),t=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,f=e.onDragOver,p=e.onDrop,m=e.onDropAccepted,g=e.onDropRejected,y=e.onFileDialogCancel,_=e.onFileDialogOpen,v=e.useFsAccessApi,x=e.preventDropOnDocument,S=e.noClick,A=e.noKeyboard,M=e.noDrag,E=e.noDragEventsBubbling,R=e.validator,I=O.useMemo(function(){return typeof _=="function"?_:KB},[_]),T=O.useMemo(function(){return typeof y=="function"?y:KB},[y]),P=O.useRef(null),B=O.useRef(null),F=O.useReducer(Ire,sM),V=_A(F,2),k=V[0],z=V[1],W=k.isFocused,K=k.isFileDialogActive,N=k.draggedFiles,j=O.useRef(typeof window<"u"&&window.isSecureContext&&v&&vre()),J=function(){!j.current&&K&&setTimeout(function(){if(B.current){var ae=B.current.files;ae.length||(z({type:"closeDialog"}),T())}},300)};O.useEffect(function(){return window.addEventListener("focus",J,!1),function(){window.removeEventListener("focus",J,!1)}},[B,K,T,j]);var te=O.useRef([]),ee=function(ae){P.current&&P.current.contains(ae.target)||(ae.preventDefault(),te.current=[])};O.useEffect(function(){return x&&(document.addEventListener("dragover",jB,!1),document.addEventListener("drop",ee,!1)),function(){x&&(document.removeEventListener("dragover",jB),document.removeEventListener("drop",ee))}},[P,x]);var Y=O.useCallback(function(oe){oe.preventDefault(),oe.persist(),ye(oe),te.current=[].concat(Ere(te.current),[oe.target]),jv(oe)&&Promise.resolve(i(oe)).then(function(ae){M_(oe)&&!E||(z({draggedFiles:ae,isDragActive:!0,type:"setDraggedFiles"}),c&&c(oe))})},[i,c,E]),ne=O.useCallback(function(oe){oe.preventDefault(),oe.persist(),ye(oe);var ae=jv(oe);if(ae&&oe.dataTransfer)try{oe.dataTransfer.dropEffect="copy"}catch{}return ae&&f&&f(oe),!1},[f,E]),ce=O.useCallback(function(oe){oe.preventDefault(),oe.persist(),ye(oe);var ae=te.current.filter(function(Te){return P.current&&P.current.contains(Te)}),Ie=ae.indexOf(oe.target);Ie!==-1&&ae.splice(Ie,1),te.current=ae,!(ae.length>0)&&(z({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),jv(oe)&&u&&u(oe))},[P,u,E]),Me=O.useCallback(function(oe,ae){var Ie=[],Te=[];oe.forEach(function(Oe){var tt=o5(Oe,t),Le=_A(tt,2),we=Le[0],gt=Le[1],dt=a5(Oe,o,s),ht=_A(dt,2),at=ht[0],Ye=ht[1],Q=R?R(Oe):null;if(we&&at&&!Q)Ie.push(Oe);else{var be=[gt,Ye];Q&&(be=be.concat(Q)),Te.push({file:Oe,errors:be.filter(function(je){return je})})}}),(!a&&Ie.length>1||a&&l>=1&&Ie.length>l)&&(Ie.forEach(function(Oe){Te.push({file:Oe,errors:[dre]})}),Ie.splice(0)),z({acceptedFiles:Ie,fileRejections:Te,type:"setFiles"}),p&&p(Ie,Te,ae),Te.length>0&&g&&g(Te,ae),Ie.length>0&&m&&m(Ie,ae)},[z,a,t,o,s,l,p,m,g,R]),Re=O.useCallback(function(oe){oe.preventDefault(),oe.persist(),ye(oe),te.current=[],jv(oe)&&Promise.resolve(i(oe)).then(function(ae){M_(oe)&&!E||Me(ae,oe)}),z({type:"reset"})},[i,Me,E]),Ze=O.useCallback(function(){if(j.current){z({type:"openDialog"}),I();var oe={multiple:a,types:yre(t)};window.showOpenFilePicker(oe).then(function(ae){return i(ae)}).then(function(ae){Me(ae,null),z({type:"closeDialog"})}).catch(function(ae){_re(ae)?(T(ae),z({type:"closeDialog"})):xre(ae)&&(j.current=!1,B.current&&(B.current.value=null,B.current.click()))});return}B.current&&(z({type:"openDialog"}),I(),B.current.value=null,B.current.click())},[z,I,T,v,Me,t,a]),Je=O.useCallback(function(oe){!P.current||!P.current.isEqualNode(oe.target)||(oe.key===" "||oe.key==="Enter"||oe.keyCode===32||oe.keyCode===13)&&(oe.preventDefault(),Ze())},[P,Ze]),Fe=O.useCallback(function(){z({type:"focus"})},[]),Be=O.useCallback(function(){z({type:"blur"})},[]),X=O.useCallback(function(){S||(gre()?setTimeout(Ze,0):Ze())},[S,Ze]),Se=function(ae){return r?null:ae},ve=function(ae){return A?null:Se(ae)},de=function(ae){return M?null:Se(ae)},ye=function(ae){E&&ae.stopPropagation()},We=O.useMemo(function(){return function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ae=oe.refKey,Ie=ae===void 0?"ref":ae,Te=oe.role,Oe=oe.onKeyDown,tt=oe.onFocus,Le=oe.onBlur,we=oe.onClick,gt=oe.onDragEnter,dt=oe.onDragOver,ht=oe.onDragLeave,at=oe.onDrop,Ye=T_(oe,Are);return In(In(iM({onKeyDown:ve(No(Oe,Je)),onFocus:ve(No(tt,Fe)),onBlur:ve(No(Le,Be)),onClick:Se(No(we,X)),onDragEnter:de(No(gt,Y)),onDragOver:de(No(dt,ne)),onDragLeave:de(No(ht,ce)),onDrop:de(No(at,Re)),role:typeof Te=="string"&&Te!==""?Te:"button"},Ie,P),!r&&!A?{tabIndex:0}:{}),Ye)}},[P,Je,Fe,Be,X,Y,ne,ce,Re,A,M,r]),ze=O.useCallback(function(oe){oe.stopPropagation()},[]),U=O.useMemo(function(){return function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ae=oe.refKey,Ie=ae===void 0?"ref":ae,Te=oe.onChange,Oe=oe.onClick,tt=T_(oe,wre),Le=iM({accept:t,multiple:a,type:"file",style:{display:"none"},onChange:Se(No(Te,Re)),onClick:Se(No(Oe,ze)),tabIndex:-1},Ie,B);return In(In({},Le),tt)}},[B,t,a,Re,r]),D=N.length,ie=D>0&&hre({files:N,accept:t,minSize:o,maxSize:s,multiple:a,maxFiles:l}),Ae=D>0&&!ie;return In(In({},k),{},{isDragAccept:ie,isDragReject:Ae,isFocused:W&&!r,getRootProps:We,getInputProps:U,rootRef:P,inputRef:B,open:Se(Ze)})}function Ire(n,e){switch(e.type){case"focus":return In(In({},n),{},{isFocused:!0});case"blur":return In(In({},n),{},{isFocused:!1});case"openDialog":return In(In({},sM),{},{isFileDialogActive:!0});case"closeDialog":return In(In({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,r=e.draggedFiles;return In(In({},n),{},{draggedFiles:r,isDragActive:t});case"setFiles":return In(In({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return In({},sM);default:return n}}function KB(){}function Bre(n){let e;const t=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const p=e;e=u?f:Object.assign({},e,f),t.forEach(m=>m(e,p))}},i=()=>e,s=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function m(){const g=u(e);if(!f(p,g)){const y=p;c(p=g,y)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(c,u,f)=>u||f?s(c,u,f):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const Dre=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),YB=Dre?O.useEffect:O.useLayoutEffect;function kre(n){const e=typeof n=="function"?Bre(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=O.useReducer(_=>_+1,0),o=e.getState(),a=O.useRef(o),l=O.useRef(r),c=O.useRef(i),u=O.useRef(!1),f=O.useRef();f.current===void 0&&(f.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(p=r(o),m=!i(f.current,p)),YB(()=>{m&&(f.current=p),a.current=o,l.current=r,c.current=i,u.current=!1});const g=O.useRef(o);YB(()=>{const _=()=>{try{const x=e.getState(),S=l.current(x);c.current(f.current,S)||(a.current=x,f.current=S,s())}catch{u.current=!0,s()}},v=e.subscribe(_);return e.getState()!==g.current&&_(),v},[]);const y=m?p:f.current;return O.useDebugValue(y),y};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}const Nre=n=>(e,t,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let c=o;if(a){const u=(l==null?void 0:l.equalityFn)||Object.is;let f=o(r.getState());c=p=>{const m=o(p);if(!u(f,m)){const g=f;a(f=m,g)}},l!=null&&l.fireImmediately&&a(f,f)}return i(c)},n(e,t,r)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Fre=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Ure=Fre;function JB(n){return Ure(n)===!0&&Object.prototype.toString.call(n)==="[object Object]"}var f5=function(e){var t,r;return!(JB(e)===!1||(t=e.constructor,typeof t!="function")||(r=t.prototype,JB(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var zre=f5,oR=function(e){return zre(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Hre=function(e,t,r){for(var i in e)if(t.call(r,e[i],i,e)===!1)break},Gre=oR,Vre=Hre;function d5(n,e){for(var t=arguments.length,r=0;++r<t;){var i=arguments[r];oM(i)&&Vre(i,$re,n)}return n}function $re(n,e){if(Wre(e)){var t=this[e];oM(n)&&oM(t)?d5(t,n):this[e]=n}}function oM(n){return Gre(n)&&!Array.isArray(n)}function Wre(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var jre=d5;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Xre=function(n,e,t,r,i){if(!Kre(n)||!e)return n;if(e=Xv(e),t&&(e+="."+Xv(t)),r&&(e+="."+Xv(r)),i&&(e+="."+Xv(i)),e in n)return n[e];for(var s=e.split("."),o=s.length,a=-1;n&&++a<o;){for(var l=s[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+s[++a];n=n[l]}return n};function Kre(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function Xv(n){return n?Array.isArray(n)?n.join("."):n:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Yre=function(n,e){if(n===null||typeof n>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return n;for(var t=Object.prototype.propertyIsEnumerable,r=Object(n),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var c=a[l];t.call(o,c)&&(r[c]=o[c])}return r},Jre=oR,qre=Yre,Qre=Object.assign||function(n){if(n===null||typeof n>"u")throw new TypeError("Cannot convert undefined or null to object");qB(n)||(n={});for(var e=1;e<arguments.length;e++){var t=arguments[e];eie(t)&&(t=tie(t)),qB(t)&&(Zre(n,t),qre(n,t))}return n};function Zre(n,e){for(var t in e)nie(e,t)&&(n[t]=e[t])}function eie(n){return n&&typeof n=="string"}function tie(n){var e={};for(var t in n)e[t]=n[t];return e}function qB(n){return n&&typeof n=="object"||Jre(n)}function nie(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var rie=Qre,iie=function(n,e,t){if(typeof n!="string")throw new TypeError("expected a string");typeof e=="function"&&(t=e,e=null),typeof e=="string"&&(e={sep:e});var r=rie({sep:"."},e),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],l=[""],c=r.sep,u=n.length,f=-1,p;function m(){if(s&&a.length)return s[a[a.length-1]]}for(;++f<u;){var g=n[f],y=n[f+1],_={val:g,idx:f,arr:l,str:n};if(o.push(_),g==="\\"){_.val=oie(r,n,f)===!0?g+y:y,_.escaped=!0,typeof t=="function"&&t(_),l[l.length-1]+=_.val,f++;continue}if(s&&s[g]){a.push(g);var v=m(),x=f+1;if(n.indexOf(v,x+1)!==-1)for(;a.length&&x<u;){var S=n[++x];if(S==="\\"){S++;continue}if(i.indexOf(S)!==-1){x=aM(n,S,x+1);continue}if(v=m(),a.length&&n.indexOf(v,x+1)===-1)break;if(s[S]){a.push(S);continue}v===S&&a.pop()}if(p=x,p===-1){l[l.length-1]+=g;continue}g=n.slice(f,p+1),_.val=g,_.idx=f=p}if(i.indexOf(g)!==-1){if(p=aM(n,g,f+1),p===-1){l[l.length-1]+=g;continue}sie(g,r)===!0?g=n.slice(f,p+1):g=n.slice(f+1,p),_.val=g,_.idx=f=p}if(typeof t=="function"&&(t(_,o),g=_.val,f=_.idx),_.val===c&&_.split!==!1){l.push("");continue}l[l.length-1]+=_.val}return l};function aM(n,e,t,r){var i=n.indexOf(e,t);return n.charAt(i-1)==="\\"?aM(n,e,i+1):i}function sie(n,e){return e.keepDoubleQuotes===!0&&n==='"'||e.keepSingleQuotes===!0&&n==="'"?!0:e.keepQuotes}function oie(n,e,t){return typeof n.keepEscaping=="function"?n.keepEscaping(e,t):n.keepEscaping===!0||e[t+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var aie=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},QB=aie,lie=function(e){QB(e)||(e={});for(var t=arguments.length,r=1;r<t;r++){var i=arguments[r];QB(i)&&cie(e,i)}return e};function cie(n,e){for(var t in e)uie(e,t)&&(n[t]=e[t])}function uie(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var fie=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var die=iie,hie=lie,ZB=f5,eD=fie,pie=function(n,e,t){if(!eD(n)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return n;for(var r=die(e,{sep:".",brackets:!0}).filter(mie),i=r.length,s=-1,o=n;++s<i;){var a=r[s];if(s!==i-1){eD(o[a])||(o[a]={}),o=o[a];continue}ZB(o[a])&&ZB(t)?o[a]=hie({},o[a],t):o[a]=t}return n};function mie(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var xA=oR,tD=jre,gie=Xre,nD=pie,vie=function(e,t,r){if(!xA(e))throw new TypeError("expected an object");if(typeof t!="string"||r==null)return tD.apply(null,arguments);if(typeof r=="string")return nD(e,t,r),e;var i=gie(e,t);return xA(r)&&xA(i)&&(r=tD({},i,r)),nD(e,t,r),e};const yie=fc(vie),aR=(...n)=>n.filter(Boolean).join(".");function _ie(n){const e=n.split(".");return[e.pop(),e.join(".")||void 0]}function xie(n){const e=O.useRef(null),t=O.useRef(null),r=O.useRef(!0);return O.useLayoutEffect(()=>{n||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),O.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{n&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),t.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=t.current.getBoundingClientRect();return s.style.height=a+"px",n||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[n]),{wrapperRef:e,contentRef:t}}const Sie=n=>{const[e,t]=O.useState(n.getVisiblePaths());return O.useEffect(()=>{t(n.getVisiblePaths());const r=n.useStore.subscribe(n.getVisiblePaths,t,{equalityFn:Bz});return()=>r()},[n]),e};function h5(n=3){const e=O.useRef(null),t=O.useRef(null),[r,i]=O.useState(!1),s=O.useCallback(()=>i(!0),[]),o=O.useCallback(()=>i(!1),[]);return O.useLayoutEffect(()=>{if(r){const{bottom:a,top:l,left:c}=e.current.getBoundingClientRect(),{height:u}=t.current.getBoundingClientRect(),f=a+u>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=c+"px",f==="down"?t.current.style.top=a+n+"px":t.current.style.bottom=window.innerHeight-l+n+"px"}},[n,r]),{popinRef:e,wrapperRef:t,shown:r,show:s,hide:o}}Mne([Tne]);const bie={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};Ni.extend({color:()=>n=>_i(n).isValid()});const Aie=n=>Ni().color().test(n);function p5(n,{format:e,hasAlpha:t,isString:r}){const i=bie[e]+(r&&e!=="hex"?"String":""),s=n[i]();return typeof s=="object"&&!t?jee(s,["a"]):s}const m5=(n,e)=>{const t=_i(n);if(!t.isValid())throw Error("Invalid color");return p5(t,e)},wie=(n,e)=>p5(_i(n),Pt(Pt({},e),{},{isString:!0,format:"hex"})),Eie=({value:n})=>{const e=Ene(n),t=e==="name"?"hex":e,r=typeof n=="object"?"a"in n:e==="hex"&&n.length===8||/^(rgba)|(hsla)|(hsva)/.test(n),i={format:t,hasAlpha:r,isString:typeof n=="string"};return{value:m5(n,i),settings:i}};var Mie=Object.freeze({__proto__:null,schema:Aie,sanitize:m5,format:wie,normalize:Eie});const Tie=yt("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),Cie=yt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),Rie=yt("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function rD(n,e){return e!=="rgb"?_i(n).toRgb():n}function Pie({value:n,displayValue:e,settings:t,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=fi(),{format:o,hasAlpha:a}=t,{popinRef:l,wrapperRef:c,shown:u,show:f,hide:p}=h5(),m=O.useRef(0),[g,y]=O.useState(()=>rD(n,o)),_=a?Bne:kne,v=()=>{y(rD(n,o)),f(),i()},x=()=>{p(),s(),window.clearTimeout(m.current)},S=()=>{m.current=window.setTimeout(x,500)};return O.useEffect(()=>()=>window.clearTimeout(m.current),[]),q.createElement(q.Fragment,null,q.createElement(Tie,{ref:l,active:u,onClick:()=>v(),style:{color:e}}),u&&q.createElement(QC,null,q.createElement(B4,{onPointerUp:x}),q.createElement(Rie,{ref:c,onMouseEnter:()=>window.clearTimeout(m.current),onMouseLeave:A=>A.buttons===0&&S()},q.createElement(_,{color:g,onChange:r}))))}function Oie(){const{value:n,displayValue:e,label:t,onChange:r,onUpdate:i,settings:s}=fi();return q.createElement(eo,{input:!0},q.createElement(Mo,null,t),q.createElement(Cie,null,q.createElement(Pie,{value:n,displayValue:e,onChange:r,onUpdate:i,settings:s}),q.createElement(qC,{value:e,onChange:r,onUpdate:i})))}var Lie=Pt({component:Oie},Mie);function Iie(){const{label:n,displayValue:e,onUpdate:t,settings:r}=fi();return q.createElement(eo,{input:!0},q.createElement(Mo,null,n),q.createElement(eR,{value:e,settings:r,onUpdate:t}))}var Bie=Pt({component:Iie},G4(["x","y","z"]));const Die=yt("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),kie=yt("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function Nie({value:n,settings:e,onUpdate:t}){const r=O.useRef(),i=O.useRef(0),s=O.useRef(0),o=O.useRef(1),[a,l]=O.useState(!1),[c,u]=O.useState(!1),[f,p]=k4(),m=O.useRef(null),g=O.useRef(null);O.useLayoutEffect(()=>{if(a){const{top:F,left:V,width:k,height:z}=m.current.getBoundingClientRect();g.current.style.left=V+k/2+"px",g.current.style.top=F+z/2+"px"}},[a]);const{keys:[y,_],joystick:v}=e,x=v==="invertY"?1:-1,{[y]:{step:S},[_]:{step:A}}=e,M=Ha("sizes","joystickWidth"),E=Ha("sizes","joystickHeight"),R=parseFloat(M)*.8/2,I=parseFloat(E)*.8/2,T=O.useCallback(()=>{r.current||(u(!0),i.current&&p({x:i.current*R}),s.current&&p({y:s.current*-I}),r.current=window.setInterval(()=>{t(F=>{const V=S*i.current*o.current,k=x*A*s.current*o.current;return Array.isArray(F)?{[y]:F[0]+V,[_]:F[1]+k}:{[y]:F[y]+V,[_]:F[_]+k}})},16))},[R,I,t,p,S,A,y,_,x]),P=O.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,u(!1)},[]);O.useEffect(()=>{function F(V){o.current=x4(V)}return window.addEventListener("keydown",F),window.addEventListener("keyup",F),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",F),window.removeEventListener("keyup",F)}},[]);const B=wg(({first:F,active:V,delta:[k,z],movement:[W,K]})=>{F&&l(!0);const N=ac(W,-R,R),j=ac(K,-I,I);i.current=Math.abs(W)>Math.abs(N)?Math.sign(W-N):0,s.current=Math.abs(K)>Math.abs(j)?Math.sign(j-K):0;let J=n[y],te=n[_];V?(i.current||(J+=k*S*o.current,p({x:N})),s.current||(te-=x*z*A*o.current,p({y:j})),i.current||s.current?T():P(),t({[y]:J,[_]:te})):(l(!1),i.current=0,s.current=0,p({x:0,y:0}),P())});return q.createElement(Die,pr({ref:m},B()),a&&q.createElement(QC,null,q.createElement(kie,{ref:g,isOutOfBounds:c},q.createElement("div",null),q.createElement("span",{ref:f}))))}const Fie=yt("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Uie(){const{label:n,displayValue:e,onUpdate:t,settings:r}=fi();return q.createElement(eo,{input:!0},q.createElement(Mo,null,n),q.createElement(Fie,{withJoystick:!!r.joystick},r.joystick&&q.createElement(Nie,{value:e,settings:r,onUpdate:t}),q.createElement(eR,{value:e,settings:r,onUpdate:t})))}const zie=["joystick"],g5=G4(["x","y"]),Hie=n=>{let{joystick:e=!0}=n,t=vn(n,zie);const{value:r,settings:i}=g5.normalize(t);return{value:r,settings:Pt(Pt({},i),{},{joystick:e})}};var Gie=Pt(Pt({component:Uie},g5),{},{normalize:Hie});const Vie=n=>{if(n!==void 0){if(n instanceof File)try{return URL.createObjectURL(n)}catch{return}if(typeof n=="string"&&n.indexOf("blob:")===0)return n;throw Error("Invalid image format [undefined | blob | File].")}},$ie=(n,e)=>typeof e=="object"&&"image"in e,Wie=({image:n})=>({value:n});var jie=Object.freeze({__proto__:null,sanitize:Vie,schema:$ie,normalize:Wie});const Xie=yt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),Kie=yt("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),Yie=yt("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),Jie=yt("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),qie=yt("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Qie=yt("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function Zie(){const{label:n,value:e,onUpdate:t,disabled:r}=fi(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:l}=h5(),c=O.useCallback(g=>{g.length&&t(g[0])},[t]),u=O.useCallback(g=>{g.stopPropagation(),t(void 0)},[t]),{getRootProps:f,getInputProps:p,isDragAccept:m}=u5({maxFiles:1,accept:"image/*",onDrop:c,disabled:r});return q.createElement(eo,{input:!0},q.createElement(Mo,null,n),q.createElement(Xie,null,q.createElement(Yie,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&q.createElement(QC,null,q.createElement(B4,{onPointerUp:l,style:{cursor:"pointer"}}),q.createElement(Jie,{ref:s,style:{backgroundImage:`url(${e})`}})),q.createElement(Kie,f({isDragAccept:m}),q.createElement("input",p()),q.createElement(qie,null,m?"drop image":"click or drop")),q.createElement(Qie,{onClick:u,disabled:!e})))}var ese=Pt({component:Zie},jie);const iD=Ni().number(),tse=(n,e)=>Ni().array().length(2).every.number().test(n)&&Ni().schema({min:iD,max:iD}).test(e),C_=n=>({min:n[0],max:n[1]}),v5=(n,{bounds:[e,t]},r)=>{const i=Array.isArray(n)?C_(n):n,s={min:r[0],max:r[1]},{min:o,max:a}=Pt(Pt({},s),i);return[ac(Number(o),e,Math.max(e,a)),ac(Number(a),Math.min(t,o),t)]},nse=({value:n,min:e,max:t})=>{const r={min:e,max:t},i=H4(C_(n),{min:r,max:r}),s=[e,t],o=Pt(Pt({},i),{},{bounds:s});return{value:v5(C_(n),o,n),settings:o}};var rse=Object.freeze({__proto__:null,schema:tse,format:C_,sanitize:v5,normalize:nse});const ise=["value","bounds","onDrag"],sse=["bounds"],ose=yt("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function ase(n){let{value:e,bounds:[t,r],onDrag:i}=n,s=vn(n,ise);const o=O.useRef(null),a=O.useRef(null),l=O.useRef(null),c=O.useRef(0),u=Ha("sizes","scrubberWidth"),f=wg(({event:g,first:y,xy:[_],movement:[v],memo:x={}})=>{if(y){const{width:A,left:M}=o.current.getBoundingClientRect();c.current=A-parseFloat(u);const E=(g==null?void 0:g.target)===a.current||(g==null?void 0:g.target)===l.current;x.pos=A_((_-M)/A,t,r);const R=Math.abs(x.pos-e.min)-Math.abs(x.pos-e.max);x.key=R<0||R===0&&x.pos<=e.min?"min":"max",E&&(x.pos=e[x.key])}const S=x.pos+A_(v/c.current,0,r-t);return i({[x.key]:Lte(S,s[x.key])}),x}),p=`calc(${b_(e.min,t,r)} * (100% - ${u} - 8px) + 4px)`,m=`calc(${1-b_(e.max,t,r)} * (100% - ${u} - 8px) + 4px)`;return q.createElement(F4,pr({ref:o},f()),q.createElement(N4,null,q.createElement(U4,{style:{left:p,right:m}})),q.createElement(YE,{position:"left",ref:a,style:{left:p}}),q.createElement(YE,{position:"right",ref:l,style:{right:m}}))}function lse(){const{label:n,displayValue:e,onUpdate:t,settings:r}=fi(),i=vn(r,sse);return q.createElement(q.Fragment,null,q.createElement(eo,{input:!0},q.createElement(Mo,null,n),q.createElement(ose,null,q.createElement(ase,pr({value:e},r,{onDrag:t})),q.createElement(eR,{value:e,settings:i,onUpdate:t,innerLabelTrim:0}))))}var cse=Pt({component:lse},rse);const use=()=>{const n=new Map;return{on:(e,t)=>{let r=n.get(e);r===void 0&&(r=new Set,n.set(e,r)),r.add(t)},off:(e,t)=>{const r=n.get(e);r!==void 0&&(r.delete(t),r.size===0&&n.delete(e))},emit:(e,...t)=>{const r=n.get(e);if(r!==void 0)for(const i of r)i(...t)}}},fse=["type","value"],dse=["onChange","transient","onEditStart","onEditEnd"],hse=function(){const e=kre(Nre(()=>({data:{}}))),t=use();this.storeId=Wee(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),l=[];Object.entries(r).forEach(([u,f])=>{f.render&&a.some(p=>p.indexOf(u)===0)&&!f.render(this.get)&&l.push(u+".")});const c=[];return i.forEach(u=>{u in o&&o[u].__refCount>0&&l.every(f=>u.indexOf(f)===-1)&&(!o[u].render||o[u].render(this.get))&&c.push(u)}),c},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const l=a.data;return o.forEach(c=>{if(c in l){const u=l[c];u.__refCount--,u.__refCount===0&&u.type in Qo&&delete l[c]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([u,f])=>{let p=c[u];if(p){const{type:m,value:g}=f,y=vn(f,fse);m!==p.type?Ia(Bn.INPUT_TYPE_OVERRIDE,m):((p.__refCount===0||a)&&Object.assign(p,y),p.__refCount++)}else c[u]=Pt(Pt({},f),{},{__refCount:1})}),{data:c}})},this.setValueAtPath=(o,a,l)=>{e.setState(c=>{const u=c.data;return TB(u[o],a,o,this,l),{data:u}})},this.setSettingsAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].settings=Pt(Pt({},c[o].settings),a),{data:c}})},this.disableInputAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].disabled=a,{data:c}})},this.set=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([u,f])=>{try{TB(c[u],f,void 0,void 0,a)}catch{}}),{data:c}})},this.getInput=o=>{try{return this.getData()[o]}catch{Ia(Bn.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{t.emit(`onEditStart:${o}`,this.get(o),o,Pt(Pt({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{t.emit(`onEditEnd:${o}`,this.get(o),o,Pt(Pt({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const l=`onEditStart:${o}`;return t.on(l,a),()=>t.off(l,a)},this.subscribeToEditEnd=(o,a)=>{const l=`onEditEnd:${o}`;return t.on(l,a),()=>t.off(l,a)};const s=(o,a,l)=>{const c={};return Object.entries(o).forEach(([u,f])=>{if(u==="")return Ia(Bn.EMPTY_KEY);let p=aR(a,u);if(f.type===Qo.FOLDER){const m=s(f.schema,p,l);Object.assign(c,m),p in r||(r[p]=f.settings)}else if(u in l)Ia(Bn.DUPLICATE_KEYS,u,p,l[u].path);else{const m=Qee(f,u,p,c);if(m){const{type:g,options:y,input:_}=m,{onChange:v,transient:x,onEditStart:S,onEditEnd:A}=y,M=vn(y,dse);c[p]=Pt(Pt(Pt({type:g},M),_),{},{fromPanel:!0}),l[u]={path:p,onChange:v,transient:x,onEditStart:S,onEditEnd:A}}else Ia(Bn.UNKNOWN_INPUT,p,f)}}),c};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}};new hse;const sD=n=>"__levaInput"in n,pse=(n,e)=>{const t={},r=e?e.toLowerCase():null;return n.forEach(i=>{const[s,o]=_ie(i);(!r||s.toLowerCase().indexOf(r)>-1)&&yie(t,o,{[s]:{__levaInput:!0,path:i}})}),t},mse=["type","label","path","valueKey","value","settings","setValue","disabled"];function gse(n){let{type:e,label:t,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:l}=n,c=vn(n,mse);const{displayValue:u,onChange:f,onUpdate:p}=D4({type:e,value:s,settings:o,setValue:a}),m=Ou[e].component;return m?q.createElement(E4.Provider,{value:Pt({key:i,path:r,id:""+r,label:t,displayValue:u,value:s,onChange:f,onUpdate:p,settings:o,setValue:a,disabled:l},c)},q.createElement(gte,{disabled:l},q.createElement(m,null))):(Ia(Bn.NO_COMPONENT_FOR_TYPE,e,r),null)}const vse=yt("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function yse({onClick:n,settings:e,label:t}){const r=Ag();return q.createElement(eo,null,q.createElement(vse,{disabled:e.disabled,onClick:()=>n(r.get)},t))}const _se=yt("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),xse=yt("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),Sse=({label:n,opts:e})=>{let t=typeof n=="string"&&n.trim()===""?null:n,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(t=e.label),r=e.opts),{label:t,opts:r}};function bse(n){const{label:e,opts:t}=Sse(n),r=Ag();return q.createElement(eo,{input:!!e},e&&q.createElement(Mo,null,e),q.createElement(_se,null,Object.entries(t).map(([i,s])=>q.createElement(xse,{key:i,onClick:()=>s(r.get)},i))))}const Ase=yt("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),y5=100;function wse(n,e){n.push(e),n.length>y5&&n.shift()}const Ese=O.forwardRef(function({initialValue:n},e){const t=Ha("colors","highlight3"),r=Ha("colors","elevation2"),i=Ha("colors","highlight1"),[s,o]=O.useMemo(()=>[_i(i).alpha(.4).toRgbString(),_i(i).alpha(.1).toRgbString()],[i]),a=O.useRef([n]),l=O.useRef(n),c=O.useRef(n),u=O.useRef(),f=O.useCallback((g,y)=>{if(!g)return;const{width:_,height:v}=g,x=new Path2D,S=_/y5,A=v*.05;for(let R=0;R<a.current.length;R++){const I=b_(a.current[R],l.current,c.current),T=S*R,P=v-I*(v-A*2)-A;x.lineTo(T,P)}y.clearRect(0,0,_,v);const M=new Path2D(x);M.lineTo(S*(a.current.length+1),v),M.lineTo(0,v),M.lineTo(0,0);const E=y.createLinearGradient(0,0,0,v);E.addColorStop(0,s),E.addColorStop(1,o),y.fillStyle=E,y.fill(M),y.strokeStyle=r,y.lineJoin="round",y.lineWidth=14,y.stroke(x),y.strokeStyle=t,y.lineWidth=2,y.stroke(x)},[t,r,s,o]),[p,m]=Ete(f);return O.useImperativeHandle(e,()=>({frame:g=>{(l.current===void 0||g<l.current)&&(l.current=g),(c.current===void 0||g>c.current)&&(c.current=g),wse(a.current,g),u.current=requestAnimationFrame(()=>f(p.current,m.current))}}),[p,m,f]),O.useEffect(()=>()=>cancelAnimationFrame(u.current),[]),q.createElement(Ase,{ref:p})}),oD=n=>Number.isFinite(n)?n.toPrecision(2):n.toString(),Mse=O.forwardRef(function({initialValue:n},e){const[t,r]=O.useState(oD(n));return O.useImperativeHandle(e,()=>({frame:i=>r(oD(i))}),[]),q.createElement("div",null,t)});function aD(n){return typeof n=="function"?n():n.current}function Tse({label:n,objectOrFn:e,settings:t}){const r=O.useRef(),i=O.useRef(aD(e));return O.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(aD(e))},t.interval);return()=>window.clearInterval(s)},[e,t.interval]),q.createElement(eo,{input:!0},q.createElement(Mo,{align:"top"},n),t.graph?q.createElement(Ese,{ref:r,initialValue:i.current}):q.createElement(Mse,{ref:r,initialValue:i.current}))}const Cse=["type","label","key"],Rse={[Qo.BUTTON]:yse,[Qo.BUTTON_GROUP]:bse,[Qo.MONITOR]:Tse},Pse=q.memo(({path:n})=>{const[e,{set:t,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=Tte(n);if(!e)return null;const{type:l,label:c,key:u}=e,f=vn(e,Cse);if(l in Qo){const p=Rse[l];return q.createElement(p,pr({label:c,path:n},f))}return l in Ou?q.createElement(gse,pr({key:s+n,type:l,label:c,storeId:s,path:n,valueKey:u,setValue:t,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a},f)):(Nee(Bn.UNSUPPORTED_INPUT,l,n),null)});function Ose({toggle:n,toggled:e,name:t}){return q.createElement(hte,{onClick:()=>n()},q.createElement(ZC,{toggled:e}),q.createElement("div",null,t))}const Lse=({name:n,path:e,tree:t})=>{const r=Ag(),i=aR(e,n),{collapsed:s,color:o}=r.getFolderSettings(i),[a,l]=O.useState(!s),c=O.useRef(null),u=Ha("colors","folderWidgetColor"),f=Ha("colors","folderTextColor");return O.useLayoutEffect(()=>{c.current.style.setProperty("--leva-colors-folderWidgetColor",o||u),c.current.style.setProperty("--leva-colors-folderTextColor",o||f)},[o,u,f]),q.createElement(w_,{ref:c},q.createElement(Ose,{name:n,toggled:a,toggle:()=>l(p=>!p)}),q.createElement(_5,{parent:i,tree:t,toggled:a}))},_5=q.memo(({isRoot:n=!1,fill:e=!1,flat:t=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=xie(s),l=Ag(),c=([f,p])=>{var m;return(sD(p)?(m=l.getInput(p.path))===null||m===void 0?void 0:m.order:l.getFolderSettings(aR(r,f)).order)||0},u=Object.entries(i).sort((f,p)=>c(f)-c(p));return q.createElement(XE,{ref:o,isRoot:n,fill:e,flat:t},q.createElement(O4,{ref:a,isRoot:n,toggled:s},u.map(([f,p])=>sD(p)?q.createElement(Pse,{key:p.path,valueKey:p.valueKey,path:p.path}):q.createElement(Lse,{key:f,name:f,path:r,tree:p}))))}),Ise=yt("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${I4}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),x5=40,R_=yt("i",{$flexCenter:"",width:x5,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),Bse=yt("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),Dse=yt("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${R_}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),kse=yt("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),Nse=yt("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:x5}}}}),Fse=q.forwardRef(({setFilter:n,toggle:e},t)=>{const[r,i]=O.useState(""),s=O.useMemo(()=>_4(n,250),[n]),o=()=>{n(""),i("")},a=l=>{const c=l.currentTarget.value;e(!0),i(c)};return O.useEffect(()=>{s(r)},[r,s]),q.createElement(q.Fragment,null,q.createElement(kse,{ref:t,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),q.createElement(R_,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"}},q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function Use({setFilter:n,onDrag:e,onDragStart:t,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:l,from:c}){const[u,f]=O.useState(!1),p=O.useRef(null);O.useEffect(()=>{var g,y;u?(g=p.current)===null||g===void 0||g.focus():(y=p.current)===null||y===void 0||y.blur()},[u]);const m=wg(({offset:[g,y],first:_,last:v})=>{e({x:g,y}),_&&t({x:g,y}),v&&r({x:g,y})},{filterTaps:!0,from:({offset:[g,y]})=>[(c==null?void 0:c.x)||g,(c==null?void 0:c.y)||y]});return O.useEffect(()=>{const g=y=>{y.key==="L"&&y.shiftKey&&y.metaKey&&f(_=>!_)};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[]),q.createElement(q.Fragment,null,q.createElement(Bse,{mode:a?"drag":void 0},q.createElement(R_,{active:!s,onClick:()=>i()},q.createElement(ZC,{toggled:s,width:12,height:8})),q.createElement(Nse,pr({},a?m():{},{drag:a,filterEnabled:l}),o===void 0&&a?q.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},q.createElement("circle",{cx:"2",cy:"2",r:"2"}),q.createElement("circle",{cx:"14",cy:"2",r:"2"}),q.createElement("circle",{cx:"26",cy:"2",r:"2"}),q.createElement("circle",{cx:"2",cy:"12",r:"2"}),q.createElement("circle",{cx:"14",cy:"12",r:"2"}),q.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),l&&q.createElement(R_,{active:u,onClick:()=>f(g=>!g)},q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},q.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),q.createElement(Dse,{toggled:u},q.createElement(Fse,{ref:p,setFilter:n,toggle:i})))}q.memo(({store:n,rootClass:e,fill:t=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:c})=>{var u,f;const p=Sie(n),[m,g]=O.useState(""),y=O.useMemo(()=>pse(p,m),[p,m]),[_,v]=k4(),x=i||p.length>0,S=typeof o=="object"&&o.title||void 0,A=typeof o=="object"&&(u=o.drag)!==null&&u!==void 0?u:!0,M=typeof o=="object"&&(f=o.filter)!==null&&f!==void 0?f:!0,E=typeof o=="object"&&o.position||void 0,R=typeof o=="object"&&o.onDrag||void 0,I=typeof o=="object"&&o.onDragStart||void 0,T=typeof o=="object"&&o.onDragEnd||void 0;return q.useEffect(()=>{v({x:E==null?void 0:E.x,y:E==null?void 0:E.y})},[E,v]),ate(),q.createElement(C4.Provider,{value:{hideCopyButton:a}},q.createElement(Ise,{ref:_,className:e,fill:t,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:x?"block":"none"}},o&&q.createElement(Use,{onDrag:P=>{v(P),R==null||R(P)},onDragStart:P=>I==null?void 0:I(P),onDragEnd:P=>T==null?void 0:T(P),setFilter:g,toggle:P=>c(B=>P??!B),toggled:l,title:S,drag:A,filterEnabled:M,from:E}),x&&q.createElement(T4.Provider,{value:n},q.createElement(_5,{isRoot:!0,fill:t,flat:r,tree:y,toggled:l}))))});il(bo.SELECT,$te);il(bo.IMAGE,ese);il(bo.NUMBER,Bte);il(bo.COLOR,Lie);il(bo.STRING,Zte);il(bo.BOOLEAN,one);il(bo.INTERVAL,cse);il(bo.VECTOR3D,Bie);il(bo.VECTOR2D,Gie);const Tg=new H,lR=new H,zse=new H;function Hse(n,e,t){const r=Tg.setFromMatrixPosition(n.matrixWorld);r.project(e);const i=t.width/2,s=t.height/2;return[r.x*i+i,-(r.y*s)+s]}function Gse(n,e){const t=Tg.setFromMatrixPosition(n.matrixWorld),r=lR.setFromMatrixPosition(e.matrixWorld),i=t.sub(r),s=e.getWorldDirection(zse);return i.angleTo(s)>Math.PI/2}function Vse(n,e,t,r){const i=Tg.setFromMatrixPosition(n.matrixWorld),s=i.clone();s.project(e),t.setFromCamera(s,e);const o=t.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(t.ray.origin)<a}return!0}function $se(n,e){if(e instanceof $s)return e.zoom;if(e instanceof Sn){const t=Tg.setFromMatrixPosition(n.matrixWorld),r=lR.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=t.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function Wse(n,e,t){if(e instanceof Sn||e instanceof $s){const r=Tg.setFromMatrixPosition(n.matrixWorld),i=lR.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const lM=n=>Math.abs(n)<1e-10?0:n;function S5(n,e,t=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=lM(e[i]*n.elements[i])+(i!==15?",":")");return t+r}const jse=(n=>e=>S5(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),Xse=(n=>(e,t)=>S5(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function Kse(n){return n&&typeof n=="object"&&"current"in n}const b5=O.forwardRef(({children:n,eps:e=.001,style:t,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:u=!1,occlude:f,onOcclude:p,castShadow:m,receiveShadow:g,material:y,geometry:_,zIndexRange:v=[16777271,0],calculatePosition:x=Hse,as:S="div",wrapperClass:A,pointerEvents:M="auto",...E},R)=>{const{gl:I,camera:T,scene:P,size:B,raycaster:F,events:V,viewport:k}=Uo(),[z]=O.useState(()=>document.createElement(S)),W=O.useRef(),K=O.useRef(null),N=O.useRef(0),j=O.useRef([0,0]),J=O.useRef(null),te=O.useRef(null),ee=(a==null?void 0:a.current)||V.connected||I.domElement.parentNode,Y=O.useRef(null),ne=O.useRef(!1),ce=O.useMemo(()=>f&&f!=="blending"||Array.isArray(f)&&f.length&&Kse(f[0]),[f]);O.useLayoutEffect(()=>{const Fe=I.domElement;f&&f==="blending"?(Fe.style.zIndex=`${Math.floor(v[0]/2)}`,Fe.style.position="absolute",Fe.style.pointerEvents="none"):(Fe.style.zIndex=null,Fe.style.position=null,Fe.style.pointerEvents=null)},[f]),O.useLayoutEffect(()=>{if(K.current){const Fe=W.current=rF(z);if(P.updateMatrixWorld(),u)z.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Be=x(K.current,T,B);z.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Be[0]}px,${Be[1]}px,0);transform-origin:0 0;`}return ee&&(i?ee.prepend(z):ee.appendChild(z)),()=>{ee&&ee.removeChild(z),Fe.unmount()}}},[ee,u]),O.useLayoutEffect(()=>{A&&(z.className=A)},[A]);const Me=O.useMemo(()=>u?{position:"absolute",top:0,left:0,width:B.width,height:B.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-B.height/2,left:-B.width/2,width:B.width,height:B.height},...t},[t,s,o,B,u]),Re=O.useMemo(()=>({position:"absolute",pointerEvents:M}),[M]);O.useLayoutEffect(()=>{if(ne.current=!1,u){var Fe;(Fe=W.current)==null||Fe.render(O.createElement("div",{ref:J,style:Me},O.createElement("div",{ref:te,style:Re},O.createElement("div",{ref:R,className:r,style:t,children:n}))))}else{var Be;(Be=W.current)==null||Be.render(O.createElement("div",{ref:R,style:Me,className:r,children:n}))}});const Ze=O.useRef(!0);_g(Fe=>{if(K.current){T.updateMatrixWorld(),K.current.updateWorldMatrix(!0,!1);const Be=u?j.current:x(K.current,T,B);if(u||Math.abs(N.current-T.zoom)>e||Math.abs(j.current[0]-Be[0])>e||Math.abs(j.current[1]-Be[1])>e){const X=Gse(K.current,T);let Se=!1;ce&&(Array.isArray(f)?Se=f.map(We=>We.current):f!=="blending"&&(Se=[P]));const ve=Ze.current;if(Se){const We=Vse(K.current,T,F,Se);Ze.current=We&&!X}else Ze.current=!X;ve!==Ze.current&&(p?p(!Ze.current):z.style.display=Ze.current?"block":"none");const de=Math.floor(v[0]/2),ye=f?ce?[v[0],de]:[de-1,0]:v;if(z.style.zIndex=`${Wse(K.current,T,ye)}`,u){const[We,ze]=[B.width/2,B.height/2],U=T.projectionMatrix.elements[5]*ze,{isOrthographicCamera:D,top:ie,left:Ae,bottom:oe,right:ae}=T,Ie=jse(T.matrixWorldInverse),Te=D?`scale(${U})translate(${lM(-(ae+Ae)/2)}px,${lM((ie+oe)/2)}px)`:`translateZ(${U}px)`;let Oe=K.current.matrixWorld;c&&(Oe=T.matrixWorldInverse.clone().transpose().copyPosition(Oe).scale(K.current.scale),Oe.elements[3]=Oe.elements[7]=Oe.elements[11]=0,Oe.elements[15]=1),z.style.width=B.width+"px",z.style.height=B.height+"px",z.style.perspective=D?"":`${U}px`,J.current&&te.current&&(J.current.style.transform=`${Te}${Ie}translate(${We}px,${ze}px)`,te.current.style.transform=Xse(Oe,1/((l||10)/400)))}else{const We=l===void 0?1:$se(K.current,T)*l;z.style.transform=`translate3d(${Be[0]}px,${Be[1]}px,0) scale(${We})`}j.current=Be,N.current=T.zoom}}if(!ce&&Y.current&&!ne.current)if(u){if(J.current){const Be=J.current.children[0];if(Be!=null&&Be.clientWidth&&Be!=null&&Be.clientHeight){const{isOrthographicCamera:X}=T;if(X||_)E.scale&&(Array.isArray(E.scale)?E.scale instanceof H?Y.current.scale.copy(E.scale.clone().divideScalar(1)):Y.current.scale.set(1/E.scale[0],1/E.scale[1],1/E.scale[2]):Y.current.scale.setScalar(1/E.scale));else{const Se=(l||10)/400,ve=Be.clientWidth*Se,de=Be.clientHeight*Se;Y.current.scale.set(ve,de,1)}ne.current=!0}}}else{const Be=z.children[0];if(Be!=null&&Be.clientWidth&&Be!=null&&Be.clientHeight){const X=1/k.factor,Se=Be.clientWidth*X,ve=Be.clientHeight*X;Y.current.scale.set(Se,ve,1),ne.current=!0}Y.current.lookAt(Fe.camera.position)}});const Je=O.useMemo(()=>({vertexShader:u?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[u]);return O.createElement("group",Pe({},E,{ref:K}),f&&!ce&&O.createElement("mesh",{castShadow:m,receiveShadow:g,ref:Y},_||O.createElement("planeGeometry",null),y||O.createElement("shaderMaterial",{side:Hs,vertexShader:Je.vertexShader,fragmentShader:Je.fragmentShader})))});function Yse(n,e="pointer",t="auto",r=document.body){O.useEffect(()=>{if(n)return r.style.cursor=e,()=>void(r.style.cursor=t)},[n])}function Jse(n){let e;const t=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const p=e;e=u?f:Object.assign({},e,f),t.forEach(m=>m(e,p))}},i=()=>e,s=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function m(){const g=u(e);if(!f(p,g)){const y=p;c(p=g,y)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(c,u,f)=>u||f?s(c,u,f):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const qse=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),lD=qse?O.useEffect:O.useLayoutEffect;function Qse(n){const e=typeof n=="function"?Jse(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=O.useReducer(_=>_+1,0),o=e.getState(),a=O.useRef(o),l=O.useRef(r),c=O.useRef(i),u=O.useRef(!1),f=O.useRef();f.current===void 0&&(f.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(p=r(o),m=!i(f.current,p)),lD(()=>{m&&(f.current=p),a.current=o,l.current=r,c.current=i,u.current=!1});const g=O.useRef(o);lD(()=>{const _=()=>{try{const x=e.getState(),S=l.current(x);c.current(f.current,S)||(a.current=x,f.current=S,s())}catch{u.current=!0,s()}},v=e.subscribe(_);return e.getState()!==g.current&&_(),v},[]);const y=m?p:f.current;return O.useDebugValue(y),y};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}let bp=0;const Zse=Qse(n=>(od.onStart=(e,t,r)=>{n({active:!0,item:e,loaded:t,total:r,progress:(t-bp)/(r-bp)*100})},od.onLoad=()=>{n({active:!1})},od.onError=e=>n(t=>({errors:[...t.errors,e]})),od.onProgress=(e,t,r)=>{t===r&&(bp=r),n({active:!0,item:e,loaded:t,total:r,progress:(t-bp)/(r-bp)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function eoe(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function cD(n,e){if(e===YF)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===c_||e===eC){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(t)if(e===c_)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}const A5=parseInt(ig.replace(/\D+/g,""));var toe=Object.defineProperty,noe=(n,e,t)=>e in n?toe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,w5=(n,e,t)=>(noe(n,typeof e!="symbol"?e+"":e,t),t);const My={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new H},up:{value:new H(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <${A5>=154?"colorspace_fragment":"encodings_fragment"}>

      }
    `},E5=new qs({name:"SkyShader",fragmentShader:My.fragmentShader,vertexShader:My.vertexShader,uniforms:lC.clone(My.uniforms),side:ii,depthWrite:!1});let cR=class extends sr{constructor(){super(new gc(1,1,1),E5)}};w5(cR,"SkyShader",My);w5(cR,"material",E5);var roe=Object.defineProperty,ioe=(n,e,t)=>e in n?roe(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,wt=(n,e,t)=>(ioe(n,typeof e!="symbol"?e+"":e,t),t);const Kv=new zu,uD=new Ra,soe=Math.cos(70*(Math.PI/180)),fD=(n,e)=>(n%e+e)%e;let ooe=class extends aa{constructor(e,t){super(),wt(this,"object"),wt(this,"domElement"),wt(this,"enabled",!0),wt(this,"target",new H),wt(this,"minDistance",0),wt(this,"maxDistance",1/0),wt(this,"minZoom",0),wt(this,"maxZoom",1/0),wt(this,"minPolarAngle",0),wt(this,"maxPolarAngle",Math.PI),wt(this,"minAzimuthAngle",-1/0),wt(this,"maxAzimuthAngle",1/0),wt(this,"enableDamping",!1),wt(this,"dampingFactor",.05),wt(this,"enableZoom",!0),wt(this,"zoomSpeed",1),wt(this,"enableRotate",!0),wt(this,"rotateSpeed",1),wt(this,"enablePan",!0),wt(this,"panSpeed",1),wt(this,"screenSpacePanning",!0),wt(this,"keyPanSpeed",7),wt(this,"zoomToCursor",!1),wt(this,"autoRotate",!1),wt(this,"autoRotateSpeed",2),wt(this,"reverseOrbit",!1),wt(this,"reverseHorizontalOrbit",!1),wt(this,"reverseVerticalOrbit",!1),wt(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),wt(this,"mouseButtons",{LEFT:jc.ROTATE,MIDDLE:jc.DOLLY,RIGHT:jc.PAN}),wt(this,"touches",{ONE:Xc.ROTATE,TWO:Xc.DOLLY_PAN}),wt(this,"target0"),wt(this,"position0"),wt(this,"zoom0"),wt(this,"_domElementKeyEvents",null),wt(this,"getPolarAngle"),wt(this,"getAzimuthalAngle"),wt(this,"setPolarAngle"),wt(this,"setAzimuthalAngle"),wt(this,"getDistance"),wt(this,"listenToKeyEvents"),wt(this,"stopListenToKeyEvents"),wt(this,"saveState"),wt(this,"reset"),wt(this,"update"),wt(this,"connect"),wt(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=Q=>{let be=fD(Q,2*Math.PI),je=u.phi;je<0&&(je+=2*Math.PI),be<0&&(be+=2*Math.PI);let Xe=Math.abs(be-je);2*Math.PI-Xe<Xe&&(be<je?be+=2*Math.PI:je+=2*Math.PI),f.phi=be-je,r.update()},this.setAzimuthalAngle=Q=>{let be=fD(Q,2*Math.PI),je=u.theta;je<0&&(je+=2*Math.PI),be<0&&(be+=2*Math.PI);let Xe=Math.abs(be-je);2*Math.PI-Xe<Xe&&(be<je?be+=2*Math.PI:je+=2*Math.PI),f.theta=be-je,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=Q=>{Q.addEventListener("keydown",tt),this._domElementKeyEvents=Q},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",tt),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const Q=new H,be=new H(0,1,0),je=new Lr().setFromUnitVectors(e.up,be),Xe=je.clone().invert(),Ce=new H,Z=new Lr,He=2*Math.PI;return function(){const pt=r.object.position;je.setFromUnitVectors(e.up,be),Xe.copy(je).invert(),Q.copy(pt).sub(r.target),Q.applyQuaternion(je),u.setFromVector3(Q),r.autoRotate&&l===a.NONE&&k(F()),r.enableDamping?(u.theta+=f.theta*r.dampingFactor,u.phi+=f.phi*r.dampingFactor):(u.theta+=f.theta,u.phi+=f.phi);let ot=r.minAzimuthAngle,Bt=r.maxAzimuthAngle;isFinite(ot)&&isFinite(Bt)&&(ot<-Math.PI?ot+=He:ot>Math.PI&&(ot-=He),Bt<-Math.PI?Bt+=He:Bt>Math.PI&&(Bt-=He),ot<=Bt?u.theta=Math.max(ot,Math.min(Bt,u.theta)):u.theta=u.theta>(ot+Bt)/2?Math.max(ot,u.theta):Math.min(Bt,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),r.zoomToCursor&&T||r.object.isOrthographicCamera?u.radius=ee(u.radius):u.radius=ee(u.radius*p),Q.setFromSpherical(u),Q.applyQuaternion(Xe),pt.copy(r.target).add(Q),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),m.set(0,0,0));let Ut=!1;if(r.zoomToCursor&&T){let tn=null;if(r.object instanceof Sn&&r.object.isPerspectiveCamera){const fn=Q.length();tn=ee(fn*p);const Ue=fn-tn;r.object.position.addScaledVector(R,Ue),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const fn=new H(I.x,I.y,0);fn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix(),Ut=!0;const Ue=new H(I.x,I.y,0);Ue.unproject(r.object),r.object.position.sub(Ue).add(fn),r.object.updateMatrixWorld(),tn=Q.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;tn!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(tn).add(r.object.position):(Kv.origin.copy(r.object.position),Kv.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(Kv.direction))<soe?e.lookAt(r.target):(uD.setFromNormalAndCoplanarPoint(r.object.up,r.target),Kv.intersectPlane(uD,r.target))))}else r.object instanceof $s&&r.object.isOrthographicCamera&&(Ut=p!==1,Ut&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix()));return p=1,T=!1,Ut||Ce.distanceToSquared(r.object.position)>c||8*(1-Z.dot(r.object.quaternion))>c?(r.dispatchEvent(i),Ce.copy(r.object.position),Z.copy(r.object.quaternion),Ut=!1,!0):!1}})(),this.connect=Q=>{Q===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=Q,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",gt),r.domElement.addEventListener("pointerdown",ie),r.domElement.addEventListener("pointercancel",ae),r.domElement.addEventListener("wheel",Oe)},this.dispose=()=>{var Q,be,je,Xe,Ce,Z;(Q=r.domElement)==null||Q.removeEventListener("contextmenu",gt),(be=r.domElement)==null||be.removeEventListener("pointerdown",ie),(je=r.domElement)==null||je.removeEventListener("pointercancel",ae),(Xe=r.domElement)==null||Xe.removeEventListener("wheel",Oe),(Ce=r.domElement)==null||Ce.ownerDocument.removeEventListener("pointermove",Ae),(Z=r.domElement)==null||Z.ownerDocument.removeEventListener("pointerup",oe),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",tt)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new IE,f=new IE;let p=1;const m=new H,g=new xe,y=new xe,_=new xe,v=new xe,x=new xe,S=new xe,A=new xe,M=new xe,E=new xe,R=new H,I=new xe;let T=!1;const P=[],B={};function F(){return 2*Math.PI/60/60*r.autoRotateSpeed}function V(){return Math.pow(.95,r.zoomSpeed)}function k(Q){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=Q:f.theta-=Q}function z(Q){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=Q:f.phi-=Q}const W=(()=>{const Q=new H;return function(je,Xe){Q.setFromMatrixColumn(Xe,0),Q.multiplyScalar(-je),m.add(Q)}})(),K=(()=>{const Q=new H;return function(je,Xe){r.screenSpacePanning===!0?Q.setFromMatrixColumn(Xe,1):(Q.setFromMatrixColumn(Xe,0),Q.crossVectors(r.object.up,Q)),Q.multiplyScalar(je),m.add(Q)}})(),N=(()=>{const Q=new H;return function(je,Xe){const Ce=r.domElement;if(Ce&&r.object instanceof Sn&&r.object.isPerspectiveCamera){const Z=r.object.position;Q.copy(Z).sub(r.target);let He=Q.length();He*=Math.tan(r.object.fov/2*Math.PI/180),W(2*je*He/Ce.clientHeight,r.object.matrix),K(2*Xe*He/Ce.clientHeight,r.object.matrix)}else Ce&&r.object instanceof $s&&r.object.isOrthographicCamera?(W(je*(r.object.right-r.object.left)/r.object.zoom/Ce.clientWidth,r.object.matrix),K(Xe*(r.object.top-r.object.bottom)/r.object.zoom/Ce.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function j(Q){r.object instanceof Sn&&r.object.isPerspectiveCamera||r.object instanceof $s&&r.object.isOrthographicCamera?p/=Q:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function J(Q){r.object instanceof Sn&&r.object.isPerspectiveCamera||r.object instanceof $s&&r.object.isOrthographicCamera?p*=Q:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function te(Q){if(!r.zoomToCursor||!r.domElement)return;T=!0;const be=r.domElement.getBoundingClientRect(),je=Q.clientX-be.left,Xe=Q.clientY-be.top,Ce=be.width,Z=be.height;I.x=je/Ce*2-1,I.y=-(Xe/Z)*2+1,R.set(I.x,I.y,1).unproject(r.object).sub(r.object.position).normalize()}function ee(Q){return Math.max(r.minDistance,Math.min(r.maxDistance,Q))}function Y(Q){g.set(Q.clientX,Q.clientY)}function ne(Q){te(Q),A.set(Q.clientX,Q.clientY)}function ce(Q){v.set(Q.clientX,Q.clientY)}function Me(Q){y.set(Q.clientX,Q.clientY),_.subVectors(y,g).multiplyScalar(r.rotateSpeed);const be=r.domElement;be&&(k(2*Math.PI*_.x/be.clientHeight),z(2*Math.PI*_.y/be.clientHeight)),g.copy(y),r.update()}function Re(Q){M.set(Q.clientX,Q.clientY),E.subVectors(M,A),E.y>0?j(V()):E.y<0&&J(V()),A.copy(M),r.update()}function Ze(Q){x.set(Q.clientX,Q.clientY),S.subVectors(x,v).multiplyScalar(r.panSpeed),N(S.x,S.y),v.copy(x),r.update()}function Je(Q){te(Q),Q.deltaY<0?J(V()):Q.deltaY>0&&j(V()),r.update()}function Fe(Q){let be=!1;switch(Q.code){case r.keys.UP:N(0,r.keyPanSpeed),be=!0;break;case r.keys.BOTTOM:N(0,-r.keyPanSpeed),be=!0;break;case r.keys.LEFT:N(r.keyPanSpeed,0),be=!0;break;case r.keys.RIGHT:N(-r.keyPanSpeed,0),be=!0;break}be&&(Q.preventDefault(),r.update())}function Be(){if(P.length==1)g.set(P[0].pageX,P[0].pageY);else{const Q=.5*(P[0].pageX+P[1].pageX),be=.5*(P[0].pageY+P[1].pageY);g.set(Q,be)}}function X(){if(P.length==1)v.set(P[0].pageX,P[0].pageY);else{const Q=.5*(P[0].pageX+P[1].pageX),be=.5*(P[0].pageY+P[1].pageY);v.set(Q,be)}}function Se(){const Q=P[0].pageX-P[1].pageX,be=P[0].pageY-P[1].pageY,je=Math.sqrt(Q*Q+be*be);A.set(0,je)}function ve(){r.enableZoom&&Se(),r.enablePan&&X()}function de(){r.enableZoom&&Se(),r.enableRotate&&Be()}function ye(Q){if(P.length==1)y.set(Q.pageX,Q.pageY);else{const je=Ye(Q),Xe=.5*(Q.pageX+je.x),Ce=.5*(Q.pageY+je.y);y.set(Xe,Ce)}_.subVectors(y,g).multiplyScalar(r.rotateSpeed);const be=r.domElement;be&&(k(2*Math.PI*_.x/be.clientHeight),z(2*Math.PI*_.y/be.clientHeight)),g.copy(y)}function We(Q){if(P.length==1)x.set(Q.pageX,Q.pageY);else{const be=Ye(Q),je=.5*(Q.pageX+be.x),Xe=.5*(Q.pageY+be.y);x.set(je,Xe)}S.subVectors(x,v).multiplyScalar(r.panSpeed),N(S.x,S.y),v.copy(x)}function ze(Q){const be=Ye(Q),je=Q.pageX-be.x,Xe=Q.pageY-be.y,Ce=Math.sqrt(je*je+Xe*Xe);M.set(0,Ce),E.set(0,Math.pow(M.y/A.y,r.zoomSpeed)),j(E.y),A.copy(M)}function U(Q){r.enableZoom&&ze(Q),r.enablePan&&We(Q)}function D(Q){r.enableZoom&&ze(Q),r.enableRotate&&ye(Q)}function ie(Q){var be,je;r.enabled!==!1&&(P.length===0&&((be=r.domElement)==null||be.ownerDocument.addEventListener("pointermove",Ae),(je=r.domElement)==null||je.ownerDocument.addEventListener("pointerup",oe)),dt(Q),Q.pointerType==="touch"?Le(Q):Ie(Q))}function Ae(Q){r.enabled!==!1&&(Q.pointerType==="touch"?we(Q):Te(Q))}function oe(Q){var be,je,Xe;ht(Q),P.length===0&&((be=r.domElement)==null||be.releasePointerCapture(Q.pointerId),(je=r.domElement)==null||je.ownerDocument.removeEventListener("pointermove",Ae),(Xe=r.domElement)==null||Xe.ownerDocument.removeEventListener("pointerup",oe)),r.dispatchEvent(o),l=a.NONE}function ae(Q){ht(Q)}function Ie(Q){let be;switch(Q.button){case 0:be=r.mouseButtons.LEFT;break;case 1:be=r.mouseButtons.MIDDLE;break;case 2:be=r.mouseButtons.RIGHT;break;default:be=-1}switch(be){case jc.DOLLY:if(r.enableZoom===!1)return;ne(Q),l=a.DOLLY;break;case jc.ROTATE:if(Q.ctrlKey||Q.metaKey||Q.shiftKey){if(r.enablePan===!1)return;ce(Q),l=a.PAN}else{if(r.enableRotate===!1)return;Y(Q),l=a.ROTATE}break;case jc.PAN:if(Q.ctrlKey||Q.metaKey||Q.shiftKey){if(r.enableRotate===!1)return;Y(Q),l=a.ROTATE}else{if(r.enablePan===!1)return;ce(Q),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Te(Q){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;Me(Q);break;case a.DOLLY:if(r.enableZoom===!1)return;Re(Q);break;case a.PAN:if(r.enablePan===!1)return;Ze(Q);break}}function Oe(Q){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Q.preventDefault(),r.dispatchEvent(s),Je(Q),r.dispatchEvent(o))}function tt(Q){r.enabled===!1||r.enablePan===!1||Fe(Q)}function Le(Q){switch(at(Q),P.length){case 1:switch(r.touches.ONE){case Xc.ROTATE:if(r.enableRotate===!1)return;Be(),l=a.TOUCH_ROTATE;break;case Xc.PAN:if(r.enablePan===!1)return;X(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Xc.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ve(),l=a.TOUCH_DOLLY_PAN;break;case Xc.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;de(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function we(Q){switch(at(Q),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;ye(Q),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;We(Q),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;U(Q),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;D(Q),r.update();break;default:l=a.NONE}}function gt(Q){r.enabled!==!1&&Q.preventDefault()}function dt(Q){P.push(Q)}function ht(Q){delete B[Q.pointerId];for(let be=0;be<P.length;be++)if(P[be].pointerId==Q.pointerId){P.splice(be,1);return}}function at(Q){let be=B[Q.pointerId];be===void 0&&(be=new xe,B[Q.pointerId]=be),be.set(Q.pageX,Q.pageY)}function Ye(Q){const be=Q.pointerId===P[0].pointerId?P[1]:P[0];return B[be.pointerId]}t!==void 0&&this.connect(t),this.update()}};class uR extends ui{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new foe(t)}),this.register(function(t){return new _oe(t)}),this.register(function(t){return new xoe(t)}),this.register(function(t){return new Soe(t)}),this.register(function(t){return new hoe(t)}),this.register(function(t){return new poe(t)}),this.register(function(t){return new moe(t)}),this.register(function(t){return new goe(t)}),this.register(function(t){return new uoe(t)}),this.register(function(t){return new voe(t)}),this.register(function(t){return new doe(t)}),this.register(function(t){return new yoe(t)}),this.register(function(t){return new loe(t)}),this.register(function(t){return new boe(t)}),this.register(function(t){return new Aoe(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=qo.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new ms(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(qo.decodeText(new Uint8Array(e.slice(0,4)))===M5){try{o[$t.KHR_BINARY_GLTF]=new woe(e)}catch(u){i&&i(u);return}s=JSON.parse(o[$t.KHR_BINARY_GLTF].content)}else s=JSON.parse(qo.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new Noe(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],f=s.extensionsRequired||[];switch(u){case $t.KHR_MATERIALS_UNLIT:o[u]=new coe;break;case $t.KHR_DRACO_MESH_COMPRESSION:o[u]=new Eoe(s,this.dracoLoader);break;case $t.KHR_TEXTURE_TRANSFORM:o[u]=new Moe;break;case $t.KHR_MESH_QUANTIZATION:o[u]=new Toe;break;default:f.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function aoe(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const $t={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class loe{constructor(e){this.parser=e,this.name=$t.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new ke(16777215);l.color!==void 0&&u.fromArray(l.color);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new IC(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new LC(u),c.distance=f;break;case"spot":c=new OC(u),c.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Cl(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class coe{constructor(){this.name=$t.KHR_MATERIALS_UNLIT}getMaterialType(){return as}extendParams(e,t,r){const i=[];e.color=new ke(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(i)}}class uoe{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class foe{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:la}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new xe(a,a)}return Promise.all(s)}}class doe{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:la}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class hoe{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:la}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new ke(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class poe{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:la}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class moe{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:la}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new ke(a[0],a[1],a[2]),Promise.all(s)}}class goe{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:la}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class voe{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:la}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new ke(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class yoe{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:la}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class _oe{constructor(e){this.parser=e,this.name=$t.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class xoe{constructor(e){this.parser=e,this.name=$t.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class Soe{constructor(e){this.parser=e,this.name=$t.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class boe{constructor(e){this.name=$t.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,f=i.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,f,p,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(u*f);return o.decodeGltfBuffer(new Uint8Array(m),u,f,p,i.mode,i.filter),m})})}else return null}}class Aoe{constructor(e){this.name=$t.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==Bs.TRIANGLES&&c.mode!==Bs.TRIANGLE_STRIP&&c.mode!==Bs.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),f=u.isGroup?u.children:[u],p=c[0].count,m=[];for(const g of f){const y=new _t,_=new H,v=new Lr,x=new H(1,1,1),S=new gC(g.geometry,g.material,p);for(let A=0;A<p;A++)l.TRANSLATION&&_.fromBufferAttribute(l.TRANSLATION,A),l.ROTATION&&v.fromBufferAttribute(l.ROTATION,A),l.SCALE&&x.fromBufferAttribute(l.SCALE,A),S.setMatrixAt(A,y.compose(_,v,x));for(const A in l)A!=="TRANSLATION"&&A!=="ROTATION"&&A!=="SCALE"&&g.geometry.setAttribute(A,l[A]);Xt.prototype.copy.call(S,g),this.parser.assignFinalMaterial(S),m.push(S)}return u.isGroup?(u.clear(),u.add(...m),u):m[0]}))}}const M5="glTF",Ap=12,dD={JSON:1313821514,BIN:5130562};class woe{constructor(e){this.name=$t.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Ap);if(this.header={magic:qo.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==M5)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Ap,i=new DataView(e,Ap);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===dD.JSON){const l=new Uint8Array(e,Ap+s,o);this.content=qo.decodeText(l)}else if(a===dD.BIN){const l=Ap+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class Eoe{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=$t.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const f=cM[u]||u.toLowerCase();a[f]=o[u]}for(const u in e.attributes){const f=cM[u]||u.toLowerCase();if(o[u]!==void 0){const p=r.accessors[e.attributes[u]],m=Ad[p.componentType];c[f]=m.name,l[f]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(f){i.decodeDracoFile(u,function(p){for(const m in p.attributes){const g=p.attributes[m],y=l[m];y!==void 0&&(g.normalized=y)}f(p)},a,c)})})}}class Moe{constructor(){this.name=$t.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class Toe{constructor(){this.name=$t.KHR_MESH_QUANTIZATION}}class T5 extends Sh{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-t,f=(r-t)/u,p=f*f,m=p*f,g=e*c,y=g-c,_=-2*m+3*p,v=m-p,x=1-_,S=v-p+f;for(let A=0;A!==a;A++){const M=o[y+A+a],E=o[y+A+l]*u,R=o[g+A+a],I=o[g+A]*u;s[A]=x*M+S*E+_*R+v*I}return s}}const Coe=new Lr;class Roe extends T5{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return Coe.fromArray(s).normalize().toArray(s),s}}const Bs={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Ad={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},hD={9728:Jn,9729:Nn,9984:bm,9985:Sx,9986:_d,9987:na},pD={33071:Hr,33648:Fd,10497:Mn},SA={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},cM={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...A5>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Al={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},Poe={CUBICSPLINE:void 0,LINEAR:Cu,STEP:zd},bA={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Ooe(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new gg({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:ta})),n.DefaultMaterial}function Hc(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Cl(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Loe(n,e,t){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const f=e[c];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const f=e[c];if(r){const p=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;o.push(p)}if(i){const p=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],f=c[1],p=c[2];return r&&(n.morphAttributes.position=u),i&&(n.morphAttributes.normal=f),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function Ioe(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Boe(n){let e;const t=n.extensions&&n.extensions[$t.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+AA(t.attributes):e=n.indices+":"+AA(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,i=n.targets.length;r<i;r++)e+=":"+AA(n.targets[r]);return e}function AA(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function uM(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Doe(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const koe=new _t;class Noe{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new aoe,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new vg(this.options.manager):this.textureLoader=new nz(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ms(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};Hc(s,a,i),Cl(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[$t.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(qo.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=SA[i.type],a=Ad[i.componentType],l=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new Kt(c,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=SA[i.type],c=Ad[i.componentType],u=c.BYTES_PER_ELEMENT,f=u*l,p=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,g=i.normalized===!0;let y,_;if(m&&m!==f){const v=Math.floor(p/m),x="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+v+":"+i.count;let S=t.cache.get(x);S||(y=new c(a,v*m,i.count*m/u),S=new fg(y,m/u),t.cache.add(x,S)),_=new nc(S,l,p%m/u,g)}else a===null?y=new c(i.count*l):y=new c(a,p,i.count*l),_=new Kt(y,l,g);if(i.sparse!==void 0){const v=SA.SCALAR,x=Ad[i.sparse.indices.componentType],S=i.sparse.indices.byteOffset||0,A=i.sparse.values.byteOffset||0,M=new x(o[1],S,i.sparse.count*v),E=new c(o[2],A,i.sparse.count*l);a!==null&&(_=new Kt(_.array.slice(),_.itemSize,_.normalized));for(let R=0,I=M.length;R<I;R++){const T=M[R];if(_.setX(T,E[R*l]),l>=2&&_.setY(T,E[R*l+1]),l>=3&&_.setZ(T,E[R*l+2]),l>=4&&_.setW(T,E[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return _})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return u.magFilter=hD[p.magFilter]||Nn,u.minFilter=hD[p.minFilter]||na,u.wrapS=pD[p.wrapS]||Mn,u.wrapT=pD[p.wrapT]||Mn,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(f){c=!0;const p=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(f){return new Promise(function(p,m){let g=p;t.isImageBitmapLoader===!0&&(g=function(y){const _=new Cn(y);_.needsUpdate=!0,p(_)}),t.load(qo.resolveURL(f,s.path),g,void 0,m)})}).then(function(f){return c===!0&&a.revokeObjectURL(l),f.userData.mimeType=o.mimeType||Doe(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=u,u}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[$t.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[$t.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[$t.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&("colorSpace"in o?o.colorSpace=i===3001?"srgb":"srgb-linear":o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Px,hr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new ci,hr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return gg}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[$t.KHR_MATERIALS_UNLIT]){const f=i[$t.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),c.push(f.extendParams(a,s,t))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new ke(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const p=f.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}f.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",f.baseColorTexture,3001)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Hs);const u=s.alphaMode||bA.OPAQUE;if(u===bA.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===bA.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==as&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new xe(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}return s.occlusionTexture!==void 0&&o!==as&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==as&&(a.emissive=new ke().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==as&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(c).then(function(){const f=new o(a);return s.name&&(f.name=s.name),Cl(f,s),t.associations.set(f,{materials:e}),s.extensions&&Hc(i,f,s),f})}createUniqueName(e){const t=jt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[$t.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return mD(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=Boe(c),f=i[u];if(f)o.push(f.promise);else{let p;c.extensions&&c.extensions[$t.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=mD(new Ot,c,t),i[u]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?Ooe(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],f=[];for(let m=0,g=u.length;m<g;m++){const y=u[m],_=o[m];let v;const x=c[m];if(_.mode===Bs.TRIANGLES||_.mode===Bs.TRIANGLE_STRIP||_.mode===Bs.TRIANGLE_FAN||_.mode===void 0)v=s.isSkinnedMesh===!0?new mC(y,x):new sr(y,x),v.isSkinnedMesh===!0&&v.normalizeSkinWeights(),_.mode===Bs.TRIANGLE_STRIP?v.geometry=cD(v.geometry,eC):_.mode===Bs.TRIANGLE_FAN&&(v.geometry=cD(v.geometry,c_));else if(_.mode===Bs.LINES)v=new Ao(y,x);else if(_.mode===Bs.LINE_STRIP)v=new Ka(y,x);else if(_.mode===Bs.LINE_LOOP)v=new vC(y,x);else if(_.mode===Bs.POINTS)v=new yC(y,x);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(v.geometry.morphAttributes).length>0&&Ioe(v,s),v.name=t.createUniqueName(s.name||"mesh_"+e),Cl(v,s),_.extensions&&Hc(i,v,_),t.assignFinalMaterial(v),f.push(v)}for(let m=0,g=f.length;m<g;m++)t.associations.set(f[m],{meshes:e,primitives:m});if(f.length===1)return s.extensions&&Hc(i,f[0],s),f[0];const p=new Na;s.extensions&&Hc(i,p,s),t.associations.set(p,{meshes:e});for(let m=0,g=f.length;m<g;m++)p.add(f[m]);return p})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new Sn(oU.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new $s(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Cl(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,s=t.joints.length;i<s;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const f=o[c];if(f){a.push(f);const p=new _t;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new dg(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,s=[],o=[],a=[],l=[],c=[];for(let u=0,f=r.channels.length;u<f;u++){const p=r.channels[u],m=r.samplers[p.sampler],g=p.target,y=g.node,_=r.parameters!==void 0?r.parameters[m.input]:m.input,v=r.parameters!==void 0?r.parameters[m.output]:m.output;g.node!==void 0&&(s.push(this.getDependency("node",y)),o.push(this.getDependency("accessor",_)),a.push(this.getDependency("accessor",v)),l.push(m),c.push(g))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(u){const f=u[0],p=u[1],m=u[2],g=u[3],y=u[4],_=[];for(let v=0,x=f.length;v<x;v++){const S=f[v],A=p[v],M=m[v],E=g[v],R=y[v];if(S===void 0)continue;S.updateMatrix();let I;switch(Al[R.path]){case Al.weights:I=Wd;break;case Al.rotation:I=rc;break;case Al.position:case Al.scale:default:I=jd;break}const T=S.name?S.name:S.uuid,P=E.interpolation!==void 0?Poe[E.interpolation]:Cu,B=[];Al[R.path]===Al.weights?S.traverse(function(V){V.morphTargetInfluences&&B.push(V.name?V.name:V.uuid)}):B.push(T);let F=M.array;if(M.normalized){const V=uM(F.constructor),k=new Float32Array(F.length);for(let z=0,W=F.length;z<W;z++)k[z]=F[z]*V;F=k}for(let V=0,k=B.length;V<k;V++){const z=new I(B[V]+"."+Al[R.path],A.array,F,P);E.interpolation==="CUBICSPLINE"&&(z.createInterpolant=function(K){const N=this instanceof rc?Roe:T5;return new N(this.times,this.values,this.getValueSize()/3,K)},z.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),_.push(z)}}return new Xd(i,void 0,_)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let c=0,u=a.length;c<u;c++)o.push(r.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],f=c[1],p=c[2];p!==null&&u.traverse(function(m){m.isSkinnedMesh&&m.bind(p,koe)});for(let m=0,g=f.length;m<g;m++)u.add(f[m]);return u})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new Rx:c.length>1?u=new Na:c.length===1?u=c[0]:u=new Xt,u!==c[0])for(let f=0,p=c.length;f<p;f++)u.add(c[f]);if(s.name&&(u.userData.name=s.name,u.name=o),Cl(u,s),s.extensions&&Hc(r,u,s),s.matrix!==void 0){const f=new _t;f.fromArray(s.matrix),u.applyMatrix4(f)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,s=new Na;r.name&&(s.name=i.createUniqueName(r.name)),Cl(s,r),r.extensions&&Hc(t,s,r);const o=r.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,f=l.length;u<f;u++)s.add(l[u]);const c=u=>{const f=new Map;for(const[p,m]of i.associations)(p instanceof hr||p instanceof Cn)&&f.set(p,m);return u.traverse(p=>{const m=i.associations.get(p);m!=null&&f.set(p,m)}),f};return i.associations=c(s),s})}}function Foe(n,e,t){const r=e.attributes,i=new si;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new H(l[0],l[1],l[2]),new H(c[0],c[1],c[2])),a.normalized){const u=uM(Ad[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new H,l=new H;for(let c=0,u=s.length;c<u;c++){const f=s[c];if(f.POSITION!==void 0){const p=t.json.accessors[f.POSITION],m=p.min,g=p.max;if(m!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(g[2]))),p.normalized){const y=uM(Ad[p.componentType]);l.multiplyScalar(y)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new Vr;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function mD(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=cM[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return Cl(n,e),Foe(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?Loe(n,e.targets,t):n})}const wA=new WeakMap;class Uoe extends ui{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new ms(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const r=JSON.stringify(t);if(wA.has(e)){const l=wA.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[s]={resolve:c,reject:u},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),wA.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new Ot;e.index&&t.setIndex(new Kt(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new Kt(o,a))}return t}_loadLibrary(e,t){const r=new ms(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=zoe.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function zoe(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(f){u({draco:f})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const f=u.draco,p=new f.Decoder,m=new f.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const g=t(f,p,m,c),y=g.attributes.map(_=>_.array.buffer);g.index&&y.push(g.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:g},y)}catch(g){console.error(g),self.postMessage({type:"error",id:a.id,error:g.message})}finally{f.destroy(m),f.destroy(p)}});break}};function t(o,a,l,c){const u=c.attributeIDs,f=c.attributeTypes;let p,m;const g=a.GetEncodedGeometryType(l);if(g===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(g===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const y={index:null,attributes:[]};for(const _ in u){const v=self[f[_]];let x,S;if(c.useUniqueIDs)S=u[_],x=a.GetAttributeByUniqueId(p,S);else{if(S=a.GetAttributeId(p,o[u[_]]),S===-1)continue;x=a.GetAttribute(p,S)}y.attributes.push(i(o,a,p,_,v,x))}return g===o.TRIANGULAR_MESH&&(y.index=r(o,a,p)),o.destroy(p),y}function r(o,a,l){const u=l.num_faces()*3,f=u*4,p=o._malloc(f);a.GetTrianglesUInt32Array(l,f,p);const m=new Uint32Array(o.HEAPF32.buffer,p,u).slice();return o._free(p),{array:m,itemSize:1}}function i(o,a,l,c,u,f){const p=f.num_components(),g=l.num_points()*p,y=g*u.BYTES_PER_ELEMENT,_=s(o,u),v=o._malloc(y);a.GetAttributeDataArrayForAllPoints(l,f,_,y,v);const x=new u(o.HEAPF32.buffer,v,g).slice();return o._free(v),{name:c,array:x,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let Yv;const EA=()=>{if(Yv)return Yv;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const p=new Uint8Array(f.length);for(let g=0;g<f.length;++g){const y=f.charCodeAt(g);p[g]=y>96?y-71:y>64?y-65:y>47?y+4:y>46?63:62}let m=0;for(let g=0;g<f.length;++g)p[m++]=p[g]<60?r[p[g]]:(p[g]-60)*64+p[++g];return p.buffer.slice(0,m)}function l(f,p,m,g,y,_){const v=s.exports.sbrk,x=m+3&-4,S=v(x*g),A=v(y.length),M=new Uint8Array(s.exports.memory.buffer);M.set(y,A);const E=f(S,m,g,A,y.length);if(E===0&&_&&_(S,x,g),p.set(M.subarray(S,S+m*g)),v(S-v(0)),E!==0)throw new Error(`Malformed buffer data: ${E}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Yv={ready:o,supported:!0,decodeVertexBuffer(f,p,m,g,y){l(s.exports.meshopt_decodeVertexBuffer,f,p,m,g,s.exports[c[y]])},decodeIndexBuffer(f,p,m,g){l(s.exports.meshopt_decodeIndexBuffer,f,p,m,g)},decodeIndexSequence(f,p,m,g){l(s.exports.meshopt_decodeIndexSequence,f,p,m,g)},decodeGltfBuffer(f,p,m,g,y,_){l(s.exports[u[y]],f,p,m,g,s.exports[c[_]])}},Yv},Hoe=O.forwardRef(({children:n,depth:e=-1,...t},r)=>{const i=O.useRef(null);return _g(({camera:s})=>{i.current.quaternion.copy(s.quaternion),i.current.position.copy(s.position)}),O.createElement("group",Pe({ref:eoe([r,i])},t),O.createElement("group",{"position-z":-e},n))}),gD=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function Gs(n,e){const t=Uo(i=>i.gl),r=_c(vg,gD(n)?Object.values(n):n);if(O.useLayoutEffect(()=>{e==null||e(r)},[e]),O.useEffect(()=>{"initTexture"in t&&(Array.isArray(r)?r:[r]).forEach(t.initTexture)},[t,r]),gD(n)){const i={};let s=0;for(const o in n)i[o]=r[s++];return i}else return r}Gs.preload=n=>_c.preload(vg,n);Gs.clear=n=>_c.clear(vg,n);const Goe=O.forwardRef(({userData:n,children:e,geometry:t,threshold:r=15,color:i="black",...s},o)=>{const a=O.useRef(null);return O.useLayoutEffect(()=>{const l=a.current.parent;if(l){const c=t||l.geometry;(c!==a.current.userData.currentGeom||r!==a.current.userData.currentThreshold)&&(a.current.userData.currentGeom=c,a.current.userData.currentThreshold=r,a.current.geometry=new EC(c,r))}}),O.useImperativeHandle(o,()=>a.current),O.createElement("lineSegments",Pe({ref:a,raycast:()=>null},s),e||O.createElement("lineBasicMaterial",{color:i}))});let Jv=null,C5="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function R5(n,e,t){return r=>{t&&t(r),n&&(Jv||(Jv=new Uoe),Jv.setDecoderPath(typeof n=="string"?n:C5),r.setDRACOLoader(Jv)),e&&r.setMeshoptDecoder(typeof EA=="function"?EA():EA)}}function sl(n,e=!0,t=!0,r){return _c(uR,n,R5(e,t,r))}sl.preload=(n,e=!0,t=!0,r)=>_c.preload(uR,n,R5(e,t,r));sl.clear=n=>_c.clear(uR,n);sl.setDecoderPath=n=>{C5=n};const Voe=O.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},u)=>{const f=Uo(E=>E.invalidate),p=Uo(E=>E.camera),m=Uo(E=>E.gl),g=Uo(E=>E.events),y=Uo(E=>E.setEvents),_=Uo(E=>E.set),v=Uo(E=>E.get),x=Uo(E=>E.performance),S=e||p,A=r||g.connected||m.domElement,M=O.useMemo(()=>new ooe(S),[S]);return _g(()=>{M.enabled&&M.update()},-1),O.useEffect(()=>(s&&M.connect(s===!0?A:s),M.connect(A),()=>void M.dispose()),[s,A,t,M,f]),O.useEffect(()=>{const E=T=>{f(),t&&x.regress(),o&&o(T)},R=T=>{a&&a(T)},I=T=>{l&&l(T)};return M.addEventListener("change",E),M.addEventListener("start",R),M.addEventListener("end",I),()=>{M.removeEventListener("start",R),M.removeEventListener("end",I),M.removeEventListener("change",E)}},[o,a,l,M,f,y]),O.useEffect(()=>{if(n){const E=v().controls;return _({controls:M}),()=>_({controls:E})}},[n,M]),O.createElement("primitive",Pe({ref:u,object:M,enableDamping:i},c))});function $oe(n,e,t=new H){const r=Math.PI*(n-.5),i=2*Math.PI*(e-.5);return t.x=Math.cos(i),t.y=Math.sin(r),t.z=Math.sin(i),t}const Woe=O.forwardRef(({inclination:n=.6,azimuth:e=.1,distance:t=1e3,mieCoefficient:r=.005,mieDirectionalG:i=.8,rayleigh:s=.5,turbidity:o=10,sunPosition:a=$oe(n,e),...l},c)=>{const u=O.useMemo(()=>new H().setScalar(t),[t]),[f]=O.useState(()=>new cR);return O.createElement("primitive",Pe({object:f,ref:c,"material-uniforms-mieCoefficient-value":r,"material-uniforms-mieDirectionalG-value":i,"material-uniforms-rayleigh-value":s,"material-uniforms-sunPosition-value":a,"material-uniforms-turbidity-value":o,scale:u},l))}),vD=n=>{let e;const t=new Set,r=(u,f)=>{const p=typeof u=="function"?u(e):u;if(!Object.is(p,e)){const m=e;e=f??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(g=>g(e,m))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(t.add(u),()=>t.delete(u)),destroy:()=>{t.clear()}},c=e=n(r,i,l);return l},joe=n=>n?vD(n):vD;var P5={exports:{}},O5={},L5={exports:{}},I5={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qd=O;function Xoe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Koe=typeof Object.is=="function"?Object.is:Xoe,Yoe=Qd.useState,Joe=Qd.useEffect,qoe=Qd.useLayoutEffect,Qoe=Qd.useDebugValue;function Zoe(n,e){var t=e(),r=Yoe({inst:{value:t,getSnapshot:e}}),i=r[0].inst,s=r[1];return qoe(function(){i.value=t,i.getSnapshot=e,MA(i)&&s({inst:i})},[n,t,e]),Joe(function(){return MA(i)&&s({inst:i}),n(function(){MA(i)&&s({inst:i})})},[n]),Qoe(t),t}function MA(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Koe(n,t)}catch{return!0}}function eae(n,e){return e()}var tae=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?eae:Zoe;I5.useSyncExternalStore=Qd.useSyncExternalStore!==void 0?Qd.useSyncExternalStore:tae;L5.exports=I5;var nae=L5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1=O,rae=nae;function iae(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var sae=typeof Object.is=="function"?Object.is:iae,oae=rae.useSyncExternalStore,aae=e1.useRef,lae=e1.useEffect,cae=e1.useMemo,uae=e1.useDebugValue;O5.useSyncExternalStoreWithSelector=function(n,e,t,r,i){var s=aae(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=cae(function(){function l(m){if(!c){if(c=!0,u=m,m=r(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return f=g}return f=m}if(g=f,sae(u,m))return g;var y=r(m);return i!==void 0&&i(g,y)?g:(u=m,f=y)}var c=!1,u,f,p=t===void 0?null:t;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,t,r,i]);var a=oae(n,s[0],s[1]);return lae(function(){o.hasValue=!0,o.value=a},[a]),uae(a),a};P5.exports=O5;var fae=P5.exports;const dae=fc(fae),{useDebugValue:hae}=q,{useSyncExternalStoreWithSelector:pae}=dae;const mae=n=>n;function gae(n,e=mae,t){const r=pae(n.subscribe,n.getState,n.getServerState||n.getInitialState,e,t);return hae(r),r}const yD=n=>{const e=typeof n=="function"?joe(n):n,t=(r,i)=>gae(e,r,i);return Object.assign(t,e),t},vae=n=>n?yD(n):yD;function Ta(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function B5(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.12.4
 * https://gsap.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ds={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},Zd={duration:.5,overwrite:!1,delay:0},fR,oi,Qn,js=1e8,un=1/js,fM=Math.PI*2,yae=fM/4,_ae=0,D5=Math.sqrt,xae=Math.cos,Sae=Math.sin,Ir=function(e){return typeof e=="string"},Zn=function(e){return typeof e=="function"},Za=function(e){return typeof e=="number"},dR=function(e){return typeof e>"u"},oa=function(e){return typeof e=="object"},Hi=function(e){return e!==!1},hR=function(){return typeof window<"u"},qv=function(e){return Zn(e)||Ir(e)},k5=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ai=Array.isArray,dM=/(?:-?\.?\d|\.)+/gi,N5=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,cd=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,TA=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,F5=/[+-]=-?[.\d]+/,U5=/[^,'"\[\]\s]+/gi,bae=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,kn,Ds,hM,pR,gs={},P_={},z5,H5=function(e){return(P_=Lu(e,gs))&&Wi},mR=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Fm=function(e,t){return!t&&console.warn(e)},G5=function(e,t){return e&&(gs[e]=t)&&P_&&(P_[e]=t)||gs},Um=function(){return 0},Aae={suppressEvents:!0,isStart:!0,kill:!1},Ty={suppressEvents:!0,kill:!1},wae={suppressEvents:!0},gR={},ql=[],pM={},V5,ts={},CA={},_D=30,Cy=[],vR="",yR=function(e){var t=e[0],r,i;if(oa(t)||Zn(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=Cy.length;i--&&!Cy[i].targetTest(t););r=Cy[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new hH(e[i],r)))||e.splice(i,1);return e},yu=function(e){return e._gsap||yR(Xs(e))[0]._gsap},$5=function(e,t,r){return(r=e[t])&&Zn(r)?e[t]():dR(r)&&e.getAttribute&&e.getAttribute(t)||r},Gi=function(e,t){return(e=e.split(",")).forEach(t)||e},rr=function(e){return Math.round(e*1e5)/1e5||0},Pr=function(e){return Math.round(e*1e7)/1e7||0},wd=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},Eae=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},O_=function(){var e=ql.length,t=ql.slice(0),r,i;for(pM={},ql.length=0,r=0;r<e;r++)i=t[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},W5=function(e,t,r,i){ql.length&&!oi&&O_(),e.render(t,r,i||oi&&t<0&&(e._initted||e._startAt)),ql.length&&!oi&&O_()},j5=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(U5).length<2?t:Ir(e)?e.trim():e},X5=function(e){return e},Zs=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},Mae=function(e){return function(t,r){for(var i in r)i in t||i==="duration"&&e||i==="ease"||(t[i]=r[i])}},Lu=function(e,t){for(var r in t)e[r]=t[r];return e},xD=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=oa(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},L_=function(e,t){var r={},i;for(i in e)i in t||(r[i]=e[i]);return r},Qp=function(e){var t=e.parent||kn,r=e.keyframes?Mae(ai(e.keyframes)):Zs;if(Hi(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},Tae=function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0},K5=function(e,t,r,i,s){r===void 0&&(r="_first"),i===void 0&&(i="_last");var o=e[i],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},t1=function(e,t,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[r]===t&&(e[r]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},lc=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},_u=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},Cae=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},mM=function(e,t,r,i){return e._startAt&&(oi?e._startAt.revert(Ty):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},Rae=function n(e){return!e||e._ts&&n(e.parent)},SD=function(e){return e._repeat?eh(e._tTime,e=e.duration()+e._rDelay)*e:0},eh=function(e,t){var r=Math.floor(e/=t);return e&&r===e?r-1:r},I_=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},n1=function(e){return e._end=Pr(e._start+(e._tDur/Math.abs(e._ts||e._rts||un)||0))},r1=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Pr(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),n1(e),r._dirty||_u(r,e)),e},Y5=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=I_(e.rawTime(),t),(!t._dur||Cg(0,t.totalDuration(),r)-t._tTime>un)&&t.render(r,!0)),_u(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-un}},Vo=function(e,t,r,i){return t.parent&&lc(t),t._start=Pr((Za(r)?r:r||e!==kn?Is(e,r,t):e._time)+t._delay),t._end=Pr(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),K5(e,t,"_first","_last",e._sort?"_start":0),gM(t)||(e._recent=t),i||Y5(e,t),e._ts<0&&r1(e,e._tTime),e},J5=function(e,t){return(gs.ScrollTrigger||mR("scrollTrigger",t))&&gs.ScrollTrigger.create(t,e)},q5=function(e,t,r,i,s){if(xR(e,t,s),!e._initted)return 1;if(!r&&e._pt&&!oi&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&V5!==is.frame)return ql.push(e),e._lazy=[s,i],1},Pae=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},gM=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},Oae=function(e,t,r,i){var s=e.ratio,o=t<0||!t&&(!e._start&&Pae(e)&&!(!e._initted&&gM(e))||(e._ts<0||e._dp._ts<0)&&!gM(e))?0:1,a=e._rDelay,l=0,c,u,f;if(a&&e._repeat&&(l=Cg(0,e._tDur,t),u=eh(l,a),e._yoyo&&u&1&&(o=1-o),u!==eh(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||oi||i||e._zTime===un||!t&&e._zTime){if(!e._initted&&q5(e,t,i,r,l))return;for(f=e._zTime,e._zTime=t||(r?un:0),r||(r=t&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;t<0&&mM(e,t,r,!0),e._onUpdate&&!r&&ls(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&ls(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&lc(e,1),!r&&!oi&&(ls(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},Lae=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},th=function(e,t,r,i){var s=e._repeat,o=Pr(t)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Pr(o*(s+1)+e._rDelay*s):o,a>0&&!i&&r1(e,e._tTime=e._tDur*a),e.parent&&n1(e),r||_u(e.parent,e),e},bD=function(e){return e instanceof bi?_u(e):th(e,e._dur)},Iae={_start:0,endTime:Um,totalDuration:Um},Is=function n(e,t,r){var i=e.labels,s=e._recent||Iae,o=e.duration()>=js?s.endTime(!1):e._dur,a,l,c;return Ir(t)&&(isNaN(t)||t in i)?(l=t.charAt(0),c=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:r).totalDuration()/100:1)):a<0?(t in i||(i[t]=o),i[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&r&&(l=l/100*(ai(r)?r[0]:r).totalDuration()),a>1?n(e,t.substr(0,a-1),r)+l:o+l)):t==null?o:+t},Zp=function(e,t,r){var i=Za(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],a,l;if(i&&(o.duration=t[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Hi(l.vars.inherit)&&l.parent;o.immediateRender=Hi(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new ur(t[0],o,t[s+1])},xc=function(e,t){return e||e===0?t(e):t},Cg=function(e,t,r){return r<e?e:r>t?t:r},ni=function(e,t){return!Ir(e)||!(t=bae.exec(e))?"":t[1]},Bae=function(e,t,r){return xc(r,function(i){return Cg(e,t,i)})},vM=[].slice,Q5=function(e,t){return e&&oa(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&oa(e[0]))&&!e.nodeType&&e!==Ds},Dae=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return Ir(i)&&!t||Q5(i,1)?(s=r).push.apply(s,Xs(i)):r.push(i)})||r},Xs=function(e,t,r){return Qn&&!t&&Qn.selector?Qn.selector(e):Ir(e)&&!r&&(hM||!nh())?vM.call((t||pR).querySelectorAll(e),0):ai(e)?Dae(e,r):Q5(e)?vM.call(e,0):e?[e]:[]},yM=function(e){return e=Xs(e)[0]||Fm("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return Xs(t,r.querySelectorAll?r:r===e?Fm("Invalid scope")||pR.createElement("div"):e)}},Z5=function(e){return e.sort(function(){return .5-Math.random()})},eH=function(e){if(Zn(e))return e;var t=oa(e)?e:{each:e},r=xu(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,c=t.axis,u=i,f=i;return Ir(i)?u=f={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(u=i[0],f=i[1]),function(p,m,g){var y=(g||t).length,_=o[y],v,x,S,A,M,E,R,I,T;if(!_){if(T=t.grid==="auto"?0:(t.grid||[1,js])[1],!T){for(R=-js;R<(R=g[T++].getBoundingClientRect().left)&&T<y;);T<y&&T--}for(_=o[y]=[],v=l?Math.min(T,y)*u-.5:i%T,x=T===js?0:l?y*f/T-.5:i/T|0,R=0,I=js,E=0;E<y;E++)S=E%T-v,A=x-(E/T|0),_[E]=M=c?Math.abs(c==="y"?A:S):D5(S*S+A*A),M>R&&(R=M),M<I&&(I=M);i==="random"&&Z5(_),_.max=R-I,_.min=I,_.v=y=(parseFloat(t.amount)||parseFloat(t.each)*(T>y?y-1:c?c==="y"?y/T:T:Math.max(T,y/T))||0)*(i==="edges"?-1:1),_.b=y<0?s-y:s,_.u=ni(t.amount||t.each)||0,r=r&&y<0?uH(r):r}return y=(_[p]-_.min)/_.max||0,Pr(_.b+(r?r(y):y)*_.v)+_.u}},_M=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=Pr(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(Za(r)?0:ni(r))}},tH=function(e,t){var r=ai(e),i,s;return!r&&oa(e)&&(i=r=e.radius||js,e.values?(e=Xs(e.values),(s=!Za(e[0]))&&(i*=i)):e=_M(e.increment)),xc(t,r?Zn(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=js,u=0,f=e.length,p,m;f--;)s?(p=e[f].x-a,m=e[f].y-l,p=p*p+m*m):p=Math.abs(e[f]-a),p<c&&(c=p,u=f);return u=!i||c<=i?e[u]:o,s||u===o||Za(o)?u:u+ni(o)}:_M(e))},nH=function(e,t,r,i){return xc(ai(e)?!t:r===!0?!!(r=0):!i,function(){return ai(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*i)/i})},kae=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(s,o){return o(s)},i)}},Nae=function(e,t){return function(r){return e(parseFloat(r))+(t||ni(r))}},Fae=function(e,t,r){return iH(e,t,0,1,r)},rH=function(e,t,r){return xc(r,function(i){return e[~~t(i)]})},Uae=function n(e,t,r){var i=t-e;return ai(e)?rH(e,n(0,e.length),t):xc(r,function(s){return(i+(s-e)%i)%i+e})},zae=function n(e,t,r){var i=t-e,s=i*2;return ai(e)?rH(e,n(0,e.length-1),t):xc(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},zm=function(e){for(var t=0,r="",i,s,o,a;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?U5:dM),r+=e.substr(t,i-t)+nH(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return r+e.substr(t,e.length-t)},iH=function(e,t,r,i,s){var o=t-e,a=i-r;return xc(s,function(l){return r+((l-e)/o*a||0)})},Hae=function n(e,t,r,i){var s=isNaN(e+t)?0:function(m){return(1-m)*e+m*t};if(!s){var o=Ir(e),a={},l,c,u,f,p;if(r===!0&&(i=1)&&(r=null),o)e={p:e},t={p:t};else if(ai(e)&&!ai(t)){for(u=[],f=e.length,p=f-2,c=1;c<f;c++)u.push(n(e[c-1],e[c]));f--,s=function(g){g*=f;var y=Math.min(p,~~g);return u[y](g-y)},r=t}else i||(e=Lu(ai(e)?[]:{},e));if(!u){for(l in t)_R.call(a,e,l,"get",t[l]);s=function(g){return AR(g,a)||(o?e.p:e)}}}return xc(r,s)},AD=function(e,t,r){var i=e.labels,s=js,o,a,l;for(o in i)a=i[o]-t,a<0==!!r&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},ls=function(e,t,r){var i=e.vars,s=i[t],o=Qn,a=e._ctx,l,c,u;if(s)return l=i[t+"Params"],c=i.callbackScope||e,r&&ql.length&&O_(),a&&(Qn=a),u=l?s.apply(c,l):s.call(c),Qn=o,u},Ip=function(e){return lc(e),e.scrollTrigger&&e.scrollTrigger.kill(!!oi),e.progress()<1&&ls(e,"onInterrupt"),e},ud,sH=[],oH=function(e){if(hR()&&e){e=!e.name&&e.default||e;var t=e.name,r=Zn(e),i=t&&!r&&e.init?function(){this._props=[]}:e,s={init:Um,render:AR,add:_R,kill:rle,modifier:nle,rawVars:0},o={targetTest:0,get:0,getSetter:bR,aliases:{},register:0};if(nh(),e!==i){if(ts[t])return;Zs(i,Zs(L_(e,s),o)),Lu(i.prototype,Lu(s,L_(e,o))),ts[i.prop=t]=i,e.targetTest&&(Cy.push(i),gR[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}G5(t,i),e.register&&e.register(Wi,i,Vi)}else e&&sH.push(e)},cn=255,Bp={aqua:[0,cn,cn],lime:[0,cn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,cn],navy:[0,0,128],white:[cn,cn,cn],olive:[128,128,0],yellow:[cn,cn,0],orange:[cn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[cn,0,0],pink:[cn,192,203],cyan:[0,cn,cn],transparent:[cn,cn,cn,0]},RA=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*cn+.5|0},aH=function(e,t,r){var i=e?Za(e)?[e>>16,e>>8&cn,e&cn]:0:Bp.black,s,o,a,l,c,u,f,p,m,g;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Bp[e])i=Bp[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&cn,i&cn,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&cn,e&cn]}else if(e.substr(0,3)==="hsl"){if(i=g=e.match(dM),!t)l=+i[0]%360/360,c=+i[1]/100,u=+i[2]/100,o=u<=.5?u*(c+1):u+c-u*c,s=u*2-o,i.length>3&&(i[3]*=1),i[0]=RA(l+1/3,s,o),i[1]=RA(l,s,o),i[2]=RA(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(N5),r&&i.length<4&&(i[3]=1),i}else i=e.match(dM)||Bp.transparent;i=i.map(Number)}return t&&!g&&(s=i[0]/cn,o=i[1]/cn,a=i[2]/cn,f=Math.max(s,o,a),p=Math.min(s,o,a),u=(f+p)/2,f===p?l=c=0:(m=f-p,c=u>.5?m/(2-f-p):m/(f+p),l=f===s?(o-a)/m+(o<a?6:0):f===o?(a-s)/m+2:(s-o)/m+4,l*=60),i[0]=~~(l+.5),i[1]=~~(c*100+.5),i[2]=~~(u*100+.5)),r&&i.length<4&&(i[3]=1),i},lH=function(e){var t=[],r=[],i=-1;return e.split(Ql).forEach(function(s){var o=s.match(cd)||[];t.push.apply(t,o),r.push(i+=o.length+1)}),t.c=r,t},wD=function(e,t,r){var i="",s=(e+i).match(Ql),o=t?"hsla(":"rgba(",a=0,l,c,u,f;if(!s)return e;if(s=s.map(function(p){return(p=aH(p,t,1))&&o+(t?p[0]+","+p[1]+"%,"+p[2]+"%,"+p[3]:p.join(","))+")"}),r&&(u=lH(e),l=r.c,l.join(i)!==u.c.join(i)))for(c=e.replace(Ql,"1").split(cd),f=c.length-1;a<f;a++)i+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:r).shift());if(!c)for(c=e.split(Ql),f=c.length-1;a<f;a++)i+=c[a]+s[a];return i+c[f]},Ql=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Bp)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),Gae=/hsl[a]?\(/,cH=function(e){var t=e.join(" "),r;if(Ql.lastIndex=0,Ql.test(t))return r=Gae.test(t),e[1]=wD(e[1],r),e[0]=wD(e[0],r,lH(e[1])),!0},Hm,is=function(){var n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,o=s,a=[],l,c,u,f,p,m,g=function y(_){var v=n()-i,x=_===!0,S,A,M,E;if(v>e&&(r+=v-t),i+=v,M=i-r,S=M-o,(S>0||x)&&(E=++f.frame,p=M-f.time*1e3,f.time=M=M/1e3,o+=S+(S>=s?4:s-S),A=1),x||(l=c(y)),A)for(m=0;m<a.length;m++)a[m](M,p,E,_)};return f={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(_){return p/(1e3/(_||60))},wake:function(){z5&&(!hM&&hR()&&(Ds=hM=window,pR=Ds.document||{},gs.gsap=Wi,(Ds.gsapVersions||(Ds.gsapVersions=[])).push(Wi.version),H5(P_||Ds.GreenSockGlobals||!Ds.gsap&&Ds||{}),u=Ds.requestAnimationFrame,sH.forEach(oH)),l&&f.sleep(),c=u||function(_){return setTimeout(_,o-f.time*1e3+1|0)},Hm=1,g(2))},sleep:function(){(u?Ds.cancelAnimationFrame:clearTimeout)(l),Hm=0,c=Um},lagSmoothing:function(_,v){e=_||1/0,t=Math.min(v||33,e)},fps:function(_){s=1e3/(_||240),o=f.time*1e3+s},add:function(_,v,x){var S=v?function(A,M,E,R){_(A,M,E,R),f.remove(S)}:_;return f.remove(_),a[x?"unshift":"push"](S),nh(),S},remove:function(_,v){~(v=a.indexOf(_))&&a.splice(v,1)&&m>=v&&m--},_listeners:a},f}(),nh=function(){return!Hm&&is.wake()},Wt={},Vae=/^[\d.\-M][\d.\-,\s]/,$ae=/["']/g,Wae=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,l,c;s<o;s++)l=r[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),t[i]=isNaN(c)?c.replace($ae,"").trim():+c,i=l.substr(a+1).trim();return t},jae=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)},Xae=function(e){var t=(e+"").split("("),r=Wt[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[Wae(t[1])]:jae(e).split(",").map(j5)):Wt._CE&&Vae.test(e)?Wt._CE("",e):r},uH=function(e){return function(t){return 1-e(1-t)}},fH=function n(e,t){for(var r=e._first,i;r;)r instanceof bi?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},xu=function(e,t){return e&&(Zn(e)?e:Wt[e]||Xae(e))||t},Wu=function(e,t,r,i){r===void 0&&(r=function(l){return 1-t(1-l)}),i===void 0&&(i=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:r,easeInOut:i},o;return Gi(e,function(a){Wt[a]=gs[a]=s,Wt[o=a.toLowerCase()]=r;for(var l in s)Wt[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Wt[a+"."+l]=s[l]}),s},dH=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},PA=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),o=s/fM*(Math.asin(1/i)||0),a=function(u){return u===1?1:i*Math.pow(2,-10*u)*Sae((u-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:dH(a);return s=fM/s,l.config=function(c,u){return n(e,c,u)},l},OA=function n(e,t){t===void 0&&(t=1.70158);var r=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:dH(r);return i.config=function(s){return n(e,s)},i};Gi("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;Wu(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});Wt.Linear.easeNone=Wt.none=Wt.Linear.easeIn;Wu("Elastic",PA("in"),PA("out"),PA());(function(n,e){var t=1/e,r=2*t,i=2.5*t,s=function(a){return a<t?n*a*a:a<r?n*Math.pow(a-1.5/e,2)+.75:a<i?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};Wu("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Wu("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});Wu("Circ",function(n){return-(D5(1-n*n)-1)});Wu("Sine",function(n){return n===1?1:-xae(n*yae)+1});Wu("Back",OA("in"),OA("out"),OA());Wt.SteppedEase=Wt.steps=gs.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,i=e+(t?0:1),s=t?1:0,o=1-un;return function(a){return((i*Cg(0,o,a)|0)+s)*r}}};Zd.ease=Wt["quad.out"];Gi("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return vR+=n+","+n+"Params,"});var hH=function(e,t){this.id=_ae++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:$5,this.set=t?t.getSetter:bR},Gm=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,th(this,+t.duration,1,1),this.data=t.data,Qn&&(this._ctx=Qn,Qn.data.push(this)),Hm||is.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,th(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(nh(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(r1(this,r),!s._dp||s.parent||Y5(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Vo(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===un||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),W5(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+SD(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+SD(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?eh(this._tTime,s)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-un?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?I_(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-un?0:this._rts,this.totalTime(Cg(-Math.abs(this._delay),this._tDur,s),i!==!1),n1(this),Cae(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(nh(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==un&&(this._tTime-=un)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Vo(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(Hi(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?I_(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=wae);var i=oi;return oi=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),oi=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,bD(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,bD(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(Is(this,r),Hi(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,Hi(i))},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-un:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-un,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-un)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=Zn(r)?r:X5,a=function(){var c=i.then;i.then=null,Zn(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=c),s(o),i.then=c};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){Ip(this)},n}();Zs(Gm.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-un,_prom:0,_ps:!1,_rts:1});var bi=function(n){B5(e,n);function e(r,i){var s;return r===void 0&&(r={}),s=n.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=Hi(r.sortChildren),kn&&Vo(r.parent||kn,Ta(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&J5(Ta(s),r.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return Zp(0,arguments,this),this},t.from=function(i,s,o){return Zp(1,arguments,this),this},t.fromTo=function(i,s,o,a){return Zp(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,Qp(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new ur(i,s,Is(this,o),1),this},t.call=function(i,s,o){return Vo(this,ur.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new ur(i,o,Is(this,l)),this},t.staggerFrom=function(i,s,o,a,l,c,u){return o.runBackwards=1,Qp(o).immediateRender=Hi(o.immediateRender),this.staggerTo(i,s,o,a,l,c,u)},t.staggerFromTo=function(i,s,o,a,l,c,u,f){return a.startAt=o,Qp(a).immediateRender=Hi(a.immediateRender),this.staggerTo(i,s,a,l,c,u,f)},t.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=i<=0?0:Pr(i),f=this._zTime<0!=i<0&&(this._initted||!c),p,m,g,y,_,v,x,S,A,M,E,R;if(this!==kn&&u>l&&i>=0&&(u=l),u!==this._tTime||o||f){if(a!==this._time&&c&&(u+=this._time-a,i+=this._time-a),p=u,A=this._start,S=this._ts,v=!S,f&&(c||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(E=this._yoyo,_=c+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(_*100+i,s,o);if(p=Pr(u%_),u===l?(y=this._repeat,p=c):(y=~~(u/_),y&&y===u/_&&(p=c,y--),p>c&&(p=c)),M=eh(this._tTime,_),!a&&this._tTime&&M!==y&&this._tTime-M*_-this._dur<=0&&(M=y),E&&y&1&&(p=c-p,R=1),y!==M&&!this._lock){var I=E&&M&1,T=I===(E&&y&1);if(y<M&&(I=!I),a=I?0:u%c?c:u,this._lock=1,this.render(a||(R?0:Pr(y*_)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&ls(this,"onRepeat"),this.vars.repeatRefresh&&!R&&(this.invalidate()._lock=1),a&&a!==this._time||v!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,T&&(this._lock=2,a=I?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!R&&this.invalidate()),this._lock=0,!this._ts&&!v)return this;fH(this,R)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(x=Lae(this,Pr(a),Pr(p)),x&&(u-=p-(p=x._start))),this._tTime=u,this._time=p,this._act=!S,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&p&&!s&&!y&&(ls(this,"onStart"),this._tTime!==u))return this;if(p>=a&&i>=0)for(m=this._first;m;){if(g=m._next,(m._act||p>=m._start)&&m._ts&&x!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(p-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(p-m._start)*m._ts,s,o),p!==this._time||!this._ts&&!v){x=0,g&&(u+=this._zTime=-un);break}}m=g}else{m=this._last;for(var P=i<0?i:p;m;){if(g=m._prev,(m._act||P<=m._end)&&m._ts&&x!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(P-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(P-m._start)*m._ts,s,o||oi&&(m._initted||m._startAt)),p!==this._time||!this._ts&&!v){x=0,g&&(u+=this._zTime=P?-un:un);break}}m=g}}if(x&&!s&&(this.pause(),x.render(p>=a?0:-un)._zTime=p>=a?1:-1,this._ts))return this._start=A,n1(this),this.render(i,s,o);this._onUpdate&&!s&&ls(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(A===this._start||Math.abs(S)!==Math.abs(this._ts))&&(this._lock||((i||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&lc(this,1),!s&&!(i<0&&!a)&&(u||a||!l)&&(ls(this,u===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(Za(s)||(s=Is(this,s,i)),!(i instanceof Gm)){if(ai(i))return i.forEach(function(a){return o.add(a,s)}),this;if(Ir(i))return this.addLabel(i,s);if(Zn(i))i=ur.delayedCall(0,i);else return this}return this!==i?Vo(this,i,s):this},t.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-js);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof ur?s&&l.push(c):(o&&l.push(c),i&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return Ir(i)?this.removeLabel(i):Zn(i)?this.killTweensOf(i):(t1(this,i),i===this._recent&&(this._recent=this._last),_u(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Pr(is.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=Is(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var a=ur.delayedCall(0,s||Um,o);return a.data="isPause",this._hasPause=1,Vo(this,a,Is(this,i))},t.removePause=function(i){var s=this._first;for(i=Is(this,i);s;)s._start===i&&s.data==="isPause"&&lc(s),s=s._next},t.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)kl!==a[l]&&a[l].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],a=Xs(i),l=this._first,c=Za(s),u;l;)l instanceof ur?Eae(l._targets,a)&&(c?(!kl||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,a=Is(o,i),l=s,c=l.startAt,u=l.onStart,f=l.onStartParams,p=l.immediateRender,m,g=ur.to(o,Zs({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||un,onStart:function(){if(o.pause(),!m){var _=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());g._dur!==_&&th(g,_,0,1).render(g._time,!0,!0),m=1}u&&u.apply(g,f||[])}},s));return p?g.render(0):g},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,Zs({startAt:{time:Is(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),AD(this,Is(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),AD(this,Is(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+un)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=i);return _u(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),_u(this)},t.totalDuration=function(i){var s=0,o=this,a=o._last,l=js,c,u,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(f=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,Vo(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;th(o,o===kn&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(kn._ts&&(W5(kn,I_(i,kn)),V5=is.frame),is.frame>=_D){_D+=ds.autoSleep||120;var s=kn._first;if((!s||!s._ts)&&ds.autoSleep&&is._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||is.sleep()}}},e}(Gm);Zs(bi.prototype,{_lock:0,_hasPause:0,_forcing:0});var Kae=function(e,t,r,i,s,o,a){var l=new Vi(this._pt,e,t,0,1,_H,null,s),c=0,u=0,f,p,m,g,y,_,v,x;for(l.b=r,l.e=i,r+="",i+="",(v=~i.indexOf("random("))&&(i=zm(i)),o&&(x=[r,i],o(x,e,t),r=x[0],i=x[1]),p=r.match(TA)||[];f=TA.exec(i);)g=f[0],y=i.substring(c,f.index),m?m=(m+1)%5:y.substr(-5)==="rgba("&&(m=1),g!==p[u++]&&(_=parseFloat(p[u-1])||0,l._pt={_next:l._pt,p:y||u===1?y:",",s:_,c:g.charAt(1)==="="?wd(_,g)-_:parseFloat(g)-_,m:m&&m<4?Math.round:0},c=TA.lastIndex);return l.c=c<i.length?i.substring(c,i.length):"",l.fp=a,(F5.test(i)||v)&&(l.e=0),this._pt=l,l},_R=function(e,t,r,i,s,o,a,l,c,u){Zn(i)&&(i=i(s||0,e,o));var f=e[t],p=r!=="get"?r:Zn(f)?c?e[t.indexOf("set")||!Zn(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():f,m=Zn(f)?c?Zae:vH:SR,g;if(Ir(i)&&(~i.indexOf("random(")&&(i=zm(i)),i.charAt(1)==="="&&(g=wd(p,i)+(ni(p)||0),(g||g===0)&&(i=g))),!u||p!==i||xM)return!isNaN(p*i)&&i!==""?(g=new Vi(this._pt,e,t,+p||0,i-(p||0),typeof f=="boolean"?tle:yH,0,m),c&&(g.fp=c),a&&g.modifier(a,this,e),this._pt=g):(!f&&!(t in e)&&mR(t,i),Kae.call(this,e,t,p,i,m,l||ds.stringFilter,c))},Yae=function(e,t,r,i,s){if(Zn(e)&&(e=em(e,s,t,r,i)),!oa(e)||e.style&&e.nodeType||ai(e)||k5(e))return Ir(e)?em(e,s,t,r,i):e;var o={},a;for(a in e)o[a]=em(e[a],s,t,r,i);return o},pH=function(e,t,r,i,s,o){var a,l,c,u;if(ts[e]&&(a=new ts[e]).init(s,a.rawVars?t[e]:Yae(t[e],i,s,o,r),r,i,o)!==!1&&(r._pt=l=new Vi(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==ud))for(c=r._ptLookup[r._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},kl,xM,xR=function n(e,t,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,c=i.onUpdate,u=i.runBackwards,f=i.yoyoEase,p=i.keyframes,m=i.autoRevert,g=e._dur,y=e._startAt,_=e._targets,v=e.parent,x=v&&v.data==="nested"?v.vars.targets:_,S=e._overwrite==="auto"&&!fR,A=e.timeline,M,E,R,I,T,P,B,F,V,k,z,W,K;if(A&&(!p||!s)&&(s="none"),e._ease=xu(s,Zd.ease),e._yEase=f?uH(xu(f===!0?s:f,Zd.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!A&&!!i.runBackwards,!A||p&&!i.stagger){if(F=_[0]?yu(_[0]).harness:0,W=F&&i[F.prop],M=L_(i,gR),y&&(y._zTime<0&&y.progress(1),t<0&&u&&a&&!m?y.render(-1,!0):y.revert(u&&g?Ty:Aae),y._lazy=0),o){if(lc(e._startAt=ur.set(_,Zs({data:"isStart",overwrite:!1,parent:v,immediateRender:!0,lazy:!y&&Hi(l),startAt:null,delay:0,onUpdate:c&&function(){return ls(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(oi||!a&&!m)&&e._startAt.revert(Ty),a&&g&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(u&&g&&!y){if(t&&(a=!1),R=Zs({overwrite:!1,data:"isFromStart",lazy:a&&!y&&Hi(l),immediateRender:a,stagger:0,parent:v},M),W&&(R[F.prop]=W),lc(e._startAt=ur.set(_,R)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(oi?e._startAt.revert(Ty):e._startAt.render(-1,!0)),e._zTime=t,!a)n(e._startAt,un,un);else if(!t)return}for(e._pt=e._ptCache=0,l=g&&Hi(l)||l&&!g,E=0;E<_.length;E++){if(T=_[E],B=T._gsap||yR(_)[E]._gsap,e._ptLookup[E]=k={},pM[B.id]&&ql.length&&O_(),z=x===_?E:x.indexOf(T),F&&(V=new F).init(T,W||M,e,z,x)!==!1&&(e._pt=I=new Vi(e._pt,T,V.name,0,1,V.render,V,0,V.priority),V._props.forEach(function(N){k[N]=I}),V.priority&&(P=1)),!F||W)for(R in M)ts[R]&&(V=pH(R,M,e,z,T,x))?V.priority&&(P=1):k[R]=I=_R.call(e,T,R,"get",M[R],z,x,0,i.stringFilter);e._op&&e._op[E]&&e.kill(T,e._op[E]),S&&e._pt&&(kl=e,kn.killTweensOf(T,k,e.globalTime(t)),K=!e.parent,kl=0),e._pt&&l&&(pM[B.id]=1)}P&&xH(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!K,p&&t<=0&&A.render(js,!0,!0)},Jae=function(e,t,r,i,s,o,a,l){var c=(e._pt&&e._ptCache||(e._ptCache={}))[t],u,f,p,m;if(!c)for(c=e._ptCache[t]=[],p=e._ptLookup,m=e._targets.length;m--;){if(u=p[m][t],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==t&&u.fp!==t;)u=u._next;if(!u)return xM=1,e.vars[t]="+=0",xR(e,a),xM=0,l?Fm(t+" not eligible for reset"):1;c.push(u)}for(m=c.length;m--;)f=c[m],u=f._pt||f,u.s=(i||i===0)&&!s?i:u.s+(i||0)+o*u.c,u.c=r-u.s,f.e&&(f.e=rr(r)+ni(f.e)),f.b&&(f.b=u.s+ni(f.b))},qae=function(e,t){var r=e[0]?yu(e[0]).harness:0,i=r&&r.aliases,s,o,a,l;if(!i)return t;s=Lu({},t);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},Qae=function(e,t,r,i){var s=t.ease||i||"power1.inOut",o,a;if(ai(t))a=r[e]||(r[e]=[]),t.forEach(function(l,c){return a.push({t:c/(t.length-1)*100,v:l,e:s})});else for(o in t)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},em=function(e,t,r,i,s){return Zn(e)?e.call(t,r,i,s):Ir(e)&&~e.indexOf("random(")?zm(e):e},mH=vR+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",gH={};Gi(mH+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return gH[n]=1});var ur=function(n){B5(e,n);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=n.call(this,o?i:Qp(i))||this;var l=a.vars,c=l.duration,u=l.delay,f=l.immediateRender,p=l.stagger,m=l.overwrite,g=l.keyframes,y=l.defaults,_=l.scrollTrigger,v=l.yoyoEase,x=i.parent||kn,S=(ai(r)||k5(r)?Za(r[0]):"length"in i)?[r]:Xs(r),A,M,E,R,I,T,P,B;if(a._targets=S.length?yR(S):Fm("GSAP target "+r+" not found. https://gsap.com",!ds.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=m,g||p||qv(c)||qv(u)){if(i=a.vars,A=a.timeline=new bi({data:"nested",defaults:y||{},targets:x&&x.data==="nested"?x.vars.targets:S}),A.kill(),A.parent=A._dp=Ta(a),A._start=0,p||qv(c)||qv(u)){if(R=S.length,P=p&&eH(p),oa(p))for(I in p)~mH.indexOf(I)&&(B||(B={}),B[I]=p[I]);for(M=0;M<R;M++)E=L_(i,gH),E.stagger=0,v&&(E.yoyoEase=v),B&&Lu(E,B),T=S[M],E.duration=+em(c,Ta(a),M,T,S),E.delay=(+em(u,Ta(a),M,T,S)||0)-a._delay,!p&&R===1&&E.delay&&(a._delay=u=E.delay,a._start+=u,E.delay=0),A.to(T,E,P?P(M,T,S):0),A._ease=Wt.none;A.duration()?c=u=0:a.timeline=0}else if(g){Qp(Zs(A.vars.defaults,{ease:"none"})),A._ease=xu(g.ease||i.ease||"none");var F=0,V,k,z;if(ai(g))g.forEach(function(W){return A.to(S,W,">")}),A.duration();else{E={};for(I in g)I==="ease"||I==="easeEach"||Qae(I,g[I],E,g.easeEach);for(I in E)for(V=E[I].sort(function(W,K){return W.t-K.t}),F=0,M=0;M<V.length;M++)k=V[M],z={ease:k.e,duration:(k.t-(M?V[M-1].t:0))/100*c},z[I]=k.v,A.to(S,z,F),F+=z.duration;A.duration()<c&&A.to({},{duration:c-A.duration()})}}c||a.duration(c=A.duration())}else a.timeline=0;return m===!0&&!fR&&(kl=Ta(a),kn.killTweensOf(S),kl=0),Vo(x,Ta(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(f||!c&&!g&&a._start===Pr(x._time)&&Hi(f)&&Rae(Ta(a))&&x.data!=="nested")&&(a._tTime=-un,a.render(Math.max(0,-u)||0)),_&&J5(Ta(a),_),a}var t=e.prototype;return t.render=function(i,s,o){var a=this._time,l=this._tDur,c=this._dur,u=i<0,f=i>l-un&&!u?l:i<un?0:i,p,m,g,y,_,v,x,S,A;if(!c)Oae(this,i,s,o);else if(f!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(p=f,S=this.timeline,this._repeat){if(y=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(y*100+i,s,o);if(p=Pr(f%y),f===l?(g=this._repeat,p=c):(g=~~(f/y),g&&g===Pr(f/y)&&(p=c,g--),p>c&&(p=c)),v=this._yoyo&&g&1,v&&(A=this._yEase,p=c-p),_=eh(this._tTime,y),p===a&&!o&&this._initted&&g===_)return this._tTime=f,this;g!==_&&(S&&this._yEase&&fH(S,v),this.vars.repeatRefresh&&!v&&!this._lock&&this._time!==c&&this._initted&&(this._lock=o=1,this.render(Pr(y*g),!0).invalidate()._lock=0))}if(!this._initted){if(q5(this,u?i:p,o,s,f))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&g!==_))return this;if(c!==this._dur)return this.render(i,s,o)}if(this._tTime=f,this._time=p,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=x=(A||this._ease)(p/c),this._from&&(this.ratio=x=1-x),p&&!a&&!s&&!g&&(ls(this,"onStart"),this._tTime!==f))return this;for(m=this._pt;m;)m.r(x,m.d),m=m._next;S&&S.render(i<0?i:!p&&v?-un:S._dur*S._ease(p/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(u&&mM(this,i,s,o),ls(this,"onUpdate")),this._repeat&&g!==_&&this.vars.onRepeat&&!s&&this.parent&&ls(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(u&&!this._onUpdate&&mM(this,i,!0,!0),(i||!c)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&lc(this,1),!s&&!(u&&!a)&&(f||a||v)&&(ls(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,a,l){Hm||is.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||xR(this,c),u=this._ease(c/this._dur),Jae(this,i,s,o,a,u,c,l)?this.resetTo(i,s,o,a,1):(r1(this,0),this.parent||K5(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Ip(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,kl&&kl.vars.overwrite!==!0)._first||Ip(this),this.parent&&o!==this.timeline.totalDuration()&&th(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?Xs(i):a,c=this._ptLookup,u=this._pt,f,p,m,g,y,_,v;if((!s||s==="all")&&Tae(a,l))return s==="all"&&(this._pt=0),Ip(this);for(f=this._op=this._op||[],s!=="all"&&(Ir(s)&&(y={},Gi(s,function(x){return y[x]=1}),s=y),s=qae(a,s)),v=a.length;v--;)if(~l.indexOf(a[v])){p=c[v],s==="all"?(f[v]=s,g=p,m={}):(m=f[v]=f[v]||{},g=s);for(y in g)_=p&&p[y],_&&((!("kill"in _.d)||_.d.kill(y)===!0)&&t1(this,_,"_pt"),delete p[y]),m!=="all"&&(m[y]=1)}return this._initted&&!this._pt&&u&&Ip(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return Zp(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return Zp(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return kn.killTweensOf(i,s,o)},e}(Gm);Zs(ur.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Gi("staggerTo,staggerFrom,staggerFromTo",function(n){ur[n]=function(){var e=new bi,t=vM.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var SR=function(e,t,r){return e[t]=r},vH=function(e,t,r){return e[t](r)},Zae=function(e,t,r,i){return e[t](i.fp,r)},ele=function(e,t,r){return e.setAttribute(t,r)},bR=function(e,t){return Zn(e[t])?vH:dR(e[t])&&e.setAttribute?ele:SR},yH=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},tle=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},_H=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},AR=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},nle=function(e,t,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,r),s=o},rle=function(e){for(var t=this._pt,r,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?t1(this,t,"_pt"):t.dep||(r=1),t=i;return!r},ile=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},xH=function(e){for(var t=e._pt,r,i,s,o;t;){for(r=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=r}e._pt=s},Vi=function(){function n(t,r,i,s,o,a,l,c,u){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||yH,this.d=l||this,this.set=c||SR,this.pr=u||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=ile,this.m=r,this.mt=s,this.tween=i},n}();Gi(vR+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return gR[n]=1});gs.TweenMax=gs.TweenLite=ur;gs.TimelineLite=gs.TimelineMax=bi;kn=new bi({sortChildren:!1,defaults:Zd,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ds.stringFilter=cH;var Su=[],Ry={},sle=[],ED=0,ole=0,LA=function(e){return(Ry[e]||sle).map(function(t){return t()})},SM=function(){var e=Date.now(),t=[];e-ED>2&&(LA("matchMediaInit"),Su.forEach(function(r){var i=r.queries,s=r.conditions,o,a,l,c;for(a in i)o=Ds.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(r.revert(),l&&t.push(r))}),LA("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),ED=e,LA("matchMedia"))},SH=function(){function n(t,r){this.selector=r&&yM(r),this.data=[],this._r=[],this.isReverted=!1,this.id=ole++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,s){Zn(r)&&(s=i,i=r,r=Zn);var o=this,a=function(){var c=Qn,u=o.selector,f;return c&&c!==o&&c.data.push(o),s&&(o.selector=yM(s)),Qn=o,f=i.apply(o,arguments),Zn(f)&&o._r.push(f),Qn=c,o.selector=u,o.isReverted=!1,f};return o.last=a,r===Zn?a(o,function(l){return o.add(null,l)}):r?o[r]=a:a},e.ignore=function(r){var i=Qn;Qn=null,r(this),Qn=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof ur&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r?function(){for(var a=s.getTweens(),l=s.data.length,c;l--;)c=s.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(u){return a.splice(a.indexOf(u),1)}));for(a.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,f){return f.g-u.g||-1/0}).forEach(function(u){return u.t.revert(r)}),l=s.data.length;l--;)c=s.data[l],c instanceof bi?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof ur)&&c.revert&&c.revert(r);s._r.forEach(function(u){return u(r,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=Su.length;o--;)Su[o].id===this.id&&Su.splice(o,1)},e.revert=function(r){this.kill(r||{})},n}(),ale=function(){function n(t){this.contexts=[],this.scope=t}var e=n.prototype;return e.add=function(r,i,s){oa(r)||(r={matches:r});var o=new SH(0,s||this.scope),a=o.conditions={},l,c,u;Qn&&!o.selector&&(o.selector=Qn.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(c in r)c==="all"?u=1:(l=Ds.matchMedia(r[c]),l&&(Su.indexOf(o)<0&&Su.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(SM):l.addEventListener("change",SM)));return u&&i(o,function(f){return o.add(null,f)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),B_={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return oH(i)})},timeline:function(e){return new bi(e)},getTweensOf:function(e,t){return kn.getTweensOf(e,t)},getProperty:function(e,t,r,i){Ir(e)&&(e=Xs(e)[0]);var s=yu(e||{}).get,o=r?X5:j5;return r==="native"&&(r=""),e&&(t?o((ts[t]&&ts[t].get||s)(e,t,r,i)):function(a,l,c){return o((ts[a]&&ts[a].get||s)(e,a,l,c))})},quickSetter:function(e,t,r){if(e=Xs(e),e.length>1){var i=e.map(function(u){return Wi.quickSetter(u,t,r)}),s=i.length;return function(u){for(var f=s;f--;)i[f](u)}}e=e[0]||{};var o=ts[t],a=yu(e),l=a.harness&&(a.harness.aliases||{})[t]||t,c=o?function(u){var f=new o;ud._pt=0,f.init(e,r?u+r:u,ud,0,[e]),f.render(1,f),ud._pt&&AR(1,ud)}:a.set(e,l);return o?c:function(u){return c(e,l,r?u+r:u,a,1)}},quickTo:function(e,t,r){var i,s=Wi.to(e,Lu((i={},i[t]="+=0.1",i.paused=!0,i),r||{})),o=function(l,c,u){return s.resetTo(t,l,c,u)};return o.tween=s,o},isTweening:function(e){return kn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=xu(e.ease,Zd.ease)),xD(Zd,e||{})},config:function(e){return xD(ds,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!ts[a]&&!gs[a]&&Fm(t+" effect requires "+a+" plugin.")}),CA[t]=function(a,l,c){return r(Xs(a),Zs(l||{},s),c)},o&&(bi.prototype[t]=function(a,l,c){return this.add(CA[t](a,oa(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){Wt[e]=xu(t)},parseEase:function(e,t){return arguments.length?xu(e,t):Wt},getById:function(e){return kn.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new bi(e),i,s;for(r.smoothChildTiming=Hi(e.smoothChildTiming),kn.remove(r),r._dp=0,r._time=r._tTime=kn._time,i=kn._first;i;)s=i._next,(t||!(!i._dur&&i instanceof ur&&i.vars.onComplete===i._targets[0]))&&Vo(r,i,i._start-i._delay),i=s;return Vo(kn,r,0),r},context:function(e,t){return e?new SH(e,t):Qn},matchMedia:function(e){return new ale(e)},matchMediaRefresh:function(){return Su.forEach(function(e){var t=e.conditions,r,i;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||SM()},addEventListener:function(e,t){var r=Ry[e]||(Ry[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=Ry[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:Uae,wrapYoyo:zae,distribute:eH,random:nH,snap:tH,normalize:Fae,getUnit:ni,clamp:Bae,splitColor:aH,toArray:Xs,selector:yM,mapRange:iH,pipe:kae,unitize:Nae,interpolate:Hae,shuffle:Z5},install:H5,effects:CA,ticker:is,updateRoot:bi.updateRoot,plugins:ts,globalTimeline:kn,core:{PropTween:Vi,globals:G5,Tween:ur,Timeline:bi,Animation:Gm,getCache:yu,_removeLinkedListItem:t1,reverting:function(){return oi},context:function(e){return e&&Qn&&(Qn.data.push(e),e._ctx=Qn),Qn},suppressOverwrites:function(e){return fR=e}}};Gi("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return B_[n]=ur[n]});is.add(bi.updateRoot);ud=B_.to({},{duration:0});var lle=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},cle=function(e,t){var r=e._targets,i,s,o;for(i in t)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=lle(o,i)),o&&o.modifier&&o.modifier(t[i],e,r[s],i))},IA=function(e,t){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,c;if(Ir(s)&&(l={},Gi(s,function(u){return l[u]=1}),s=l),t){l={};for(c in s)l[c]=t(s[c]);s=l}cle(a,s)}}}},Wi=B_.registerPlugin({name:"attr",init:function(e,t,r,i,s){var o,a,l;this.tween=r;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var r=t._pt;r;)oi?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},IA("roundProps",_M),IA("modifiers"),IA("snap",tH))||B_;ur.version=bi.version=Wi.version="3.12.4";z5=1;hR()&&nh();Wt.Power0;Wt.Power1;Wt.Power2;Wt.Power3;Wt.Power4;Wt.Linear;Wt.Quad;Wt.Cubic;Wt.Quart;Wt.Quint;Wt.Strong;Wt.Elastic;Wt.Back;Wt.SteppedEase;Wt.Bounce;Wt.Sine;Wt.Expo;Wt.Circ;/*!
 * CSSPlugin 3.12.4
 * https://gsap.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var MD,Nl,Ed,wR,au,TD,ER,ule=function(){return typeof window<"u"},el={},Jc=180/Math.PI,Md=Math.PI/180,Df=Math.atan2,CD=1e8,MR=/([A-Z])/g,fle=/(left|right|width|margin|padding|x)/i,dle=/[\s,\(]\S/,$o={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},bM=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},hle=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},ple=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},mle=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},bH=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},AH=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},gle=function(e,t,r){return e.style[t]=r},vle=function(e,t,r){return e.style.setProperty(t,r)},yle=function(e,t,r){return e._gsap[t]=r},_le=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},xle=function(e,t,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},Sle=function(e,t,r,i,s){var o=e._gsap;o[t]=r,o.renderTransform(s,o)},Un="transform",$i=Un+"Origin",ble=function n(e,t){var r=this,i=this.target,s=i.style,o=i._gsap;if(e in el&&s){if(this.tfm=this.tfm||{},e!=="transform")e=$o[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=Oa(i,a)}):this.tfm[e]=o.x?o[e]:Oa(i,e),e===$i&&(this.tfm.zOrigin=o.zOrigin);else return $o.transform.split(",").forEach(function(a){return n.call(r,a,t)});if(this.props.indexOf(Un)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push($i,t,"")),e=Un}(s||t)&&this.props.push(e,t,s[e])},wH=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Ale=function(){var e=this.props,t=this.target,r=t.style,i=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(MR,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=ER(),(!s||!s.isStart)&&!r[Un]&&(wH(r),i.zOrigin&&r[$i]&&(r[$i]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},EH=function(e,t){var r={target:e,props:[],revert:Ale,save:ble};return e._gsap||Wi.core.getCache(e),t&&t.split(",").forEach(function(i){return r.save(i)}),r},MH,AM=function(e,t){var r=Nl.createElementNS?Nl.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Nl.createElement(e);return r&&r.style?r:Nl.createElement(e)},Zo=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(MR,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,rh(t)||t,1)||""},RD="O,Moz,ms,Ms,Webkit".split(","),rh=function(e,t,r){var i=t||au,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(RD[o]+e in s););return o<0?null:(o===3?"ms":o>=0?RD[o]:"")+e},wM=function(){ule()&&window.document&&(MD=window,Nl=MD.document,Ed=Nl.documentElement,au=AM("div")||{style:{}},AM("div"),Un=rh(Un),$i=Un+"Origin",au.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",MH=!!rh("perspective"),ER=Wi.core.reverting,wR=1)},BA=function n(e){var t=AM("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(Ed.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),Ed.removeChild(t),this.style.cssText=s,o},PD=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},TH=function(e){var t;try{t=e.getBBox()}catch{t=BA.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===BA||(t=BA.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+PD(e,["x","cx","x1"])||0,y:+PD(e,["y","cy","y1"])||0,width:0,height:0}:t},CH=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&TH(e))},Iu=function(e,t){if(t){var r=e.style,i;t in el&&t!==$i&&(t=Un),r.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(i==="--"?t:t.replace(MR,"-$1").toLowerCase())):r.removeAttribute(t)}},Fl=function(e,t,r,i,s,o){var a=new Vi(e._pt,t,r,0,1,o?AH:bH);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},OD={deg:1,rad:1,turn:1},wle={grid:1,flex:1},cc=function n(e,t,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=au.style,l=fle.test(t),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),f=100,p=i==="px",m=i==="%",g,y,_,v;if(i===o||!s||OD[i]||OD[o])return s;if(o!=="px"&&!p&&(s=n(e,t,r,"px")),v=e.getCTM&&CH(e),(m||o==="%")&&(el[t]||~t.indexOf("adius")))return g=v?e.getBBox()[l?"width":"height"]:e[u],rr(m?s/g*f:s/100*g);if(a[l?"width":"height"]=f+(p?o:i),y=~t.indexOf("adius")||i==="em"&&e.appendChild&&!c?e:e.parentNode,v&&(y=(e.ownerSVGElement||{}).parentNode),(!y||y===Nl||!y.appendChild)&&(y=Nl.body),_=y._gsap,_&&m&&_.width&&l&&_.time===is.time&&!_.uncache)return rr(s/_.width*f);if(m&&(t==="height"||t==="width")){var x=e.style[t];e.style[t]=f+i,g=e[u],x?e.style[t]=x:Iu(e,t)}else(m||o==="%")&&!wle[Zo(y,"display")]&&(a.position=Zo(e,"position")),y===e&&(a.position="static"),y.appendChild(au),g=au[u],y.removeChild(au),a.position="absolute";return l&&m&&(_=yu(y),_.time=is.time,_.width=y[u]),rr(p?g*s/f:g&&s?f/g*s:0)},Oa=function(e,t,r,i){var s;return wR||wM(),t in $o&&t!=="transform"&&(t=$o[t],~t.indexOf(",")&&(t=t.split(",")[0])),el[t]&&t!=="transform"?(s=$m(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:k_(Zo(e,$i))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=D_[t]&&D_[t](e,t,r)||Zo(e,t)||$5(e,t)||(t==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?cc(e,t,s,r)+r:s},Ele=function(e,t,r,i){if(!r||r==="none"){var s=rh(t,e,1),o=s&&Zo(e,s,1);o&&o!==r?(t=s,r=o):t==="borderColor"&&(r=Zo(e,"borderTopColor"))}var a=new Vi(this._pt,e.style,t,0,1,_H),l=0,c=0,u,f,p,m,g,y,_,v,x,S,A,M;if(a.b=r,a.e=i,r+="",i+="",i==="auto"&&(y=e.style[t],e.style[t]=i,i=Zo(e,t)||i,y?e.style[t]=y:Iu(e,t)),u=[r,i],cH(u),r=u[0],i=u[1],p=r.match(cd)||[],M=i.match(cd)||[],M.length){for(;f=cd.exec(i);)_=f[0],x=i.substring(l,f.index),g?g=(g+1)%5:(x.substr(-5)==="rgba("||x.substr(-5)==="hsla(")&&(g=1),_!==(y=p[c++]||"")&&(m=parseFloat(y)||0,A=y.substr((m+"").length),_.charAt(1)==="="&&(_=wd(m,_)+A),v=parseFloat(_),S=_.substr((v+"").length),l=cd.lastIndex-S.length,S||(S=S||ds.units[t]||A,l===i.length&&(i+=S,a.e+=S)),A!==S&&(m=cc(e,t,y,S)||0),a._pt={_next:a._pt,p:x||c===1?x:",",s:m,c:v-m,m:g&&g<4||t==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=t==="display"&&i==="none"?AH:bH;return F5.test(i)&&(a.e=0),this._pt=a,a},LD={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Mle=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),t[0]=LD[r]||r,t[1]=LD[i]||i,t.join(" ")},Tle=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,i=r.style,s=t.u,o=r._gsap,a,l,c;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],el[a]&&(l=1,a=a==="transformOrigin"?$i:Un),Iu(r,a);l&&(Iu(r,Un),o&&(o.svg&&r.removeAttribute("transform"),$m(r,1),o.uncache=1,wH(i)))}},D_={clearProps:function(e,t,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new Vi(e._pt,t,r,0,0,Tle);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},Vm=[1,0,0,1,0,0],RH={},PH=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},ID=function(e){var t=Zo(e,Un);return PH(t)?Vm:t.substr(7).match(N5).map(rr)},TR=function(e,t){var r=e._gsap||yu(e),i=e.style,s=ID(e),o,a,l,c;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?Vm:s):(s===Vm&&!e.offsetParent&&e!==Ed&&!r.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(c=1,a=e.nextElementSibling,Ed.appendChild(e)),s=ID(e),l?i.display=l:Iu(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):Ed.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},EM=function(e,t,r,i,s,o){var a=e._gsap,l=s||TR(e,!0),c=a.xOrigin||0,u=a.yOrigin||0,f=a.xOffset||0,p=a.yOffset||0,m=l[0],g=l[1],y=l[2],_=l[3],v=l[4],x=l[5],S=t.split(" "),A=parseFloat(S[0])||0,M=parseFloat(S[1])||0,E,R,I,T;r?l!==Vm&&(R=m*_-g*y)&&(I=A*(_/R)+M*(-y/R)+(y*x-_*v)/R,T=A*(-g/R)+M*(m/R)-(m*x-g*v)/R,A=I,M=T):(E=TH(e),A=E.x+(~S[0].indexOf("%")?A/100*E.width:A),M=E.y+(~(S[1]||S[0]).indexOf("%")?M/100*E.height:M)),i||i!==!1&&a.smooth?(v=A-c,x=M-u,a.xOffset=f+(v*m+x*y)-v,a.yOffset=p+(v*g+x*_)-x):a.xOffset=a.yOffset=0,a.xOrigin=A,a.yOrigin=M,a.smooth=!!i,a.origin=t,a.originIsAbsolute=!!r,e.style[$i]="0px 0px",o&&(Fl(o,a,"xOrigin",c,A),Fl(o,a,"yOrigin",u,M),Fl(o,a,"xOffset",f,a.xOffset),Fl(o,a,"yOffset",p,a.yOffset)),e.setAttribute("data-svg-origin",A+" "+M)},$m=function(e,t){var r=e._gsap||new hH(e);if("x"in r&&!t&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=Zo(e,$i)||"0",u,f,p,m,g,y,_,v,x,S,A,M,E,R,I,T,P,B,F,V,k,z,W,K,N,j,J,te,ee,Y,ne,ce;return u=f=p=y=_=v=x=S=A=0,m=g=1,r.svg=!!(e.getCTM&&CH(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[Un]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Un]!=="none"?l[Un]:"")),i.scale=i.rotate=i.translate="none"),R=TR(e,r.svg),r.svg&&(r.uncache?(N=e.getBBox(),c=r.xOrigin-N.x+"px "+(r.yOrigin-N.y)+"px",K=""):K=!t&&e.getAttribute("data-svg-origin"),EM(e,K||c,!!K||r.originIsAbsolute,r.smooth!==!1,R)),M=r.xOrigin||0,E=r.yOrigin||0,R!==Vm&&(B=R[0],F=R[1],V=R[2],k=R[3],u=z=R[4],f=W=R[5],R.length===6?(m=Math.sqrt(B*B+F*F),g=Math.sqrt(k*k+V*V),y=B||F?Df(F,B)*Jc:0,x=V||k?Df(V,k)*Jc+y:0,x&&(g*=Math.abs(Math.cos(x*Md))),r.svg&&(u-=M-(M*B+E*V),f-=E-(M*F+E*k))):(ce=R[6],Y=R[7],J=R[8],te=R[9],ee=R[10],ne=R[11],u=R[12],f=R[13],p=R[14],I=Df(ce,ee),_=I*Jc,I&&(T=Math.cos(-I),P=Math.sin(-I),K=z*T+J*P,N=W*T+te*P,j=ce*T+ee*P,J=z*-P+J*T,te=W*-P+te*T,ee=ce*-P+ee*T,ne=Y*-P+ne*T,z=K,W=N,ce=j),I=Df(-V,ee),v=I*Jc,I&&(T=Math.cos(-I),P=Math.sin(-I),K=B*T-J*P,N=F*T-te*P,j=V*T-ee*P,ne=k*P+ne*T,B=K,F=N,V=j),I=Df(F,B),y=I*Jc,I&&(T=Math.cos(I),P=Math.sin(I),K=B*T+F*P,N=z*T+W*P,F=F*T-B*P,W=W*T-z*P,B=K,z=N),_&&Math.abs(_)+Math.abs(y)>359.9&&(_=y=0,v=180-v),m=rr(Math.sqrt(B*B+F*F+V*V)),g=rr(Math.sqrt(W*W+ce*ce)),I=Df(z,W),x=Math.abs(I)>2e-4?I*Jc:0,A=ne?1/(ne<0?-ne:ne):0),r.svg&&(K=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!PH(Zo(e,Un)),K&&e.setAttribute("transform",K))),Math.abs(x)>90&&Math.abs(x)<270&&(s?(m*=-1,x+=y<=0?180:-180,y+=y<=0?180:-180):(g*=-1,x+=x<=0?180:-180)),t=t||r.uncache,r.x=u-((r.xPercent=u&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=f-((r.yPercent=f&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=p+o,r.scaleX=rr(m),r.scaleY=rr(g),r.rotation=rr(y)+a,r.rotationX=rr(_)+a,r.rotationY=rr(v)+a,r.skewX=x+a,r.skewY=S+a,r.transformPerspective=A+o,(r.zOrigin=parseFloat(c.split(" ")[2])||!t&&r.zOrigin||0)&&(i[$i]=k_(c)),r.xOffset=r.yOffset=0,r.force3D=ds.force3D,r.renderTransform=r.svg?Rle:MH?OH:Cle,r.uncache=0,r},k_=function(e){return(e=e.split(" "))[0]+" "+e[1]},DA=function(e,t,r){var i=ni(t);return rr(parseFloat(t)+parseFloat(cc(e,"x",r+"px",i)))+i},Cle=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,OH(e,t)},Gc="0deg",wp="0px",Vc=") ",OH=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.z,c=r.rotation,u=r.rotationY,f=r.rotationX,p=r.skewX,m=r.skewY,g=r.scaleX,y=r.scaleY,_=r.transformPerspective,v=r.force3D,x=r.target,S=r.zOrigin,A="",M=v==="auto"&&e&&e!==1||v===!0;if(S&&(f!==Gc||u!==Gc)){var E=parseFloat(u)*Md,R=Math.sin(E),I=Math.cos(E),T;E=parseFloat(f)*Md,T=Math.cos(E),o=DA(x,o,R*T*-S),a=DA(x,a,-Math.sin(E)*-S),l=DA(x,l,I*T*-S+S)}_!==wp&&(A+="perspective("+_+Vc),(i||s)&&(A+="translate("+i+"%, "+s+"%) "),(M||o!==wp||a!==wp||l!==wp)&&(A+=l!==wp||M?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Vc),c!==Gc&&(A+="rotate("+c+Vc),u!==Gc&&(A+="rotateY("+u+Vc),f!==Gc&&(A+="rotateX("+f+Vc),(p!==Gc||m!==Gc)&&(A+="skew("+p+", "+m+Vc),(g!==1||y!==1)&&(A+="scale("+g+", "+y+Vc),x.style[Un]=A||"translate(0, 0)"},Rle=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.rotation,c=r.skewX,u=r.skewY,f=r.scaleX,p=r.scaleY,m=r.target,g=r.xOrigin,y=r.yOrigin,_=r.xOffset,v=r.yOffset,x=r.forceCSS,S=parseFloat(o),A=parseFloat(a),M,E,R,I,T;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=Md,c*=Md,M=Math.cos(l)*f,E=Math.sin(l)*f,R=Math.sin(l-c)*-p,I=Math.cos(l-c)*p,c&&(u*=Md,T=Math.tan(c-u),T=Math.sqrt(1+T*T),R*=T,I*=T,u&&(T=Math.tan(u),T=Math.sqrt(1+T*T),M*=T,E*=T)),M=rr(M),E=rr(E),R=rr(R),I=rr(I)):(M=f,I=p,E=R=0),(S&&!~(o+"").indexOf("px")||A&&!~(a+"").indexOf("px"))&&(S=cc(m,"x",o,"px"),A=cc(m,"y",a,"px")),(g||y||_||v)&&(S=rr(S+g-(g*M+y*R)+_),A=rr(A+y-(g*E+y*I)+v)),(i||s)&&(T=m.getBBox(),S=rr(S+i/100*T.width),A=rr(A+s/100*T.height)),T="matrix("+M+","+E+","+R+","+I+","+S+","+A+")",m.setAttribute("transform",T),x&&(m.style[Un]=T)},Ple=function(e,t,r,i,s){var o=360,a=Ir(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Jc:1),c=l-i,u=i+c+"deg",f,p;return a&&(f=s.split("_")[1],f==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),f==="cw"&&c<0?c=(c+o*CD)%o-~~(c/o)*o:f==="ccw"&&c>0&&(c=(c-o*CD)%o-~~(c/o)*o)),e._pt=p=new Vi(e._pt,t,r,i,c,hle),p.e=u,p.u="deg",e._props.push(r),p},BD=function(e,t){for(var r in t)e[r]=t[r];return e},Ole=function(e,t,r){var i=BD({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,c,u,f,p,m,g;i.svg?(c=r.getAttribute("transform"),r.setAttribute("transform",""),o[Un]=t,a=$m(r,1),Iu(r,Un),r.setAttribute("transform",c)):(c=getComputedStyle(r)[Un],o[Un]=t,a=$m(r,1),o[Un]=c);for(l in el)c=i[l],u=a[l],c!==u&&s.indexOf(l)<0&&(m=ni(c),g=ni(u),f=m!==g?cc(r,l,c,g):parseFloat(c),p=parseFloat(u),e._pt=new Vi(e._pt,a,l,f,p-f,bM),e._pt.u=g||0,e._props.push(l));BD(a,i)};Gi("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",o=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(a){return e<2?n+a:"border"+a+n});D_[e>1?"border"+n:n]=function(a,l,c,u,f){var p,m;if(arguments.length<4)return p=o.map(function(g){return Oa(a,g,c)}),m=p.join(" "),m.split(p[0]).length===5?p[0]:m;p=(u+"").split(" "),m={},o.forEach(function(g,y){return m[g]=p[y]=p[y]||p[(y-1)/2|0]}),a.init(l,m,f)}});var LH={name:"css",register:wM,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,s){var o=this._props,a=e.style,l=r.vars.startAt,c,u,f,p,m,g,y,_,v,x,S,A,M,E,R,I;wR||wM(),this.styles=this.styles||EH(e),I=this.styles.props,this.tween=r;for(y in t)if(y!=="autoRound"&&(u=t[y],!(ts[y]&&pH(y,t,r,i,e,s)))){if(m=typeof u,g=D_[y],m==="function"&&(u=u.call(r,i,e,s),m=typeof u),m==="string"&&~u.indexOf("random(")&&(u=zm(u)),g)g(this,e,y,u,r)&&(R=1);else if(y.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(y)+"").trim(),u+="",Ql.lastIndex=0,Ql.test(c)||(_=ni(c),v=ni(u)),v?_!==v&&(c=cc(e,y,c,v)+v):_&&(u+=_),this.add(a,"setProperty",c,u,i,s,0,0,y),o.push(y),I.push(y,0,a[y]);else if(m!=="undefined"){if(l&&y in l?(c=typeof l[y]=="function"?l[y].call(r,i,e,s):l[y],Ir(c)&&~c.indexOf("random(")&&(c=zm(c)),ni(c+"")||c==="auto"||(c+=ds.units[y]||ni(Oa(e,y))||""),(c+"").charAt(1)==="="&&(c=Oa(e,y))):c=Oa(e,y),p=parseFloat(c),x=m==="string"&&u.charAt(1)==="="&&u.substr(0,2),x&&(u=u.substr(2)),f=parseFloat(u),y in $o&&(y==="autoAlpha"&&(p===1&&Oa(e,"visibility")==="hidden"&&f&&(p=0),I.push("visibility",0,a.visibility),Fl(this,a,"visibility",p?"inherit":"hidden",f?"inherit":"hidden",!f)),y!=="scale"&&y!=="transform"&&(y=$o[y],~y.indexOf(",")&&(y=y.split(",")[0]))),S=y in el,S){if(this.styles.save(y),A||(M=e._gsap,M.renderTransform&&!t.parseTransform||$m(e,t.parseTransform),E=t.smoothOrigin!==!1&&M.smooth,A=this._pt=new Vi(this._pt,a,Un,0,1,M.renderTransform,M,0,-1),A.dep=1),y==="scale")this._pt=new Vi(this._pt,M,"scaleY",M.scaleY,(x?wd(M.scaleY,x+f):f)-M.scaleY||0,bM),this._pt.u=0,o.push("scaleY",y),y+="X";else if(y==="transformOrigin"){I.push($i,0,a[$i]),u=Mle(u),M.svg?EM(e,u,0,E,0,this):(v=parseFloat(u.split(" ")[2])||0,v!==M.zOrigin&&Fl(this,M,"zOrigin",M.zOrigin,v),Fl(this,a,y,k_(c),k_(u)));continue}else if(y==="svgOrigin"){EM(e,u,1,E,0,this);continue}else if(y in RH){Ple(this,M,y,p,x?wd(p,x+u):u);continue}else if(y==="smoothOrigin"){Fl(this,M,"smooth",M.smooth,u);continue}else if(y==="force3D"){M[y]=u;continue}else if(y==="transform"){Ole(this,u,e);continue}}else y in a||(y=rh(y)||y);if(S||(f||f===0)&&(p||p===0)&&!dle.test(u)&&y in a)_=(c+"").substr((p+"").length),f||(f=0),v=ni(u)||(y in ds.units?ds.units[y]:_),_!==v&&(p=cc(e,y,c,v)),this._pt=new Vi(this._pt,S?M:a,y,p,(x?wd(p,x+f):f)-p,!S&&(v==="px"||y==="zIndex")&&t.autoRound!==!1?mle:bM),this._pt.u=v||0,_!==v&&v!=="%"&&(this._pt.b=c,this._pt.r=ple);else if(y in a)Ele.call(this,e,y,c,x?x+u:u);else if(y in e)this.add(e,y,c||e[y],x?x+u:u,i,s);else if(y!=="parseTransform"){mR(y,u);continue}S||(y in a?I.push(y,0,a[y]):I.push(y,1,c||e[y])),o.push(y)}}R&&xH(this)},render:function(e,t){if(t.tween._time||!ER())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:Oa,aliases:$o,getSetter:function(e,t,r){var i=$o[t];return i&&i.indexOf(",")<0&&(t=i),t in el&&t!==$i&&(e._gsap.x||Oa(e,"x"))?r&&TD===r?t==="scale"?_le:yle:(TD=r||{})&&(t==="scale"?xle:Sle):e.style&&!dR(e.style[t])?gle:~t.indexOf("-")?vle:bR(e,t)},core:{_removeProperty:Iu,_getMatrix:TR}};Wi.utils.checkPrefix=rh;Wi.core.getStyleSaver=EH;(function(n,e,t,r){var i=Gi(n+","+e+","+t,function(s){el[s]=1});Gi(e,function(s){ds.units[s]="deg",RH[s]=1}),$o[i[13]]=n+","+e,Gi(r,function(s){var o=s.split(":");$o[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Gi("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){ds.units[n]="px"});Wi.registerPlugin(LH);var Ul=Wi.registerPlugin(LH)||Wi;Ul.core.Tween;/*!
 * @gsap/react
 * https://gsap.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/const DD=typeof window<"u"?O.useLayoutEffect:O.useEffect,kD=n=>n&&!Array.isArray(n)&&typeof n=="object",Qv=[],Lle={},MM=(n,e=Qv)=>{let t=Lle;kD(n)?(t=n,n=null,e="dependencies"in t?t.dependencies:Qv):kD(e)&&(t=e,e="dependencies"in t?t.dependencies:Qv);let{scope:r,revertOnUpdate:i}=t,[s,o]=O.useState(!1);n&&typeof n!="function"&&console.warn("First parameter must be a function or config object");const a=Ul.context(()=>{},r),l=f=>a.add(null,f),c=()=>a.revert(),u=e&&e.length&&!i;return DD(()=>{if(n&&a.add(n,r),!u||!s)return c},e),u&&DD(()=>(o(!0),c),Qv),{context:a,contextSafe:l}};var IH=Symbol.for("immer-nothing"),ND=Symbol.for("immer-draftable"),vs=Symbol.for("immer-state");function po(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var ih=Object.getPrototypeOf;function sh(n){return!!n&&!!n[vs]}function Bu(n){var e;return n?BH(n)||Array.isArray(n)||!!n[ND]||!!((e=n.constructor)!=null&&e[ND])||s1(n)||o1(n):!1}var Ile=Object.prototype.constructor.toString();function BH(n){if(!n||typeof n!="object")return!1;const e=ih(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===Ile}function N_(n,e){i1(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function i1(n){const e=n[vs];return e?e.type_:Array.isArray(n)?1:s1(n)?2:o1(n)?3:0}function TM(n,e){return i1(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function DH(n,e,t){const r=i1(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function Ble(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function s1(n){return n instanceof Map}function o1(n){return n instanceof Set}function qc(n){return n.copy_||n.base_}function CM(n,e){if(s1(n))return new Map(n);if(o1(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);if(!e&&BH(n))return ih(n)?{...n}:Object.assign(Object.create(null),n);const t=Object.getOwnPropertyDescriptors(n);delete t[vs];let r=Reflect.ownKeys(t);for(let i=0;i<r.length;i++){const s=r[i],o=t[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[s]})}return Object.create(ih(n),t)}function CR(n,e=!1){return a1(n)||sh(n)||!Bu(n)||(i1(n)>1&&(n.set=n.add=n.clear=n.delete=Dle),Object.freeze(n),e&&Object.entries(n).forEach(([t,r])=>CR(r,!0))),n}function Dle(){po(2)}function a1(n){return Object.isFrozen(n)}var kle={};function Du(n){const e=kle[n];return e||po(0,n),e}var Wm;function kH(){return Wm}function Nle(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function FD(n,e){e&&(Du("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function RM(n){PM(n),n.drafts_.forEach(Fle),n.drafts_=null}function PM(n){n===Wm&&(Wm=n.parent_)}function UD(n){return Wm=Nle(Wm,n)}function Fle(n){const e=n[vs];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function zD(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[vs].modified_&&(RM(e),po(4)),Bu(n)&&(n=F_(e,n),e.parent_||U_(e,n)),e.patches_&&Du("Patches").generateReplacementPatches_(t[vs].base_,n,e.patches_,e.inversePatches_)):n=F_(e,t,[]),RM(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==IH?n:void 0}function F_(n,e,t){if(a1(e))return e;const r=e[vs];if(!r)return N_(e,(i,s)=>HD(n,r,e,i,s,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return U_(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),N_(s,(a,l)=>HD(n,r,i,a,l,t,o)),U_(n,i,!1),t&&n.patches_&&Du("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function HD(n,e,t,r,i,s,o){if(sh(i)){const a=s&&e&&e.type_!==3&&!TM(e.assigned_,r)?s.concat(r):void 0,l=F_(n,i,a);if(DH(t,r,l),sh(l))n.canAutoFreeze_=!1;else return}else o&&t.add(i);if(Bu(i)&&!a1(i)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;F_(n,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,r)&&U_(n,i)}}function U_(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&CR(e,t)}function Ule(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:kH(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=RR;t&&(i=[r],s=jm);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var RR={get(n,e){if(e===vs)return n;const t=qc(n);if(!TM(t,e))return zle(n,t,e);const r=t[e];return n.finalized_||!Bu(r)?r:r===kA(n.base_,e)?(NA(n),n.copy_[e]=LM(r,n)):r},has(n,e){return e in qc(n)},ownKeys(n){return Reflect.ownKeys(qc(n))},set(n,e,t){const r=NH(qc(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=kA(qc(n),e),s=i==null?void 0:i[vs];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(Ble(t,i)&&(t!==void 0||TM(n.base_,e)))return!0;NA(n),OM(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return kA(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,NA(n),OM(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=qc(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){po(11)},getPrototypeOf(n){return ih(n.base_)},setPrototypeOf(){po(12)}},jm={};N_(RR,(n,e)=>{jm[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});jm.deleteProperty=function(n,e){return jm.set.call(this,n,e,void 0)};jm.set=function(n,e,t){return RR.set.call(this,n[0],e,t,n[0])};function kA(n,e){const t=n[vs];return(t?qc(t):n)[e]}function zle(n,e,t){var i;const r=NH(e,t);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function NH(n,e){if(!(e in n))return;let t=ih(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=ih(t)}}function OM(n){n.modified_||(n.modified_=!0,n.parent_&&OM(n.parent_))}function NA(n){n.copy_||(n.copy_=CM(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var Hle=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const o=this;return function(l=s,...c){return o.produce(l,u=>t.call(this,u,...c))}}typeof t!="function"&&po(6),r!==void 0&&typeof r!="function"&&po(7);let i;if(Bu(e)){const s=UD(this),o=LM(e,void 0);let a=!0;try{i=t(o),a=!1}finally{a?RM(s):PM(s)}return FD(s,r),zD(i,s)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===IH&&(i=void 0),this.autoFreeze_&&CR(i,!0),r){const s=[],o=[];Du("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else po(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,t,(o,a)=>{r=o,i=a}),r,i]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Bu(n)||po(8),sh(n)&&(n=Gle(n));const e=UD(this),t=LM(n,void 0);return t[vs].isManual_=!0,PM(e),t}finishDraft(n,e){const t=n&&n[vs];(!t||!t.isManual_)&&po(9);const{scope_:r}=t;return FD(r,e),zD(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=Du("Patches").applyPatches_;return sh(n)?r(n,e):this.produce(n,i=>r(i,e))}};function LM(n,e){const t=s1(n)?Du("MapSet").proxyMap_(n,e):o1(n)?Du("MapSet").proxySet_(n,e):Ule(n,e);return(e?e.scope_:kH()).drafts_.push(t),t}function Gle(n){return sh(n)||po(10,n),FH(n)}function FH(n){if(!Bu(n)||a1(n))return n;const e=n[vs];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=CM(n,e.scope_.immer_.useStrictShallowCopy_)}else t=CM(n,!0);return N_(t,(r,i)=>{DH(t,r,FH(i))}),e&&(e.finalized_=!1),t}var ys=new Hle,Zv=ys.produce;ys.produceWithPatches.bind(ys);ys.setAutoFreeze.bind(ys);ys.setUseStrictShallowCopy.bind(ys);ys.applyPatches.bind(ys);ys.createDraft.bind(ys);ys.finishDraft.bind(ys);const Ee={noSelectWhite:new ke(16777215),concreteFloor:new ke(9474192),blueTape:new ke(5603504),brownBag:new ke(9796703),whiteStain:new ke(11119017),naturalStain:new ke(10000536),blackStain:new ke(7895160),allBlackStain:new ke(7895160),alabasterPaint:new ke(16776688),pinkPaint:new ke(15913414),basilPaint:new ke(9608580),yellowPaint:new ke(15914628),bluePaint:new ke(9875626),grayPaint:new ke(9210753),paintedTexture:["./textures/MetalSteelBrushed001/CeramicPlainWhite001_COL_2K.jpg","./textures/MetalSteelBrushed001/MetalSteelBrushed001_NRM_2K_METALNESS.png","./textures/MetalSteelBrushed001/MetalSteelBrushed001_ROUGHNESS_2K_METALNESS.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_METALNESS_2K_METALNESS.png"],woodFloorAshWhiteTexture:["./textures/WoodFlooringAshSuperWhite001/WoodFlooringAshSuperWhite001_COL_2K.jpg","./textures/WoodFlooringAshSuperWhite001/WoodFlooringAshSuperWhite001_DISP_2K.jpg","./textures/WoodFlooringAshSuperWhite001/WoodFlooringAshSuperWhite001_NRM_2K.png","./textures/WoodFlooringAshSuperWhite001/WoodFlooringAshSuperWhite001_GLOSS_2K_inverted.jpg","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_ROUGHNESS_2K_METALNESS.png","./textures/WoodFlooringAshSuperWhite001/WoodFlooringAshSuperWhite001_AO_2K.jpg"],woodFloorWornPlanksTexture:["./textures/WoodPlanksWorn001/WoodPlanksWorn001_COL_2K.jpg","./textures/WoodPlanksWorn001/WoodPlanksWorn001_DISP_2K.jpg","./textures/WoodPlanksWorn001/WoodPlanksWorn001_NRM_2K.jpg","./textures/WoodPlanksWorn001/WoodPlanksWorn001_GLOSS_2K_inverted.jpg","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_ROUGHNESS_2K_METALNESS.png","./textures/WoodPlanksWorn001/WoodPlanksWorn001_AO_2K.jpg"],whiteTexture:["./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_COL_2K_METALNESS_white4.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_NRM_2K_METALNESS.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_METALNESS_2K_METALNESS.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_ROUGHNESS_2K_METALNESS.png"],naturalTexture:["./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_COL_2K_METALNESS_natural.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_NRM_2K_METALNESS.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_METALNESS_2K_METALNESS.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_ROUGHNESS_2K_METALNESS.png"],blackTexture:["./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_COL_2K_METALNESS_black.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_NRM_2K_METALNESS.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_METALNESS_2K_METALNESS.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_ROUGHNESS_2K_METALNESS.png"],allBlackTexture:["./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_COL_2K_METALNESS_allBlack.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_NRM_2K_METALNESS.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_METALNESS_2K_METALNESS.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_ROUGHNESS_2K_METALNESS.png"]},Tr={paints:["alabaster","pink","basil","yellow","blue","gray"],stains:["white","natural","black","allBlack"]},z_=["alabaster","pink","basil","yellow","blue","gray","white","natural","black","allBlack"];class Ea{constructor(e,t,r,i,s,o,a,l,c,u,f,p){this.itemNo=e,this.itemName=t,this.itemTitle=r,this.itemDescription=i,this.itemLongDescription=s,this.itemBasePrice=o,this.itemStainCost=a,this.itemMixedPaintCost=l,this.itemMixedStainCost=c,this.size=u,this.position=f,this.parts=p}}class zt{constructor(e,t,r,i,s){this.itemName=e,this.partName=t,this.descPartName=r,this.animation=i,this.model=s}}const mn={gramps:new Ea(0,"gramps","GRAMPS","Shop stool","A sturdy shop stool that I designed as a tribute to my late grandfather. I made the first edition of these using inherited lumber that Gramps had milled from trees on family properties. A nice place to sit and think, suitable for working and remembering.",750,150,50,150,"16 x 16 x 18 in.",{x:0,y:0,z:1.75},[new zt("gramps","top","top","posY2","./models/grampsModels/grampsTop.gltf"),new zt("gramps","barBottom","bottom bar","none","./models/grampsModels/grampsBarBottom.gltf"),new zt("gramps","barTop","top bar","posY1","./models/grampsModels/grampsBarTop.gltf"),new zt("gramps","leg1","leg 1","negX","./models/grampsModels/grampsLeg1.gltf"),new zt("gramps","leg2","leg 2","negZ","./models/grampsModels/grampsLeg2.gltf"),new zt("gramps","leg3","leg 3","posX","./models/grampsModels/grampsLeg3.gltf"),new zt("gramps","leg4","leg 4","posZ","./models/grampsModels/grampsLeg4.gltf")]),squatter:new Ea(1,"squatter","SQUATTER","Low stool/end table","This was one of my first furniture designs, meant to embody function, beauty and simplicity. It can be used as a low stool or end table, and has a compact footprint for easy storage. A solid spot to lace up your boots.",600,100,50,100,"16 x 12 x 18 in.",{x:-1.75,y:0,z:0},[new zt("squatter","top","top","posY1","./models/squatterModels/squatterTop.gltf"),new zt("squatter","centerPanel","center panel","none","./models/squatterModels/squatterCenterPanel.gltf"),new zt("squatter","side1","side 1","posZ","./models/squatterModels/squatterSide1.gltf"),new zt("squatter","side2","side 2","negZ","./models/squatterModels/squatterSide2.gltf")]),block:new Ea(2,"block","BLOCK","Wooden “cinderblock”","I made my first “cinderblocks” for my exhibition “/X”. Based on the dimensions of a standard CMU (concrete masonry unit) these wooden blocks can be stacked horizontally and/or vertically.",250,150,50,150,"8 x 8 x 16 in.",{x:0,y:0,z:-1.75},[new zt("block","shelfTop","top shelf","none","./models/blockModels/blockShelfTop.gltf"),new zt("block","shelfMiddle","middle shelf","none","./models/blockModels/blockShelfMiddle.gltf"),new zt("block","shelfBottom","bottom shelf","none","./models/blockModels/blockShelfBottom.gltf"),new zt("block","side1","side 1","negX","./models/blockModels/blockSide1.gltf"),new zt("block","side2","side 2","posX","./models/blockModels/blockSide2.gltf")]),horse:new Ea(3,"horse","HORSE","Furniture-grade sawhorse (flat pack)","Originally featured in my exhibition “/X”, the sawhorse form is a universal symbol of functionality. This furniture grade version comes flat packed and is assembled with allen head screws.",400,100,50,100,"32 x 20 x 32 in.",{x:1.75,y:0,z:0},[new zt("horse","top","top","posY1","./models/horseModels/horseBarTop.gltf"),new zt("horse","barInner","inner bar","none","./models/horseModels/horseBarInner.gltf"),new zt("horse","leg1","leg 1","negZ","./models/horseModels/horseLeg1.gltf"),new zt("horse","leg2","leg 2","negZ","./models/horseModels/horseLeg2.gltf"),new zt("horse","leg3","leg 3","posZ","./models/horseModels/horseLeg3.gltf"),new zt("horse","leg4","leg 4","posZ","./models/horseModels/horseLeg4.gltf")]),shelfA16:new Ea(4,"shelfA16","\\SHELF/ 16","Floating shelf with crown profile","I designed these floating shelves to display artwork, pictures and nick-nacks. The two simple profile options are intended to complement both traditional and contemporary millwork. Available in two stock sizes and profiles (custom dimensions available by request). Includes hanging cleat.",350,50,50,50,"16 x 4 x 4 in.",{x:-3,y:0,z:-2.08},[new zt("shelfA16","top","top","posXposY1","./models/shelfA16Models/shelfA16Top.gltf"),new zt("shelfA16","bottom","bottom","posXposY1","./models/shelfA16Models/shelfA16Bottom.gltf"),new zt("shelfA16","cleat","cleat","none","./models/shelfA16Models/shelfA16Cleat.gltf")]),shelfA32:new Ea(5,"shelfA32","\\SHELF/ 32","Floating shelf with crown profile","I designed these floating shelves to display artwork, pictures and nick-nacks. The two simple profile options are intended to complement both traditional and contemporary millwork. Available in two stock sizes and profiles (custom dimensions available by request). Includes hanging cleat.",550,50,50,50,"32 x 4 x 4 in.",{x:-3,y:0,z:-1.0625},[new zt("shelfA32","top","top","posXposY1","./models/shelfA32Models/shelfA32Top.gltf"),new zt("shelfA32","bottom","bottom","posXposY1","./models/shelfA32Models/shelfA32Bottom.gltf"),new zt("shelfA32","cleat","cleat","none","./models/shelfA32Models/shelfA32Cleat.gltf")]),shelfB16:new Ea(6,"shelfB16","(SHELF) 16","Floating shelf with rounded profile","I designed these floating shelves to display artwork, pictures and nick-nacks. The two simple profile options are intended to complement both traditional and contemporary millwork. Available in two stock sizes and profiles (custom dimensions available by request). Includes hanging cleat.",350,50,50,50,"16 x 4 x 4 in.",{x:.86,y:0,z:3},[new zt("shelfB16","top","top","negZposY1","./models/shelfB16Models/shelfB16Top.gltf"),new zt("shelfB16","middle","middle","negZposY1","./models/shelfB16Models/shelfB16Middle.gltf"),new zt("shelfB16","bottom","bottom","negZposY1","./models/shelfB16Models/shelfB16Bottom.gltf"),new zt("shelfB16","cleat","cleat","none","./models/shelfB16Models/shelfB16Cleat.gltf")]),shelfB32:new Ea(7,"shelfB32","(SHELF) 32","Floating shelf with rounded profile","I designed these floating shelves to display artwork, pictures and nick-nacks. The two simple profile options are intended to complement both traditional and contemporary millwork. Available in two stock sizes and profiles (custom dimensions available by request). Includes hanging cleat.",550,50,50,50,"32 x 4 x 4 in.",{x:1.8775,y:0,z:3},[new zt("shelfB32","top","top","negZposY1","./models/shelfB32Models/shelfB32Top.gltf"),new zt("shelfB32","middle","middle","negZposY1","./models/shelfB32Models/shelfB32Middle.gltf"),new zt("shelfB32","bottom","bottom","negZposY1","./models/shelfB32Models/shelfB32Bottom.gltf"),new zt("shelfB32","cleat","cleat","none","./models/shelfB32Models/shelfB32Cleat.gltf")])},mo=new Ea("","noSelect","noSelectTitle","Select item","Select item",0,0,0,0,[],{x:0,y:0,z:0},[new zt("","","","","")]),IM=[mn.gramps,mn.squatter,mn.block,mn.horse,mn.shelfA16,mn.shelfA32,mn.shelfB16,mn.shelfB32],Wo=vae(n=>({currentItemSelected:{},previousItemSelected:{},items:{gramps:{data:mn.gramps,animActive:!1,stainSingle:!1,stainMixed:!1,stainPaintMixed:!1,paintSingle:!1,paintMixed:!1,snipCartOption:"default",snipCartOptionDesc:"default",optionColorNameList:["default","default","default","default","default","default","default"],optionCompleteList:["default","default","default","default","default","default","default"],optionCartList:["default","default","default","default","default","default","default"],optionSelectedPrice:0,parts:{top:{partName:"top",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},barBottom:{partName:"bottom bar",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},barTop:{partName:"top bar",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},leg1:{partName:"leg 1",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},leg2:{partName:"leg 2",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},leg3:{partName:"leg 3",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},leg4:{partName:"leg 4",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture}}},squatter:{data:mn.squatter,animActive:!1,stainSingle:!1,stainMixed:!1,stainPaintMixed:!1,paintSingle:!1,paintMixed:!1,snipCartOption:"default",snipCartOptionDesc:"default",optionColorNameList:["default","default","default","default"],optionCompleteList:["default","default","default","default"],optionCartList:["default","default","default","default"],optionSelectedPrice:0,parts:{top:{partName:"top",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},centerPanel:{partName:"center panel",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},side1:{partName:"side 1",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},side2:{partName:"side 2",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture}}},block:{data:mn.block,animActive:!1,stainSingle:!1,stainMixed:!1,stainPaintMixed:!1,paintSingle:!1,paintMixed:!1,snipCartOption:"default",snipCartOptionDesc:"default",optionColorNameList:["default","default","default","default","default"],optionCompleteList:["default","default","default","default","default"],optionCartList:["default","default","default","default","default"],optionSelectedPrice:0,parts:{shelfTop:{partName:"top shelf",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},shelfMiddle:{partName:"middle shelf",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},shelfBottom:{partName:"bottom shelf",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},side1:{partName:"side 1",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},side2:{partName:"side 2",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture}}},horse:{data:mn.horse,animActive:!1,stainSingle:!1,stainMixed:!1,stainPaintMixed:!1,paintSingle:!1,paintMixed:!1,snipCartOption:"default",snipCartOptionDesc:"default",optionColorNameList:["default","default","default","default","default","default"],optionCompleteList:["default","default","default","default","default","default"],optionCartList:["default","default","default","default","default","default"],optionSelectedPrice:0,parts:{top:{partName:"top",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},barInner:{partName:"inner bar",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},leg1:{partName:"leg 1",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},leg2:{partName:"leg 2",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},leg3:{partName:"leg 3",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},leg4:{partName:"leg 4",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture}}},shelfA16:{data:mn.shelfA16,animActive:!1,stainSingle:!1,stainMixed:!1,stainPaintMixed:!1,paintSingle:!1,paintMixed:!1,snipCartOption:"default",snipCartOptionDesc:"default",optionColorNameList:["default","default"],optionCompleteList:["default","default"],optionCartList:["default","default"],optionSelectedPrice:0,parts:{top:{partName:"top",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},bottom:{partName:"bottom",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},cleat:{partName:"cleat",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture}}},shelfA32:{data:mn.shelfA32,animActive:!1,stainSingle:!1,stainMixed:!1,stainPaintMixed:!1,paintSingle:!1,paintMixed:!1,snipCartOption:"default",snipCartOptionDesc:"default",optionColorNameList:["default","default"],optionCompleteList:["default","default"],optionCartList:["default","default"],optionSelectedPrice:0,parts:{top:{partName:"top",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},bottom:{partName:"bottom",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},cleat:{partName:"cleat",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture}}},shelfB16:{data:mn.shelfB16,animActive:!1,stainSingle:!1,stainMixed:!1,stainPaintMixed:!1,paintSingle:!1,paintMixed:!1,snipCartOption:"default",snipCartOptionDesc:"default",optionColorNameList:["default","default","default"],optionCompleteList:["default","default","default"],optionCartList:["default","default","default"],optionSelectedPrice:0,parts:{top:{partName:"top",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},middle:{partName:"middle",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},bottom:{partName:"bottom",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},cleat:{partName:"cleat",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture}}},shelfB32:{data:mn.shelfB32,animActive:!1,stainSingle:!1,stainMixed:!1,stainPaintMixed:!1,paintSingle:!1,paintMixed:!1,snipCartOption:"default",snipCartOptionDesc:"default",optionColorNameList:["default","default","default"],optionCompleteList:["default","default","default"],optionCartList:["default","default","default"],optionSelectedPrice:0,parts:{top:{partName:"top",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},middle:{partName:"middle",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},bottom:{partName:"bottom",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture},cleat:{partName:"cleat",colorType:"default",colorName:"default",color:Ee.whiteStain,texture:Ee.paintedTexture}}}},calculateItemPrice:e=>n(Zv(t=>{let r=t.items[e].optionSelectedPrice;const i=c=>c.every(u=>u===c[0]);let s=Object.values(t.items[e].parts),o=s.filter(c=>c.partName!=="cleat").map(c=>c.colorType),a=s.filter(c=>c.partName!=="cleat").map(c=>{let u="";return Tr.stains.includes(c.colorName)?u="stain":Tr.paints.includes(c.colorName)&&(u="paint"),` ${c.partName}: ${c.colorName} ${u} `}),l=s.filter(c=>c.partName!=="cleat").map(c=>c.colorName);t.items[e].optionColorNameList=l,t.items[e].optionCompleteList=s,t.items[e].optionCartList=a,(!o.includes("default")||!l.includes("default"))&&(o.includes("stain")&&i(o)?i(l)?(t.items[e].stainSingle=!0,t.items[e].stainMixed=!1,t.items[e].stainPaintMixed=!1,t.items[e].paintSingle=!1,t.items[e].paintMixed=!1,t.items[e].snipCartOptionDesc="Single stain",t.items[e].snipCartOption="singleStain",r=t.items[e].data.itemBasePrice+t.items[e].data.itemStainCost):i(l)||(t.items[e].stainSingle=!1,t.items[e].stainMixed=!0,t.items[e].stainPaintMixed=!1,t.items[e].paintSingle=!1,t.items[e].paintMixed=!1,t.items[e].snipCartOptionDesc="Mixed stain",t.items[e].snipCartOption="mixedStain",r=t.items[e].data.itemBasePrice+t.items[e].data.itemStainCost):o.includes("stain")&&!i(o)?(t.items[e].stainSingle=!1,t.items[e].stainMixed=!1,t.items[e].stainPaintMixed=!0,t.items[e].paintSingle=!1,t.items[e].paintMixed=!1,t.items[e].snipCartOptionDesc="Mixed stain and paint",t.items[e].snipCartOption="mixedStainPaint",r=t.items[e].data.itemBasePrice+t.items[e].data.itemMixedStainCost):o.includes("paint")&&i(o)&&(i(l)?(t.items[e].stainSingle=!1,t.items[e].stainMixed=!1,t.items[e].stainPaintMixed=!1,t.items[e].paintSingle=!0,t.items[e].paintMixed=!1,t.items[e].snipCartOptionDesc="Single paint",t.items[e].snipCartOption="singlePaint",r=t.items[e].data.itemBasePrice):i(l)||(t.items[e].stainSingle=!1,t.items[e].stainMixed=!1,t.items[e].stainPaintMixed=!1,t.items[e].paintSingle=!1,t.items[e].paintMixed=!0,t.items[e].snipCartOptionDesc="Mixed paint",t.items[e].snipCartOption="mixedPaint",r=t.items[e].data.itemBasePrice+t.items[e].data.itemMixedPaintCost))),t.items[e].optionSelectedPrice=r})),updatePartColor:(e,t,r)=>n(Zv(i=>{i.items[e].parts[t].color=r})),updatePartColorName:(e,t,r)=>n(Zv(i=>{i.items[e].parts[t].colorName=r,Tr.stains.includes(r)?i.items[e].parts[t].colorType="stain":Tr.paints.includes(r)&&(i.items[e].parts[t].colorType="paint")})),updatePartTexture:(e,t,r)=>n(Zv(i=>{i.items[e].parts[t].texture=r}))})),Vle=({model:n,itemName:e,partName:t})=>{const{scene:r,nodes:i,materials:s}=sl(n),o=Wo(p=>p.items[e].parts[t].color),a=Wo(p=>p.items[e].parts[t].texture),[l,c,u,f]=Gs(a);return O.useLayoutEffect(()=>{Object.assign(s.Material,{map:l,normalMap:c,roughnessMap:u,metalnessMap:f,color:o})},[r,i,s,o,a,l,c,u,f]),O.useLayoutEffect(()=>{r.traverse(p=>{p.isMesh&&(p.castShadow=!0,p.receiveShadow=!0,p.material.roughness=1,p.material.metalness=0)})},[]),ue.jsx("primitive",{object:r})},$le=({currentColor:n,currentTexture:e,cartCount:t,handleCartClick:r})=>{const{scene:i,nodes:s,materials:o}=sl("./models/bag.gltf"),[a,l]=O.useState([]),[c,u,f,p]=Gs(e);return O.useLayoutEffect(()=>{Object.assign(o._0043_SaddleBrown,{map:c,normalMap:u,roughnessMap:f,metalnessMap:p,color:n})},[i,s,o,n,e,c,u,f,p]),O.useLayoutEffect(()=>{const m=[];i.traverse(g=>{g.isObject3D&&g.userData.name&&g.userData.name.startsWith("AnchorPoint")&&m.push(ue.jsx(b5,{position:[g.position.x,g.position.y,g.position.z],distanceFactor:.25,children:ue.jsx("div",{className:"cart",onClick:r,style:{display:t>0?"block":"none"},children:t>0?t:""})},g.uuid))}),l(m)},[i,t]),O.useLayoutEffect(()=>{i.traverse(m=>{m.isMesh&&(m.castShadow=!1,m.receiveShadow=!0,m.material.roughness=1,m.material.metalness=0)})},[]),ue.jsx("primitive",{object:i,children:a})};var PR={},UH={exports:{}};(function(n){function e(t){return t&&t.__esModule?t:{default:t}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(UH);var ca=UH.exports,FA={};function Il(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function zH(n){if(!Il(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=zH(n[t])}),e}function Ga(n,e,t={clone:!0}){const r=t.clone?Pe({},n):n;return Il(n)&&Il(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Il(e[i])&&i in n&&Il(n[i])?r[i]=Ga(n[i],e[i],t):t.clone?r[i]=Il(e[i])?zH(e[i]):e[i]:r[i]=e[i])}),r}function oh(n){let e="https://mui.com/production-error/?code="+n;for(let t=1;t<arguments.length;t+=1)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+n+"; visit "+e+" for the full message."}function zn(n){if(typeof n!="string")throw new Error(oh(7));return n.charAt(0).toUpperCase()+n.slice(1)}function Wle(...n){return n.reduce((e,t)=>t==null?e:function(...i){e.apply(this,i),t.apply(this,i)},()=>{})}function jle(n,e=166){let t;function r(...i){const s=()=>{n.apply(this,i)};clearTimeout(t),t=setTimeout(s,e)}return r.clear=()=>{clearTimeout(t)},r}function Xle(n,e){return()=>null}function Kle(n,e){var t,r;return O.isValidElement(n)&&e.indexOf((t=n.type.muiName)!=null?t:(r=n.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function HH(n){return n&&n.ownerDocument||document}function Yle(n){return HH(n).defaultView||window}function Jle(n,e){return()=>null}function GH(n,e){typeof n=="function"?n(e):n&&(n.current=e)}const qle=typeof window<"u"?O.useLayoutEffect:O.useEffect,VH=qle;let GD=0;function Qle(n){const[e,t]=O.useState(n),r=n||e;return O.useEffect(()=>{e==null&&(GD+=1,t(`mui-${GD}`))},[e]),r}const VD=ky["useId".toString()];function Zle(n){if(VD!==void 0){const e=VD();return n??e}return Qle(n)}function ece(n,e,t,r,i){return null}function tce({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=O.useRef(n!==void 0),[s,o]=O.useState(e),a=i?n:s,l=O.useCallback(c=>{i||o(c)},[]);return[a,l]}function Dp(n){const e=O.useRef(n);return VH(()=>{e.current=n}),O.useRef((...t)=>(0,e.current)(...t)).current}function BM(...n){return O.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{GH(t,e)})},n)}const $D={};function nce(n,e){const t=O.useRef($D);return t.current===$D&&(t.current=n(e)),t}const rce=[];function ice(n){O.useEffect(n,rce)}class l1{constructor(){this.currentId=0,this.clear=()=>{this.currentId!==0&&(clearTimeout(this.currentId),this.currentId=0)},this.disposeEffect=()=>this.clear}static create(){return new l1}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=0,t()},e)}}function sce(){const n=nce(l1.create).current;return ice(n.disposeEffect),n}let c1=!0,DM=!1;const oce=new l1,ace={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function lce(n){const{type:e,tagName:t}=n;return!!(t==="INPUT"&&ace[e]&&!n.readOnly||t==="TEXTAREA"&&!n.readOnly||n.isContentEditable)}function cce(n){n.metaKey||n.altKey||n.ctrlKey||(c1=!0)}function UA(){c1=!1}function uce(){this.visibilityState==="hidden"&&DM&&(c1=!0)}function fce(n){n.addEventListener("keydown",cce,!0),n.addEventListener("mousedown",UA,!0),n.addEventListener("pointerdown",UA,!0),n.addEventListener("touchstart",UA,!0),n.addEventListener("visibilitychange",uce,!0)}function dce(n){const{target:e}=n;try{return e.matches(":focus-visible")}catch{}return c1||lce(e)}function $H(){const n=O.useCallback(i=>{i!=null&&fce(i.ownerDocument)},[]),e=O.useRef(!1);function t(){return e.current?(DM=!0,oce.start(100,()=>{DM=!1}),e.current=!1,!0):!1}function r(i){return dce(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:t,ref:n}}function OR(n,e){const t=Pe({},e);return Object.keys(n).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=Pe({},n[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=n[r]||{},s=e[r];t[r]={},!s||!Object.keys(s)?t[r]=i:!i||!Object.keys(i)?t[r]=s:(t[r]=Pe({},s),Object.keys(i).forEach(o=>{t[r][o]=OR(i[o],s[o])}))}else t[r]===void 0&&(t[r]=n[r])}),t}function u1(n,e,t=void 0){const r={};return Object.keys(n).forEach(i=>{r[i]=n[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),t&&t[o]&&s.push(t[o])}return s},[]).join(" ")}),r}const WD=n=>n,hce=()=>{let n=WD;return{configure(e){n=e},generate(e){return n(e)},reset(){n=WD}}},pce=hce(),LR=pce,mce={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Rg(n,e,t="Mui"){const r=mce[e];return r?`${t}-${r}`:`${LR.generate(n)}-${e}`}function Ph(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=Rg(n,i,t)}),r}function gce(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function Br(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function WH(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=WH(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function xi(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=WH(n))&&(r&&(r+=" "),r+=e);return r}function jH(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var vce=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,yce=jH(function(n){return vce.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91});function _ce(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function xce(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Sce=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(xce(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=_ce(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},n}(),ei="-ms-",H_="-moz-",Zt="-webkit-",XH="comm",IR="rule",BR="decl",bce="@import",KH="@keyframes",Ace="@layer",wce=Math.abs,f1=String.fromCharCode,Ece=Object.assign;function Mce(n,e){return zr(n,0)^45?(((e<<2^zr(n,0))<<2^zr(n,1))<<2^zr(n,2))<<2^zr(n,3):0}function YH(n){return n.trim()}function Tce(n,e){return(n=e.exec(n))?n[0]:n}function en(n,e,t){return n.replace(e,t)}function kM(n,e){return n.indexOf(e)}function zr(n,e){return n.charCodeAt(e)|0}function Xm(n,e,t){return n.slice(e,t)}function zo(n){return n.length}function DR(n){return n.length}function ey(n,e){return e.push(n),n}function Cce(n,e){return n.map(e).join("")}var d1=1,ah=1,JH=0,ji=0,fr=0,Oh="";function h1(n,e,t,r,i,s,o){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:d1,column:ah,length:o,return:""}}function Ep(n,e){return Ece(h1("",null,null,"",null,null,0),n,{length:-n.length},e)}function Rce(){return fr}function Pce(){return fr=ji>0?zr(Oh,--ji):0,ah--,fr===10&&(ah=1,d1--),fr}function hs(){return fr=ji<JH?zr(Oh,ji++):0,ah++,fr===10&&(ah=1,d1++),fr}function ea(){return zr(Oh,ji)}function Py(){return ji}function Pg(n,e){return Xm(Oh,n,e)}function Km(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qH(n){return d1=ah=1,JH=zo(Oh=n),ji=0,[]}function QH(n){return Oh="",n}function Oy(n){return YH(Pg(ji-1,NM(n===91?n+2:n===40?n+1:n)))}function Oce(n){for(;(fr=ea())&&fr<33;)hs();return Km(n)>2||Km(fr)>3?"":" "}function Lce(n,e){for(;--e&&hs()&&!(fr<48||fr>102||fr>57&&fr<65||fr>70&&fr<97););return Pg(n,Py()+(e<6&&ea()==32&&hs()==32))}function NM(n){for(;hs();)switch(fr){case n:return ji;case 34:case 39:n!==34&&n!==39&&NM(fr);break;case 40:n===41&&NM(n);break;case 92:hs();break}return ji}function Ice(n,e){for(;hs()&&n+fr!==47+10;)if(n+fr===42+42&&ea()===47)break;return"/*"+Pg(e,ji-1)+"*"+f1(n===47?n:hs())}function Bce(n){for(;!Km(ea());)hs();return Pg(n,ji)}function Dce(n){return QH(Ly("",null,null,null,[""],n=qH(n),0,[0],n))}function Ly(n,e,t,r,i,s,o,a,l){for(var c=0,u=0,f=o,p=0,m=0,g=0,y=1,_=1,v=1,x=0,S="",A=i,M=s,E=r,R=S;_;)switch(g=x,x=hs()){case 40:if(g!=108&&zr(R,f-1)==58){kM(R+=en(Oy(x),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:R+=Oy(x);break;case 9:case 10:case 13:case 32:R+=Oce(g);break;case 92:R+=Lce(Py()-1,7);continue;case 47:switch(ea()){case 42:case 47:ey(kce(Ice(hs(),Py()),e,t),l);break;default:R+="/"}break;case 123*y:a[c++]=zo(R)*v;case 125*y:case 59:case 0:switch(x){case 0:case 125:_=0;case 59+u:v==-1&&(R=en(R,/\f/g,"")),m>0&&zo(R)-f&&ey(m>32?XD(R+";",r,t,f-1):XD(en(R," ","")+";",r,t,f-2),l);break;case 59:R+=";";default:if(ey(E=jD(R,e,t,c,u,i,a,S,A=[],M=[],f),s),x===123)if(u===0)Ly(R,e,E,E,A,s,f,a,M);else switch(p===99&&zr(R,3)===110?100:p){case 100:case 108:case 109:case 115:Ly(n,E,E,r&&ey(jD(n,E,E,0,0,i,a,S,i,A=[],f),M),i,M,f,a,r?A:M);break;default:Ly(R,E,E,E,[""],M,0,a,M)}}c=u=m=0,y=v=1,S=R="",f=o;break;case 58:f=1+zo(R),m=g;default:if(y<1){if(x==123)--y;else if(x==125&&y++==0&&Pce()==125)continue}switch(R+=f1(x),x*y){case 38:v=u>0?1:(R+="\f",-1);break;case 44:a[c++]=(zo(R)-1)*v,v=1;break;case 64:ea()===45&&(R+=Oy(hs())),p=ea(),u=f=zo(S=R+=Bce(Py())),x++;break;case 45:g===45&&zo(R)==2&&(y=0)}}return s}function jD(n,e,t,r,i,s,o,a,l,c,u){for(var f=i-1,p=i===0?s:[""],m=DR(p),g=0,y=0,_=0;g<r;++g)for(var v=0,x=Xm(n,f+1,f=wce(y=o[g])),S=n;v<m;++v)(S=YH(y>0?p[v]+" "+x:en(x,/&\f/g,p[v])))&&(l[_++]=S);return h1(n,e,t,i===0?IR:a,l,c,u)}function kce(n,e,t){return h1(n,e,t,XH,f1(Rce()),Xm(n,2,-2),0)}function XD(n,e,t,r){return h1(n,e,t,BR,Xm(n,0,r),Xm(n,r+1,-1),r)}function Td(n,e){for(var t="",r=DR(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function Nce(n,e,t,r){switch(n.type){case Ace:if(n.children.length)break;case bce:case BR:return n.return=n.return||n.value;case XH:return"";case KH:return n.return=n.value+"{"+Td(n.children,r)+"}";case IR:n.value=n.props.join(",")}return zo(t=Td(n.children,r))?n.return=n.value+"{"+t+"}":""}function Fce(n){var e=DR(n);return function(t,r,i,s){for(var o="",a=0;a<e;a++)o+=n[a](t,r,i,s)||"";return o}}function Uce(n){return function(e){e.root||(e=e.return)&&n(e)}}var zce=function(e,t,r){for(var i=0,s=0;i=s,s=ea(),i===38&&s===12&&(t[r]=1),!Km(s);)hs();return Pg(e,ji)},Hce=function(e,t){var r=-1,i=44;do switch(Km(i)){case 0:i===38&&ea()===12&&(t[r]=1),e[r]+=zce(ji-1,t,r);break;case 2:e[r]+=Oy(i);break;case 4:if(i===44){e[++r]=ea()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=f1(i)}while(i=hs());return e},Gce=function(e,t){return QH(Hce(qH(e),t))},KD=new WeakMap,Vce=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!KD.get(r))&&!i){KD.set(e,!0);for(var s=[],o=Gce(t,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},$ce=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function ZH(n,e){switch(Mce(n,e)){case 5103:return Zt+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Zt+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return Zt+n+H_+n+ei+n+n;case 6828:case 4268:return Zt+n+ei+n+n;case 6165:return Zt+n+ei+"flex-"+n+n;case 5187:return Zt+n+en(n,/(\w+).+(:[^]+)/,Zt+"box-$1$2"+ei+"flex-$1$2")+n;case 5443:return Zt+n+ei+"flex-item-"+en(n,/flex-|-self/,"")+n;case 4675:return Zt+n+ei+"flex-line-pack"+en(n,/align-content|flex-|-self/,"")+n;case 5548:return Zt+n+ei+en(n,"shrink","negative")+n;case 5292:return Zt+n+ei+en(n,"basis","preferred-size")+n;case 6060:return Zt+"box-"+en(n,"-grow","")+Zt+n+ei+en(n,"grow","positive")+n;case 4554:return Zt+en(n,/([^-])(transform)/g,"$1"+Zt+"$2")+n;case 6187:return en(en(en(n,/(zoom-|grab)/,Zt+"$1"),/(image-set)/,Zt+"$1"),n,"")+n;case 5495:case 3959:return en(n,/(image-set\([^]*)/,Zt+"$1$`$1");case 4968:return en(en(n,/(.+:)(flex-)?(.*)/,Zt+"box-pack:$3"+ei+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Zt+n+n;case 4095:case 3583:case 4068:case 2532:return en(n,/(.+)-inline(.+)/,Zt+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(zo(n)-1-e>6)switch(zr(n,e+1)){case 109:if(zr(n,e+4)!==45)break;case 102:return en(n,/(.+:)(.+)-([^]+)/,"$1"+Zt+"$2-$3$1"+H_+(zr(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~kM(n,"stretch")?ZH(en(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(zr(n,e+1)!==115)break;case 6444:switch(zr(n,zo(n)-3-(~kM(n,"!important")&&10))){case 107:return en(n,":",":"+Zt)+n;case 101:return en(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Zt+(zr(n,14)===45?"inline-":"")+"box$3$1"+Zt+"$2$3$1"+ei+"$2box$3")+n}break;case 5936:switch(zr(n,e+11)){case 114:return Zt+n+ei+en(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return Zt+n+ei+en(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return Zt+n+ei+en(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return Zt+n+ei+n+n}return n}var Wce=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case BR:e.return=ZH(e.value,e.length);break;case KH:return Td([Ep(e,{value:en(e.value,"@","@"+Zt)})],i);case IR:if(e.length)return Cce(e.props,function(s){switch(Tce(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Td([Ep(e,{props:[en(s,/:(read-\w+)/,":"+H_+"$1")]})],i);case"::placeholder":return Td([Ep(e,{props:[en(s,/:(plac\w+)/,":"+Zt+"input-$1")]}),Ep(e,{props:[en(s,/:(plac\w+)/,":"+H_+"$1")]}),Ep(e,{props:[en(s,/:(plac\w+)/,ei+"input-$1")]})],i)}return""})}},jce=[Wce],Xce=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var _=y.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||jce,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(y){for(var _=y.getAttribute("data-emotion").split(" "),v=1;v<_.length;v++)s[_[v]]=!0;a.push(y)});var l,c=[Vce,$ce];{var u,f=[Nce,Uce(function(y){u.insert(y)})],p=Fce(c.concat(i,f)),m=function(_){return Td(Dce(_),p)};l=function(_,v,x,S){u=x,m(_?_+"{"+v.styles+"}":v.styles),S&&(g.inserted[v.name]=!0)}}var g={key:t,sheet:new Sce({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g},eG={exports:{}},on={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dr=typeof Symbol=="function"&&Symbol.for,kR=Dr?Symbol.for("react.element"):60103,NR=Dr?Symbol.for("react.portal"):60106,p1=Dr?Symbol.for("react.fragment"):60107,m1=Dr?Symbol.for("react.strict_mode"):60108,g1=Dr?Symbol.for("react.profiler"):60114,v1=Dr?Symbol.for("react.provider"):60109,y1=Dr?Symbol.for("react.context"):60110,FR=Dr?Symbol.for("react.async_mode"):60111,_1=Dr?Symbol.for("react.concurrent_mode"):60111,x1=Dr?Symbol.for("react.forward_ref"):60112,S1=Dr?Symbol.for("react.suspense"):60113,Kce=Dr?Symbol.for("react.suspense_list"):60120,b1=Dr?Symbol.for("react.memo"):60115,A1=Dr?Symbol.for("react.lazy"):60116,Yce=Dr?Symbol.for("react.block"):60121,Jce=Dr?Symbol.for("react.fundamental"):60117,qce=Dr?Symbol.for("react.responder"):60118,Qce=Dr?Symbol.for("react.scope"):60119;function Ss(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case kR:switch(n=n.type,n){case FR:case _1:case p1:case g1:case m1:case S1:return n;default:switch(n=n&&n.$$typeof,n){case y1:case x1:case A1:case b1:case v1:return n;default:return e}}case NR:return e}}}function tG(n){return Ss(n)===_1}on.AsyncMode=FR;on.ConcurrentMode=_1;on.ContextConsumer=y1;on.ContextProvider=v1;on.Element=kR;on.ForwardRef=x1;on.Fragment=p1;on.Lazy=A1;on.Memo=b1;on.Portal=NR;on.Profiler=g1;on.StrictMode=m1;on.Suspense=S1;on.isAsyncMode=function(n){return tG(n)||Ss(n)===FR};on.isConcurrentMode=tG;on.isContextConsumer=function(n){return Ss(n)===y1};on.isContextProvider=function(n){return Ss(n)===v1};on.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===kR};on.isForwardRef=function(n){return Ss(n)===x1};on.isFragment=function(n){return Ss(n)===p1};on.isLazy=function(n){return Ss(n)===A1};on.isMemo=function(n){return Ss(n)===b1};on.isPortal=function(n){return Ss(n)===NR};on.isProfiler=function(n){return Ss(n)===g1};on.isStrictMode=function(n){return Ss(n)===m1};on.isSuspense=function(n){return Ss(n)===S1};on.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===p1||n===_1||n===g1||n===m1||n===S1||n===Kce||typeof n=="object"&&n!==null&&(n.$$typeof===A1||n.$$typeof===b1||n.$$typeof===v1||n.$$typeof===y1||n.$$typeof===x1||n.$$typeof===Jce||n.$$typeof===qce||n.$$typeof===Qce||n.$$typeof===Yce)};on.typeOf=Ss;eG.exports=on;var Zce=eG.exports,nG=Zce,eue={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},tue={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},rG={};rG[nG.ForwardRef]=eue;rG[nG.Memo]=tue;var nue=!0;function rue(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):r+=i+" "}),r}var iG=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||nue===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},sG=function(e,t,r){iG(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function iue(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var sue={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},oue=/[A-Z]|^ms/g,aue=/_EMO_([^_]+?)_([^]*?)_EMO_/g,oG=function(e){return e.charCodeAt(1)===45},YD=function(e){return e!=null&&typeof e!="boolean"},zA=jH(function(n){return oG(n)?n:n.replace(oue,"-$&").toLowerCase()}),JD=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(aue,function(r,i,s){return Ho={name:i,styles:s,next:Ho},i})}return sue[e]!==1&&!oG(e)&&typeof t=="number"&&t!==0?t+"px":t};function Ym(n,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return Ho={name:t.name,styles:t.styles,next:Ho},t.name;if(t.styles!==void 0){var r=t.next;if(r!==void 0)for(;r!==void 0;)Ho={name:r.name,styles:r.styles,next:Ho},r=r.next;var i=t.styles+";";return i}return lue(n,e,t)}case"function":{if(n!==void 0){var s=Ho,o=t(n);return Ho=s,Ym(n,e,o)}break}}if(e==null)return t;var a=e[t];return a!==void 0?a:t}function lue(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=Ym(n,e,t[i])+";";else for(var s in t){var o=t[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":YD(o)&&(r+=zA(s)+":"+JD(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)YD(o[a])&&(r+=zA(s)+":"+JD(s,o[a])+";");else{var l=Ym(n,e,o);switch(s){case"animation":case"animationName":{r+=zA(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var qD=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ho,UR=function(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Ho=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=Ym(r,t,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=Ym(r,t,e[a]),i&&(s+=o[a]);qD.lastIndex=0;for(var l="",c;(c=qD.exec(s))!==null;)l+="-"+c[1];var u=iue(s)+l;return{name:u,styles:s,next:Ho}},cue=function(e){return e()},aG=ky["useInsertionEffect"]?ky["useInsertionEffect"]:!1,uue=aG||cue,QD=aG||O.useLayoutEffect,lG=O.createContext(typeof HTMLElement<"u"?Xce({key:"css"}):null);lG.Provider;var cG=function(e){return O.forwardRef(function(t,r){var i=O.useContext(lG);return e(t,i,r)})},w1=O.createContext({}),fue=cG(function(n,e){var t=n.styles,r=UR([t],void 0,O.useContext(w1)),i=O.useRef();return QD(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),QD(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&sG(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function due(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return UR(e)}var zR=function(){var e=due.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},hue=yce,pue=function(e){return e!=="theme"},ZD=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?hue:pue},e3=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},mue=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return iG(t,r,i),uue(function(){return sG(t,r,i)}),null},gue=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;t!==void 0&&(s=t.label,o=t.target);var a=e3(e,t,r),l=a||ZD(i),c=!l("as");return function(){var u=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)f.push.apply(f,u);else{f.push(u[0][0]);for(var p=u.length,m=1;m<p;m++)f.push(u[m],u[0][m])}var g=cG(function(y,_,v){var x=c&&y.as||i,S="",A=[],M=y;if(y.theme==null){M={};for(var E in y)M[E]=y[E];M.theme=O.useContext(w1)}typeof y.className=="string"?S=rue(_.registered,A,y.className):y.className!=null&&(S=y.className+" ");var R=UR(f.concat(A),_.registered,M);S+=_.key+"-"+R.name,o!==void 0&&(S+=" "+o);var I=c&&a===void 0?ZD(x):l,T={};for(var P in y)c&&P==="as"||I(P)&&(T[P]=y[P]);return T.className=S,T.ref=v,O.createElement(O.Fragment,null,O.createElement(mue,{cache:_,serialized:R,isStringTag:typeof x=="string"}),O.createElement(x,T))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=f,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(y,_){return n(y,Pe({},t,_,{shouldForwardProp:e3(g,_,!0)})).apply(void 0,f)},g}},vue=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],FM=gue.bind();vue.forEach(function(n){FM[n]=FM(n)});function yue(n){return n==null||Object.keys(n).length===0}function _ue(n){const{styles:e,defaultTheme:t={}}=n,r=typeof e=="function"?i=>e(yue(i)?t:i):e;return ue.jsx(fue,{styles:r})}/**
 * @mui/styled-engine v5.15.8
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function uG(n,e){return FM(n,e)}const xue=(n,e)=>{Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))},Sue=["values","unit","step"],bue=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>Pe({},t,{[r.key]:r.val}),{})};function Aue(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=n,i=Br(n,Sue),s=bue(e),o=Object.keys(s);function a(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${t})`}function l(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-r/100}${t})`}function c(p,m){const g=o.indexOf(m);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${t}) and (max-width:${(g!==-1&&typeof e[o[g]]=="number"?e[o[g]]:m)-r/100}${t})`}function u(p){return o.indexOf(p)+1<o.length?c(p,o[o.indexOf(p)+1]):a(p)}function f(p){const m=o.indexOf(p);return m===0?a(o[1]):m===o.length-1?l(o[m]):c(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return Pe({keys:o,values:s,up:a,down:l,between:c,only:u,not:f,unit:t},i)}const wue={borderRadius:4},Eue=wue;function tm(n,e){return e?Ga(n,e,{clone:!1}):n}const HR={xs:0,sm:600,md:900,lg:1200,xl:1536},t3={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${HR[n]}px)`};function tl(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const s=r.breakpoints||t3;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=t(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||t3;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||HR).indexOf(a)!==-1){const l=s.up(a);o[l]=t(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return t(e)}function Mue(n={}){var e;return((e=n.keys)==null?void 0:e.reduce((r,i)=>{const s=n.up(i);return r[s]={},r},{}))||{}}function Tue(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function E1(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function G_(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=E1(n,t)||r,e&&(i=e(i,r,n)),i}function or(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=E1(l,r)||{};return tl(o,a,f=>{let p=G_(c,i,f);return f===p&&typeof f=="string"&&(p=G_(c,i,`${e}${f==="default"?"":zn(f)}`,f)),t===!1?p:{[t]:p}})};return s.propTypes={},s.filterProps=[e],s}function Cue(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const Rue={m:"margin",p:"padding"},Pue={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},n3={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Oue=Cue(n=>{if(n.length>2)if(n3[n])n=n3[n];else return[n];const[e,t]=n.split(""),r=Rue[e],i=Pue[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),GR=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],VR=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...GR,...VR];function Og(n,e,t,r){var i;const s=(i=E1(n,e,!1))!=null?i:t;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function fG(n){return Og(n,"spacing",8)}function Lg(n,e){if(typeof e=="string"||e==null)return e;const t=Math.abs(e),r=n(t);return e>=0?r:typeof r=="number"?-r:`-${r}`}function Lue(n,e){return t=>n.reduce((r,i)=>(r[i]=Lg(e,t),r),{})}function Iue(n,e,t,r){if(e.indexOf(t)===-1)return null;const i=Oue(t),s=Lue(i,r),o=n[t];return tl(n,o,s)}function dG(n,e){const t=fG(n.theme);return Object.keys(n).map(r=>Iue(n,e,r,t)).reduce(tm,{})}function Xn(n){return dG(n,GR)}Xn.propTypes={};Xn.filterProps=GR;function Kn(n){return dG(n,VR)}Kn.propTypes={};Kn.filterProps=VR;function Bue(n=8){if(n.mui)return n;const e=fG({spacing:n}),t=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return t.mui=!0,t}function M1(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>e[s]?tm(i,e[s](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function zs(n){return typeof n!="number"?n:`${n}px solid`}function to(n,e){return or({prop:n,themeKey:"borders",transform:e})}const Due=to("border",zs),kue=to("borderTop",zs),Nue=to("borderRight",zs),Fue=to("borderBottom",zs),Uue=to("borderLeft",zs),zue=to("borderColor"),Hue=to("borderTopColor"),Gue=to("borderRightColor"),Vue=to("borderBottomColor"),$ue=to("borderLeftColor"),Wue=to("outline",zs),jue=to("outlineColor"),T1=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Og(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Lg(e,r)});return tl(n,n.borderRadius,t)}return null};T1.propTypes={};T1.filterProps=["borderRadius"];M1(Due,kue,Nue,Fue,Uue,zue,Hue,Gue,Vue,$ue,T1,Wue,jue);const C1=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Og(n.theme,"spacing",8),t=r=>({gap:Lg(e,r)});return tl(n,n.gap,t)}return null};C1.propTypes={};C1.filterProps=["gap"];const R1=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Og(n.theme,"spacing",8),t=r=>({columnGap:Lg(e,r)});return tl(n,n.columnGap,t)}return null};R1.propTypes={};R1.filterProps=["columnGap"];const P1=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Og(n.theme,"spacing",8),t=r=>({rowGap:Lg(e,r)});return tl(n,n.rowGap,t)}return null};P1.propTypes={};P1.filterProps=["rowGap"];const Xue=or({prop:"gridColumn"}),Kue=or({prop:"gridRow"}),Yue=or({prop:"gridAutoFlow"}),Jue=or({prop:"gridAutoColumns"}),que=or({prop:"gridAutoRows"}),Que=or({prop:"gridTemplateColumns"}),Zue=or({prop:"gridTemplateRows"}),efe=or({prop:"gridTemplateAreas"}),tfe=or({prop:"gridArea"});M1(C1,R1,P1,Xue,Kue,Yue,Jue,que,Que,Zue,efe,tfe);function Cd(n,e){return e==="grey"?e:n}const nfe=or({prop:"color",themeKey:"palette",transform:Cd}),rfe=or({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Cd}),ife=or({prop:"backgroundColor",themeKey:"palette",transform:Cd});M1(nfe,rfe,ife);function ss(n){return n<=1&&n!==0?`${n*100}%`:n}const sfe=or({prop:"width",transform:ss}),$R=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var r,i;const s=((r=n.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[t])||HR[t];return s?((i=n.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${n.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:ss(t)}};return tl(n,n.maxWidth,e)}return null};$R.filterProps=["maxWidth"];const ofe=or({prop:"minWidth",transform:ss}),afe=or({prop:"height",transform:ss}),lfe=or({prop:"maxHeight",transform:ss}),cfe=or({prop:"minHeight",transform:ss});or({prop:"size",cssProperty:"width",transform:ss});or({prop:"size",cssProperty:"height",transform:ss});const ufe=or({prop:"boxSizing"});M1(sfe,$R,ofe,afe,lfe,cfe,ufe);const ffe={border:{themeKey:"borders",transform:zs},borderTop:{themeKey:"borders",transform:zs},borderRight:{themeKey:"borders",transform:zs},borderBottom:{themeKey:"borders",transform:zs},borderLeft:{themeKey:"borders",transform:zs},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:zs},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:T1},color:{themeKey:"palette",transform:Cd},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Cd},backgroundColor:{themeKey:"palette",transform:Cd},p:{style:Kn},pt:{style:Kn},pr:{style:Kn},pb:{style:Kn},pl:{style:Kn},px:{style:Kn},py:{style:Kn},padding:{style:Kn},paddingTop:{style:Kn},paddingRight:{style:Kn},paddingBottom:{style:Kn},paddingLeft:{style:Kn},paddingX:{style:Kn},paddingY:{style:Kn},paddingInline:{style:Kn},paddingInlineStart:{style:Kn},paddingInlineEnd:{style:Kn},paddingBlock:{style:Kn},paddingBlockStart:{style:Kn},paddingBlockEnd:{style:Kn},m:{style:Xn},mt:{style:Xn},mr:{style:Xn},mb:{style:Xn},ml:{style:Xn},mx:{style:Xn},my:{style:Xn},margin:{style:Xn},marginTop:{style:Xn},marginRight:{style:Xn},marginBottom:{style:Xn},marginLeft:{style:Xn},marginX:{style:Xn},marginY:{style:Xn},marginInline:{style:Xn},marginInlineStart:{style:Xn},marginInlineEnd:{style:Xn},marginBlock:{style:Xn},marginBlockStart:{style:Xn},marginBlockEnd:{style:Xn},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:C1},rowGap:{style:P1},columnGap:{style:R1},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ss},maxWidth:{style:$R},minWidth:{transform:ss},height:{transform:ss},maxHeight:{transform:ss},minHeight:{transform:ss},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},O1=ffe;function dfe(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function hfe(n,e){return typeof n=="function"?n(e):n}function pfe(){function n(t,r,i,s){const o={[t]:r,theme:i},a=s[t];if(!a)return{[t]:r};const{cssProperty:l=t,themeKey:c,transform:u,style:f}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[t]:r};const p=E1(i,c)||{};return f?f(o):tl(o,r,g=>{let y=G_(p,u,g);return g===y&&typeof g=="string"&&(y=G_(p,u,`${t}${g==="default"?"":zn(g)}`,g)),l===!1?y:{[l]:y}})}function e(t){var r;const{sx:i,theme:s={}}=t||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:O1;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const u=Mue(s.breakpoints),f=Object.keys(u);let p=u;return Object.keys(c).forEach(m=>{const g=hfe(c[m],s);if(g!=null)if(typeof g=="object")if(o[m])p=tm(p,n(m,g,s,o));else{const y=tl({theme:s},g,_=>({[m]:_}));dfe(y,g)?p[m]=e({sx:g,theme:s}):p=tm(p,y)}else p=tm(p,n(m,g,s,o))}),Tue(f,p)}return Array.isArray(i)?i.map(a):a(i)}return e}const hG=pfe();hG.filterProps=["sx"];const L1=hG;function mfe(n,e){const t=this;return t.vars&&typeof t.getColorSchemeSelector=="function"?{[t.getColorSchemeSelector(n).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:t.palette.mode===n?e:{}}const gfe=["breakpoints","palette","spacing","shape"];function WR(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:s={}}=n,o=Br(n,gfe),a=Aue(t),l=Bue(i);let c=Ga({breakpoints:a,direction:"ltr",components:{},palette:Pe({mode:"light"},r),spacing:l,shape:Pe({},Eue,s)},o);return c.applyStyles=mfe,c=e.reduce((u,f)=>Ga(u,f),c),c.unstable_sxConfig=Pe({},O1,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(f){return L1({sx:f,theme:this})},c}function vfe(n){return Object.keys(n).length===0}function pG(n=null){const e=O.useContext(w1);return!e||vfe(e)?n:e}const yfe=WR();function jR(n=yfe){return pG(n)}function _fe({styles:n,themeId:e,defaultTheme:t={}}){const r=jR(t),i=typeof n=="function"?n(e&&r[e]||r):n;return ue.jsx(_ue,{styles:i})}const xfe=["sx"],Sfe=n=>{var e,t;const r={systemProps:{},otherProps:{}},i=(e=n==null||(t=n.theme)==null?void 0:t.unstable_sxConfig)!=null?e:O1;return Object.keys(n).forEach(s=>{i[s]?r.systemProps[s]=n[s]:r.otherProps[s]=n[s]}),r};function bfe(n){const{sx:e}=n,t=Br(n,xfe),{systemProps:r,otherProps:i}=Sfe(t);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Il(a)?Pe({},r,a):r}:s=Pe({},r,e),Pe({},i,{sx:s})}const Afe=["className","component"];function wfe(n={}){const{themeId:e,defaultTheme:t,defaultClassName:r="MuiBox-root",generateClassName:i}=n,s=uG("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(L1);return O.forwardRef(function(l,c){const u=jR(t),f=bfe(l),{className:p,component:m="div"}=f,g=Br(f,Afe);return ue.jsx(s,Pe({as:m,ref:c,className:xi(p,i?i(r):r),theme:e&&u[e]||u},g))})}const Efe=["ownerState"],Mfe=["variants"],Tfe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Cfe(n){return Object.keys(n).length===0}function Rfe(n){return typeof n=="string"&&n.charCodeAt(0)>96}function Iy(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const Pfe=WR(),Ofe=n=>n&&n.charAt(0).toLowerCase()+n.slice(1);function ty({defaultTheme:n,theme:e,themeId:t}){return Cfe(e)?n:e[t]||e}function Lfe(n){return n?(e,t)=>t[n]:null}function By(n,e){let{ownerState:t}=e,r=Br(e,Efe);const i=typeof n=="function"?n(Pe({ownerState:t},r)):n;if(Array.isArray(i))return i.flatMap(s=>By(s,Pe({ownerState:t},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=Br(i,Mfe);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props(Pe({ownerState:t},r)):Object.keys(l.props).forEach(u=>{(t==null?void 0:t[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style(Pe({ownerState:t},r)):l.style))}),a}return i}function Ife(n={}){const{themeId:e,defaultTheme:t=Pfe,rootShouldForwardProp:r=Iy,slotShouldForwardProp:i=Iy}=n,s=o=>L1(Pe({},o,{theme:ty(Pe({},o,{defaultTheme:t,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{xue(o,M=>M.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:f,overridesResolver:p=Lfe(Ofe(c))}=a,m=Br(a,Tfe),g=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,y=f||!1;let _,v=Iy;c==="Root"||c==="root"?v=r:c?v=i:Rfe(o)&&(v=void 0);const x=uG(o,Pe({shouldForwardProp:v,label:_},m)),S=M=>typeof M=="function"&&M.__emotion_real!==M||Il(M)?E=>By(M,Pe({},E,{theme:ty({theme:E.theme,defaultTheme:t,themeId:e})})):M,A=(M,...E)=>{let R=S(M);const I=E?E.map(S):[];l&&p&&I.push(B=>{const F=ty(Pe({},B,{defaultTheme:t,themeId:e}));if(!F.components||!F.components[l]||!F.components[l].styleOverrides)return null;const V=F.components[l].styleOverrides,k={};return Object.entries(V).forEach(([z,W])=>{k[z]=By(W,Pe({},B,{theme:F}))}),p(B,k)}),l&&!g&&I.push(B=>{var F;const V=ty(Pe({},B,{defaultTheme:t,themeId:e})),k=V==null||(F=V.components)==null||(F=F[l])==null?void 0:F.variants;return By({variants:k},Pe({},B,{theme:V}))}),y||I.push(s);const T=I.length-E.length;if(Array.isArray(M)&&T>0){const B=new Array(T).fill("");R=[...M,...B],R.raw=[...M.raw,...B]}const P=x(R,...I);return o.muiName&&(P.muiName=o.muiName),P};return x.withConfig&&(A.withConfig=x.withConfig),A}}function Bfe(n){const{theme:e,name:t,props:r}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?r:OR(e.components[t].defaultProps,r)}function Dfe({props:n,name:e,defaultTheme:t,themeId:r}){let i=jR(t);return r&&(i=i[r]||i),Bfe({theme:i,name:e,props:n})}function XR(n,e=0,t=1){return gce(n,e,t)}function kfe(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function ku(n){if(n.type)return n;if(n.charAt(0)==="#")return ku(kfe(n));const e=n.indexOf("("),t=n.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(t)===-1)throw new Error(oh(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(oh(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:t,values:r,colorSpace:i}}function I1(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Nfe(n){n=ku(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,u=(c+t/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(a+="a",l.push(e[3])),I1({type:a,values:l})}function r3(n){n=ku(n);let e=n.type==="hsl"||n.type==="hsla"?ku(Nfe(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Ffe(n,e){const t=r3(n),r=r3(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function fd(n,e){return n=ku(n),e=XR(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,I1(n)}function Ufe(n,e){if(n=ku(n),e=XR(e),n.type.indexOf("hsl")!==-1)n.values[2]*=1-e;else if(n.type.indexOf("rgb")!==-1||n.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)n.values[t]*=1-e;return I1(n)}function zfe(n,e){if(n=ku(n),e=XR(e),n.type.indexOf("hsl")!==-1)n.values[2]+=(100-n.values[2])*e;else if(n.type.indexOf("rgb")!==-1)for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return I1(n)}const Hfe=O.createContext(null),mG=Hfe;function gG(){return O.useContext(mG)}const Gfe=typeof Symbol=="function"&&Symbol.for,Vfe=Gfe?Symbol.for("mui.nested"):"__THEME_NESTED__";function $fe(n,e){return typeof e=="function"?e(n):Pe({},n,e)}function Wfe(n){const{children:e,theme:t}=n,r=gG(),i=O.useMemo(()=>{const s=r===null?t:$fe(r,t);return s!=null&&(s[Vfe]=r!==null),s},[t,r]);return ue.jsx(mG.Provider,{value:i,children:e})}const i3={};function s3(n,e,t,r=!1){return O.useMemo(()=>{const i=n&&e[n]||e;if(typeof t=="function"){const s=t(i),o=n?Pe({},e,{[n]:s}):s;return r?()=>o:o}return n?Pe({},e,{[n]:t}):Pe({},e,t)},[n,e,t,r])}function jfe(n){const{children:e,theme:t,themeId:r}=n,i=pG(i3),s=gG()||i3,o=s3(r,i,t),a=s3(r,s,t,!0);return ue.jsx(Wfe,{theme:a,children:ue.jsx(w1.Provider,{value:o,children:e})})}function Xfe(n,e){return Pe({toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}}},e)}const Kfe={black:"#000",white:"#fff"},Jm=Kfe,Yfe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Jfe=Yfe,qfe={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},kf=qfe,Qfe={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Nf=Qfe,Zfe={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Mp=Zfe,ede={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Ff=ede,tde={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Uf=tde,nde={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},zf=nde,rde=["mode","contrastThreshold","tonalOffset"],o3={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Jm.white,default:Jm.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},HA={text:{primary:Jm.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Jm.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function a3(n,e,t,r){const i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=zfe(n.main,i):e==="dark"&&(n.dark=Ufe(n.main,s)))}function ide(n="light"){return n==="dark"?{main:Ff[200],light:Ff[50],dark:Ff[400]}:{main:Ff[700],light:Ff[400],dark:Ff[800]}}function sde(n="light"){return n==="dark"?{main:kf[200],light:kf[50],dark:kf[400]}:{main:kf[500],light:kf[300],dark:kf[700]}}function ode(n="light"){return n==="dark"?{main:Nf[500],light:Nf[300],dark:Nf[700]}:{main:Nf[700],light:Nf[400],dark:Nf[800]}}function ade(n="light"){return n==="dark"?{main:Uf[400],light:Uf[300],dark:Uf[700]}:{main:Uf[700],light:Uf[500],dark:Uf[900]}}function lde(n="light"){return n==="dark"?{main:zf[400],light:zf[300],dark:zf[700]}:{main:zf[800],light:zf[500],dark:zf[900]}}function cde(n="light"){return n==="dark"?{main:Mp[400],light:Mp[300],dark:Mp[700]}:{main:"#ed6c02",light:Mp[500],dark:Mp[900]}}function ude(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2}=n,i=Br(n,rde),s=n.primary||ide(e),o=n.secondary||sde(e),a=n.error||ode(e),l=n.info||ade(e),c=n.success||lde(e),u=n.warning||cde(e);function f(y){return Ffe(y,HA.text.primary)>=t?HA.text.primary:o3.text.primary}const p=({color:y,name:_,mainShade:v=500,lightShade:x=300,darkShade:S=700})=>{if(y=Pe({},y),!y.main&&y[v]&&(y.main=y[v]),!y.hasOwnProperty("main"))throw new Error(oh(11,_?` (${_})`:"",v));if(typeof y.main!="string")throw new Error(oh(12,_?` (${_})`:"",JSON.stringify(y.main)));return a3(y,"light",x,r),a3(y,"dark",S,r),y.contrastText||(y.contrastText=f(y.main)),y},m={dark:HA,light:o3};return Ga(Pe({common:Pe({},Jm),mode:e,primary:p({color:s,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:a,name:"error"}),warning:p({color:u,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:c,name:"success"}),grey:Jfe,contrastThreshold:t,getContrastText:f,augmentColor:p,tonalOffset:r},m[e]),i)}const fde=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function dde(n){return Math.round(n*1e5)/1e5}const l3={textTransform:"uppercase"},c3='"Roboto", "Helvetica", "Arial", sans-serif';function hde(n,e){const t=typeof e=="function"?e(n):e,{fontFamily:r=c3,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:f}=t,p=Br(t,fde),m=i/14,g=f||(v=>`${v/c*m}rem`),y=(v,x,S,A,M)=>Pe({fontFamily:r,fontWeight:v,fontSize:g(x),lineHeight:S},r===c3?{letterSpacing:`${dde(A/x)}em`}:{},M,u),_={h1:y(s,96,1.167,-1.5),h2:y(s,60,1.2,-.5),h3:y(o,48,1.167,0),h4:y(o,34,1.235,.25),h5:y(o,24,1.334,0),h6:y(a,20,1.6,.15),subtitle1:y(o,16,1.75,.15),subtitle2:y(a,14,1.57,.1),body1:y(o,16,1.5,.15),body2:y(o,14,1.43,.15),button:y(a,14,1.75,.4,l3),caption:y(o,12,1.66,.4),overline:y(o,12,2.66,1,l3),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Ga(Pe({htmlFontSize:c,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},_),p,{clone:!1})}const pde=.2,mde=.14,gde=.12;function wn(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${pde})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${mde})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${gde})`].join(",")}const vde=["none",wn(0,2,1,-1,0,1,1,0,0,1,3,0),wn(0,3,1,-2,0,2,2,0,0,1,5,0),wn(0,3,3,-2,0,3,4,0,0,1,8,0),wn(0,2,4,-1,0,4,5,0,0,1,10,0),wn(0,3,5,-1,0,5,8,0,0,1,14,0),wn(0,3,5,-1,0,6,10,0,0,1,18,0),wn(0,4,5,-2,0,7,10,1,0,2,16,1),wn(0,5,5,-3,0,8,10,1,0,3,14,2),wn(0,5,6,-3,0,9,12,1,0,3,16,2),wn(0,6,6,-3,0,10,14,1,0,4,18,3),wn(0,6,7,-4,0,11,15,1,0,4,20,3),wn(0,7,8,-4,0,12,17,2,0,5,22,4),wn(0,7,8,-4,0,13,19,2,0,5,24,4),wn(0,7,9,-4,0,14,21,2,0,5,26,4),wn(0,8,9,-5,0,15,22,2,0,6,28,5),wn(0,8,10,-5,0,16,24,2,0,6,30,5),wn(0,8,11,-5,0,17,26,2,0,6,32,5),wn(0,9,11,-5,0,18,28,2,0,7,34,6),wn(0,9,12,-6,0,19,29,2,0,7,36,6),wn(0,10,13,-6,0,20,31,3,0,8,38,7),wn(0,10,13,-6,0,21,33,3,0,8,40,7),wn(0,10,14,-6,0,22,35,3,0,8,42,7),wn(0,11,14,-7,0,23,36,3,0,9,44,8),wn(0,11,15,-7,0,24,38,3,0,9,46,8)],yde=vde,_de=["duration","easing","delay"],xde={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Sde={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function u3(n){return`${Math.round(n)}ms`}function bde(n){if(!n)return 0;const e=n/36;return Math.round((4+15*e**.25+e/5)*10)}function Ade(n){const e=Pe({},xde,n.easing),t=Pe({},Sde,n.duration);return Pe({getAutoHeightDuration:bde,create:(i=["all"],s={})=>{const{duration:o=t.standard,easing:a=e.easeInOut,delay:l=0}=s;return Br(s,_de),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:u3(o)} ${a} ${typeof l=="string"?l:u3(l)}`).join(",")}},n,{easing:e,duration:t})}const wde={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Ede=wde,Mde=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function B1(n={},...e){const{mixins:t={},palette:r={},transitions:i={},typography:s={}}=n,o=Br(n,Mde);if(n.vars)throw new Error(oh(18));const a=ude(r),l=WR(n);let c=Ga(l,{mixins:Xfe(l.breakpoints,t),palette:a,shadows:yde.slice(),typography:hde(a,s),transitions:Ade(i),zIndex:Pe({},Ede)});return c=Ga(c,o),c=e.reduce((u,f)=>Ga(u,f),c),c.unstable_sxConfig=Pe({},O1,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(f){return L1({sx:f,theme:this})},c}const Tde=B1(),KR=Tde,lh="$$material";function Lh({props:n,name:e}){return Dfe({props:n,name:e,defaultTheme:KR,themeId:lh})}const vG=n=>Iy(n)&&n!=="classes",Cde=Ife({themeId:lh,defaultTheme:KR,rootShouldForwardProp:vG}),Sc=Cde;function Rde(n){return Rg("MuiSvgIcon",n)}Ph("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const Pde=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],Ode=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${zn(e)}`,`fontSize${zn(t)}`]};return u1(i,Rde,r)},Lde=Sc("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${zn(t.color)}`],e[`fontSize${zn(t.fontSize)}`]]}})(({theme:n,ownerState:e})=>{var t,r,i,s,o,a,l,c,u,f,p,m,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(t=n.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=n.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=n.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=n.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=n.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:(f=(p=(n.vars||n).palette)==null||(p=p[e.color])==null?void 0:p.main)!=null?f:{action:(m=(n.vars||n).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(g=(n.vars||n).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[e.color]}}),yG=O.forwardRef(function(e,t){const r=Lh({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:f,viewBox:p="0 0 24 24"}=r,m=Br(r,Pde),g=O.isValidElement(i)&&i.type==="svg",y=Pe({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:p,hasSvgAsChild:g}),_={};u||(_.viewBox=p);const v=Ode(y);return ue.jsxs(Lde,Pe({as:a,className:xi(v.root,s),focusable:"false",color:c,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:t},_,m,g&&i.props,{ownerState:y,children:[g?i.props.children:i,f?ue.jsx("title",{children:f}):null]}))});yG.muiName="SvgIcon";const f3=yG;function Ide(n,e){function t(r,i){return ue.jsx(f3,Pe({"data-testid":`${e}Icon`,ref:i},r,{children:n}))}return t.muiName=f3.muiName,O.memo(O.forwardRef(t))}const Bde={configure:n=>{LR.configure(n)}},Dde=Object.freeze(Object.defineProperty({__proto__:null,capitalize:zn,createChainedFunction:Wle,createSvgIcon:Ide,debounce:jle,deprecatedPropType:Xle,isMuiElement:Kle,ownerDocument:HH,ownerWindow:Yle,requirePropFactory:Jle,setRef:GH,unstable_ClassNameGenerator:Bde,unstable_useEnhancedEffect:VH,unstable_useId:Zle,unsupportedProp:ece,useControlled:tce,useEventCallback:Dp,useForkRef:BM,useIsFocusVisible:$H},Symbol.toStringTag,{value:"Module"})),kde=V3(Dde);var d3;function ua(){return d3||(d3=1,function(n){"use client";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=kde}(FA)),FA}var Nde=ca;Object.defineProperty(PR,"__esModule",{value:!0});var V_=PR.default=void 0,Fde=Nde(ua()),Ude=ue;V_=PR.default=(0,Fde.default)((0,Ude.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"CloseOutlined");var YR={},zde=ca;Object.defineProperty(YR,"__esModule",{value:!0});var JR=YR.default=void 0,Hde=zde(ua()),Gde=ue;JR=YR.default=(0,Hde.default)((0,Gde.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");var qR={},Vde=ca;Object.defineProperty(qR,"__esModule",{value:!0});var Vf=qR.default=void 0,$de=Vde(ua()),Wde=ue;Vf=qR.default=(0,$de.default)((0,Wde.jsx)("path",{fillRule:"evenodd",d:"M21 1H3c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"ShuffleOn");const jde=["theme"];function _G(n){let{theme:e}=n,t=Br(n,jde);const r=e[lh];return ue.jsx(jfe,Pe({},t,{themeId:r?lh:void 0,theme:r||e}))}const Xde=Ph("MuiBox",["root"]),Kde=Xde,Yde=B1(),Jde=wfe({themeId:lh,defaultTheme:Yde,defaultClassName:Kde.root,generateClassName:LR.generate}),qde=Jde;function UM(n,e){return UM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},UM(n,e)}function Qde(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,UM(n,e)}const h3=q.createContext(null);function Zde(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function QR(n,e){var t=function(s){return e&&O.isValidElement(s)?e(s):s},r=Object.create(null);return n&&O.Children.map(n,function(i){return i}).forEach(function(i){r[i.key]=t(i)}),r}function ehe(n,e){n=n||{},e=e||{};function t(u){return u in e?e[u]:n[u]}var r=Object.create(null),i=[];for(var s in n)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=t(c)}a[l]=t(l)}for(o=0;o<i.length;o++)a[i[o]]=t(i[o]);return a}function lu(n,e,t){return t[e]!=null?t[e]:n.props[e]}function the(n,e){return QR(n.children,function(t){return O.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:lu(t,"appear",n),enter:lu(t,"enter",n),exit:lu(t,"exit",n)})})}function nhe(n,e,t){var r=QR(n.children),i=ehe(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(O.isValidElement(o)){var a=s in e,l=s in r,c=e[s],u=O.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[s]=O.cloneElement(o,{onExited:t.bind(null,o),in:!0,exit:lu(o,"exit",n),enter:lu(o,"enter",n)}):!l&&a&&!u?i[s]=O.cloneElement(o,{in:!1}):l&&a&&O.isValidElement(c)&&(i[s]=O.cloneElement(o,{onExited:t.bind(null,o),in:c.props.in,exit:lu(o,"exit",n),enter:lu(o,"enter",n)}))}}),i}var rhe=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},ihe={component:"div",childFactory:function(e){return e}},ZR=function(n){Qde(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var o=s.handleExited.bind(Zde(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?the(i,a):nhe(i,o,a),firstRender:!1}},t.handleExited=function(i,s){var o=QR(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=Pe({},a.children);return delete l[i.key],{children:l}}))},t.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=Br(i,["component","childFactory"]),l=this.state.contextValue,c=rhe(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?q.createElement(h3.Provider,{value:l},c):q.createElement(h3.Provider,{value:l},q.createElement(s,a,c))},e}(q.Component);ZR.propTypes={};ZR.defaultProps=ihe;const she=ZR;function ohe(n){const{className:e,classes:t,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=n,[u,f]=O.useState(!1),p=xi(e,t.ripple,t.rippleVisible,r&&t.ripplePulsate),m={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},g=xi(t.child,u&&t.childLeaving,r&&t.childPulsate);return!a&&!u&&f(!0),O.useEffect(()=>{if(!a&&l!=null){const y=setTimeout(l,c);return()=>{clearTimeout(y)}}},[l,a,c]),ue.jsx("span",{className:p,style:m,children:ue.jsx("span",{className:g})})}const ahe=Ph("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),ks=ahe,lhe=["center","classes","className"];let D1=n=>n,p3,m3,g3,v3;const zM=550,che=80,uhe=zR(p3||(p3=D1`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),fhe=zR(m3||(m3=D1`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),dhe=zR(g3||(g3=D1`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),hhe=Sc("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),phe=Sc(ohe,{name:"MuiTouchRipple",slot:"Ripple"})(v3||(v3=D1`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),ks.rippleVisible,uhe,zM,({theme:n})=>n.transitions.easing.easeInOut,ks.ripplePulsate,({theme:n})=>n.transitions.duration.shorter,ks.child,ks.childLeaving,fhe,zM,({theme:n})=>n.transitions.easing.easeInOut,ks.childPulsate,dhe,({theme:n})=>n.transitions.easing.easeInOut),mhe=O.forwardRef(function(e,t){const r=Lh({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=Br(r,lhe),[l,c]=O.useState([]),u=O.useRef(0),f=O.useRef(null);O.useEffect(()=>{f.current&&(f.current(),f.current=null)},[l]);const p=O.useRef(!1),m=sce(),g=O.useRef(null),y=O.useRef(null),_=O.useCallback(A=>{const{pulsate:M,rippleX:E,rippleY:R,rippleSize:I,cb:T}=A;c(P=>[...P,ue.jsx(phe,{classes:{ripple:xi(s.ripple,ks.ripple),rippleVisible:xi(s.rippleVisible,ks.rippleVisible),ripplePulsate:xi(s.ripplePulsate,ks.ripplePulsate),child:xi(s.child,ks.child),childLeaving:xi(s.childLeaving,ks.childLeaving),childPulsate:xi(s.childPulsate,ks.childPulsate)},timeout:zM,pulsate:M,rippleX:E,rippleY:R,rippleSize:I},u.current)]),u.current+=1,f.current=T},[s]),v=O.useCallback((A={},M={},E=()=>{})=>{const{pulsate:R=!1,center:I=i||M.pulsate,fakeElement:T=!1}=M;if((A==null?void 0:A.type)==="mousedown"&&p.current){p.current=!1;return}(A==null?void 0:A.type)==="touchstart"&&(p.current=!0);const P=T?null:y.current,B=P?P.getBoundingClientRect():{width:0,height:0,left:0,top:0};let F,V,k;if(I||A===void 0||A.clientX===0&&A.clientY===0||!A.clientX&&!A.touches)F=Math.round(B.width/2),V=Math.round(B.height/2);else{const{clientX:z,clientY:W}=A.touches&&A.touches.length>0?A.touches[0]:A;F=Math.round(z-B.left),V=Math.round(W-B.top)}if(I)k=Math.sqrt((2*B.width**2+B.height**2)/3),k%2===0&&(k+=1);else{const z=Math.max(Math.abs((P?P.clientWidth:0)-F),F)*2+2,W=Math.max(Math.abs((P?P.clientHeight:0)-V),V)*2+2;k=Math.sqrt(z**2+W**2)}A!=null&&A.touches?g.current===null&&(g.current=()=>{_({pulsate:R,rippleX:F,rippleY:V,rippleSize:k,cb:E})},m.start(che,()=>{g.current&&(g.current(),g.current=null)})):_({pulsate:R,rippleX:F,rippleY:V,rippleSize:k,cb:E})},[i,_,m]),x=O.useCallback(()=>{v({},{pulsate:!0})},[v]),S=O.useCallback((A,M)=>{if(m.clear(),(A==null?void 0:A.type)==="touchend"&&g.current){g.current(),g.current=null,m.start(0,()=>{S(A,M)});return}g.current=null,c(E=>E.length>0?E.slice(1):E),f.current=M},[m]);return O.useImperativeHandle(t,()=>({pulsate:x,start:v,stop:S}),[x,v,S]),ue.jsx(hhe,Pe({className:xi(ks.root,s.root,o),ref:y},a,{children:ue.jsx(she,{component:null,exit:!0,children:l})}))}),ghe=mhe;function vhe(n){return Rg("MuiButtonBase",n)}const yhe=Ph("MuiButtonBase",["root","disabled","focusVisible"]),_he=yhe,xhe=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],She=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:r,classes:i}=n,o=u1({root:["root",e&&"disabled",t&&"focusVisible"]},vhe,i);return t&&r&&(o.root+=` ${r}`),o},bhe=Sc("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${_he.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Ahe=O.forwardRef(function(e,t){const r=Lh({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:f=!1,focusRipple:p=!1,LinkComponent:m="a",onBlur:g,onClick:y,onContextMenu:_,onDragLeave:v,onFocus:x,onFocusVisible:S,onKeyDown:A,onKeyUp:M,onMouseDown:E,onMouseLeave:R,onMouseUp:I,onTouchEnd:T,onTouchMove:P,onTouchStart:B,tabIndex:F=0,TouchRippleProps:V,touchRippleRef:k,type:z}=r,W=Br(r,xhe),K=O.useRef(null),N=O.useRef(null),j=BM(N,k),{isFocusVisibleRef:J,onFocus:te,onBlur:ee,ref:Y}=$H(),[ne,ce]=O.useState(!1);c&&ne&&ce(!1),O.useImperativeHandle(i,()=>({focusVisible:()=>{ce(!0),K.current.focus()}}),[]);const[Me,Re]=O.useState(!1);O.useEffect(()=>{Re(!0)},[]);const Ze=Me&&!u&&!c;O.useEffect(()=>{ne&&p&&!u&&Me&&N.current.pulsate()},[u,p,ne,Me]);function Je(Le,we,gt=f){return Dp(dt=>(we&&we(dt),!gt&&N.current&&N.current[Le](dt),!0))}const Fe=Je("start",E),Be=Je("stop",_),X=Je("stop",v),Se=Je("stop",I),ve=Je("stop",Le=>{ne&&Le.preventDefault(),R&&R(Le)}),de=Je("start",B),ye=Je("stop",T),We=Je("stop",P),ze=Je("stop",Le=>{ee(Le),J.current===!1&&ce(!1),g&&g(Le)},!1),U=Dp(Le=>{K.current||(K.current=Le.currentTarget),te(Le),J.current===!0&&(ce(!0),S&&S(Le)),x&&x(Le)}),D=()=>{const Le=K.current;return l&&l!=="button"&&!(Le.tagName==="A"&&Le.href)},ie=O.useRef(!1),Ae=Dp(Le=>{p&&!ie.current&&ne&&N.current&&Le.key===" "&&(ie.current=!0,N.current.stop(Le,()=>{N.current.start(Le)})),Le.target===Le.currentTarget&&D()&&Le.key===" "&&Le.preventDefault(),A&&A(Le),Le.target===Le.currentTarget&&D()&&Le.key==="Enter"&&!c&&(Le.preventDefault(),y&&y(Le))}),oe=Dp(Le=>{p&&Le.key===" "&&N.current&&ne&&!Le.defaultPrevented&&(ie.current=!1,N.current.stop(Le,()=>{N.current.pulsate(Le)})),M&&M(Le),y&&Le.target===Le.currentTarget&&D()&&Le.key===" "&&!Le.defaultPrevented&&y(Le)});let ae=l;ae==="button"&&(W.href||W.to)&&(ae=m);const Ie={};ae==="button"?(Ie.type=z===void 0?"button":z,Ie.disabled=c):(!W.href&&!W.to&&(Ie.role="button"),c&&(Ie["aria-disabled"]=c));const Te=BM(t,Y,K),Oe=Pe({},r,{centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:f,focusRipple:p,tabIndex:F,focusVisible:ne}),tt=She(Oe);return ue.jsxs(bhe,Pe({as:ae,className:xi(tt.root,a),ownerState:Oe,onBlur:ze,onClick:y,onContextMenu:Be,onFocus:U,onKeyDown:Ae,onKeyUp:oe,onMouseDown:Fe,onMouseLeave:ve,onMouseUp:Se,onDragLeave:X,onTouchEnd:ye,onTouchMove:We,onTouchStart:de,ref:Te,tabIndex:c?-1:F,type:z},Ie,W,{children:[o,Ze?ue.jsx(ghe,Pe({ref:j,center:s},V)):null]}))}),xG=Ahe;function whe(n){return Rg("MuiButton",n)}const Ehe=Ph("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),ny=Ehe,Mhe=O.createContext({}),The=Mhe,Che=O.createContext(void 0),Rhe=Che,Phe=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Ohe=n=>{const{color:e,disableElevation:t,fullWidth:r,size:i,variant:s,classes:o}=n,a={root:["root",s,`${s}${zn(e)}`,`size${zn(i)}`,`${s}Size${zn(i)}`,e==="inherit"&&"colorInherit",t&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${zn(i)}`],endIcon:["endIcon",`iconSize${zn(i)}`]},l=u1(a,whe,o);return Pe({},o,l)},SG=n=>Pe({},n.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},n.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},n.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Lhe=Sc(xG,{shouldForwardProp:n=>vG(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${zn(t.color)}`],e[`size${zn(t.size)}`],e[`${t.variant}Size${zn(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth]}})(({theme:n,ownerState:e})=>{var t,r;const i=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],s=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return Pe({},n.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":Pe({textDecoration:"none",backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:fd(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:n.vars?`rgba(${n.vars.palette[e.color].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:fd(n.palette[e.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(n.vars||n).palette[e.color].main}`,backgroundColor:n.vars?`rgba(${n.vars.palette[e.color].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:fd(n.palette[e.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:n.vars?n.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2],backgroundColor:(n.vars||n).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(n.vars||n).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(n.vars||n).palette[e.color].main}}),"&:active":Pe({},e.variant==="contained"&&{boxShadow:(n.vars||n).shadows[8]}),[`&.${ny.focusVisible}`]:Pe({},e.variant==="contained"&&{boxShadow:(n.vars||n).shadows[6]}),[`&.${ny.disabled}`]:Pe({color:(n.vars||n).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(n.vars||n).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(n.vars||n).palette[e.color].main,border:n.vars?`1px solid rgba(${n.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${fd(n.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:n.vars?n.vars.palette.text.primary:(t=(r=n.palette).getContrastText)==null?void 0:t.call(r,n.palette.grey[300]),backgroundColor:n.vars?n.vars.palette.Button.inheritContainedBg:i,boxShadow:(n.vars||n).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(n.vars||n).palette[e.color].contrastText,backgroundColor:(n.vars||n).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:n.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:n.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:n.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:n.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:n.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:n.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:n})=>n.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${ny.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${ny.disabled}`]:{boxShadow:"none"}}),Ihe=Sc("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.startIcon,e[`iconSize${zn(t.size)}`]]}})(({ownerState:n})=>Pe({display:"inherit",marginRight:8,marginLeft:-4},n.size==="small"&&{marginLeft:-2},SG(n))),Bhe=Sc("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.endIcon,e[`iconSize${zn(t.size)}`]]}})(({ownerState:n})=>Pe({display:"inherit",marginRight:-4,marginLeft:8},n.size==="small"&&{marginRight:-2},SG(n))),Dhe=O.forwardRef(function(e,t){const r=O.useContext(The),i=O.useContext(Rhe),s=OR(r,e),o=Lh({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:f=!1,disableElevation:p=!1,disableFocusRipple:m=!1,endIcon:g,focusVisibleClassName:y,fullWidth:_=!1,size:v="medium",startIcon:x,type:S,variant:A="text"}=o,M=Br(o,Phe),E=Pe({},o,{color:l,component:c,disabled:f,disableElevation:p,disableFocusRipple:m,fullWidth:_,size:v,type:S,variant:A}),R=Ohe(E),I=x&&ue.jsx(Ihe,{className:R.startIcon,ownerState:E,children:x}),T=g&&ue.jsx(Bhe,{className:R.endIcon,ownerState:E,children:g}),P=i||"";return ue.jsxs(Lhe,Pe({ownerState:E,className:xi(r.className,R.root,u,P),component:c,disabled:f,focusRipple:!m,focusVisibleClassName:xi(R.focusVisible,y),ref:t,type:S},M,{classes:R,children:[I,a,T]}))}),khe=Dhe;function Nhe(n){return ue.jsx(_fe,Pe({},n,{defaultTheme:KR,themeId:lh}))}const Fhe=(n,e)=>Pe({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!n.vars&&{colorScheme:n.palette.mode}),Uhe=n=>Pe({color:(n.vars||n).palette.text.primary},n.typography.body1,{backgroundColor:(n.vars||n).palette.background.default,"@media print":{backgroundColor:(n.vars||n).palette.common.white}}),zhe=(n,e=!1)=>{var t;const r={};e&&n.colorSchemes&&Object.entries(n.colorSchemes).forEach(([o,a])=>{var l;r[n.getColorSchemeSelector(o).replace(/\s*&/,"")]={colorScheme:(l=a.palette)==null?void 0:l.mode}});let i=Pe({html:Fhe(n,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:n.typography.fontWeightBold},body:Pe({margin:0},Uhe(n),{"&::backdrop":{backgroundColor:(n.vars||n).palette.background.default}})},r);const s=(t=n.components)==null||(t=t.MuiCssBaseline)==null?void 0:t.styleOverrides;return s&&(i=[i,s]),i};function bG(n){const e=Lh({props:n,name:"MuiCssBaseline"}),{children:t,enableColorScheme:r=!1}=e;return ue.jsxs(O.Fragment,{children:[ue.jsx(Nhe,{styles:i=>zhe(i,r)}),t]})}function Hhe(n){return Rg("MuiIconButton",n)}const Ghe=Ph("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Vhe=Ghe,$he=["edge","children","className","color","disabled","disableFocusRipple","size"],Whe=n=>{const{classes:e,disabled:t,color:r,edge:i,size:s}=n,o={root:["root",t&&"disabled",r!=="default"&&`color${zn(r)}`,i&&`edge${zn(i)}`,`size${zn(s)}`]};return u1(o,Hhe,e)},jhe=Sc(xG,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="default"&&e[`color${zn(t.color)}`],t.edge&&e[`edge${zn(t.edge)}`],e[`size${zn(t.size)}`]]}})(({theme:n,ownerState:e})=>Pe({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:fd(n.palette.action.active,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:n,ownerState:e})=>{var t;const r=(t=(n.vars||n).palette)==null?void 0:t[e.color];return Pe({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&Pe({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":Pe({},r&&{backgroundColor:n.vars?`rgba(${r.mainChannel} / ${n.vars.palette.action.hoverOpacity})`:fd(r.main,n.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:n.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:n.typography.pxToRem(28)},{[`&.${Vhe.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled}})}),Xhe=O.forwardRef(function(e,t){const r=Lh({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,f=Br(r,$he),p=Pe({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:u}),m=Whe(p);return ue.jsx(jhe,Pe({className:xi(m.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:t,ownerState:p},f,{children:s}))}),wl=Xhe;function AG({item:n}){const e=Wo(s=>s.items[n===mo?mn.gramps.itemName:n.itemName].optionSelectedPrice),t=B1({palette:{primary:{main:"#212121",light:"#757575"},secondary:{main:"#bdbdbd",light:"#E0E0E0"}},shadows:Array(25).fill("none")}),r=Wo(s=>s.items[n===mo?mn.gramps.itemName:n.itemName].optionCartList),i=Wo(s=>s.items[n===mo?mn.gramps.itemName:n.itemName].snipCartOption);return ue.jsxs(_G,{theme:t,children:[ue.jsx(bG,{}),ue.jsx(qde,{sx:{display:"flex",justifyContent:"center"},children:ue.jsx(khe,{variant:"contained",color:"primary",disabled:e===0,className:"snipcart-add-item","data-item-id":n.itemNo,"data-item-name":n.itemTitle,"data-item-url":`https://elibuilds-998b8-default-rtdb.firebaseio.com/${n.itemNo}.json`,"data-item-description":n.itemDescription,"data-item-price":n.itemBasePrice,"data-item-custom1-name":"Type","data-item-custom1-type":"readonly","data-item-custom1-options":`singleStain[+${n.itemStainCost}]|mixedStain[+${n.itemMixedStainCost}]|mixedStainPaint[+${n.itemMixedStainCost}]|mixedPaint[+${n.itemMixedPaintCost}]|singlePaint`,"data-item-custom1-value":i,"data-item-custom2-name":"Parts","data-item-custom2-type":"readonly","data-item-custom2-value":r,sx:{display:n===mo?"none":"block",pointerEvents:"auto",mt:1.25,color:"#ffffff"},children:e===0?"...":`$${e}`})})]})}const Khe=({model:n,itemName:e,itemTitle:t,partName:r,descPartName:i,animation:s,animDist:o,currentItemName:a,currentPartName:l,showBackground:c,setShowBackground:u,showPartOptions:f,setShowPartOptions:p,handlePartOption:m,getRandomInt:g,positionBottom:y,animateParts:_})=>{const v=n,{scene:x}=sl(v),[S,A]=O.useState([]),[M,E]=O.useState(""),[R,I]=O.useState(""),T=Wo(V=>V.items[e].parts[r].colorName),P=(V,k,z)=>{V.preventDefault(),console.log("randomPartsClick() - find item in objects data by part itemName: ",mn[k]),console.log("then get the parts array for that found item: ",mn[k].parts);let W="",K=Tr.stains[g(Tr.stains.length)],N=Tr.paints[g(Tr.paints.length)];for(;K===M;)K=Tr.stains[g(Tr.stains.length)];for(E(K);N===R;)N=Tr.paints[g(Tr.paints.length)];I(N);let j=mn[k].parts.map(J=>(z==="stainMixed"?W=Tr.stains[g(Tr.stains.length)]:z==="stainSingle"?W=K:z==="allMixed"?W=z_[g(z_.length)]:z==="paintMixed"?W=Tr.paints[g(Tr.paints.length)]:z==="paintSingle"&&(W=N),m(V,k,J.partName,W,!1),W));console.log("random colors generated list: ",j)},B=V=>{V.preventDefault(),V.stopPropagation(),p(!1)},F=V=>{V.preventDefault(),V.stopPropagation(),p(!1),u(!0)};return O.useLayoutEffect(()=>{const V=[];x.traverse(k=>{k.isObject3D&&k.userData.name&&k.userData.name.startsWith("AnchorPoint")&&V.push(ue.jsxs(b5,{position:y?[0,e.includes("shelf")&&e.includes("B")&&e.includes("16")?.9:e.includes("shelf")&&e.includes("B")&&e.includes("32")?1.2:e.includes("shelf")&&e.includes("A")&&e.includes("32")?.9:e.includes("shelf")&&e.includes("A")&&e.includes("16")?1.2:e.includes("horse")?0:-.25,e.includes("horse")?-.3:0]:[k.position.x,k.position.y,k.position.z],distanceFactor:.21,center:!!y,style:{display:a===e&&l===r&&f&&!c?"block":"none"},children:[ue.jsx("button",{className:"colorExitBtn",onClick:z=>B(z),children:ue.jsx(V_,{fontSize:"inherit"})}),ue.jsx("button",{className:"colorBgrdBtn",onClick:z=>F(z),children:ue.jsx(JR,{fontSize:"inherit"})}),ue.jsxs("div",{className:"annotation-wrapper",children:[ue.jsx("div",{className:"color-menu-item-title",children:t}),ue.jsx("div",{className:"color-menu-part-title",children:i}),ue.jsx("div",{className:"annotation",children:ue.jsxs("div",{className:"annotation-options",children:[ue.jsx("div",{className:"grid-container-stain",children:Tr.stains.map(z=>ue.jsx("button",{className:"colorBtn",onClick:W=>m(W,e,r,z,!0),style:{backgroundColor:z==="white"?"#a89d93":z==="natural"?"#908073":z==="black"?"#635245":z==="allBlack"?"#0b0502":"#ffffff",border:T===z?"0.75rem solid #5580b0":"0.75rem solid #ffffff"}},z))}),ue.jsx("div",{className:"grid-container-paint",children:Tr.paints.map(z=>ue.jsx("button",{onClick:W=>m(W,e,r,z,!0),className:"colorBtn",style:{backgroundColor:z==="alabaster"?"#fffdf0":z==="pink"?"#f2d1c6":z==="basil"?"#929d84":z==="yellow"?"#f2d684":z==="blue"?"#96b0aa":z==="gray"?"#8c8b81":"#ffffff",border:T===z?"0.75rem solid #5580b0":"0.75rem solid #ffffff"}},z))})]})}),ue.jsxs("div",{className:"shuffle-color-block",children:[ue.jsx("button",{className:"colorShuffleBtn ",onClick:z=>P(z,e,"stainSingle"),children:ue.jsx(Vf,{fontSize:"inherit",color:"primary"})}),ue.jsx("button",{className:"colorShuffleBtn ",onClick:z=>P(z,e,"stainMixed"),children:ue.jsx(Vf,{fontSize:"inherit",color:"secondary"})}),ue.jsx("button",{className:"colorShuffleBtn ",onClick:z=>P(z,e,"allMixed"),children:ue.jsx(Vf,{fontSize:"inherit",color:"success"})}),ue.jsx("button",{className:"colorShuffleBtn ",onClick:z=>P(z,e,"paintMixed"),children:ue.jsx(Vf,{fontSize:"inherit",color:"warning"})}),ue.jsx("button",{className:"colorShuffleBtn ",onClick:z=>P(z,e,"paintSingle"),children:ue.jsx(Vf,{fontSize:"inherit",color:"error"})})]}),ue.jsx(AG,{item:mn[e],"aria-label":"add to shopping cart"})]})]},k.uuid))}),A(V)},[x,T,a,l,f,c]),ue.jsx("mesh",{position:s==="negX"?[y?0:-o,0,0]:s==="posX"?[y?0:o,0,0]:s==="negZ"?[0,0,y?0:-o]:s==="posZ"?[0,0,y?0:o]:s==="posY1"?[0,y?0:o,0]:s==="posY2"?[0,y?0:o+o/2,0]:s==="negZposY1"?[0,y?0:o,y?0:-o]:s==="posXposY1"?[y?0:o,y?0:o,0]:[0,0,0],children:S})};function Yhe({selected:n,showBackground:e}){return ue.jsxs("mesh",{position:[0,5e-4,0],"rotation-x":-Math.PI*.5,visible:n,depthTest:!1,children:[ue.jsx("circleGeometry",{args:[.5,64]}),ue.jsx("meshBasicMaterial",{transparent:!0,opacity:0}),ue.jsx(Goe,{threshold:90,color:"white",visible:!!(n&&e)})]})}const Jhe=({currentColor:n,currentTexture:e})=>{const{scene:t,nodes:r,materials:i}=sl("./models/floor.gltf"),[s,o,a,l,c,u]=Gs(e),f=3;return s.wrapS=Mn,s.wrapT=Mn,s.repeat.set(f,f),o.wrapS=Mn,o.wrapT=Mn,o.repeat.set(f,f),u.wrapS=Mn,u.wrapT=Mn,u.repeat.set(f,f),a.wrapS=Mn,a.wrapT=Mn,a.repeat.set(f,f),l.wrapS=Mn,l.wrapT=Mn,l.repeat.set(f,f),O.useLayoutEffect(()=>{Object.assign(i.Material,{map:s,displacementMap:o,normalMap:a,roughnessMap:l,metalnessMap:c,aoMap:u,color:n})},[t,r,i]),O.useLayoutEffect(()=>{t.traverse(p=>{p.isMesh&&(p.receiveShadow=!0,p.material.roughness=1,p.material.metalness=0,p.material.dithering=!0)})},[]),ue.jsx("primitive",{object:t})},qhe=({currentColor:n,currentTexture:e})=>{const{scene:t,nodes:r,materials:i}=sl("./models/walls.gltf"),[s,o,a,l]=Gs(e),c=8;return s.wrapS=Mn,s.wrapT=Mn,s.repeat.set(c,c),o.wrapS=Mn,o.wrapT=Mn,o.repeat.set(c,c),a.wrapS=Mn,a.wrapT=Mn,a.repeat.set(c,c),O.useLayoutEffect(()=>{Object.assign(i.Material,{map:s,normalMap:o,roughnessMap:a,metalnessMap:l,color:n})},[t,r,i]),O.useLayoutEffect(()=>{t.traverse(u=>{u.isMesh&&(u.receiveShadow=!0,u.material.roughness=1,u.material.metalness=0)})},[]),ue.jsx("primitive",{object:t})};function y3(){const{innerWidth:n,innerHeight:e}=window;return{width:n,height:e}}function Qhe(){const[n,e]=O.useState(y3());return O.useEffect(()=>{function t(){e(y3())}return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),n}var $_={},uc={};Object.defineProperty(uc,"__esModule",{value:!0});uc.SnipcartProvider=uc.SnipcartContext=void 0;uc.useSnipcart=lpe;uc.useSnipcartState=wG;var W_=O,Zhe=ue;function _3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function epe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?_3(Object(t),!0).forEach(function(r){tpe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):_3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function tpe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function npe(n,e){return ope(n)||spe(n,e)||ipe(n,e)||rpe()}function rpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ipe(n,e){if(n){if(typeof n=="string")return x3(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return x3(n,e)}}function x3(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function spe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function ope(n){if(Array.isArray(n))return n}var eP=(0,W_.createContext)();uc.SnipcartContext=eP;var ape=function(e){var t=e.children,r=wG();return(0,Zhe.jsx)(eP.Provider,{value:r,children:t})};uc.SnipcartProvider=ape;function wG(){var n=(0,W_.useState)({}),e=npe(n,2),t=e[0],r=e[1];(0,W_.useEffect)(function(){var o;return function a(){if(window.Snipcart){o=window.Snipcart.store.subscribe(function(){return s()});return}setTimeout(function(){return a()},100)}(),function(){return o&&o()}},[]);function i(){return window.Snipcart.store.getState()}function s(){var o=i();r(o)}return epe({refreshState:s,getState:i},t)}function lpe(){var n=(0,W_.useContext)(eP);return n}(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=uc;Object.keys(e).forEach(function(t){t==="default"||t==="__esModule"||t in n&&n[t]===e[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return e[t]}})})})($_);const cpe=({currentColor:n,currentTexture:e})=>{const{scene:t,nodes:r,materials:i}=sl("./models/eliLogo.gltf"),[s,o,a,l]=Gs(e);return O.useLayoutEffect(()=>{Object.assign(i._0103_Blue,{map:s,normalMap:o,roughnessMap:a,metalnessMap:l,color:n})},[t,r,i,n,e,s,o,a,l]),O.useLayoutEffect(()=>{t.traverse(c=>{c.isMesh&&(c.castShadow=!1,c.receiveShadow=!0,c.material.roughness=1,c.material.metalness=0)})},[]),ue.jsx("primitive",{object:t})};function upe({currentItemSelected:n,setCurrentItemSelected:e,previousItemSelected:t,setPreviousItemSelected:r,animDist:i,open:s,setOpen:o,infoBoxIcon:a,setInfoBoxIcon:l,showBackground:c,setShowBackground:u,showPartOptions:f,setShowPartOptions:p,animateParts:m,handlePartOption:g,getRandomInt:y,randomAllItemsParts:_}){const{height:v,width:x}=Qhe();$_.useSnipcart();const{cart:S={}}=$_.useSnipcart(),[A,M]=O.useState(!1),[E,R]=O.useState(0);O.useEffect(()=>(window.Snipcart?(M(!0),console.log("setting snipcartLoaded state = true"),console.log("window.Snipcart.api: ",window.Snipcart),S.items&&R(S.items.count)):M(!1),()=>{M(!1)}),[window.Snipcart]);function I(){A&&window.Snipcart.api.theme.cart.open()}Gs(Ee.whiteTexture),Gs(Ee.naturalTexture),Gs(Ee.blackTexture),Gs(Ee.allBlackTexture),Gs(Ee.paintedTexture);const T=O.useRef(),P=document.querySelector(".loading-bar"),{active:B,progress:F,errors:V,item:k,loaded:z,total:W}=Zse(),K={value:1},[N,j]=O.useState(1),J=new yh(2,2,1,1),te=new qs({transparent:!0,uniforms:{uAlpha:{value:N}},vertexShader:`
        void main()
        {
            gl_Position = vec4(position, 1.0);
        }
    `,fragmentShader:`
        uniform float uAlpha;

        void main()
        {
            gl_FragColor = vec4(0.153, 0.153, 0.102, uAlpha);
        }
    `});O.useEffect(()=>{P.style.transform=`scaleX(${F/100})`,F==100&&window.setTimeout(()=>{Ul.to(K,{duration:3,value:0,delay:1,onUpdate:()=>{j(K.value)},onComplete:()=>{}}),P.classList.add("ended"),P.style.transform=""},500)},[F]);const[ee,Y]=O.useState(!1),[ne,ce]=O.useState(!1);Yse(ne);const[Me,Re]=O.useState("top"),[Ze,Je]=O.useState("gramps");O.useEffect(()=>{_(!1)},[]);const[Fe,Be]=O.useState(0);O.useEffect(()=>{n===mo&&_(!1);const Ue=setInterval(()=>{Be(Fe+1)},1e3);return()=>clearInterval(Ue)},[Fe]),O.useEffect(()=>{!c&&!f&&(Je(mn[n.itemName].parts[0].itemName),Re(mn[n.itemName].parts[0].partName),p(!0)),c?c&&n!==mo&&m():(o(!1),l(!0),m())},[c]);const X=Ue=>{Ue.stopPropagation();const{eventObject:Qe}=Ue;let mt=Qe.position,dn=Rn=>Rn.position.x===mt.x&&Rn.position.y===mt.y&&Rn.position.z===mt.z;if(dn){let Rn=IM.find(dn);n===mo&&_(!1),r(n),e(Rn),!s&&a&&c&&n===mo&&(l(!a),o(!s))}},Se=(Ue,Qe)=>{Je(Qe.itemName),Re(Qe.partName),c||p(!0)},ve=Ue=>{Ue.stopPropagation(),n===mo&&e(mn.gramps),u(!c)},de=O.useRef(),[ye,We]=O.useState(0),[ze,U]=O.useState(0),[D,ie]=O.useState(0),[Ae,oe]=O.useState(0),[ae,Ie]=O.useState(!1),[Te,Oe]=O.useState(0),[tt,Le]=O.useState(0);O.useEffect(()=>{A&&S&&S.items&&(R(S.items.count),document.getElementById("footer").innerHTML=`snipcartLoaded = ${A}, cartCount = ${S.items.count}, cart = ${S}`)},[A,S,ee]),O.useEffect(()=>{const Ue=document.querySelector("canvas");return Ue.addEventListener("touchstart",Qe=>{Ie(!0),document.getElementById("footer").innerHTML+=" touchstart registered (outside of controls) ",!(Qe.pageX>30&&Qe.pageX<window.innerWidth-30)&&Qe.preventDefault()}),Ue.addEventListener("touchmove",Qe=>{Ie(!0)}),Ue.addEventListener("touchend",Qe=>{Ie(!1),document.getElementById("footer").innerHTML+=" touchend registered (outside of controls) "}),de.current&&(de.current.addEventListener("start",()=>{console.log("start"),Oe(0),Y(!0),Ie(!0),de.current.autoRotate&&(de.current.autoRotate=!1),ie(de.current.getAzimuthalAngle())},!0),de.current.addEventListener("change",()=>{},!0),de.current.addEventListener("end",()=>{console.log("end"),Ie(!1),Y(!1),oe(de.current.getAzimuthalAngle())},!0)),()=>{Ue.removeEventListener("touchstart",Qe=>{console.log("removed event listener, 'touchstart'")}),Ue.removeEventListener("touchmove",Qe=>{console.log("removed event listener, 'touchmove'")}),Ue.removeEventListener("touchend",Qe=>{console.log("removed event listener, 'touchend'")}),de.current&&(de.current.removeEventListener("start",()=>console.log("removed event listener, 'start'"),!0),de.current.removeEventListener("change",()=>console.log("removed event listener, 'change'"),!0),de.current.removeEventListener("end",()=>console.log("removed event listener, 'end'"),!0),Y(!1))}},[]),_g((Ue,Qe)=>{ee&&(Oe(Te+Qe),console.log("controls dragging for ",Te))});const we=Ue=>Ue.every(Qe=>Qe===Ue[0]);O.useEffect(()=>{if(ee)U(Ae),document.getElementById("footer").innerHTML=" controls dragging = true ",document.getElementById("footer").innerHTML+=` start: ${D} end: ${Ae} `,document.getElementById("footer").innerHTML+=` dragTime: ${Te} `,document.getElementById("footer").innerHTML+=` prevStart: ${ye} prevEnd: ${ze} `;else if(We(D),D!==0&&Ae!==0){let Ue=String(D),Qe=String(Ae),mt=String(ye),dn=String(ze);Ue=Ue.substring(0,Ue.indexOf(".")+7),Qe=Qe.substring(0,Qe.indexOf(".")+7),mt=mt.substring(0,mt.indexOf(".")+7),dn=dn.substring(0,dn.indexOf(".")+7);let Rn=[Ue,Qe,mt,dn];document.getElementById("footer").innerHTML=" controls dragging = false ",document.getElementById("footer").innerHTML+=` start: ${Ue} end: ${Qe} `,document.getElementById("footer").innerHTML+=` dragTime: ${Te} `,document.getElementById("footer").innerHTML+=` prevStart: ${mt} prevEnd: ${dn} `,we(Rn)&&Te>.5&&tt<4&&(document.getElementById("footer").innerHTML+="might need to reset page, controls could be broken ",Le(tt+1))}},[ee]),O.useEffect(()=>{tt===4&&(document.getElementById("footer").innerHTML+="confirmed need to reset page, controls are broken ",window.location.reload())},[tt]),O.useEffect(()=>{if(ae&&!ee&&(document.getElementById("footer").innerHTML=" isTouching = true ",de.current)){let Ue=de.current.getAzimuthalAngle(),Qe=0,mt=0,dn=0,Rn=0,fa=[Ue,Qe,mt,dn,Rn];setTimeout(()=>{ae&&!ee&&(Qe=de.current.getAzimuthalAngle(),document.getElementById("footer").innerHTML=" running stuck check 1 ",Ue===Qe?(document.getElementById("footer").innerHTML=" current stuck check = true ",setTimeout(()=>{ae&&!ee&&(mt=de.current.getAzimuthalAngle(),document.getElementById("footer").innerHTML=" running stuck check 2 ",Ue===Qe&&Ue===mt?(document.getElementById("footer").innerHTML=" current stuck check = true ",setTimeout(()=>{ae&&!ee&&(dn=de.current.getAzimuthalAngle(),document.getElementById("footer").innerHTML=" running stuck check 3 ",Ue===Qe&&Ue===mt&&Ue===dn?(document.getElementById("footer").innerHTML=" current stuck check = true ",setTimeout(()=>{ae&&!ee&&(Rn=de.current.getAzimuthalAngle(),document.getElementById("footer").innerHTML=" running stuck check 4 ",we(fa)?(document.getElementById("footer").innerHTML=" controls aren't changing, force reload ",window.location.reload()):document.getElementById("footer").innerHTML=" current stuck check = false ")},"600")):document.getElementById("footer").innerHTML=" current stuck check = false ")},"300")):document.getElementById("footer").innerHTML=" current stuck check = false ")},"450")):document.getElementById("footer").innerHTML=" current stuck check = false ")},"150")}},[ae]);const gt=new H;MM(()=>{t.itemName.includes("shelf")?gt.set(t.position.x,t.position.y+1,t.position.z):gt.set(t.position.x,t.position.y,t.position.z),n.itemName!=="noSelect"&&!n.itemName.includes("shelf")?Ul.timeline().to(gt,{delay:.15,duration:.75,x:n.position.x,y:n.position.y,z:n.position.z,ease:"easeIn",onUpdate:()=>{de.current.target.set(gt.x,gt.y,gt.z),de.current.object.updateProjectionMatrix(),de.current.update()}}):n.itemName.includes("shelf")&&Ul.timeline().to(gt,{delay:.15,duration:.75,x:n.position.x,y:n.position.y+1,z:n.position.z,ease:"easeIn",onUpdate:()=>{de.current.target.set(gt.x,gt.y,gt.z),de.current.object.updateProjectionMatrix(),de.current.update()}})},[n]);const dt=new H,[ht,at]=O.useState(new H);MM(()=>{if(!c&&de.current&&de.current.object.position!==ht){let Ue=-1.5,Qe=.75,mt=-1.5;n.itemName==="gramps"||n.itemName==="block"?(Ue=-1.5,Qe=.5,mt=-1.5):n.itemName==="horse"?(Ue=-1.5,Qe=1.25,mt=-1.5):n.itemName==="squatter"?(Ue=1.5,Qe=.5,mt=-1.5):n.itemName==="shelfA16"?(Ue=1.5,Qe=1.25,mt=1.5):n.itemName==="shelfA32"?(Ue=1.5,Qe=1,mt=1.5):n.itemName==="shelfB16"?(Ue=-1.5,Qe=1,mt=-1.5):n.itemName==="shelfB32"&&(Ue=-1.5,Qe=1.25,mt=-1.5),dt.set(de.current.object.position.x,de.current.object.position.y,de.current.object.position.z),Ul.timeline().to(dt,{delay:.1,duration:1.25,x:n.position.x+Ue,y:n.position.y+Qe,z:n.position.z+mt,ease:"easeIn",onStart:()=>{de.current.enabled=!1},onUpdate:()=>{at(dt),de.current.object.position.set(dt.x,dt.y,dt.z),de.current.object.updateProjectionMatrix(),de.current.update()},onComplete:()=>{at(dt),de.current.enabled=!0}})}},[c]);const Ye=-.25,Q=2.5,be=3.6,je=-3,Xe=1.5,Ce=.04,Z=512,He=-5,Ve=8,pt=-5,ot=5,Bt=-5,Ut=5,tn=1,fn=(Ue,Qe)=>{let mt=0,dn=0,Rn=0;switch(Ue){case"negX":mt=-Qe;break;case"posX":mt=Qe;break;case"negZ":Rn=-Qe;break;case"posZ":Rn=Qe;break;case"posY1":dn=Qe;break;case"posY2":dn=Qe+Qe/2;break;case"negZposY1":Rn=-Qe,dn=Qe;break;case"posXposY1":mt=Qe,dn=Qe;break}return[mt,dn,Rn]};return ue.jsxs(ue.Fragment,{children:[ue.jsxs(Hoe,{depth:1,children:[ue.jsx("pointLight",{position:[x/2850,.2,.1],intensity:.15}),ue.jsx("mesh",{position:x>=376&&x<600?[.175,.345,0]:x<376?[.21,.345,0]:x>=600&&x<1100?[.23,.345,0]:[x/2600,.345,0],scale:.125,onClick:I,onPointerOver:()=>ce(!0),onPointerOut:()=>ce(!1),children:ue.jsx($le,{currentColor:Ee.brownBag,currentTexture:Ee.paintedTexture,cartCount:E,handleCartClick:I})}),ue.jsx("mesh",{position:x>=376&&x<600?[-.165,.36,0]:x<376?[-.19,.36,0]:x>=600&&x<1100?[-.21,.36,0]:[-x/2800,.36,0],onPointerOver:()=>ce(!0),onPointerOut:()=>ce(!1),scale:.005,children:ue.jsx(cpe,{currentColor:Ee.blueTape,currentTexture:Ee.paintedTexture})}),ue.jsxs("mesh",{position:x>=376&&x<600?[0,-.275,0]:x<376?[0,-.275,0]:x>=600&&x<1100?[0,-.275,0]:[0,-.275,0],scale:.04,rotation:[0,.75,0],onClick:ve,onPointerOver:()=>ce(!0),onPointerOut:()=>ce(!1),children:[ue.jsx("boxGeometry",{}),ue.jsx("meshStandardMaterial",{color:"red"})]})]}),ue.jsx("color",{args:["#27271a"],attach:"background"}),ue.jsx("mesh",{geometry:J,material:te}),ue.jsx(Voe,{makeDefault:!0,ref:de,enableZoom:!0,enablePan:!1,maxDistance:15,minDistance:1.75,maxPolarAngle:Math.PI/2+Math.PI/16,enableDamping:!0,autoRotate:!0,autoRotateSpeed:.8}),ue.jsx(Woe,{distance:55,sunPosition:[40,8.5,-50]}),ue.jsx("directionalLight",{castShadow:!0,ref:T,position:[Q,be,je],intensity:Xe,"shadow-normalBias":Ce,"shadow-mapSize-width":Z,"shadow-mapSize-height":Z,"shadow-camera-near":He,"shadow-camera-far":Ve,"shadow-camera-left":pt,"shadow-camera-bottom":Bt,"shadow-camera-right":ot,"shadow-camera-top":Ut}),ue.jsxs("group",{position:[0,Ye,0],children:[ue.jsx("ambientLight",{intensity:tn}),IM.map((Ue,Qe)=>ue.jsx("group",{position:[Ue.position.x,Ue.position.y,Ue.position.z],onPointerOver:()=>ce(!0),onPointerOut:()=>ce(!1),onClick:X,onDoubleClick:ve,children:Ue.parts.map((mt,dn)=>ue.jsxs("group",{onClick:Rn=>Se(Rn,mt),children:[ue.jsx("mesh",{position:fn(mt.animation,i),children:ue.jsx(Vle,{model:mt.model,itemName:mt.itemName,partName:mt.partName})}),ue.jsx(Khe,{model:mt.model,itemName:mt.itemName,itemTitle:Ue.itemTitle,partName:mt.partName,descPartName:mt.descPartName,animation:mt.animation,animDist:i,currentItemName:Ze,currentPartName:Me,showBackground:c,setShowBackground:u,showPartOptions:f,setShowPartOptions:p,handlePartOption:g,getRandomInt:y,positionBottom:!0}),ue.jsx(Yhe,{selected:n===Ue,showBackground:c})]},mt.partName))},Qe)),ue.jsx("mesh",{visible:c,position:[0,-.498,0],children:ue.jsx(Jhe,{currentColor:Ee.whiteStain,currentTexture:Ee.woodFloorWornPlanksTexture})}),ue.jsx("mesh",{visible:c,children:ue.jsx(qhe,{currentColor:Ee.grayPaint,currentTexture:Ee.paintedTexture})})]})]})}function fpe(){const n=O.useRef();return _g(e=>{const t=e.clock.elapsedTime;n.current.rotation.y=t/2}),ue.jsx(ue.Fragment,{children:ue.jsxs("mesh",{ref:n,position:[0,.65,0],children:[ue.jsx("boxGeometry",{args:[.5,.5,.5,3,3,3]}),ue.jsx("meshBasicMaterial",{wireframe:!0})]})})}var tP={},dpe=ca;Object.defineProperty(tP,"__esModule",{value:!0});var EG=tP.default=void 0,hpe=dpe(ua()),ppe=ue;EG=tP.default=(0,hpe.default)((0,ppe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info");var nP={},mpe=ca;Object.defineProperty(nP,"__esModule",{value:!0});var MG=nP.default=void 0,gpe=mpe(ua()),vpe=ue;MG=nP.default=(0,gpe.default)((0,vpe.jsx)("path",{d:"M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8"}),"InfoOutlined");var rP={},ype=ca;Object.defineProperty(rP,"__esModule",{value:!0});var TG=rP.default=void 0,_pe=ype(ua()),xpe=ue;TG=rP.default=(0,_pe.default)((0,xpe.jsx)("path",{d:"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2m-11-4 2.03 2.71L16 11l4 5H8zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"}),"PhotoLibrary");var iP={},Spe=ca;Object.defineProperty(iP,"__esModule",{value:!0});var CG=iP.default=void 0,bpe=Spe(ua()),Ape=ue;CG=iP.default=(0,bpe.default)((0,Ape.jsx)("path",{d:"M10 9h4V6h3l-5-5-5 5h3zm-1 1H6V7l-5 5 5 5v-3h3zm14 2-5-5v3h-3v4h3v3zm-9 3h-4v3H7l5 5 5-5h-3z"}),"OpenWith");var sP={},wpe=ca;Object.defineProperty(sP,"__esModule",{value:!0});var RG=sP.default=void 0,Epe=wpe(ua()),Mpe=ue;RG=sP.default=(0,Epe.default)((0,Mpe.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 13.5L7.5 11l1.42-1.41L12 12.67l3.08-3.08L16.5 11z"}),"ExpandCircleDown");var oP={},Tpe=ca;Object.defineProperty(oP,"__esModule",{value:!0});var PG=oP.default=void 0,Cpe=Tpe(ua()),Rpe=ue;PG=oP.default=(0,Cpe.default)((0,Rpe.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff");var aP={},Ppe=ca;Object.defineProperty(aP,"__esModule",{value:!0});var OG=aP.default=void 0,Ope=Ppe(ua()),Lpe=ue;OG=aP.default=(0,Ope.default)((0,Lpe.jsx)("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle");var LG={},IG={},k1={},BG={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};n.default=e})(BG);var Ipe="Expected a function",S3=0/0,Bpe="[object Symbol]",Dpe=/^\s+|\s+$/g,kpe=/^[-+]0x[0-9a-f]+$/i,Npe=/^0b[01]+$/i,Fpe=/^0o[0-7]+$/i,Upe=parseInt,zpe=typeof R0=="object"&&R0&&R0.Object===Object&&R0,Hpe=typeof self=="object"&&self&&self.Object===Object&&self,Gpe=zpe||Hpe||Function("return this")(),Vpe=Object.prototype,$pe=Vpe.toString,Wpe=Math.max,jpe=Math.min,GA=function(){return Gpe.Date.now()};function Xpe(n,e,t){var r,i,s,o,a,l,c=0,u=!1,f=!1,p=!0;if(typeof n!="function")throw new TypeError(Ipe);e=b3(e)||0,HM(t)&&(u=!!t.leading,f="maxWait"in t,s=f?Wpe(b3(t.maxWait)||0,e):s,p="trailing"in t?!!t.trailing:p);function m(E){var R=r,I=i;return r=i=void 0,c=E,o=n.apply(I,R),o}function g(E){return c=E,a=setTimeout(v,e),u?m(E):o}function y(E){var R=E-l,I=E-c,T=e-R;return f?jpe(T,s-I):T}function _(E){var R=E-l,I=E-c;return l===void 0||R>=e||R<0||f&&I>=s}function v(){var E=GA();if(_(E))return x(E);a=setTimeout(v,y(E))}function x(E){return a=void 0,p&&r?m(E):(r=i=void 0,o)}function S(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function A(){return a===void 0?o:x(GA())}function M(){var E=GA(),R=_(E);if(r=arguments,i=this,l=E,R){if(a===void 0)return g(l);if(f)return a=setTimeout(v,e),m(l)}return a===void 0&&(a=setTimeout(v,e)),o}return M.cancel=S,M.flush=A,M}function HM(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function Kpe(n){return!!n&&typeof n=="object"}function Ype(n){return typeof n=="symbol"||Kpe(n)&&$pe.call(n)==Bpe}function b3(n){if(typeof n=="number")return n;if(Ype(n))return S3;if(HM(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=HM(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(Dpe,"");var t=Npe.test(n);return t||Fpe.test(n)?Upe(n.slice(2),t?2:8):kpe.test(n)?S3:+n}var Jpe=Xpe,DG={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(DG);var N1=DG.exports,$e={},lP={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(O);function t(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return e.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return e.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null};n.default=r})(lP);Object.defineProperty($e,"__esModule",{value:!0});$e.checkSpecKeys=$e.checkNavigable=$e.changeSlide=$e.canUseDOM=$e.canGoNext=void 0;$e.clamp=NG;$e.extractObject=void 0;$e.filterSettings=fme;$e.validSettings=$e.swipeStart=$e.swipeMove=$e.swipeEnd=$e.slidesOnRight=$e.slidesOnLeft=$e.slideHandler=$e.siblingDirection=$e.safePreventDefault=$e.lazyStartIndex=$e.lazySlidesOnRight=$e.lazySlidesOnLeft=$e.lazyEndIndex=$e.keyHandler=$e.initializedState=$e.getWidth=$e.getTrackLeft=$e.getTrackCSS=$e.getTrackAnimateCSS=$e.getTotalSlides=$e.getSwipeDirection=$e.getSlideCount=$e.getRequiredLazySlides=$e.getPreClones=$e.getPostClones=$e.getOnDemandLazySlides=$e.getNavigableIndexes=$e.getHeight=void 0;var qpe=kG(O),Qpe=kG(lP);function kG(n){return n&&n.__esModule?n:{default:n}}function qm(n){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(n)}function A3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function En(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?A3(Object(t),!0).forEach(function(r){Zpe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):A3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Zpe(n,e,t){return e=eme(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function eme(n){var e=tme(n,"string");return qm(e)=="symbol"?e:String(e)}function tme(n,e){if(qm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(qm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function NG(n,e,t){return Math.max(e,Math.min(n,t))}var Rd=$e.safePreventDefault=function(e){var t=["onTouchStart","onTouchMove","onWheel"];t.includes(e._reactName)||e.preventDefault()},FG=$e.getOnDemandLazySlides=function(e){for(var t=[],r=UG(e),i=zG(e),s=r;s<i;s++)e.lazyLoadedList.indexOf(s)<0&&t.push(s);return t};$e.getRequiredLazySlides=function(e){for(var t=[],r=UG(e),i=zG(e),s=r;s<i;s++)t.push(s);return t};var UG=$e.lazyStartIndex=function(e){return e.currentSlide-nme(e)},zG=$e.lazyEndIndex=function(e){return e.currentSlide+rme(e)},nme=$e.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},rme=$e.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},GM=$e.getWidth=function(e){return e&&e.offsetWidth||0},HG=$e.getHeight=function(e){return e&&e.offsetHeight||0},GG=$e.getSwipeDirection=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,o;return r=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,r),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":t===!0?o>=35&&o<=135?"up":"down":"vertical"},VG=$e.canGoNext=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};$e.extractObject=function(e,t){var r={};return t.forEach(function(i){return r[i]=e[i]}),r};$e.initializedState=function(e){var t=qpe.default.Children.count(e.children),r=e.listRef,i=Math.ceil(GM(r)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(GM(s)),a;if(e.vertical)a=i;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=i/100),a=Math.ceil((i-l)/e.slidesToShow)}var c=r&&HG(r.querySelector('[data-index="0"]')),u=c*e.slidesToShow,f=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(f=t-1-e.initialSlide);var p=e.lazyLoadedList||[],m=FG(En(En({},e),{},{currentSlide:f,lazyLoadedList:p}));p=p.concat(m);var g={slideCount:t,slideWidth:a,listWidth:i,trackWidth:o,currentSlide:f,slideHeight:c,listHeight:u,lazyLoadedList:p};return e.autoplaying===null&&e.autoplay&&(g.autoplaying="playing"),g};$e.slideHandler=function(e){var t=e.waitForAnimate,r=e.animating,i=e.fade,s=e.infinite,o=e.index,a=e.slideCount,l=e.lazyLoad,c=e.currentSlide,u=e.centerMode,f=e.slidesToScroll,p=e.slidesToShow,m=e.useCSS,g=e.lazyLoadedList;if(t&&r)return{};var y=o,_,v,x,S={},A={},M=s?o:NG(o,0,a-1);if(i){if(!s&&(o<0||o>=a))return{};o<0?y=o+a:o>=a&&(y=o-a),l&&g.indexOf(y)<0&&(g=g.concat(y)),S={animating:!0,currentSlide:y,lazyLoadedList:g,targetSlide:y},A={animating:!1,targetSlide:y}}else _=y,y<0?(_=y+a,s?a%f!==0&&(_=a-a%f):_=0):!VG(e)&&y>c?y=_=c:u&&y>=a?(y=s?a:a-1,_=s?0:a-1):y>=a&&(_=y-a,s?a%f!==0&&(_=0):_=a-p),!s&&y+p>=a&&(_=a-p),v=X_(En(En({},e),{},{slideIndex:y})),x=X_(En(En({},e),{},{slideIndex:_})),s||(v===x&&(y=_),v=x),l&&(g=g.concat(FG(En(En({},e),{},{currentSlide:y})))),m?(S={animating:!0,currentSlide:_,trackStyle:$G(En(En({},e),{},{left:v})),lazyLoadedList:g,targetSlide:M},A={animating:!1,currentSlide:_,trackStyle:j_(En(En({},e),{},{left:x})),swipeLeft:null,targetSlide:M}):S={currentSlide:_,trackStyle:j_(En(En({},e),{},{left:x})),lazyLoadedList:g,targetSlide:M};return{state:S,nextState:A}};$e.changeSlide=function(e,t){var r,i,s,o,a,l=e.slidesToScroll,c=e.slidesToShow,u=e.slideCount,f=e.currentSlide,p=e.targetSlide,m=e.lazyLoad,g=e.infinite;if(o=u%l!==0,r=o?0:(u-f)%l,t.message==="previous")s=r===0?l:c-r,a=f-s,m&&!g&&(i=f-s,a=i===-1?u-1:i),g||(a=p-l);else if(t.message==="next")s=r===0?l:r,a=f+s,m&&!g&&(a=(f+l)%u+r),g||(a=p+l);else if(t.message==="dots")a=t.index*t.slidesToScroll;else if(t.message==="children"){if(a=t.index,g){var y=ame(En(En({},e),{},{targetSlide:a}));a>t.currentSlide&&y==="left"?a=a-u:a<t.currentSlide&&y==="right"&&(a=a+u)}}else t.message==="index"&&(a=Number(t.index));return a};$e.keyHandler=function(e,t,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};$e.swipeStart=function(e,t,r){return e.target.tagName==="IMG"&&Rd(e),!t||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};$e.swipeMove=function(e,t){var r=t.scrolling,i=t.animating,s=t.vertical,o=t.swipeToSlide,a=t.verticalSwiping,l=t.rtl,c=t.currentSlide,u=t.edgeFriction,f=t.edgeDragged,p=t.onEdge,m=t.swiped,g=t.swiping,y=t.slideCount,_=t.slidesToScroll,v=t.infinite,x=t.touchObject,S=t.swipeEvent,A=t.listHeight,M=t.listWidth;if(!r){if(i)return Rd(e);s&&o&&a&&Rd(e);var E,R={},I=X_(t);x.curX=e.touches?e.touches[0].pageX:e.clientX,x.curY=e.touches?e.touches[0].pageY:e.clientY,x.swipeLength=Math.round(Math.sqrt(Math.pow(x.curX-x.startX,2)));var T=Math.round(Math.sqrt(Math.pow(x.curY-x.startY,2)));if(!a&&!g&&T>10)return{scrolling:!0};a&&(x.swipeLength=T);var P=(l?-1:1)*(x.curX>x.startX?1:-1);a&&(P=x.curY>x.startY?1:-1);var B=Math.ceil(y/_),F=GG(t.touchObject,a),V=x.swipeLength;return v||(c===0&&(F==="right"||F==="down")||c+1>=B&&(F==="left"||F==="up")||!VG(t)&&(F==="left"||F==="up"))&&(V=x.swipeLength*u,f===!1&&p&&(p(F),R.edgeDragged=!0)),!m&&S&&(S(F),R.swiped=!0),s?E=I+V*(A/M)*P:l?E=I-V*P:E=I+V*P,a&&(E=I+V*P),R=En(En({},R),{},{touchObject:x,swipeLeft:E,trackStyle:j_(En(En({},t),{},{left:E}))}),Math.abs(x.curX-x.startX)<Math.abs(x.curY-x.startY)*.8||x.swipeLength>10&&(R.swiping=!0,Rd(e)),R}};$e.swipeEnd=function(e,t){var r=t.dragging,i=t.swipe,s=t.touchObject,o=t.listWidth,a=t.touchThreshold,l=t.verticalSwiping,c=t.listHeight,u=t.swipeToSlide,f=t.scrolling,p=t.onSwipe,m=t.targetSlide,g=t.currentSlide,y=t.infinite;if(!r)return i&&Rd(e),{};var _=l?c/a:o/a,v=GG(s,l),x={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(f||!s.swipeLength)return x;if(s.swipeLength>_){Rd(e),p&&p(v);var S,A,M=y?g:m;switch(v){case"left":case"up":A=M+E3(t),S=u?w3(t,A):A,x.currentDirection=0;break;case"right":case"down":A=M-E3(t),S=u?w3(t,A):A,x.currentDirection=1;break;default:S=M}x.triggerSlideHandler=S}else{var E=X_(t);x.trackStyle=$G(En(En({},t),{},{left:E}))}return x};var ime=$e.getNavigableIndexes=function(e){for(var t=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,s=[];r<t;)s.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return s},w3=$e.checkNavigable=function(e,t){var r=ime(e),i=0;if(t>r[r.length-1])t=r[r.length-1];else for(var s in r){if(t<r[s]){t=i;break}i=r[s]}return t},E3=$e.getSlideCount=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(l){if(e.vertical){if(l.offsetTop+HG(l)/2>e.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-t+GM(l)/2>e.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-o)||1;return a}else return e.slidesToScroll},cP=$e.checkSpecKeys=function(e,t){return t.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)},j_=$e.getTrackCSS=function(e){cP(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var t,r,i=e.slideCount+2*e.slidesToShow;e.vertical?r=i*e.slideHeight:t=ome(e)*e.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=En(En({},s),{},{WebkitTransform:o,transform:a,msTransform:l})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),t&&(s.width=t),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s},$G=$e.getTrackAnimateCSS=function(e){cP(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=j_(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t},X_=$e.getTrackLeft=function(e){if(e.unslick)return 0;cP(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t=e.slideIndex,r=e.trackRef,i=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,c=e.slideWidth,u=e.listWidth,f=e.variableWidth,p=e.slideHeight,m=e.fade,g=e.vertical,y=0,_,v,x=0;if(m||e.slideCount===1)return 0;var S=0;if(i?(S=-Dy(e),o%l!==0&&t+l>o&&(S=-(t>o?a-(t-o):o%l)),s&&(S+=parseInt(a/2))):(o%l!==0&&t+l>o&&(S=a-o%l),s&&(S=parseInt(a/2))),y=S*c,x=S*p,g?_=t*p*-1+x:_=t*c*-1+y,f===!0){var A,M=r&&r.node;if(A=t+Dy(e),v=M&&M.childNodes[A],_=v?v.offsetLeft*-1:0,s===!0){A=i?t+Dy(e):t,v=M&&M.children[A],_=0;for(var E=0;E<A;E++)_-=M&&M.children[E]&&M.children[E].offsetWidth;_-=parseInt(e.centerPadding),_+=v&&(u-v.offsetWidth)/2}}return _},Dy=$e.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},sme=$e.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},ome=$e.getTotalSlides=function(e){return e.slideCount===1?1:Dy(e)+e.slideCount+sme(e)},ame=$e.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+lme(e)?"left":"right":e.targetSlide<e.currentSlide-cme(e)?"right":"left"},lme=$e.slidesOnRight=function(e){var t=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(t-1)/2+1;return parseInt(s)>0&&(o+=1),i&&t%2===0&&(o+=1),o}return i?0:t-1},cme=$e.slidesOnLeft=function(e){var t=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(t-1)/2+1;return parseInt(s)>0&&(o+=1),!i&&t%2===0&&(o+=1),o}return i?t-1:0};$e.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var ume=$e.validSettings=Object.keys(Qpe.default);function fme(n){return ume.reduce(function(e,t){return n.hasOwnProperty(t)&&(e[t]=n[t]),e},{})}var F1={};Object.defineProperty(F1,"__esModule",{value:!0});F1.Track=void 0;var Rl=WG(O),VA=WG(N1),$A=$e;function WG(n){return n&&n.__esModule?n:{default:n}}function ch(n){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(n)}function VM(){return VM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},VM.apply(this,arguments)}function dme(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function M3(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,XG(r.key),r)}}function hme(n,e,t){return e&&M3(n.prototype,e),t&&M3(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function pme(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&$M(n,e)}function $M(n,e){return $M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$M(n,e)}function mme(n){var e=jG();return function(){var r=K_(n),i;if(e){var s=K_(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return gme(this,i)}}function gme(n,e){if(e&&(ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WM(n)}function WM(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function jG(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jG=function(){return!!n})()}function K_(n){return K_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},K_(n)}function T3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Pi(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?T3(Object(t),!0).forEach(function(r){jM(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):T3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function jM(n,e,t){return e=XG(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function XG(n){var e=vme(n,"string");return ch(e)=="symbol"?e:String(e)}function vme(n,e){if(ch(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var WA=function(e){var t,r,i,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,i=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(t=!0)):t=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=o===a;return{"slick-slide":!0,"slick-active":t,"slick-center":r,"slick-cloned":i,"slick-current":l}},yme=function(e){var t={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,t.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t},jA=function(e,t){return e.key||t},_me=function(e){var t,r=[],i=[],s=[],o=Rl.default.Children.count(e.children),a=(0,$A.lazyStartIndex)(e),l=(0,$A.lazyEndIndex)(e);return Rl.default.Children.forEach(e.children,function(c,u){var f,p={message:"children",index:u,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(u)>=0?f=c:f=Rl.default.createElement("div",null);var m=yme(Pi(Pi({},e),{},{index:u})),g=f.props.className||"",y=WA(Pi(Pi({},e),{},{index:u}));if(r.push(Rl.default.cloneElement(f,{key:"original"+jA(f,u),"data-index":u,className:(0,VA.default)(y,g),tabIndex:"-1","aria-hidden":!y["slick-active"],style:Pi(Pi({outline:"none"},f.props.style||{}),m),onClick:function(x){f.props&&f.props.onClick&&f.props.onClick(x),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&e.fade===!1){var _=o-u;_<=(0,$A.getPreClones)(e)&&(t=-_,t>=a&&(f=c),y=WA(Pi(Pi({},e),{},{index:t})),i.push(Rl.default.cloneElement(f,{key:"precloned"+jA(f,t),"data-index":t,tabIndex:"-1",className:(0,VA.default)(y,g),"aria-hidden":!y["slick-active"],style:Pi(Pi({},f.props.style||{}),m),onClick:function(x){f.props&&f.props.onClick&&f.props.onClick(x),e.focusOnSelect&&e.focusOnSelect(p)}}))),t=o+u,t<l&&(f=c),y=WA(Pi(Pi({},e),{},{index:t})),s.push(Rl.default.cloneElement(f,{key:"postcloned"+jA(f,t),"data-index":t,tabIndex:"-1",className:(0,VA.default)(y,g),"aria-hidden":!y["slick-active"],style:Pi(Pi({},f.props.style||{}),m),onClick:function(x){f.props&&f.props.onClick&&f.props.onClick(x),e.focusOnSelect&&e.focusOnSelect(p)}}))}}),e.rtl?i.concat(r,s).reverse():i.concat(r,s)};F1.Track=function(n){pme(t,n);var e=mme(t);function t(){var r;dme(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),jM(WM(r),"node",null),jM(WM(r),"handleRef",function(a){r.node=a}),r}return hme(t,[{key:"render",value:function(){var i=_me(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,l=s.onMouseLeave,c={onMouseEnter:o,onMouseOver:a,onMouseLeave:l};return Rl.default.createElement("div",VM({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},c),i)}}]),t}(Rl.default.PureComponent);var U1={};function uh(n){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(n)}Object.defineProperty(U1,"__esModule",{value:!0});U1.Dots=void 0;var ry=KG(O),xme=KG(N1),C3=$e;function KG(n){return n&&n.__esModule?n:{default:n}}function R3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Sme(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?R3(Object(t),!0).forEach(function(r){bme(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):R3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function bme(n,e,t){return e=YG(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ame(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function P3(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,YG(r.key),r)}}function wme(n,e,t){return e&&P3(n.prototype,e),t&&P3(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function YG(n){var e=Eme(n,"string");return uh(e)=="symbol"?e:String(e)}function Eme(n,e){if(uh(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(uh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Mme(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&XM(n,e)}function XM(n,e){return XM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XM(n,e)}function Tme(n){var e=JG();return function(){var r=Y_(n),i;if(e){var s=Y_(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Cme(this,i)}}function Cme(n,e){if(e&&(uh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rme(n)}function Rme(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function JG(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JG=function(){return!!n})()}function Y_(n){return Y_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Y_(n)}var Pme=function(e){var t;return e.infinite?t=Math.ceil(e.slideCount/e.slidesToScroll):t=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,t};U1.Dots=function(n){Mme(t,n);var e=Tme(t);function t(){return Ame(this,t),e.apply(this,arguments)}return wme(t,[{key:"clickHandler",value:function(i,s){s.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,s=i.onMouseEnter,o=i.onMouseOver,a=i.onMouseLeave,l=i.infinite,c=i.slidesToScroll,u=i.slidesToShow,f=i.slideCount,p=i.currentSlide,m=Pme({slideCount:f,slidesToScroll:c,slidesToShow:u,infinite:l}),g={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},y=[],_=0;_<m;_++){var v=(_+1)*c-1,x=l?v:(0,C3.clamp)(v,0,f-1),S=x-(c-1),A=l?S:(0,C3.clamp)(S,0,f-1),M=(0,xme.default)({"slick-active":l?p>=A&&p<=x:p===A}),E={message:"dots",index:_,slidesToScroll:c,currentSlide:p},R=this.clickHandler.bind(this,E);y=y.concat(ry.default.createElement("li",{key:_,className:M},ry.default.cloneElement(this.props.customPaging(_),{onClick:R})))}return ry.default.cloneElement(this.props.appendDots(y),Sme({className:this.props.dotsClass},g))}}]),t}(ry.default.PureComponent);var fh={};function dh(n){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(n)}Object.defineProperty(fh,"__esModule",{value:!0});fh.PrevArrow=fh.NextArrow=void 0;var Pd=QG(O),qG=QG(N1),Ome=$e;function QG(n){return n&&n.__esModule?n:{default:n}}function J_(){return J_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},J_.apply(this,arguments)}function O3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function q_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?O3(Object(t),!0).forEach(function(r){Lme(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):O3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Lme(n,e,t){return e=t9(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function ZG(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function L3(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,t9(r.key),r)}}function e9(n,e,t){return e&&L3(n.prototype,e),t&&L3(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function t9(n){var e=Ime(n,"string");return dh(e)=="symbol"?e:String(e)}function Ime(n,e){if(dh(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function n9(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&KM(n,e)}function KM(n,e){return KM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KM(n,e)}function r9(n){var e=i9();return function(){var r=Q_(n),i;if(e){var s=Q_(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Bme(this,i)}}function Bme(n,e){if(e&&(dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dme(n)}function Dme(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function i9(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i9=function(){return!!n})()}function Q_(n){return Q_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Q_(n)}fh.PrevArrow=function(n){n9(t,n);var e=r9(t);function t(){return ZG(this,t),e.apply(this,arguments)}return e9(t,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,qG.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=Pd.default.cloneElement(this.props.prevArrow,q_(q_({},o),a)):l=Pd.default.createElement("button",J_({key:"0",type:"button"},o)," ","Previous"),l}}]),t}(Pd.default.PureComponent);fh.NextArrow=function(n){n9(t,n);var e=r9(t);function t(){return ZG(this,t),e.apply(this,arguments)}return e9(t,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,Ome.canGoNext)(this.props)||(i["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,qG.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=Pd.default.cloneElement(this.props.nextArrow,q_(q_({},o),a)):l=Pd.default.createElement("button",J_({key:"1",type:"button"},o)," ","Next"),l}}]),t}(Pd.default.PureComponent);var s9=function(){if(typeof Map<"u")return Map;function n(e,t){var r=-1;return e.some(function(i,s){return i[0]===t?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(t,r){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,i=n(r,t);~i&&r.splice(i,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];t.call(r,o[1],o[0])}},e}()}(),YM=typeof window<"u"&&typeof document<"u"&&window.document===document,Z_=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),kme=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(Z_):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),Nme=2;function Fme(n,e){var t=!1,r=!1,i=0;function s(){t&&(t=!1,n()),r&&a()}function o(){kme(s)}function a(){var l=Date.now();if(t){if(l-i<Nme)return;r=!0}else t=!0,r=!1,setTimeout(o,e);i=l}return a}var Ume=20,zme=["top","right","bottom","left","width","height","size","weight"],Hme=typeof MutationObserver<"u",Gme=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Fme(this.refresh.bind(this),Ume)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!YM||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Hme?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!YM||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t,i=zme.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),o9=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];Object.defineProperty(n,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return n},hh=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||Z_},a9=z1(0,0,0,0);function ex(n){return parseFloat(n)||0}function I3(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,i){var s=n["border-"+i+"-width"];return r+ex(s)},0)}function Vme(n){for(var e=["top","right","bottom","left"],t={},r=0,i=e;r<i.length;r++){var s=i[r],o=n["padding-"+s];t[s]=ex(o)}return t}function $me(n){var e=n.getBBox();return z1(0,0,e.width,e.height)}function Wme(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return a9;var r=hh(n).getComputedStyle(n),i=Vme(r),s=i.left+i.right,o=i.top+i.bottom,a=ex(r.width),l=ex(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=I3(r,"left","right")+s),Math.round(l+o)!==t&&(l-=I3(r,"top","bottom")+o)),!Xme(n)){var c=Math.round(a+s)-e,u=Math.round(l+o)-t;Math.abs(c)!==1&&(a-=c),Math.abs(u)!==1&&(l-=u)}return z1(i.left,i.top,a,l)}var jme=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof hh(n).SVGGraphicsElement}:function(n){return n instanceof hh(n).SVGElement&&typeof n.getBBox=="function"}}();function Xme(n){return n===hh(n).document.documentElement}function Kme(n){return YM?jme(n)?$me(n):Wme(n):a9}function Yme(n){var e=n.x,t=n.y,r=n.width,i=n.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return o9(o,{x:e,y:t,width:r,height:i,top:t,right:e+r,bottom:i+t,left:e}),o}function z1(n,e,t,r){return{x:n,y:e,width:t,height:r}}var Jme=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=z1(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=Kme(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),qme=function(){function n(e,t){var r=Yme(t);o9(this,{target:e,contentRect:r})}return n}(),Qme=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new s9,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof hh(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Jme(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof hh(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new qme(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),l9=typeof WeakMap<"u"?new WeakMap:new s9,c9=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=Gme.getInstance(),r=new Qme(e,t,this);l9.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){c9.prototype[n]=function(){var e;return(e=l9.get(this))[n].apply(e,arguments)}});var Zme=function(){return typeof Z_.ResizeObserver<"u"?Z_.ResizeObserver:c9}();const ege=Object.freeze(Object.defineProperty({__proto__:null,default:Zme},Symbol.toStringTag,{value:"Module"})),tge=V3(ege);Object.defineProperty(k1,"__esModule",{value:!0});k1.InnerSlider=void 0;var gi=Ig(O),nge=Ig(BG),rge=Ig(Jpe),ige=Ig(N1),Ln=$e,sge=F1,oge=U1,B3=fh,age=Ig(tge);function Ig(n){return n&&n.__esModule?n:{default:n}}function Nu(n){"@babel/helpers - typeof";return Nu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nu(n)}function tx(){return tx=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},tx.apply(this,arguments)}function lge(n,e){if(n==null)return{};var t=cge(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function cge(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function D3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function St(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?D3(Object(t),!0).forEach(function(r){Gt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):D3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function uge(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function k3(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,f9(r.key),r)}}function fge(n,e,t){return e&&k3(n.prototype,e),t&&k3(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function dge(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&JM(n,e)}function JM(n,e){return JM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JM(n,e)}function hge(n){var e=u9();return function(){var r=nx(n),i;if(e){var s=nx(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return pge(this,i)}}function pge(n,e){if(e&&(Nu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ht(n)}function Ht(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function u9(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(u9=function(){return!!n})()}function nx(n){return nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},nx(n)}function Gt(n,e,t){return e=f9(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function f9(n){var e=mge(n,"string");return Nu(e)=="symbol"?e:String(e)}function mge(n,e){if(Nu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Nu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}k1.InnerSlider=function(n){dge(t,n);var e=hge(t);function t(r){var i;uge(this,t),i=e.call(this,r),Gt(Ht(i),"listRefHandler",function(o){return i.list=o}),Gt(Ht(i),"trackRefHandler",function(o){return i.track=o}),Gt(Ht(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var o=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,Ln.getHeight)(o)+"px"}}),Gt(Ht(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var o=(0,Ln.getOnDemandLazySlides)(St(St({},i.props),i.state));o.length>0&&(i.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o))}var a=St({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new age.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,l.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),Gt(Ht(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(o){return clearTimeout(o)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),Gt(Ht(i),"componentDidUpdate",function(o){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,Ln.getOnDemandLazySlides)(St(St({},i.props),i.state));a.length>0&&(i.setState(function(u){return{lazyLoadedList:u.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var l=St(St({listRef:i.list,trackRef:i.track},i.props),i.state),c=i.didPropsChange(o);c&&i.updateState(l,c,function(){i.state.currentSlide>=gi.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:gi.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),Gt(Ht(i),"onWindowResized",function(o){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,rge.default)(function(){return i.resizeWindow(o)},50),i.debouncedResize()}),Gt(Ht(i),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var l=St(St({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(l,o,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),Gt(Ht(i),"updateState",function(o,a,l){var c=(0,Ln.initializedState)(o);o=St(St(St({},o),c),{},{slideIndex:c.currentSlide});var u=(0,Ln.getTrackLeft)(o);o=St(St({},o),{},{left:u});var f=(0,Ln.getTrackCSS)(o);(a||gi.default.Children.count(i.props.children)!==gi.default.Children.count(o.children))&&(c.trackStyle=f),i.setState(c,l)}),Gt(Ht(i),"ssrInit",function(){if(i.props.variableWidth){var o=0,a=0,l=[],c=(0,Ln.getPreClones)(St(St(St({},i.props),i.state),{},{slideCount:i.props.children.length})),u=(0,Ln.getPostClones)(St(St(St({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(R){l.push(R.props.style.width),o+=R.props.style.width});for(var f=0;f<c;f++)a+=l[l.length-1-f],o+=l[l.length-1-f];for(var p=0;p<u;p++)o+=l[p];for(var m=0;m<i.state.currentSlide;m++)a+=l[m];var g={width:o+"px",left:-a+"px"};if(i.props.centerMode){var y="".concat(l[i.state.currentSlide],"px");g.left="calc(".concat(g.left," + (100% - ").concat(y,") / 2 ) ")}return{trackStyle:g}}var _=gi.default.Children.count(i.props.children),v=St(St(St({},i.props),i.state),{},{slideCount:_}),x=(0,Ln.getPreClones)(v)+(0,Ln.getPostClones)(v)+_,S=100/i.props.slidesToShow*x,A=100/x,M=-A*((0,Ln.getPreClones)(v)+i.state.currentSlide)*S/100;i.props.centerMode&&(M+=(100-A*S/100)/2);var E={width:S+"%",left:M+"%"};return{slideWidth:A+"%",trackStyle:E}}),Gt(Ht(i),"checkImagesLoad",function(){var o=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=o.length,l=0;Array.prototype.forEach.call(o,function(c){var u=function(){return++l&&l>=a&&i.onWindowResized()};if(!c.onclick)c.onclick=function(){return c.parentNode.focus()};else{var f=c.onclick;c.onclick=function(p){f(p),c.parentNode.focus()}}c.onload||(i.props.lazyLoad?c.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(c.onload=u,c.onerror=function(){u(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),Gt(Ht(i),"progressiveLazyLoad",function(){for(var o=[],a=St(St({},i.props),i.state),l=i.state.currentSlide;l<i.state.slideCount+(0,Ln.getPostClones)(a);l++)if(i.state.lazyLoadedList.indexOf(l)<0){o.push(l);break}for(var c=i.state.currentSlide-1;c>=-(0,Ln.getPreClones)(a);c--)if(i.state.lazyLoadedList.indexOf(c)<0){o.push(c);break}o.length>0?(i.setState(function(u){return{lazyLoadedList:u.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),Gt(Ht(i),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=i.props,c=l.asNavFor,u=l.beforeChange,f=l.onLazyLoad,p=l.speed,m=l.afterChange,g=i.state.currentSlide,y=(0,Ln.slideHandler)(St(St(St({index:o},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),_=y.state,v=y.nextState;if(_){u&&u(g,_.currentSlide);var x=_.lazyLoadedList.filter(function(S){return i.state.lazyLoadedList.indexOf(S)<0});f&&x.length>0&&f(x),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),m&&m(g),delete i.animationEndCallback),i.setState(_,function(){c&&i.asNavForIndex!==o&&(i.asNavForIndex=o,c.innerSlider.slideHandler(o)),v&&(i.animationEndCallback=setTimeout(function(){var S=v.animating,A=lge(v,["animating"]);i.setState(A,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:S})},10)),m&&m(_.currentSlide),delete i.animationEndCallback})},p))})}}),Gt(Ht(i),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=St(St({},i.props),i.state),c=(0,Ln.changeSlide)(l,o);if(!(c!==0&&!c)&&(a===!0?i.slideHandler(c,a):i.slideHandler(c),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var u=i.list.querySelectorAll(".slick-current");u[0]&&u[0].focus()}}),Gt(Ht(i),"clickHandler",function(o){i.clickable===!1&&(o.stopPropagation(),o.preventDefault()),i.clickable=!0}),Gt(Ht(i),"keyHandler",function(o){var a=(0,Ln.keyHandler)(o,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),Gt(Ht(i),"selectHandler",function(o){i.changeSlide(o)}),Gt(Ht(i),"disableBodyScroll",function(){var o=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=o}),Gt(Ht(i),"enableBodyScroll",function(){window.ontouchmove=null}),Gt(Ht(i),"swipeStart",function(o){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,Ln.swipeStart)(o,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),Gt(Ht(i),"swipeMove",function(o){var a=(0,Ln.swipeMove)(o,St(St(St({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),Gt(Ht(i),"swipeEnd",function(o){var a=(0,Ln.swipeEnd)(o,St(St(St({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),l!==void 0&&(i.slideHandler(l),i.props.verticalSwiping&&i.enableBodyScroll())}}),Gt(Ht(i),"touchEnd",function(o){i.swipeEnd(o),i.clickable=!0}),Gt(Ht(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),Gt(Ht(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),Gt(Ht(i),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:o,currentSlide:i.state.currentSlide},a)},0))}),Gt(Ht(i),"play",function(){var o;if(i.props.rtl)o=i.state.currentSlide-i.props.slidesToScroll;else if((0,Ln.canGoNext)(St(St({},i.props),i.state)))o=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(o)}),Gt(Ht(i),"autoPlay",function(o){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),Gt(Ht(i),"pause",function(o){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;o==="paused"?i.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),Gt(Ht(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),Gt(Ht(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Gt(Ht(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),Gt(Ht(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Gt(Ht(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),Gt(Ht(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),Gt(Ht(i),"render",function(){var o=(0,ige.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=St(St({},i.props),i.state),l=(0,Ln.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),c=i.props.pauseOnHover;l=St(St({},l),{},{onMouseEnter:c?i.onTrackOver:null,onMouseLeave:c?i.onTrackLeave:null,onMouseOver:c?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var u;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var f=(0,Ln.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),p=i.props.pauseOnDotsHover;f=St(St({},f),{},{clickHandler:i.changeSlide,onMouseEnter:p?i.onDotsLeave:null,onMouseOver:p?i.onDotsOver:null,onMouseLeave:p?i.onDotsLeave:null}),u=gi.default.createElement(oge.Dots,f)}var m,g,y=(0,Ln.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);y.clickHandler=i.changeSlide,i.props.arrows&&(m=gi.default.createElement(B3.PrevArrow,y),g=gi.default.createElement(B3.NextArrow,y));var _=null;i.props.vertical&&(_={height:i.state.listHeight});var v=null;i.props.vertical===!1?i.props.centerMode===!0&&(v={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(v={padding:i.props.centerPadding+" 0px"});var x=St(St({},_),v),S=i.props.touchMove,A={className:"slick-list",style:x,onClick:i.clickHandler,onMouseDown:S?i.swipeStart:null,onMouseMove:i.state.dragging&&S?i.swipeMove:null,onMouseUp:S?i.swipeEnd:null,onMouseLeave:i.state.dragging&&S?i.swipeEnd:null,onTouchStart:S?i.swipeStart:null,onTouchMove:i.state.dragging&&S?i.swipeMove:null,onTouchEnd:S?i.touchEnd:null,onTouchCancel:i.state.dragging&&S?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},M={className:o,dir:"ltr",style:i.props.style};return i.props.unslick&&(A={className:"slick-list"},M={className:o}),gi.default.createElement("div",M,i.props.unslick?"":m,gi.default.createElement("div",tx({ref:i.listRefHandler},A),gi.default.createElement(sge.Track,tx({ref:i.trackRefHandler},l),i.props.children)),i.props.unslick?"":g,i.props.unslick?"":u)}),i.list=null,i.track=null,i.state=St(St({},nge.default),{},{currentSlide:i.props.initialSlide,targetSlide:i.props.initialSlide?i.props.initialSlide:0,slideCount:gi.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var s=i.ssrInit();return i.state=St(St({},i.state),s),i}return fge(t,[{key:"didPropsChange",value:function(i){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var l=a[o];if(!i.hasOwnProperty(l)){s=!0;break}if(!(Nu(i[l])==="object"||typeof i[l]=="function"||isNaN(i[l]))&&i[l]!==this.props[l]){s=!0;break}}return s||gi.default.Children.count(this.props.children)!==gi.default.Children.count(i.children)}}]),t}(gi.default.Component);var gge=function(n){return n.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},vge=gge,yge=vge,_ge=function(n){var e=/[height|width]$/;return e.test(n)},N3=function(n){var e="",t=Object.keys(n);return t.forEach(function(r,i){var s=n[r];r=yge(r),_ge(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<t.length-1&&(e+=" and ")}),e},xge=function(n){var e="";return typeof n=="string"?n:n instanceof Array?(n.forEach(function(t,r){e+=N3(t),r<n.length-1&&(e+=", ")}),e):N3(n)},Sge=xge,XA,F3;function bge(){if(F3)return XA;F3=1;function n(e){this.options=e,!e.deferSetup&&this.setup()}return n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},XA=n,XA}var KA,U3;function d9(){if(U3)return KA;U3=1;function n(r,i){var s=0,o=r.length,a;for(s;s<o&&(a=i(r[s],s),a!==!1);s++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function t(r){return typeof r=="function"}return KA={isFunction:t,isArray:e,each:n},KA}var YA,z3;function Age(){if(z3)return YA;z3=1;var n=bge(),e=d9().each;function t(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var s=this;this.listener=function(o){s.mql=o.currentTarget||o,s.assess()},this.mql.addListener(this.listener)}return t.prototype={constuctor:t,addHandler:function(r){var i=new n(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(s,o){if(s.equals(r))return s.destroy(),!i.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},YA=t,YA}var JA,H3;function wge(){if(H3)return JA;H3=1;var n=Age(),e=d9(),t=e.each,r=e.isFunction,i=e.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return s.prototype={constructor:s,register:function(o,a,l){var c=this.queries,u=l&&this.browserIsIncapable;return c[o]||(c[o]=new n(o,u)),r(a)&&(a={match:a}),i(a)||(a=[a]),t(a,function(f){r(f)&&(f={match:f}),c[o].addHandler(f)}),this},unregister:function(o,a){var l=this.queries[o];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[o])),this}},JA=s,JA}var qA,G3;function Ege(){if(G3)return qA;G3=1;var n=wge();return qA=new n,qA}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=o(O),t=k1,r=o(Sge),i=o(lP),s=$e;function o(T){return T&&T.__esModule?T:{default:T}}function a(T){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},a(T)}function l(){return l=Object.assign?Object.assign.bind():function(T){for(var P=1;P<arguments.length;P++){var B=arguments[P];for(var F in B)Object.prototype.hasOwnProperty.call(B,F)&&(T[F]=B[F])}return T},l.apply(this,arguments)}function c(T,P){var B=Object.keys(T);if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(T);P&&(F=F.filter(function(V){return Object.getOwnPropertyDescriptor(T,V).enumerable})),B.push.apply(B,F)}return B}function u(T){for(var P=1;P<arguments.length;P++){var B=arguments[P]!=null?arguments[P]:{};P%2?c(Object(B),!0).forEach(function(F){M(T,F,B[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(B)):c(Object(B)).forEach(function(F){Object.defineProperty(T,F,Object.getOwnPropertyDescriptor(B,F))})}return T}function f(T,P){if(!(T instanceof P))throw new TypeError("Cannot call a class as a function")}function p(T,P){for(var B=0;B<P.length;B++){var F=P[B];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(T,E(F.key),F)}}function m(T,P,B){return P&&p(T.prototype,P),B&&p(T,B),Object.defineProperty(T,"prototype",{writable:!1}),T}function g(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),P&&y(T,P)}function y(T,P){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(F,V){return F.__proto__=V,F},y(T,P)}function _(T){var P=S();return function(){var F=A(T),V;if(P){var k=A(this).constructor;V=Reflect.construct(F,arguments,k)}else V=F.apply(this,arguments);return v(this,V)}}function v(T,P){if(P&&(a(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x(T)}function x(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function S(){try{var T=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S=function(){return!!T})()}function A(T){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)},A(T)}function M(T,P,B){return P=E(P),P in T?Object.defineProperty(T,P,{value:B,enumerable:!0,configurable:!0,writable:!0}):T[P]=B,T}function E(T){var P=R(T,"string");return a(P)=="symbol"?P:String(P)}function R(T,P){if(a(T)!="object"||!T)return T;var B=T[Symbol.toPrimitive];if(B!==void 0){var F=B.call(T,P||"default");if(a(F)!="object")return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(T)}var I=(0,s.canUseDOM)()&&Ege();n.default=function(T){g(B,T);var P=_(B);function B(F){var V;return f(this,B),V=P.call(this,F),M(x(V),"innerSliderRefHandler",function(k){return V.innerSlider=k}),M(x(V),"slickPrev",function(){return V.innerSlider.slickPrev()}),M(x(V),"slickNext",function(){return V.innerSlider.slickNext()}),M(x(V),"slickGoTo",function(k){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return V.innerSlider.slickGoTo(k,z)}),M(x(V),"slickPause",function(){return V.innerSlider.pause("paused")}),M(x(V),"slickPlay",function(){return V.innerSlider.autoPlay("play")}),V.state={breakpoint:null},V._responsiveMediaHandlers=[],V}return m(B,[{key:"media",value:function(V,k){I.register(V,k),this._responsiveMediaHandlers.push({query:V,handler:k})}},{key:"componentDidMount",value:function(){var V=this;if(this.props.responsive){var k=this.props.responsive.map(function(W){return W.breakpoint});k.sort(function(W,K){return W-K}),k.forEach(function(W,K){var N;K===0?N=(0,r.default)({minWidth:0,maxWidth:W}):N=(0,r.default)({minWidth:k[K-1]+1,maxWidth:W}),(0,s.canUseDOM)()&&V.media(N,function(){V.setState({breakpoint:W})})});var z=(0,r.default)({minWidth:k.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(z,function(){V.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(V){I.unregister(V.query,V.handler)})}},{key:"render",value:function(){var V=this,k,z;this.state.breakpoint?(z=this.props.responsive.filter(function(ce){return ce.breakpoint===V.state.breakpoint}),k=z[0].settings==="unslick"?"unslick":u(u(u({},i.default),this.props),z[0].settings)):k=u(u({},i.default),this.props),k.centerMode&&(k.slidesToScroll>1,k.slidesToScroll=1),k.fade&&(k.slidesToShow>1,k.slidesToScroll>1,k.slidesToShow=1,k.slidesToScroll=1);var W=e.default.Children.toArray(this.props.children);W=W.filter(function(ce){return typeof ce=="string"?!!ce.trim():!!ce}),k.variableWidth&&(k.rows>1||k.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),k.variableWidth=!1);for(var K=[],N=null,j=0;j<W.length;j+=k.rows*k.slidesPerRow){for(var J=[],te=j;te<j+k.rows*k.slidesPerRow;te+=k.slidesPerRow){for(var ee=[],Y=te;Y<te+k.slidesPerRow&&(k.variableWidth&&W[Y].props.style&&(N=W[Y].props.style.width),!(Y>=W.length));Y+=1)ee.push(e.default.cloneElement(W[Y],{key:100*j+10*te+Y,tabIndex:-1,style:{width:"".concat(100/k.slidesPerRow,"%"),display:"inline-block"}}));J.push(e.default.createElement("div",{key:10*j+te},ee))}k.variableWidth?K.push(e.default.createElement("div",{key:j,style:{width:N}},J)):K.push(e.default.createElement("div",{key:j},J))}if(k==="unslick"){var ne="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:ne},W)}else K.length<=k.slidesToShow&&!k.infinite&&(k.unslick=!0);return e.default.createElement(t.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(k)),K)}}]),B}(e.default.Component)})(IG);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(IG);function t(r){return r&&r.__esModule?r:{default:r}}n.default=e.default})(LG);const Mge=fc(LG);function Tge(){const n=[{label:"San Francisco – Oakland Bay Bridge, United States",imgPath:"https://images.unsplash.com/photo-1537944434965-cf4679d1a598"},{label:"Bird",imgPath:"https://images.unsplash.com/photo-1538032746644-0212e812a9e7"},{label:"Bali, Indonesia",imgPath:"https://images.unsplash.com/photo-1537996194471-e657df975ab4"},{label:"San Francisco – Oakland Bay Bridge, United States",imgPath:"https://images.unsplash.com/photo-1537944434965-cf4679d1a598"},{label:"Bird",imgPath:"https://images.unsplash.com/photo-1538032746644-0212e812a9e7"},{label:"Bali, Indonesia",imgPath:"https://images.unsplash.com/photo-1537996194471-e657df975ab4"}];var e={dots:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,accessibility:!0,fade:!0,swipeToSlide:!1};return ue.jsx(Mge,{...e,children:n.map((t,r)=>ue.jsx("img",{src:t.imgPath,alt:t.label},r))})}function Cge({open:n,setOpen:e,infoBoxIcon:t,setInfoBoxIcon:r,showLongDesc:i,setShowLongDesc:s,showPhotos:o,setShowPhotos:a,showBackground:l,setShowBackground:c,showPartOptions:u,setShowPartOptions:f,animateParts:p,animActive:m,currentItemSelected:g,randomAllItemsParts:y,mobileView:_}){const v=B1({palette:{primary:{main:"#212121",light:"#757575"},secondary:{main:"#bdbdbd",light:"#E0E0E0"}},shadows:Array(25).fill("none"),components:{MuiDrawer:{styleOverrides:{modal:{".MuiModal-backdrop":{background:"none"}}}}}}),x=E=>{E.preventDefault(),E.stopPropagation(),e(!n),r(!t),u&&f(!u)},S=E=>{E.preventDefault(),E.stopPropagation(),c(!l)},A=E=>{E.preventDefault(),E.stopPropagation(),u&&f(!u),s(!i)},M=E=>{E.preventDefault(),E.stopPropagation(),u&&f(!u),a(!o)};return ue.jsx(ue.Fragment,{children:ue.jsxs(_G,{theme:v,children:[ue.jsx(bG,{}),ue.jsx(wl,{onClick:E=>x(E),color:"inherit",disabled:g.itemTitle==="noSelectTitle",sx:{position:"absolute",bottom:"1.5rem",left:"50%",transform:"translate(-50%, -50%)",display:t?"block":"none",padding:"1.5rem"},"aria-label":"open order box for item details and options",children:ue.jsx(RG,{sx:{color:g.itemTitle==="noSelectTitle"?"secondary.main":"white",fontSize:"2rem",transform:"rotate(-0.5turn)"}})}),ue.jsxs("div",{className:"info",style:{color:v.palette.primary.light,display:n?"block":"none"},children:[ue.jsx(wl,{onClick:E=>x(E),color:"inherit",sx:{position:"absolute",pointerEvents:"auto",top:"0.15rem",left:"0.15rem",padding:"0.5rem"},"aria-label":"close order box",children:ue.jsx(V_,{fontSize:"medium",sx:{color:"primary.light"}})}),ue.jsx("div",{id:"title",children:g.itemTitle==="noSelectTitle"?"":`${g.itemTitle}`}),ue.jsxs("span",{style:{display:g.itemTitle==="noSelectTitle"?"none":"block"},children:[ue.jsx(wl,{sx:{padding:"0.75rem"},onClick:E=>M(E),"aria-label":"open photos box to view item images",children:ue.jsx(TG,{sx:{color:"primary.light",fontSize:"inherit",pointerEvents:"auto"}})}),ue.jsx(wl,{onClick:E=>y(E),color:"inherit",sx:{pointerEvents:"auto",padding:"0.75rem"},"aria-label":"shuffle item part colors / finish options",children:ue.jsx(OG,{sx:{color:"primary.main"}})}),ue.jsx(wl,{sx:{padding:"0.75rem"},onClick:E=>A(E),"aria-label":"show item short or long description",children:i?ue.jsx(EG,{sx:{color:"secondary.light",fontSize:"inherit",pointerEvents:"auto"}}):ue.jsx(MG,{sx:{fontSize:"inherit",pointerEvents:"auto"}})}),ue.jsx(wl,{onClick:p,sx:{padding:"0.75rem"},"aria-label":"animate items parts / toggle exploding view",children:ue.jsx(CG,{sx:{color:m?"primary.light":"primary.main",fontSize:"inherit",pointerEvents:"auto"}})}),ue.jsx(wl,{onClick:E=>S(E),color:"inherit",sx:{pointerEvents:"auto",padding:"0.75rem"},"aria-label":"hide background to show selected item part options or show background and hide item part options",children:l?ue.jsx(JR,{sx:{color:"primary.light"}}):ue.jsx(PG,{sx:{color:"secondary.light"}})})]}),ue.jsx("div",{id:"description",children:i?g.itemLongDescription:g.itemDescription}),ue.jsx("div",{id:"size",children:g.size}),ue.jsx(AG,{theme:v,item:g,"aria-label":"add to shopping cart",children:g.itemTitle})]}),ue.jsx("div",{id:"footer",children:"Eli Gfell Studio"}),ue.jsxs("div",{className:"photos",style:{display:o?"block":"none"},children:[ue.jsx(wl,{onClick:E=>M(E),color:"inherit",sx:{position:"absolute",pointerEvents:"auto",top:"0.15rem",left:"0.15rem",padding:"0.5rem"},"aria-label":"close order box",children:ue.jsx(V_,{fontSize:"small",sx:{color:"primary.light"}})}),ue.jsx("div",{id:"title",children:g.itemTitle}),ue.jsx(Tge,{})]})]})})}function Rge(){const[n,e]=O.useState(!1);O.useEffect(()=>{"ontouchstart"in window||navigator.maxTouchPoints>0?e(!0):e(!1)},[]);const[t,r]=O.useState(!1),[i,s]=O.useState(!0),[o,a]=O.useState(!1),[l,c]=O.useState(!1),[u,f]=O.useState(!0),[p,m]=O.useState(!1),[g,y]=O.useState(mo),[_,v]=O.useState(mo);O.useEffect(()=>{window.LoadSnipcart()},[]);const x=O.useRef(),[S,A]=O.useState(0),M={value:0},E={value:.15},R=.15,I=0,[T,P]=O.useState(!1),[B,F]=O.useState(!1),{contextSafe:V}=MM({scope:x}),k=V(()=>{B||(P(!T),T?Ul.timeline().to(E,{delay:.15,duration:1,value:I,ease:"easeOut",onStart:()=>{F(!0)},onUpdate:()=>{A(E.value)},onComplete:()=>{F(!1)}}):Ul.timeline().to(M,{delay:.15,duration:1,value:R,ease:"easeIn",onStart:()=>{F(!0)},onUpdate:()=>{A(M.value)},onComplete:()=>{F(!1)}}))});function z(ee){return Math.floor(Math.random()*ee)}const W=Wo(ee=>ee.updatePartColor),K=Wo(ee=>ee.updatePartColorName),N=Wo(ee=>ee.updatePartTexture),j=Wo(ee=>ee.calculateItemPrice),J=(ee,Y,ne,ce,Me)=>{ee&&(ee.preventDefault(),Me&&ee.stopPropagation()),ce==="white"?(N(Y,ne,Ee.whiteTexture),W(Y,ne,Ee.whiteStain),K(Y,ne,"white")):ce==="natural"?(N(Y,ne,Ee.naturalTexture),W(Y,ne,Ee.naturalStain),K(Y,ne,"natural")):ce==="black"?(N(Y,ne,Ee.blackTexture),W(Y,ne,Ee.blackStain),K(Y,ne,"black")):ce==="allBlack"?(N(Y,ne,Ee.allBlackTexture),W(Y,ne,Ee.allBlackStain),K(Y,ne,"allBlack")):ce==="alabaster"?(N(Y,ne,Ee.paintedTexture),W(Y,ne,Ee.alabasterPaint),K(Y,ne,"alabaster")):ce==="pink"?(N(Y,ne,Ee.paintedTexture),W(Y,ne,Ee.pinkPaint),K(Y,ne,"pink")):ce==="basil"?(N(Y,ne,Ee.paintedTexture),W(Y,ne,Ee.basilPaint),K(Y,ne,"basil")):ce==="yellow"?(N(Y,ne,Ee.paintedTexture),W(Y,ne,Ee.yellowPaint),K(Y,ne,"yellow")):ce==="blue"?(N(Y,ne,Ee.paintedTexture),W(Y,ne,Ee.bluePaint),K(Y,ne,"blue")):ce==="gray"&&(N(Y,ne,Ee.paintedTexture),W(Y,ne,Ee.grayPaint),K(Y,ne,"gray")),j(Y)},te=ee=>{ee&&ee.preventDefault();let Y=IM.map(ne=>ne.parts.map(Me=>{let Re=z_[z(z_.length)];return J(ee,ne.itemName,Me.partName,Re,!1),Re}));console.log("random colors generated list: ",Y)};return ue.jsxs(ue.Fragment,{children:[ue.jsx(cq,{ref:x,dpr:[1,2],shadows:{type:yd},camera:{fov:45,near:.1,far:22,position:[9,5,-9]},children:ue.jsx(O.Suspense,{fallback:ue.jsx(fpe,{}),children:ue.jsx($_.SnipcartProvider,{children:ue.jsx(upe,{currentItemSelected:g,setCurrentItemSelected:y,previousItemSelected:_,setPreviousItemSelected:v,animDist:S,open:t,setOpen:r,infoBoxIcon:i,setInfoBoxIcon:s,showBackground:u,setShowBackground:f,showPartOptions:p,setShowPartOptions:m,animateParts:k,handlePartOption:J,getRandomInt:z,randomAllItemsParts:te})})})}),ue.jsx(Cge,{open:t,setOpen:r,infoBoxIcon:i,setInfoBoxIcon:s,showLongDesc:o,setShowLongDesc:a,showPhotos:l,setShowPhotos:c,showBackground:u,setShowBackground:f,showPartOptions:p,setShowPartOptions:m,animateParts:k,animActive:B,currentItemSelected:g,randomAllItemsParts:te,mobileView:n})]})}const Pge=QA.createRoot(document.querySelector("#root"));Pge.render(ue.jsx(Rge,{}));
