function W9(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var O0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dc(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function F3(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var U3={exports:{}},ox={},z3={exports:{}},Vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eg=Symbol.for("react.element"),$9=Symbol.for("react.portal"),j9=Symbol.for("react.fragment"),X9=Symbol.for("react.strict_mode"),K9=Symbol.for("react.profiler"),Y9=Symbol.for("react.provider"),J9=Symbol.for("react.context"),q9=Symbol.for("react.forward_ref"),Q9=Symbol.for("react.suspense"),Z9=Symbol.for("react.memo"),e8=Symbol.for("react.lazy"),D2=Symbol.iterator;function t8(n){return n===null||typeof n!="object"?null:(n=D2&&n[D2]||n["@@iterator"],typeof n=="function"?n:null)}var H3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G3=Object.assign,V3={};function gh(n,e,t){this.props=n,this.context=e,this.refs=V3,this.updater=t||H3}gh.prototype.isReactComponent={};gh.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};gh.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function W3(){}W3.prototype=gh.prototype;function JM(n,e,t){this.props=n,this.context=e,this.refs=V3,this.updater=t||H3}var qM=JM.prototype=new W3;qM.constructor=JM;G3(qM,gh.prototype);qM.isPureReactComponent=!0;var k2=Array.isArray,$3=Object.prototype.hasOwnProperty,QM={current:null},j3={key:!0,ref:!0,__self:!0,__source:!0};function X3(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)$3.call(e,r)&&!j3.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=t;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(n&&n.defaultProps)for(r in a=n.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:eg,type:n,key:s,ref:o,props:i,_owner:QM.current}}function n8(n,e){return{$$typeof:eg,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function ZM(n){return typeof n=="object"&&n!==null&&n.$$typeof===eg}function r8(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var N2=/\/+/g;function XS(n,e){return typeof n=="object"&&n!==null&&n.key!=null?r8(""+n.key):e.toString(36)}function oy(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case eg:case $9:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+XS(o,0):r,k2(i)?(t="",n!=null&&(t=n.replace(N2,"$&/")+"/"),oy(i,e,t,"",function(c){return c})):i!=null&&(ZM(i)&&(i=n8(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(N2,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",k2(n))for(var a=0;a<n.length;a++){s=n[a];var l=r+XS(s,a);o+=oy(s,e,t,l,i)}else if(l=t8(n),typeof l=="function")for(n=l.call(n),a=0;!(s=n.next()).done;)s=s.value,l=r+XS(s,a++),o+=oy(s,e,t,l,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function L0(n,e,t){if(n==null)return n;var r=[],i=0;return oy(n,r,"","",function(s){return e.call(t,s,i++)}),r}function i8(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ti={current:null},ay={transition:null},s8={ReactCurrentDispatcher:Ti,ReactCurrentBatchConfig:ay,ReactCurrentOwner:QM};Vt.Children={map:L0,forEach:function(n,e,t){L0(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return L0(n,function(){e++}),e},toArray:function(n){return L0(n,function(e){return e})||[]},only:function(n){if(!ZM(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Vt.Component=gh;Vt.Fragment=j9;Vt.Profiler=K9;Vt.PureComponent=JM;Vt.StrictMode=X9;Vt.Suspense=Q9;Vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=s8;Vt.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=G3({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=QM.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(l in e)$3.call(e,l)&&!j3.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=t;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:eg,type:n.type,key:i,ref:s,props:r,_owner:o}};Vt.createContext=function(n){return n={$$typeof:J9,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:Y9,_context:n},n.Consumer=n};Vt.createElement=X3;Vt.createFactory=function(n){var e=X3.bind(null,n);return e.type=n,e};Vt.createRef=function(){return{current:null}};Vt.forwardRef=function(n){return{$$typeof:q9,render:n}};Vt.isValidElement=ZM;Vt.lazy=function(n){return{$$typeof:e8,_payload:{_status:-1,_result:n},_init:i8}};Vt.memo=function(n,e){return{$$typeof:Z9,type:n,compare:e===void 0?null:e}};Vt.startTransition=function(n){var e=ay.transition;ay.transition={};try{n()}finally{ay.transition=e}};Vt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Vt.useCallback=function(n,e){return Ti.current.useCallback(n,e)};Vt.useContext=function(n){return Ti.current.useContext(n)};Vt.useDebugValue=function(){};Vt.useDeferredValue=function(n){return Ti.current.useDeferredValue(n)};Vt.useEffect=function(n,e){return Ti.current.useEffect(n,e)};Vt.useId=function(){return Ti.current.useId()};Vt.useImperativeHandle=function(n,e,t){return Ti.current.useImperativeHandle(n,e,t)};Vt.useInsertionEffect=function(n,e){return Ti.current.useInsertionEffect(n,e)};Vt.useLayoutEffect=function(n,e){return Ti.current.useLayoutEffect(n,e)};Vt.useMemo=function(n,e){return Ti.current.useMemo(n,e)};Vt.useReducer=function(n,e,t){return Ti.current.useReducer(n,e,t)};Vt.useRef=function(n){return Ti.current.useRef(n)};Vt.useState=function(n){return Ti.current.useState(n)};Vt.useSyncExternalStore=function(n,e,t){return Ti.current.useSyncExternalStore(n,e,t)};Vt.useTransition=function(){return Ti.current.useTransition()};Vt.version="18.2.0";z3.exports=Vt;var O=z3.exports;const q=dc(O),Fy=W9({__proto__:null,default:q},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o8=O,a8=Symbol.for("react.element"),l8=Symbol.for("react.fragment"),c8=Object.prototype.hasOwnProperty,u8=o8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f8={key:!0,ref:!0,__self:!0,__source:!0};function K3(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)c8.call(e,r)&&!f8.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:a8,type:n,key:s,ref:o,props:i,_owner:u8.current}}ox.Fragment=l8;ox.jsx=K3;ox.jsxs=K3;U3.exports=ox;var ge=U3.exports,qA={},Y3={exports:{}},bs={},J3={exports:{}},q3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,X){var Y=F.length;F.push(X);e:for(;0<Y;){var te=Y-1>>>1,ee=F[te];if(0<i(ee,X))F[te]=X,F[Y]=ee,Y=te;else break e}}function t(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var X=F[0],Y=F.pop();if(Y!==X){F[0]=Y;e:for(var te=0,ee=F.length,J=ee>>>1;te<J;){var ne=2*(te+1)-1,ue=F[ne],Ae=ne+1,Re=F[Ae];if(0>i(ue,Y))Ae<ee&&0>i(Re,ue)?(F[te]=Re,F[Ae]=Y,te=Ae):(F[te]=ue,F[ne]=Y,te=ne);else if(Ae<ee&&0>i(Re,Y))F[te]=Re,F[Ae]=Y,te=Ae;else break e}}return X}function i(F,X){var Y=F.sortIndex-X.sortIndex;return Y!==0?Y:F.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,p=3,m=!1,g=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(F){for(var X=t(c);X!==null;){if(X.callback===null)r(c);else if(X.startTime<=F)r(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(c)}}function A(F){if(y=!1,b(F),!g)if(t(l)!==null)g=!0,V(M);else{var X=t(c);X!==null&&$(A,X.startTime-F)}}function M(F,X){g=!1,y&&(y=!1,v(I),I=-1),m=!0;var Y=p;try{for(b(X),f=t(l);f!==null&&(!(f.expirationTime>X)||F&&!B());){var te=f.callback;if(typeof te=="function"){f.callback=null,p=f.priorityLevel;var ee=te(f.expirationTime<=X);X=n.unstable_now(),typeof ee=="function"?f.callback=ee:f===t(l)&&r(l),b(X)}else r(l);f=t(l)}if(f!==null)var J=!0;else{var ne=t(c);ne!==null&&$(A,ne.startTime-X),J=!1}return J}finally{f=null,p=Y,m=!1}}var E=!1,R=null,I=-1,T=5,P=-1;function B(){return!(n.unstable_now()-P<T)}function U(){if(R!==null){var F=n.unstable_now();P=F;var X=!0;try{X=R(!0,F)}finally{X?j():(E=!1,R=null)}}else E=!1}var j;if(typeof x=="function")j=function(){x(U)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,G=N.port2;N.port1.onmessage=U,j=function(){G.postMessage(null)}}else j=function(){_(U,0)};function V(F){R=F,E||(E=!0,j())}function $(F,X){I=_(function(){F(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,V(M))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var Y=p;p=X;try{return F()}finally{p=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,X){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=p;p=F;try{return X()}finally{p=Y}},n.unstable_scheduleCallback=function(F,X,Y){var te=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?te+Y:te):Y=te,F){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Y+ee,F={id:u++,callback:X,priorityLevel:F,startTime:Y,expirationTime:ee,sortIndex:-1},Y>te?(F.sortIndex=Y,e(c,F),t(l)===null&&F===t(c)&&(y?(v(I),I=-1):y=!0,$(A,Y-te))):(F.sortIndex=ee,e(l,F),g||m||(g=!0,V(M))),F},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(F){var X=p;return function(){var Y=p;p=X;try{return F.apply(this,arguments)}finally{p=Y}}}})(q3);J3.exports=q3;var d8=J3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q3=O,vs=d8;function Be(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Z3=new Set,im={};function zu(n,e){Id(n,e),Id(n+"Capture",e)}function Id(n,e){for(im[n]=e,n=0;n<e.length;n++)Z3.add(e[n])}var Wa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),QA=Object.prototype.hasOwnProperty,h8=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,F2={},U2={};function p8(n){return QA.call(U2,n)?!0:QA.call(F2,n)?!1:h8.test(n)?U2[n]=!0:(F2[n]=!0,!1)}function m8(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function g8(n,e,t,r){if(e===null||typeof e>"u"||m8(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ci(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var jr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){jr[n]=new Ci(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];jr[e]=new Ci(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){jr[n]=new Ci(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){jr[n]=new Ci(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){jr[n]=new Ci(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){jr[n]=new Ci(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){jr[n]=new Ci(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){jr[n]=new Ci(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){jr[n]=new Ci(n,5,!1,n.toLowerCase(),null,!1,!1)});var eT=/[\-:]([a-z])/g;function tT(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(eT,tT);jr[e]=new Ci(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(eT,tT);jr[e]=new Ci(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(eT,tT);jr[e]=new Ci(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){jr[n]=new Ci(n,1,!1,n.toLowerCase(),null,!1,!1)});jr.xlinkHref=new Ci("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){jr[n]=new Ci(n,1,!1,n.toLowerCase(),null,!0,!0)});function nT(n,e,t,r){var i=jr.hasOwnProperty(e)?jr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(g8(e,t,i,r)&&(t=null),r||i===null?p8(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var rl=Q3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I0=Symbol.for("react.element"),jf=Symbol.for("react.portal"),Xf=Symbol.for("react.fragment"),rT=Symbol.for("react.strict_mode"),ZA=Symbol.for("react.profiler"),ek=Symbol.for("react.provider"),tk=Symbol.for("react.context"),iT=Symbol.for("react.forward_ref"),ew=Symbol.for("react.suspense"),tw=Symbol.for("react.suspense_list"),sT=Symbol.for("react.memo"),Tl=Symbol.for("react.lazy"),nk=Symbol.for("react.offscreen"),z2=Symbol.iterator;function ep(n){return n===null||typeof n!="object"?null:(n=z2&&n[z2]||n["@@iterator"],typeof n=="function"?n:null)}var Vn=Object.assign,KS;function Rp(n){if(KS===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);KS=e&&e[1]||""}return`
`+KS+n}var YS=!1;function JS(n,e){if(!n||YS)return"";YS=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){r=c}n.call(e.prototype)}else{try{throw Error()}catch(c){r=c}n()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return n.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",n.displayName)),l}while(1<=o&&0<=a);break}}}finally{YS=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Rp(n):""}function v8(n){switch(n.tag){case 5:return Rp(n.type);case 16:return Rp("Lazy");case 13:return Rp("Suspense");case 19:return Rp("SuspenseList");case 0:case 2:case 15:return n=JS(n.type,!1),n;case 11:return n=JS(n.type.render,!1),n;case 1:return n=JS(n.type,!0),n;default:return""}}function nw(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Xf:return"Fragment";case jf:return"Portal";case ZA:return"Profiler";case rT:return"StrictMode";case ew:return"Suspense";case tw:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case tk:return(n.displayName||"Context")+".Consumer";case ek:return(n._context.displayName||"Context")+".Provider";case iT:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case sT:return e=n.displayName||null,e!==null?e:nw(n.type)||"Memo";case Tl:e=n._payload,n=n._init;try{return nw(n(e))}catch{}}return null}function y8(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return nw(e);case 8:return e===rT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ec(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function rk(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _8(n){var e=rk(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function B0(n){n._valueTracker||(n._valueTracker=_8(n))}function ik(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=rk(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function Uy(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function rw(n,e){var t=e.checked;return Vn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function H2(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=ec(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sk(n,e){e=e.checked,e!=null&&nT(n,"checked",e,!1)}function iw(n,e){sk(n,e);var t=ec(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?sw(n,e.type,t):e.hasOwnProperty("defaultValue")&&sw(n,e.type,ec(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function G2(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function sw(n,e,t){(e!=="number"||Uy(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Pp=Array.isArray;function pd(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+ec(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function ow(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Be(91));return Vn({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function V2(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(Be(92));if(Pp(t)){if(1<t.length)throw Error(Be(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:ec(t)}}function ok(n,e){var t=ec(e.value),r=ec(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function W2(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function ak(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function aw(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?ak(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var D0,lk=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(D0=D0||document.createElement("div"),D0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=D0.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function sm(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Fp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},x8=["Webkit","ms","Moz","O"];Object.keys(Fp).forEach(function(n){x8.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Fp[e]=Fp[n]})});function ck(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Fp.hasOwnProperty(n)&&Fp[n]?(""+e).trim():e+"px"}function uk(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=ck(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var S8=Vn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lw(n,e){if(e){if(S8[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Be(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Be(62))}}function cw(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uw=null;function oT(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var fw=null,md=null,gd=null;function $2(n){if(n=rg(n)){if(typeof fw!="function")throw Error(Be(280));var e=n.stateNode;e&&(e=fx(e),fw(n.stateNode,n.type,e))}}function fk(n){md?gd?gd.push(n):gd=[n]:md=n}function dk(){if(md){var n=md,e=gd;if(gd=md=null,$2(n),e)for(n=0;n<e.length;n++)$2(e[n])}}function hk(n,e){return n(e)}function pk(){}var qS=!1;function mk(n,e,t){if(qS)return n(e,t);qS=!0;try{return hk(n,e,t)}finally{qS=!1,(md!==null||gd!==null)&&(pk(),dk())}}function om(n,e){var t=n.stateNode;if(t===null)return null;var r=fx(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(Be(231,e,typeof t));return t}var dw=!1;if(Wa)try{var tp={};Object.defineProperty(tp,"passive",{get:function(){dw=!0}}),window.addEventListener("test",tp,tp),window.removeEventListener("test",tp,tp)}catch{dw=!1}function b8(n,e,t,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(u){this.onError(u)}}var Up=!1,zy=null,Hy=!1,hw=null,A8={onError:function(n){Up=!0,zy=n}};function w8(n,e,t,r,i,s,o,a,l){Up=!1,zy=null,b8.apply(A8,arguments)}function E8(n,e,t,r,i,s,o,a,l){if(w8.apply(this,arguments),Up){if(Up){var c=zy;Up=!1,zy=null}else throw Error(Be(198));Hy||(Hy=!0,hw=c)}}function Hu(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function gk(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function j2(n){if(Hu(n)!==n)throw Error(Be(188))}function M8(n){var e=n.alternate;if(!e){if(e=Hu(n),e===null)throw Error(Be(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return j2(i),n;if(s===r)return j2(i),e;s=s.sibling}throw Error(Be(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===t){o=!0,t=i,r=s;break}if(a===r){o=!0,r=i,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,r=i;break}if(a===r){o=!0,r=s,t=i;break}a=a.sibling}if(!o)throw Error(Be(189))}}if(t.alternate!==r)throw Error(Be(190))}if(t.tag!==3)throw Error(Be(188));return t.stateNode.current===t?n:e}function vk(n){return n=M8(n),n!==null?yk(n):null}function yk(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=yk(n);if(e!==null)return e;n=n.sibling}return null}var _k=vs.unstable_scheduleCallback,X2=vs.unstable_cancelCallback,T8=vs.unstable_shouldYield,C8=vs.unstable_requestPaint,sr=vs.unstable_now,R8=vs.unstable_getCurrentPriorityLevel,aT=vs.unstable_ImmediatePriority,xk=vs.unstable_UserBlockingPriority,Gy=vs.unstable_NormalPriority,P8=vs.unstable_LowPriority,Sk=vs.unstable_IdlePriority,ax=null,Jo=null;function O8(n){if(Jo&&typeof Jo.onCommitFiberRoot=="function")try{Jo.onCommitFiberRoot(ax,n,void 0,(n.current.flags&128)===128)}catch{}}var So=Math.clz32?Math.clz32:B8,L8=Math.log,I8=Math.LN2;function B8(n){return n>>>=0,n===0?32:31-(L8(n)/I8|0)|0}var k0=64,N0=4194304;function Op(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Vy(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~i;a!==0?r=Op(a):(s&=o,s!==0&&(r=Op(s)))}else o=t&~i,o!==0?r=Op(o):s!==0&&(r=Op(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-So(e),i=1<<t,r|=n[t],e&=~i;return r}function D8(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k8(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-So(s),a=1<<o,l=i[o];l===-1?(!(a&t)||a&r)&&(i[o]=D8(a,e)):l<=e&&(n.expiredLanes|=a),s&=~a}}function pw(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function bk(){var n=k0;return k0<<=1,!(k0&4194240)&&(k0=64),n}function QS(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function tg(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-So(e),n[e]=t}function N8(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-So(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function lT(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-So(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var on=0;function Ak(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var wk,cT,Ek,Mk,Tk,mw=!1,F0=[],Hl=null,Gl=null,Vl=null,am=new Map,lm=new Map,Ol=[],F8="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function K2(n,e){switch(n){case"focusin":case"focusout":Hl=null;break;case"dragenter":case"dragleave":Gl=null;break;case"mouseover":case"mouseout":Vl=null;break;case"pointerover":case"pointerout":am.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":lm.delete(e.pointerId)}}function np(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=rg(e),e!==null&&cT(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function U8(n,e,t,r,i){switch(e){case"focusin":return Hl=np(Hl,n,e,t,r,i),!0;case"dragenter":return Gl=np(Gl,n,e,t,r,i),!0;case"mouseover":return Vl=np(Vl,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return am.set(s,np(am.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,lm.set(s,np(lm.get(s)||null,n,e,t,r,i)),!0}return!1}function Ck(n){var e=tu(n.target);if(e!==null){var t=Hu(e);if(t!==null){if(e=t.tag,e===13){if(e=gk(t),e!==null){n.blockedOn=e,Tk(n.priority,function(){Ek(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ly(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=gw(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);uw=r,t.target.dispatchEvent(r),uw=null}else return e=rg(t),e!==null&&cT(e),n.blockedOn=t,!1;e.shift()}return!0}function Y2(n,e,t){ly(n)&&t.delete(e)}function z8(){mw=!1,Hl!==null&&ly(Hl)&&(Hl=null),Gl!==null&&ly(Gl)&&(Gl=null),Vl!==null&&ly(Vl)&&(Vl=null),am.forEach(Y2),lm.forEach(Y2)}function rp(n,e){n.blockedOn===e&&(n.blockedOn=null,mw||(mw=!0,vs.unstable_scheduleCallback(vs.unstable_NormalPriority,z8)))}function cm(n){function e(i){return rp(i,n)}if(0<F0.length){rp(F0[0],n);for(var t=1;t<F0.length;t++){var r=F0[t];r.blockedOn===n&&(r.blockedOn=null)}}for(Hl!==null&&rp(Hl,n),Gl!==null&&rp(Gl,n),Vl!==null&&rp(Vl,n),am.forEach(e),lm.forEach(e),t=0;t<Ol.length;t++)r=Ol[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<Ol.length&&(t=Ol[0],t.blockedOn===null);)Ck(t),t.blockedOn===null&&Ol.shift()}var vd=rl.ReactCurrentBatchConfig,Wy=!0;function H8(n,e,t,r){var i=on,s=vd.transition;vd.transition=null;try{on=1,uT(n,e,t,r)}finally{on=i,vd.transition=s}}function G8(n,e,t,r){var i=on,s=vd.transition;vd.transition=null;try{on=4,uT(n,e,t,r)}finally{on=i,vd.transition=s}}function uT(n,e,t,r){if(Wy){var i=gw(n,e,t,r);if(i===null)lb(n,e,r,$y,t),K2(n,r);else if(U8(i,n,e,t,r))r.stopPropagation();else if(K2(n,r),e&4&&-1<F8.indexOf(n)){for(;i!==null;){var s=rg(i);if(s!==null&&wk(s),s=gw(n,e,t,r),s===null&&lb(n,e,r,$y,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else lb(n,e,r,null,t)}}var $y=null;function gw(n,e,t,r){if($y=null,n=oT(r),n=tu(n),n!==null)if(e=Hu(n),e===null)n=null;else if(t=e.tag,t===13){if(n=gk(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return $y=n,null}function Rk(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R8()){case aT:return 1;case xk:return 4;case Gy:case P8:return 16;case Sk:return 536870912;default:return 16}default:return 16}}var Dl=null,fT=null,cy=null;function Pk(){if(cy)return cy;var n,e=fT,t=e.length,r,i="value"in Dl?Dl.value:Dl.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return cy=i.slice(n,1<r?1-r:void 0)}function uy(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function U0(){return!0}function J2(){return!1}function As(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?U0:J2,this.isPropagationStopped=J2,this}return Vn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=U0)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=U0)},persist:function(){},isPersistent:U0}),e}var vh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dT=As(vh),ng=Vn({},vh,{view:0,detail:0}),V8=As(ng),ZS,eb,ip,lx=Vn({},ng,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hT,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ip&&(ip&&n.type==="mousemove"?(ZS=n.screenX-ip.screenX,eb=n.screenY-ip.screenY):eb=ZS=0,ip=n),ZS)},movementY:function(n){return"movementY"in n?n.movementY:eb}}),q2=As(lx),W8=Vn({},lx,{dataTransfer:0}),$8=As(W8),j8=Vn({},ng,{relatedTarget:0}),tb=As(j8),X8=Vn({},vh,{animationName:0,elapsedTime:0,pseudoElement:0}),K8=As(X8),Y8=Vn({},vh,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),J8=As(Y8),q8=Vn({},vh,{data:0}),Q2=As(q8),Q8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Z8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},e6={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function t6(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=e6[n])?!!e[n]:!1}function hT(){return t6}var n6=Vn({},ng,{key:function(n){if(n.key){var e=Q8[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=uy(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Z8[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hT,charCode:function(n){return n.type==="keypress"?uy(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?uy(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),r6=As(n6),i6=Vn({},lx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Z2=As(i6),s6=Vn({},ng,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hT}),o6=As(s6),a6=Vn({},vh,{propertyName:0,elapsedTime:0,pseudoElement:0}),l6=As(a6),c6=Vn({},lx,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),u6=As(c6),f6=[9,13,27,32],pT=Wa&&"CompositionEvent"in window,zp=null;Wa&&"documentMode"in document&&(zp=document.documentMode);var d6=Wa&&"TextEvent"in window&&!zp,Ok=Wa&&(!pT||zp&&8<zp&&11>=zp),eO=String.fromCharCode(32),tO=!1;function Lk(n,e){switch(n){case"keyup":return f6.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ik(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Kf=!1;function h6(n,e){switch(n){case"compositionend":return Ik(e);case"keypress":return e.which!==32?null:(tO=!0,eO);case"textInput":return n=e.data,n===eO&&tO?null:n;default:return null}}function p6(n,e){if(Kf)return n==="compositionend"||!pT&&Lk(n,e)?(n=Pk(),cy=fT=Dl=null,Kf=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ok&&e.locale!=="ko"?null:e.data;default:return null}}var m6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nO(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!m6[n.type]:e==="textarea"}function Bk(n,e,t,r){fk(r),e=jy(e,"onChange"),0<e.length&&(t=new dT("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Hp=null,um=null;function g6(n){$k(n,0)}function cx(n){var e=qf(n);if(ik(e))return n}function v6(n,e){if(n==="change")return e}var Dk=!1;if(Wa){var nb;if(Wa){var rb="oninput"in document;if(!rb){var rO=document.createElement("div");rO.setAttribute("oninput","return;"),rb=typeof rO.oninput=="function"}nb=rb}else nb=!1;Dk=nb&&(!document.documentMode||9<document.documentMode)}function iO(){Hp&&(Hp.detachEvent("onpropertychange",kk),um=Hp=null)}function kk(n){if(n.propertyName==="value"&&cx(um)){var e=[];Bk(e,um,n,oT(n)),mk(g6,e)}}function y6(n,e,t){n==="focusin"?(iO(),Hp=e,um=t,Hp.attachEvent("onpropertychange",kk)):n==="focusout"&&iO()}function _6(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return cx(um)}function x6(n,e){if(n==="click")return cx(e)}function S6(n,e){if(n==="input"||n==="change")return cx(e)}function b6(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Ao=typeof Object.is=="function"?Object.is:b6;function fm(n,e){if(Ao(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!QA.call(e,i)||!Ao(n[i],e[i]))return!1}return!0}function sO(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function oO(n,e){var t=sO(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=sO(t)}}function Nk(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?Nk(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function Fk(){for(var n=window,e=Uy();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Uy(n.document)}return e}function mT(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function A6(n){var e=Fk(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&Nk(t.ownerDocument.documentElement,t)){if(r!==null&&mT(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=oO(t,s);var o=oO(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var w6=Wa&&"documentMode"in document&&11>=document.documentMode,Yf=null,vw=null,Gp=null,yw=!1;function aO(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;yw||Yf==null||Yf!==Uy(r)||(r=Yf,"selectionStart"in r&&mT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Gp&&fm(Gp,r)||(Gp=r,r=jy(vw,"onSelect"),0<r.length&&(e=new dT("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Yf)))}function z0(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Jf={animationend:z0("Animation","AnimationEnd"),animationiteration:z0("Animation","AnimationIteration"),animationstart:z0("Animation","AnimationStart"),transitionend:z0("Transition","TransitionEnd")},ib={},Uk={};Wa&&(Uk=document.createElement("div").style,"AnimationEvent"in window||(delete Jf.animationend.animation,delete Jf.animationiteration.animation,delete Jf.animationstart.animation),"TransitionEvent"in window||delete Jf.transitionend.transition);function ux(n){if(ib[n])return ib[n];if(!Jf[n])return n;var e=Jf[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in Uk)return ib[n]=e[t];return n}var zk=ux("animationend"),Hk=ux("animationiteration"),Gk=ux("animationstart"),Vk=ux("transitionend"),Wk=new Map,lO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hc(n,e){Wk.set(n,e),zu(e,[n])}for(var sb=0;sb<lO.length;sb++){var ob=lO[sb],E6=ob.toLowerCase(),M6=ob[0].toUpperCase()+ob.slice(1);hc(E6,"on"+M6)}hc(zk,"onAnimationEnd");hc(Hk,"onAnimationIteration");hc(Gk,"onAnimationStart");hc("dblclick","onDoubleClick");hc("focusin","onFocus");hc("focusout","onBlur");hc(Vk,"onTransitionEnd");Id("onMouseEnter",["mouseout","mouseover"]);Id("onMouseLeave",["mouseout","mouseover"]);Id("onPointerEnter",["pointerout","pointerover"]);Id("onPointerLeave",["pointerout","pointerover"]);zu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zu("onBeforeInput",["compositionend","keypress","textInput","paste"]);zu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lp="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T6=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lp));function cO(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,E8(r,e,void 0,n),n.currentTarget=null}function $k(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;cO(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;cO(i,a,c),s=l}}}if(Hy)throw n=hw,Hy=!1,hw=null,n}function _n(n,e){var t=e[Aw];t===void 0&&(t=e[Aw]=new Set);var r=n+"__bubble";t.has(r)||(jk(e,n,2,!1),t.add(r))}function ab(n,e,t){var r=0;e&&(r|=4),jk(t,n,r,e)}var H0="_reactListening"+Math.random().toString(36).slice(2);function dm(n){if(!n[H0]){n[H0]=!0,Z3.forEach(function(t){t!=="selectionchange"&&(T6.has(t)||ab(t,!1,n),ab(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[H0]||(e[H0]=!0,ab("selectionchange",!1,e))}}function jk(n,e,t,r){switch(Rk(e)){case 1:var i=H8;break;case 4:i=G8;break;default:i=uT}t=i.bind(null,e,t,n),i=void 0,!dw||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function lb(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=tu(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}mk(function(){var c=s,u=oT(t),f=[];e:{var p=Wk.get(n);if(p!==void 0){var m=dT,g=n;switch(n){case"keypress":if(uy(t)===0)break e;case"keydown":case"keyup":m=r6;break;case"focusin":g="focus",m=tb;break;case"focusout":g="blur",m=tb;break;case"beforeblur":case"afterblur":m=tb;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=q2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=$8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=o6;break;case zk:case Hk:case Gk:m=K8;break;case Vk:m=l6;break;case"scroll":m=V8;break;case"wheel":m=u6;break;case"copy":case"cut":case"paste":m=J8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Z2}var y=(e&4)!==0,_=!y&&n==="scroll",v=y?p!==null?p+"Capture":null:p;y=[];for(var x=c,b;x!==null;){b=x;var A=b.stateNode;if(b.tag===5&&A!==null&&(b=A,v!==null&&(A=om(x,v),A!=null&&y.push(hm(x,A,b)))),_)break;x=x.return}0<y.length&&(p=new m(p,g,null,t,u),f.push({event:p,listeners:y}))}}if(!(e&7)){e:{if(p=n==="mouseover"||n==="pointerover",m=n==="mouseout"||n==="pointerout",p&&t!==uw&&(g=t.relatedTarget||t.fromElement)&&(tu(g)||g[$a]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=t.relatedTarget||t.toElement,m=c,g=g?tu(g):null,g!==null&&(_=Hu(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(y=q2,A="onMouseLeave",v="onMouseEnter",x="mouse",(n==="pointerout"||n==="pointerover")&&(y=Z2,A="onPointerLeave",v="onPointerEnter",x="pointer"),_=m==null?p:qf(m),b=g==null?p:qf(g),p=new y(A,x+"leave",m,t,u),p.target=_,p.relatedTarget=b,A=null,tu(u)===c&&(y=new y(v,x+"enter",g,t,u),y.target=b,y.relatedTarget=_,A=y),_=A,m&&g)t:{for(y=m,v=g,x=0,b=y;b;b=uf(b))x++;for(b=0,A=v;A;A=uf(A))b++;for(;0<x-b;)y=uf(y),x--;for(;0<b-x;)v=uf(v),b--;for(;x--;){if(y===v||v!==null&&y===v.alternate)break t;y=uf(y),v=uf(v)}y=null}else y=null;m!==null&&uO(f,p,m,y,!1),g!==null&&_!==null&&uO(f,_,g,y,!0)}}e:{if(p=c?qf(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var M=v6;else if(nO(p))if(Dk)M=S6;else{M=_6;var E=y6}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=x6);if(M&&(M=M(n,c))){Bk(f,M,t,u);break e}E&&E(n,p,c),n==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&sw(p,"number",p.value)}switch(E=c?qf(c):window,n){case"focusin":(nO(E)||E.contentEditable==="true")&&(Yf=E,vw=c,Gp=null);break;case"focusout":Gp=vw=Yf=null;break;case"mousedown":yw=!0;break;case"contextmenu":case"mouseup":case"dragend":yw=!1,aO(f,t,u);break;case"selectionchange":if(w6)break;case"keydown":case"keyup":aO(f,t,u)}var R;if(pT)e:{switch(n){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Kf?Lk(n,t)&&(I="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(I="onCompositionStart");I&&(Ok&&t.locale!=="ko"&&(Kf||I!=="onCompositionStart"?I==="onCompositionEnd"&&Kf&&(R=Pk()):(Dl=u,fT="value"in Dl?Dl.value:Dl.textContent,Kf=!0)),E=jy(c,I),0<E.length&&(I=new Q2(I,n,null,t,u),f.push({event:I,listeners:E}),R?I.data=R:(R=Ik(t),R!==null&&(I.data=R)))),(R=d6?h6(n,t):p6(n,t))&&(c=jy(c,"onBeforeInput"),0<c.length&&(u=new Q2("onBeforeInput","beforeinput",null,t,u),f.push({event:u,listeners:c}),u.data=R))}$k(f,e)})}function hm(n,e,t){return{instance:n,listener:e,currentTarget:t}}function jy(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=om(n,t),s!=null&&r.unshift(hm(n,s,i)),s=om(n,e),s!=null&&r.push(hm(n,s,i))),n=n.return}return r}function uf(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function uO(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var a=t,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=om(t,s),l!=null&&o.unshift(hm(t,l,a))):i||(l=om(t,s),l!=null&&o.push(hm(t,l,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var C6=/\r\n?/g,R6=/\u0000|\uFFFD/g;function fO(n){return(typeof n=="string"?n:""+n).replace(C6,`
`).replace(R6,"")}function G0(n,e,t){if(e=fO(e),fO(n)!==e&&t)throw Error(Be(425))}function Xy(){}var _w=null,xw=null;function Sw(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bw=typeof setTimeout=="function"?setTimeout:void 0,P6=typeof clearTimeout=="function"?clearTimeout:void 0,dO=typeof Promise=="function"?Promise:void 0,O6=typeof queueMicrotask=="function"?queueMicrotask:typeof dO<"u"?function(n){return dO.resolve(null).then(n).catch(L6)}:bw;function L6(n){setTimeout(function(){throw n})}function cb(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),cm(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);cm(e)}function Wl(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function hO(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var yh=Math.random().toString(36).slice(2),$o="__reactFiber$"+yh,pm="__reactProps$"+yh,$a="__reactContainer$"+yh,Aw="__reactEvents$"+yh,I6="__reactListeners$"+yh,B6="__reactHandles$"+yh;function tu(n){var e=n[$o];if(e)return e;for(var t=n.parentNode;t;){if(e=t[$a]||t[$o]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=hO(n);n!==null;){if(t=n[$o])return t;n=hO(n)}return e}n=t,t=n.parentNode}return null}function rg(n){return n=n[$o]||n[$a],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function qf(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(Be(33))}function fx(n){return n[pm]||null}var ww=[],Qf=-1;function pc(n){return{current:n}}function bn(n){0>Qf||(n.current=ww[Qf],ww[Qf]=null,Qf--)}function gn(n,e){Qf++,ww[Qf]=n.current,n.current=e}var tc={},ui=pc(tc),Hi=pc(!1),wu=tc;function Bd(n,e){var t=n.type.contextTypes;if(!t)return tc;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function Gi(n){return n=n.childContextTypes,n!=null}function Ky(){bn(Hi),bn(ui)}function pO(n,e,t){if(ui.current!==tc)throw Error(Be(168));gn(ui,e),gn(Hi,t)}function Xk(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Be(108,y8(n)||"Unknown",i));return Vn({},t,r)}function Yy(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||tc,wu=ui.current,gn(ui,n),gn(Hi,Hi.current),!0}function mO(n,e,t){var r=n.stateNode;if(!r)throw Error(Be(169));t?(n=Xk(n,e,wu),r.__reactInternalMemoizedMergedChildContext=n,bn(Hi),bn(ui),gn(ui,n)):bn(Hi),gn(Hi,t)}var Ra=null,dx=!1,ub=!1;function Kk(n){Ra===null?Ra=[n]:Ra.push(n)}function D6(n){dx=!0,Kk(n)}function mc(){if(!ub&&Ra!==null){ub=!0;var n=0,e=on;try{var t=Ra;for(on=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}Ra=null,dx=!1}catch(i){throw Ra!==null&&(Ra=Ra.slice(n+1)),_k(aT,mc),i}finally{on=e,ub=!1}}return null}var Zf=[],ed=0,Jy=null,qy=0,zs=[],Hs=0,Eu=null,Da=1,ka="";function jc(n,e){Zf[ed++]=qy,Zf[ed++]=Jy,Jy=n,qy=e}function Yk(n,e,t){zs[Hs++]=Da,zs[Hs++]=ka,zs[Hs++]=Eu,Eu=n;var r=Da;n=ka;var i=32-So(r)-1;r&=~(1<<i),t+=1;var s=32-So(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Da=1<<32-So(e)+i|t<<i|r,ka=s+n}else Da=1<<s|t<<i|r,ka=n}function gT(n){n.return!==null&&(jc(n,1),Yk(n,1,0))}function vT(n){for(;n===Jy;)Jy=Zf[--ed],Zf[ed]=null,qy=Zf[--ed],Zf[ed]=null;for(;n===Eu;)Eu=zs[--Hs],zs[Hs]=null,ka=zs[--Hs],zs[Hs]=null,Da=zs[--Hs],zs[Hs]=null}var ds=null,cs=null,Cn=!1,go=null;function Jk(n,e){var t=js(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function gO(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,ds=n,cs=Wl(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,ds=n,cs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Eu!==null?{id:Da,overflow:ka}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=js(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,ds=n,cs=null,!0):!1;default:return!1}}function Ew(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Mw(n){if(Cn){var e=cs;if(e){var t=e;if(!gO(n,e)){if(Ew(n))throw Error(Be(418));e=Wl(t.nextSibling);var r=ds;e&&gO(n,e)?Jk(r,t):(n.flags=n.flags&-4097|2,Cn=!1,ds=n)}}else{if(Ew(n))throw Error(Be(418));n.flags=n.flags&-4097|2,Cn=!1,ds=n}}}function vO(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ds=n}function V0(n){if(n!==ds)return!1;if(!Cn)return vO(n),Cn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Sw(n.type,n.memoizedProps)),e&&(e=cs)){if(Ew(n))throw qk(),Error(Be(418));for(;e;)Jk(n,e),e=Wl(e.nextSibling)}if(vO(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(Be(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){cs=Wl(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}cs=null}}else cs=ds?Wl(n.stateNode.nextSibling):null;return!0}function qk(){for(var n=cs;n;)n=Wl(n.nextSibling)}function Dd(){cs=ds=null,Cn=!1}function yT(n){go===null?go=[n]:go.push(n)}var k6=rl.ReactCurrentBatchConfig;function ho(n,e){if(n&&n.defaultProps){e=Vn({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}var Qy=pc(null),Zy=null,td=null,_T=null;function xT(){_T=td=Zy=null}function ST(n){var e=Qy.current;bn(Qy),n._currentValue=e}function Tw(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function yd(n,e){Zy=n,_T=td=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Ui=!0),n.firstContext=null)}function Qs(n){var e=n._currentValue;if(_T!==n)if(n={context:n,memoizedValue:e,next:null},td===null){if(Zy===null)throw Error(Be(308));td=n,Zy.dependencies={lanes:0,firstContext:n}}else td=td.next=n;return e}var nu=null;function bT(n){nu===null?nu=[n]:nu.push(n)}function Qk(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,bT(e)):(t.next=i.next,i.next=t),e.interleaved=t,ja(n,r)}function ja(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Cl=!1;function AT(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zk(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function za(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function $l(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Jt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ja(n,t)}return i=r.interleaved,i===null?(e.next=e,bT(r)):(e.next=i.next,i.next=e),r.interleaved=e,ja(n,t)}function fy(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,lT(n,t)}}function yO(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function e_(n,e,t,r){var i=n.updateQueue;Cl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=n.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=n,y=a;switch(p=e,m=t,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(m,f,p);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,p=typeof g=="function"?g.call(m,f,p):g,p==null)break e;f=Vn({},f,p);break e;case 2:Cl=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=f):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Tu|=o,n.lanes=o,n.memoizedState=f}}function _O(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(Be(191,i));i.call(r)}}}var eN=new Q3.Component().refs;function Cw(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:Vn({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var hx={isMounted:function(n){return(n=n._reactInternals)?Hu(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Mi(),i=Xl(n),s=za(r,i);s.payload=e,t!=null&&(s.callback=t),e=$l(n,s,i),e!==null&&(bo(e,n,i,r),fy(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Mi(),i=Xl(n),s=za(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=$l(n,s,i),e!==null&&(bo(e,n,i,r),fy(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Mi(),r=Xl(n),i=za(t,r);i.tag=2,e!=null&&(i.callback=e),e=$l(n,i,r),e!==null&&(bo(e,n,r,t),fy(e,n,r))}};function xO(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!fm(t,r)||!fm(i,s):!0}function tN(n,e,t){var r=!1,i=tc,s=e.contextType;return typeof s=="object"&&s!==null?s=Qs(s):(i=Gi(e)?wu:ui.current,r=e.contextTypes,s=(r=r!=null)?Bd(n,i):tc),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hx,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function SO(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&hx.enqueueReplaceState(e,e.state,null)}function Rw(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs=eN,AT(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Qs(s):(s=Gi(e)?wu:ui.current,i.context=Bd(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Cw(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&hx.enqueueReplaceState(i,i.state,null),e_(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function sp(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(Be(309));var r=t.stateNode}if(!r)throw Error(Be(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===eN&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(Be(284));if(!t._owner)throw Error(Be(290,n))}return n}function W0(n,e){throw n=Object.prototype.toString.call(e),Error(Be(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function bO(n){var e=n._init;return e(n._payload)}function nN(n){function e(v,x){if(n){var b=v.deletions;b===null?(v.deletions=[x],v.flags|=16):b.push(x)}}function t(v,x){if(!n)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=Kl(v,x),v.index=0,v.sibling=null,v}function s(v,x,b){return v.index=b,n?(b=v.alternate,b!==null?(b=b.index,b<x?(v.flags|=2,x):b):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return n&&v.alternate===null&&(v.flags|=2),v}function a(v,x,b,A){return x===null||x.tag!==6?(x=vb(b,v.mode,A),x.return=v,x):(x=i(x,b),x.return=v,x)}function l(v,x,b,A){var M=b.type;return M===Xf?u(v,x,b.props.children,A,b.key):x!==null&&(x.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Tl&&bO(M)===x.type)?(A=i(x,b.props),A.ref=sp(v,x,b),A.return=v,A):(A=vy(b.type,b.key,b.props,null,v.mode,A),A.ref=sp(v,x,b),A.return=v,A)}function c(v,x,b,A){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=yb(b,v.mode,A),x.return=v,x):(x=i(x,b.children||[]),x.return=v,x)}function u(v,x,b,A,M){return x===null||x.tag!==7?(x=du(b,v.mode,A,M),x.return=v,x):(x=i(x,b),x.return=v,x)}function f(v,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=vb(""+x,v.mode,b),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case I0:return b=vy(x.type,x.key,x.props,null,v.mode,b),b.ref=sp(v,null,x),b.return=v,b;case jf:return x=yb(x,v.mode,b),x.return=v,x;case Tl:var A=x._init;return f(v,A(x._payload),b)}if(Pp(x)||ep(x))return x=du(x,v.mode,b,null),x.return=v,x;W0(v,x)}return null}function p(v,x,b,A){var M=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return M!==null?null:a(v,x,""+b,A);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case I0:return b.key===M?l(v,x,b,A):null;case jf:return b.key===M?c(v,x,b,A):null;case Tl:return M=b._init,p(v,x,M(b._payload),A)}if(Pp(b)||ep(b))return M!==null?null:u(v,x,b,A,null);W0(v,b)}return null}function m(v,x,b,A,M){if(typeof A=="string"&&A!==""||typeof A=="number")return v=v.get(b)||null,a(x,v,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case I0:return v=v.get(A.key===null?b:A.key)||null,l(x,v,A,M);case jf:return v=v.get(A.key===null?b:A.key)||null,c(x,v,A,M);case Tl:var E=A._init;return m(v,x,b,E(A._payload),M)}if(Pp(A)||ep(A))return v=v.get(b)||null,u(x,v,A,M,null);W0(x,A)}return null}function g(v,x,b,A){for(var M=null,E=null,R=x,I=x=0,T=null;R!==null&&I<b.length;I++){R.index>I?(T=R,R=null):T=R.sibling;var P=p(v,R,b[I],A);if(P===null){R===null&&(R=T);break}n&&R&&P.alternate===null&&e(v,R),x=s(P,x,I),E===null?M=P:E.sibling=P,E=P,R=T}if(I===b.length)return t(v,R),Cn&&jc(v,I),M;if(R===null){for(;I<b.length;I++)R=f(v,b[I],A),R!==null&&(x=s(R,x,I),E===null?M=R:E.sibling=R,E=R);return Cn&&jc(v,I),M}for(R=r(v,R);I<b.length;I++)T=m(R,v,I,b[I],A),T!==null&&(n&&T.alternate!==null&&R.delete(T.key===null?I:T.key),x=s(T,x,I),E===null?M=T:E.sibling=T,E=T);return n&&R.forEach(function(B){return e(v,B)}),Cn&&jc(v,I),M}function y(v,x,b,A){var M=ep(b);if(typeof M!="function")throw Error(Be(150));if(b=M.call(b),b==null)throw Error(Be(151));for(var E=M=null,R=x,I=x=0,T=null,P=b.next();R!==null&&!P.done;I++,P=b.next()){R.index>I?(T=R,R=null):T=R.sibling;var B=p(v,R,P.value,A);if(B===null){R===null&&(R=T);break}n&&R&&B.alternate===null&&e(v,R),x=s(B,x,I),E===null?M=B:E.sibling=B,E=B,R=T}if(P.done)return t(v,R),Cn&&jc(v,I),M;if(R===null){for(;!P.done;I++,P=b.next())P=f(v,P.value,A),P!==null&&(x=s(P,x,I),E===null?M=P:E.sibling=P,E=P);return Cn&&jc(v,I),M}for(R=r(v,R);!P.done;I++,P=b.next())P=m(R,v,I,P.value,A),P!==null&&(n&&P.alternate!==null&&R.delete(P.key===null?I:P.key),x=s(P,x,I),E===null?M=P:E.sibling=P,E=P);return n&&R.forEach(function(U){return e(v,U)}),Cn&&jc(v,I),M}function _(v,x,b,A){if(typeof b=="object"&&b!==null&&b.type===Xf&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case I0:e:{for(var M=b.key,E=x;E!==null;){if(E.key===M){if(M=b.type,M===Xf){if(E.tag===7){t(v,E.sibling),x=i(E,b.props.children),x.return=v,v=x;break e}}else if(E.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Tl&&bO(M)===E.type){t(v,E.sibling),x=i(E,b.props),x.ref=sp(v,E,b),x.return=v,v=x;break e}t(v,E);break}else e(v,E);E=E.sibling}b.type===Xf?(x=du(b.props.children,v.mode,A,b.key),x.return=v,v=x):(A=vy(b.type,b.key,b.props,null,v.mode,A),A.ref=sp(v,x,b),A.return=v,v=A)}return o(v);case jf:e:{for(E=b.key;x!==null;){if(x.key===E)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){t(v,x.sibling),x=i(x,b.children||[]),x.return=v,v=x;break e}else{t(v,x);break}else e(v,x);x=x.sibling}x=yb(b,v.mode,A),x.return=v,v=x}return o(v);case Tl:return E=b._init,_(v,x,E(b._payload),A)}if(Pp(b))return g(v,x,b,A);if(ep(b))return y(v,x,b,A);W0(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(t(v,x.sibling),x=i(x,b),x.return=v,v=x):(t(v,x),x=vb(b,v.mode,A),x.return=v,v=x),o(v)):t(v,x)}return _}var kd=nN(!0),rN=nN(!1),ig={},qo=pc(ig),mm=pc(ig),gm=pc(ig);function ru(n){if(n===ig)throw Error(Be(174));return n}function wT(n,e){switch(gn(gm,e),gn(mm,n),gn(qo,ig),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:aw(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=aw(e,n)}bn(qo),gn(qo,e)}function Nd(){bn(qo),bn(mm),bn(gm)}function iN(n){ru(gm.current);var e=ru(qo.current),t=aw(e,n.type);e!==t&&(gn(mm,n),gn(qo,t))}function ET(n){mm.current===n&&(bn(qo),bn(mm))}var Dn=pc(0);function t_(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fb=[];function MT(){for(var n=0;n<fb.length;n++)fb[n]._workInProgressVersionPrimary=null;fb.length=0}var dy=rl.ReactCurrentDispatcher,db=rl.ReactCurrentBatchConfig,Mu=0,Gn=null,yr=null,Pr=null,n_=!1,Vp=!1,vm=0,N6=0;function qr(){throw Error(Be(321))}function TT(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Ao(n[t],e[t]))return!1;return!0}function CT(n,e,t,r,i,s){if(Mu=s,Gn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dy.current=n===null||n.memoizedState===null?H6:G6,n=t(r,i),Vp){s=0;do{if(Vp=!1,vm=0,25<=s)throw Error(Be(301));s+=1,Pr=yr=null,e.updateQueue=null,dy.current=V6,n=t(r,i)}while(Vp)}if(dy.current=r_,e=yr!==null&&yr.next!==null,Mu=0,Pr=yr=Gn=null,n_=!1,e)throw Error(Be(300));return n}function RT(){var n=vm!==0;return vm=0,n}function Ho(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pr===null?Gn.memoizedState=Pr=n:Pr=Pr.next=n,Pr}function Zs(){if(yr===null){var n=Gn.alternate;n=n!==null?n.memoizedState:null}else n=yr.next;var e=Pr===null?Gn.memoizedState:Pr.next;if(e!==null)Pr=e,yr=n;else{if(n===null)throw Error(Be(310));yr=n,n={memoizedState:yr.memoizedState,baseState:yr.baseState,baseQueue:yr.baseQueue,queue:yr.queue,next:null},Pr===null?Gn.memoizedState=Pr=n:Pr=Pr.next=n}return Pr}function ym(n,e){return typeof e=="function"?e(n):e}function hb(n){var e=Zs(),t=e.queue;if(t===null)throw Error(Be(311));t.lastRenderedReducer=n;var r=yr,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Mu&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:n(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Gn.lanes|=u,Tu|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Ao(r,e.memoizedState)||(Ui=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,Gn.lanes|=s,Tu|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function pb(n){var e=Zs(),t=e.queue;if(t===null)throw Error(Be(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Ao(s,e.memoizedState)||(Ui=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function sN(){}function oN(n,e){var t=Gn,r=Zs(),i=e(),s=!Ao(r.memoizedState,i);if(s&&(r.memoizedState=i,Ui=!0),r=r.queue,PT(cN.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||Pr!==null&&Pr.memoizedState.tag&1){if(t.flags|=2048,_m(9,lN.bind(null,t,r,i,e),void 0,null),Ir===null)throw Error(Be(349));Mu&30||aN(t,e,i)}return i}function aN(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=Gn.updateQueue,e===null?(e={lastEffect:null,stores:null},Gn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function lN(n,e,t,r){e.value=t,e.getSnapshot=r,uN(e)&&fN(n)}function cN(n,e,t){return t(function(){uN(e)&&fN(n)})}function uN(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Ao(n,t)}catch{return!0}}function fN(n){var e=ja(n,1);e!==null&&bo(e,n,1,-1)}function AO(n){var e=Ho();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ym,lastRenderedState:n},e.queue=n,n=n.dispatch=z6.bind(null,Gn,n),[e.memoizedState,n]}function _m(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=Gn.updateQueue,e===null?(e={lastEffect:null,stores:null},Gn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function dN(){return Zs().memoizedState}function hy(n,e,t,r){var i=Ho();Gn.flags|=n,i.memoizedState=_m(1|e,t,void 0,r===void 0?null:r)}function px(n,e,t,r){var i=Zs();r=r===void 0?null:r;var s=void 0;if(yr!==null){var o=yr.memoizedState;if(s=o.destroy,r!==null&&TT(r,o.deps)){i.memoizedState=_m(e,t,s,r);return}}Gn.flags|=n,i.memoizedState=_m(1|e,t,s,r)}function wO(n,e){return hy(8390656,8,n,e)}function PT(n,e){return px(2048,8,n,e)}function hN(n,e){return px(4,2,n,e)}function pN(n,e){return px(4,4,n,e)}function mN(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function gN(n,e,t){return t=t!=null?t.concat([n]):null,px(4,4,mN.bind(null,e,n),t)}function OT(){}function vN(n,e){var t=Zs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&TT(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function yN(n,e){var t=Zs();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&TT(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function _N(n,e,t){return Mu&21?(Ao(t,e)||(t=bk(),Gn.lanes|=t,Tu|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Ui=!0),n.memoizedState=t)}function F6(n,e){var t=on;on=t!==0&&4>t?t:4,n(!0);var r=db.transition;db.transition={};try{n(!1),e()}finally{on=t,db.transition=r}}function xN(){return Zs().memoizedState}function U6(n,e,t){var r=Xl(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},SN(n))bN(e,t);else if(t=Qk(n,e,t,r),t!==null){var i=Mi();bo(t,n,r,i),AN(t,e,r)}}function z6(n,e,t){var r=Xl(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(SN(n))bN(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(i.hasEagerState=!0,i.eagerState=a,Ao(a,o)){var l=e.interleaved;l===null?(i.next=i,bT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}t=Qk(n,e,i,r),t!==null&&(i=Mi(),bo(t,n,r,i),AN(t,e,r))}}function SN(n){var e=n.alternate;return n===Gn||e!==null&&e===Gn}function bN(n,e){Vp=n_=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function AN(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,lT(n,t)}}var r_={readContext:Qs,useCallback:qr,useContext:qr,useEffect:qr,useImperativeHandle:qr,useInsertionEffect:qr,useLayoutEffect:qr,useMemo:qr,useReducer:qr,useRef:qr,useState:qr,useDebugValue:qr,useDeferredValue:qr,useTransition:qr,useMutableSource:qr,useSyncExternalStore:qr,useId:qr,unstable_isNewReconciler:!1},H6={readContext:Qs,useCallback:function(n,e){return Ho().memoizedState=[n,e===void 0?null:e],n},useContext:Qs,useEffect:wO,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,hy(4194308,4,mN.bind(null,e,n),t)},useLayoutEffect:function(n,e){return hy(4194308,4,n,e)},useInsertionEffect:function(n,e){return hy(4,2,n,e)},useMemo:function(n,e){var t=Ho();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=Ho();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=U6.bind(null,Gn,n),[r.memoizedState,n]},useRef:function(n){var e=Ho();return n={current:n},e.memoizedState=n},useState:AO,useDebugValue:OT,useDeferredValue:function(n){return Ho().memoizedState=n},useTransition:function(){var n=AO(!1),e=n[0];return n=F6.bind(null,n[1]),Ho().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=Gn,i=Ho();if(Cn){if(t===void 0)throw Error(Be(407));t=t()}else{if(t=e(),Ir===null)throw Error(Be(349));Mu&30||aN(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,wO(cN.bind(null,r,s,n),[n]),r.flags|=2048,_m(9,lN.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=Ho(),e=Ir.identifierPrefix;if(Cn){var t=ka,r=Da;t=(r&~(1<<32-So(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=vm++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=N6++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},G6={readContext:Qs,useCallback:vN,useContext:Qs,useEffect:PT,useImperativeHandle:gN,useInsertionEffect:hN,useLayoutEffect:pN,useMemo:yN,useReducer:hb,useRef:dN,useState:function(){return hb(ym)},useDebugValue:OT,useDeferredValue:function(n){var e=Zs();return _N(e,yr.memoizedState,n)},useTransition:function(){var n=hb(ym)[0],e=Zs().memoizedState;return[n,e]},useMutableSource:sN,useSyncExternalStore:oN,useId:xN,unstable_isNewReconciler:!1},V6={readContext:Qs,useCallback:vN,useContext:Qs,useEffect:PT,useImperativeHandle:gN,useInsertionEffect:hN,useLayoutEffect:pN,useMemo:yN,useReducer:pb,useRef:dN,useState:function(){return pb(ym)},useDebugValue:OT,useDeferredValue:function(n){var e=Zs();return yr===null?e.memoizedState=n:_N(e,yr.memoizedState,n)},useTransition:function(){var n=pb(ym)[0],e=Zs().memoizedState;return[n,e]},useMutableSource:sN,useSyncExternalStore:oN,useId:xN,unstable_isNewReconciler:!1};function Fd(n,e){try{var t="",r=e;do t+=v8(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function mb(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Pw(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var W6=typeof WeakMap=="function"?WeakMap:Map;function wN(n,e,t){t=za(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){s_||(s_=!0,zw=r),Pw(n,e)},t}function EN(n,e,t){t=za(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){Pw(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Pw(n,e),typeof r!="function"&&(jl===null?jl=new Set([this]):jl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function EO(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new W6;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=iV.bind(null,n,e,t),e.then(n,n))}function MO(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function TO(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=za(-1,1),e.tag=2,$l(t,e,1))),t.lanes|=1),n)}var $6=rl.ReactCurrentOwner,Ui=!1;function xi(n,e,t,r){e.child=n===null?rN(e,null,t,r):kd(e,n.child,t,r)}function CO(n,e,t,r,i){t=t.render;var s=e.ref;return yd(e,i),r=CT(n,e,t,r,s,i),t=RT(),n!==null&&!Ui?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Xa(n,e,i)):(Cn&&t&&gT(e),e.flags|=1,xi(n,e,r,i),e.child)}function RO(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!UT(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,MN(n,e,s,r,i)):(n=vy(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:fm,t(o,r)&&n.ref===e.ref)return Xa(n,e,i)}return e.flags|=1,n=Kl(s,r),n.ref=e.ref,n.return=e,e.child=n}function MN(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(fm(s,r)&&n.ref===e.ref)if(Ui=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(Ui=!0);else return e.lanes=n.lanes,Xa(n,e,i)}return Ow(n,e,t,r,i)}function TN(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},gn(rd,rs),rs|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,gn(rd,rs),rs|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,gn(rd,rs),rs|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,gn(rd,rs),rs|=r;return xi(n,e,i,t),e.child}function CN(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Ow(n,e,t,r,i){var s=Gi(t)?wu:ui.current;return s=Bd(e,s),yd(e,i),t=CT(n,e,t,r,s,i),r=RT(),n!==null&&!Ui?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,Xa(n,e,i)):(Cn&&r&&gT(e),e.flags|=1,xi(n,e,t,i),e.child)}function PO(n,e,t,r,i){if(Gi(t)){var s=!0;Yy(e)}else s=!1;if(yd(e,i),e.stateNode===null)py(n,e),tN(e,t,r),Rw(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=Qs(c):(c=Gi(t)?wu:ui.current,c=Bd(e,c));var u=t.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&SO(e,o,r,c),Cl=!1;var p=e.memoizedState;o.state=p,e_(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Hi.current||Cl?(typeof u=="function"&&(Cw(e,t,u,r),l=e.memoizedState),(a=Cl||xO(e,t,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Zk(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:ho(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=t.contextType,typeof l=="object"&&l!==null?l=Qs(l):(l=Gi(t)?wu:ui.current,l=Bd(e,l));var m=t.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&SO(e,o,r,l),Cl=!1,p=e.memoizedState,o.state=p,e_(e,r,o,i);var g=e.memoizedState;a!==f||p!==g||Hi.current||Cl?(typeof m=="function"&&(Cw(e,t,m,r),g=e.memoizedState),(c=Cl||xO(e,t,c,r,p,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&p===n.memoizedState||(e.flags|=1024),r=!1)}return Lw(n,e,t,r,s,i)}function Lw(n,e,t,r,i,s){CN(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&mO(e,t,!1),Xa(n,e,s);r=e.stateNode,$6.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=kd(e,n.child,null,s),e.child=kd(e,null,a,s)):xi(n,e,a,s),e.memoizedState=r.state,i&&mO(e,t,!0),e.child}function RN(n){var e=n.stateNode;e.pendingContext?pO(n,e.pendingContext,e.pendingContext!==e.context):e.context&&pO(n,e.context,!1),wT(n,e.containerInfo)}function OO(n,e,t,r,i){return Dd(),yT(i),e.flags|=256,xi(n,e,t,r),e.child}var Iw={dehydrated:null,treeContext:null,retryLane:0};function Bw(n){return{baseLanes:n,cachePool:null,transitions:null}}function PN(n,e,t){var r=e.pendingProps,i=Dn.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),gn(Dn,i&1),n===null)return Mw(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=vx(o,r,0,null),n=du(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=Bw(t),e.memoizedState=Iw,n):LT(e,o));if(i=n.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return j6(n,e,o,r,a,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Kl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Kl(a,s):(s=du(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?Bw(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=Iw,r}return s=n.child,n=s.sibling,r=Kl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function LT(n,e){return e=vx({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function $0(n,e,t,r){return r!==null&&yT(r),kd(e,n.child,null,t),n=LT(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function j6(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=mb(Error(Be(422))),$0(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=vx({mode:"visible",children:r.children},i,0,null),s=du(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&kd(e,n.child,null,o),e.child.memoizedState=Bw(o),e.memoizedState=Iw,s);if(!(e.mode&1))return $0(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Be(419)),r=mb(s,r,void 0),$0(n,e,o,r)}if(a=(o&n.childLanes)!==0,Ui||a){if(r=Ir,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ja(n,i),bo(r,n,i,-1))}return FT(),r=mb(Error(Be(421))),$0(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=sV.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,cs=Wl(i.nextSibling),ds=e,Cn=!0,go=null,n!==null&&(zs[Hs++]=Da,zs[Hs++]=ka,zs[Hs++]=Eu,Da=n.id,ka=n.overflow,Eu=e),e=LT(e,r.children),e.flags|=4096,e)}function LO(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),Tw(n.return,e,t)}function gb(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function ON(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(xi(n,e,r.children,t),r=Dn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&LO(n,t,e);else if(n.tag===19)LO(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(gn(Dn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&t_(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),gb(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&t_(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}gb(e,!0,t,null,s);break;case"together":gb(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function py(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function Xa(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Tu|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(Be(153));if(e.child!==null){for(n=e.child,t=Kl(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=Kl(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function X6(n,e,t){switch(e.tag){case 3:RN(e),Dd();break;case 5:iN(e);break;case 1:Gi(e.type)&&Yy(e);break;case 4:wT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;gn(Qy,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(gn(Dn,Dn.current&1),e.flags|=128,null):t&e.child.childLanes?PN(n,e,t):(gn(Dn,Dn.current&1),n=Xa(n,e,t),n!==null?n.sibling:null);gn(Dn,Dn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return ON(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),gn(Dn,Dn.current),r)break;return null;case 22:case 23:return e.lanes=0,TN(n,e,t)}return Xa(n,e,t)}var LN,Dw,IN,BN;LN=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Dw=function(){};IN=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,ru(qo.current);var s=null;switch(t){case"input":i=rw(n,i),r=rw(n,r),s=[];break;case"select":i=Vn({},i,{value:void 0}),r=Vn({},r,{value:void 0}),s=[];break;case"textarea":i=ow(n,i),r=ow(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=Xy)}lw(t,r);var o;t=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(im.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(t||(t={}),t[o]=l[o])}else t||(s||(s=[]),s.push(c,t)),t=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(im.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&_n("scroll",n),s||a===l||(s=[])):(s=s||[]).push(c,l))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};BN=function(n,e,t,r){t!==r&&(e.flags|=4)};function op(n,e){if(!Cn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function Qr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function K6(n,e,t){var r=e.pendingProps;switch(vT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qr(e),null;case 1:return Gi(e.type)&&Ky(),Qr(e),null;case 3:return r=e.stateNode,Nd(),bn(Hi),bn(ui),MT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(V0(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,go!==null&&(Vw(go),go=null))),Dw(n,e),Qr(e),null;case 5:ET(e);var i=ru(gm.current);if(t=e.type,n!==null&&e.stateNode!=null)IN(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Be(166));return Qr(e),null}if(n=ru(qo.current),V0(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[$o]=e,r[pm]=s,n=(e.mode&1)!==0,t){case"dialog":_n("cancel",r),_n("close",r);break;case"iframe":case"object":case"embed":_n("load",r);break;case"video":case"audio":for(i=0;i<Lp.length;i++)_n(Lp[i],r);break;case"source":_n("error",r);break;case"img":case"image":case"link":_n("error",r),_n("load",r);break;case"details":_n("toggle",r);break;case"input":H2(r,s),_n("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},_n("invalid",r);break;case"textarea":V2(r,s),_n("invalid",r)}lw(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&G0(r.textContent,a,n),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&G0(r.textContent,a,n),i=["children",""+a]):im.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_n("scroll",r)}switch(t){case"input":B0(r),G2(r,s,!0);break;case"textarea":B0(r),W2(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Xy)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=ak(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[$o]=e,n[pm]=r,LN(n,e,!1,!1),e.stateNode=n;e:{switch(o=cw(t,r),t){case"dialog":_n("cancel",n),_n("close",n),i=r;break;case"iframe":case"object":case"embed":_n("load",n),i=r;break;case"video":case"audio":for(i=0;i<Lp.length;i++)_n(Lp[i],n);i=r;break;case"source":_n("error",n),i=r;break;case"img":case"image":case"link":_n("error",n),_n("load",n),i=r;break;case"details":_n("toggle",n),i=r;break;case"input":H2(n,r),i=rw(n,r),_n("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=Vn({},r,{value:void 0}),_n("invalid",n);break;case"textarea":V2(n,r),i=ow(n,r),_n("invalid",n);break;default:i=r}lw(t,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?uk(n,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lk(n,l)):s==="children"?typeof l=="string"?(t!=="textarea"||l!=="")&&sm(n,l):typeof l=="number"&&sm(n,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(im.hasOwnProperty(s)?l!=null&&s==="onScroll"&&_n("scroll",n):l!=null&&nT(n,s,l,o))}switch(t){case"input":B0(n),G2(n,r,!1);break;case"textarea":B0(n),W2(n);break;case"option":r.value!=null&&n.setAttribute("value",""+ec(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?pd(n,!!r.multiple,s,!1):r.defaultValue!=null&&pd(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Xy)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qr(e),null;case 6:if(n&&e.stateNode!=null)BN(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Be(166));if(t=ru(gm.current),ru(qo.current),V0(e)){if(r=e.stateNode,t=e.memoizedProps,r[$o]=e,(s=r.nodeValue!==t)&&(n=ds,n!==null))switch(n.tag){case 3:G0(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&G0(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[$o]=e,e.stateNode=r}return Qr(e),null;case 13:if(bn(Dn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Cn&&cs!==null&&e.mode&1&&!(e.flags&128))qk(),Dd(),e.flags|=98560,s=!1;else if(s=V0(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(Be(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Be(317));s[$o]=e}else Dd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qr(e),s=!1}else go!==null&&(Vw(go),go=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||Dn.current&1?xr===0&&(xr=3):FT())),e.updateQueue!==null&&(e.flags|=4),Qr(e),null);case 4:return Nd(),Dw(n,e),n===null&&dm(e.stateNode.containerInfo),Qr(e),null;case 10:return ST(e.type._context),Qr(e),null;case 17:return Gi(e.type)&&Ky(),Qr(e),null;case 19:if(bn(Dn),s=e.memoizedState,s===null)return Qr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)op(s,!1);else{if(xr!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=t_(n),o!==null){for(e.flags|=128,op(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return gn(Dn,Dn.current&1|2),e.child}n=n.sibling}s.tail!==null&&sr()>Ud&&(e.flags|=128,r=!0,op(s,!1),e.lanes=4194304)}else{if(!r)if(n=t_(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),op(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Cn)return Qr(e),null}else 2*sr()-s.renderingStartTime>Ud&&t!==1073741824&&(e.flags|=128,r=!0,op(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=sr(),e.sibling=null,t=Dn.current,gn(Dn,r?t&1|2:t&1),e):(Qr(e),null);case 22:case 23:return NT(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?rs&1073741824&&(Qr(e),e.subtreeFlags&6&&(e.flags|=8192)):Qr(e),null;case 24:return null;case 25:return null}throw Error(Be(156,e.tag))}function Y6(n,e){switch(vT(e),e.tag){case 1:return Gi(e.type)&&Ky(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Nd(),bn(Hi),bn(ui),MT(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return ET(e),null;case 13:if(bn(Dn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(Be(340));Dd()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return bn(Dn),null;case 4:return Nd(),null;case 10:return ST(e.type._context),null;case 22:case 23:return NT(),null;case 24:return null;default:return null}}var j0=!1,ri=!1,J6=typeof WeakSet=="function"?WeakSet:Set,tt=null;function nd(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){Yn(n,e,r)}else t.current=null}function kw(n,e,t){try{t()}catch(r){Yn(n,e,r)}}var IO=!1;function q6(n,e){if(_w=Wy,n=Fk(),mT(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=n,p=null;t:for(;;){for(var m;f!==t||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===n)break t;if(p===t&&++c===i&&(a=o),p===s&&++u===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}t=a===-1||l===-1?null:{start:a,end:l}}else t=null}t=t||{start:0,end:0}}else t=null;for(xw={focusedElem:n,selectionRange:t},Wy=!1,tt=e;tt!==null;)if(e=tt,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,tt=n;else for(;tt!==null;){e=tt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,_=g.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:ho(e.type,y),_);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Be(163))}}catch(A){Yn(e,e.return,A)}if(n=e.sibling,n!==null){n.return=e.return,tt=n;break}tt=e.return}return g=IO,IO=!1,g}function Wp(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&kw(e,t,s)}i=i.next}while(i!==r)}}function mx(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function Nw(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function DN(n){var e=n.alternate;e!==null&&(n.alternate=null,DN(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[$o],delete e[pm],delete e[Aw],delete e[I6],delete e[B6])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function kN(n){return n.tag===5||n.tag===3||n.tag===4}function BO(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||kN(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Fw(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Xy));else if(r!==4&&(n=n.child,n!==null))for(Fw(n,e,t),n=n.sibling;n!==null;)Fw(n,e,t),n=n.sibling}function Uw(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(Uw(n,e,t),n=n.sibling;n!==null;)Uw(n,e,t),n=n.sibling}var Hr=null,mo=!1;function vl(n,e,t){for(t=t.child;t!==null;)NN(n,e,t),t=t.sibling}function NN(n,e,t){if(Jo&&typeof Jo.onCommitFiberUnmount=="function")try{Jo.onCommitFiberUnmount(ax,t)}catch{}switch(t.tag){case 5:ri||nd(t,e);case 6:var r=Hr,i=mo;Hr=null,vl(n,e,t),Hr=r,mo=i,Hr!==null&&(mo?(n=Hr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):Hr.removeChild(t.stateNode));break;case 18:Hr!==null&&(mo?(n=Hr,t=t.stateNode,n.nodeType===8?cb(n.parentNode,t):n.nodeType===1&&cb(n,t),cm(n)):cb(Hr,t.stateNode));break;case 4:r=Hr,i=mo,Hr=t.stateNode.containerInfo,mo=!0,vl(n,e,t),Hr=r,mo=i;break;case 0:case 11:case 14:case 15:if(!ri&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&kw(t,e,o),i=i.next}while(i!==r)}vl(n,e,t);break;case 1:if(!ri&&(nd(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(a){Yn(t,e,a)}vl(n,e,t);break;case 21:vl(n,e,t);break;case 22:t.mode&1?(ri=(r=ri)||t.memoizedState!==null,vl(n,e,t),ri=r):vl(n,e,t);break;default:vl(n,e,t)}}function DO(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new J6),e.forEach(function(r){var i=oV.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function lo(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Hr=a.stateNode,mo=!1;break e;case 3:Hr=a.stateNode.containerInfo,mo=!0;break e;case 4:Hr=a.stateNode.containerInfo,mo=!0;break e}a=a.return}if(Hr===null)throw Error(Be(160));NN(s,o,i),Hr=null,mo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Yn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FN(e,n),e=e.sibling}function FN(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(lo(e,n),Uo(n),r&4){try{Wp(3,n,n.return),mx(3,n)}catch(y){Yn(n,n.return,y)}try{Wp(5,n,n.return)}catch(y){Yn(n,n.return,y)}}break;case 1:lo(e,n),Uo(n),r&512&&t!==null&&nd(t,t.return);break;case 5:if(lo(e,n),Uo(n),r&512&&t!==null&&nd(t,t.return),n.flags&32){var i=n.stateNode;try{sm(i,"")}catch(y){Yn(n,n.return,y)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,l=n.updateQueue;if(n.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&sk(i,s),cw(a,o);var c=cw(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?uk(i,f):u==="dangerouslySetInnerHTML"?lk(i,f):u==="children"?sm(i,f):nT(i,u,f,c)}switch(a){case"input":iw(i,s);break;case"textarea":ok(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?pd(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?pd(i,!!s.multiple,s.defaultValue,!0):pd(i,!!s.multiple,s.multiple?[]:"",!1))}i[pm]=s}catch(y){Yn(n,n.return,y)}}break;case 6:if(lo(e,n),Uo(n),r&4){if(n.stateNode===null)throw Error(Be(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(y){Yn(n,n.return,y)}}break;case 3:if(lo(e,n),Uo(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{cm(e.containerInfo)}catch(y){Yn(n,n.return,y)}break;case 4:lo(e,n),Uo(n);break;case 13:lo(e,n),Uo(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(DT=sr())),r&4&&DO(n);break;case 22:if(u=t!==null&&t.memoizedState!==null,n.mode&1?(ri=(c=ri)||u,lo(e,n),ri=c):lo(e,n),Uo(n),r&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!u&&n.mode&1)for(tt=n,u=n.child;u!==null;){for(f=tt=u;tt!==null;){switch(p=tt,m=p.child,p.tag){case 0:case 11:case 14:case 15:Wp(4,p,p.return);break;case 1:nd(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){r=p,t=p.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Yn(r,t,y)}}break;case 5:nd(p,p.return);break;case 22:if(p.memoizedState!==null){NO(f);continue}}m!==null?(m.return=p,tt=m):NO(f)}u=u.sibling}e:for(u=null,f=n;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=ck("display",o))}catch(y){Yn(n,n.return,y)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){Yn(n,n.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===n)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break e;for(;f.sibling===null;){if(f.return===null||f.return===n)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:lo(e,n),Uo(n),r&4&&DO(n);break;case 21:break;default:lo(e,n),Uo(n)}}function Uo(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(kN(t)){var r=t;break e}t=t.return}throw Error(Be(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(sm(i,""),r.flags&=-33);var s=BO(n);Uw(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=BO(n);Fw(n,a,o);break;default:throw Error(Be(161))}}catch(l){Yn(n,n.return,l)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Q6(n,e,t){tt=n,UN(n)}function UN(n,e,t){for(var r=(n.mode&1)!==0;tt!==null;){var i=tt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||j0;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ri;a=j0;var c=ri;if(j0=o,(ri=l)&&!c)for(tt=i;tt!==null;)o=tt,l=o.child,o.tag===22&&o.memoizedState!==null?FO(i):l!==null?(l.return=o,tt=l):FO(i);for(;s!==null;)tt=s,UN(s),s=s.sibling;tt=i,j0=a,ri=c}kO(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,tt=s):kO(n)}}function kO(n){for(;tt!==null;){var e=tt;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ri||mx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ri)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:ho(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&_O(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}_O(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&t.focus();break;case"img":l.src&&(t.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&cm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Be(163))}ri||e.flags&512&&Nw(e)}catch(p){Yn(e,e.return,p)}}if(e===n){tt=null;break}if(t=e.sibling,t!==null){t.return=e.return,tt=t;break}tt=e.return}}function NO(n){for(;tt!==null;){var e=tt;if(e===n){tt=null;break}var t=e.sibling;if(t!==null){t.return=e.return,tt=t;break}tt=e.return}}function FO(n){for(;tt!==null;){var e=tt;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{mx(4,e)}catch(l){Yn(e,t,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Yn(e,i,l)}}var s=e.return;try{Nw(e)}catch(l){Yn(e,s,l)}break;case 5:var o=e.return;try{Nw(e)}catch(l){Yn(e,o,l)}}}catch(l){Yn(e,e.return,l)}if(e===n){tt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,tt=a;break}tt=e.return}}var Z6=Math.ceil,i_=rl.ReactCurrentDispatcher,IT=rl.ReactCurrentOwner,qs=rl.ReactCurrentBatchConfig,Jt=0,Ir=null,hr=null,Wr=0,rs=0,rd=pc(0),xr=0,xm=null,Tu=0,gx=0,BT=0,$p=null,ki=null,DT=0,Ud=1/0,Ta=null,s_=!1,zw=null,jl=null,X0=!1,kl=null,o_=0,jp=0,Hw=null,my=-1,gy=0;function Mi(){return Jt&6?sr():my!==-1?my:my=sr()}function Xl(n){return n.mode&1?Jt&2&&Wr!==0?Wr&-Wr:k6.transition!==null?(gy===0&&(gy=bk()),gy):(n=on,n!==0||(n=window.event,n=n===void 0?16:Rk(n.type)),n):1}function bo(n,e,t,r){if(50<jp)throw jp=0,Hw=null,Error(Be(185));tg(n,t,r),(!(Jt&2)||n!==Ir)&&(n===Ir&&(!(Jt&2)&&(gx|=t),xr===4&&Ll(n,Wr)),Vi(n,r),t===1&&Jt===0&&!(e.mode&1)&&(Ud=sr()+500,dx&&mc()))}function Vi(n,e){var t=n.callbackNode;k8(n,e);var r=Vy(n,n===Ir?Wr:0);if(r===0)t!==null&&X2(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&X2(t),e===1)n.tag===0?D6(UO.bind(null,n)):Kk(UO.bind(null,n)),O6(function(){!(Jt&6)&&mc()}),t=null;else{switch(Ak(r)){case 1:t=aT;break;case 4:t=xk;break;case 16:t=Gy;break;case 536870912:t=Sk;break;default:t=Gy}t=XN(t,zN.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function zN(n,e){if(my=-1,gy=0,Jt&6)throw Error(Be(327));var t=n.callbackNode;if(_d()&&n.callbackNode!==t)return null;var r=Vy(n,n===Ir?Wr:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=a_(n,r);else{e=r;var i=Jt;Jt|=2;var s=GN();(Ir!==n||Wr!==e)&&(Ta=null,Ud=sr()+500,fu(n,e));do try{nV();break}catch(a){HN(n,a)}while(1);xT(),i_.current=s,Jt=i,hr!==null?e=0:(Ir=null,Wr=0,e=xr)}if(e!==0){if(e===2&&(i=pw(n),i!==0&&(r=i,e=Gw(n,i))),e===1)throw t=xm,fu(n,0),Ll(n,r),Vi(n,sr()),t;if(e===6)Ll(n,r);else{if(i=n.current.alternate,!(r&30)&&!eV(i)&&(e=a_(n,r),e===2&&(s=pw(n),s!==0&&(r=s,e=Gw(n,s))),e===1))throw t=xm,fu(n,0),Ll(n,r),Vi(n,sr()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(Be(345));case 2:Xc(n,ki,Ta);break;case 3:if(Ll(n,r),(r&130023424)===r&&(e=DT+500-sr(),10<e)){if(Vy(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Mi(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=bw(Xc.bind(null,n,ki,Ta),e);break}Xc(n,ki,Ta);break;case 4:if(Ll(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-So(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=sr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Z6(r/1960))-r,10<r){n.timeoutHandle=bw(Xc.bind(null,n,ki,Ta),r);break}Xc(n,ki,Ta);break;case 5:Xc(n,ki,Ta);break;default:throw Error(Be(329))}}}return Vi(n,sr()),n.callbackNode===t?zN.bind(null,n):null}function Gw(n,e){var t=$p;return n.current.memoizedState.isDehydrated&&(fu(n,e).flags|=256),n=a_(n,e),n!==2&&(e=ki,ki=t,e!==null&&Vw(e)),n}function Vw(n){ki===null?ki=n:ki.push.apply(ki,n)}function eV(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Ao(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ll(n,e){for(e&=~BT,e&=~gx,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-So(e),r=1<<t;n[t]=-1,e&=~r}}function UO(n){if(Jt&6)throw Error(Be(327));_d();var e=Vy(n,0);if(!(e&1))return Vi(n,sr()),null;var t=a_(n,e);if(n.tag!==0&&t===2){var r=pw(n);r!==0&&(e=r,t=Gw(n,r))}if(t===1)throw t=xm,fu(n,0),Ll(n,e),Vi(n,sr()),t;if(t===6)throw Error(Be(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Xc(n,ki,Ta),Vi(n,sr()),null}function kT(n,e){var t=Jt;Jt|=1;try{return n(e)}finally{Jt=t,Jt===0&&(Ud=sr()+500,dx&&mc())}}function Cu(n){kl!==null&&kl.tag===0&&!(Jt&6)&&_d();var e=Jt;Jt|=1;var t=qs.transition,r=on;try{if(qs.transition=null,on=1,n)return n()}finally{on=r,qs.transition=t,Jt=e,!(Jt&6)&&mc()}}function NT(){rs=rd.current,bn(rd)}function fu(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,P6(t)),hr!==null)for(t=hr.return;t!==null;){var r=t;switch(vT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ky();break;case 3:Nd(),bn(Hi),bn(ui),MT();break;case 5:ET(r);break;case 4:Nd();break;case 13:bn(Dn);break;case 19:bn(Dn);break;case 10:ST(r.type._context);break;case 22:case 23:NT()}t=t.return}if(Ir=n,hr=n=Kl(n.current,null),Wr=rs=e,xr=0,xm=null,BT=gx=Tu=0,ki=$p=null,nu!==null){for(e=0;e<nu.length;e++)if(t=nu[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}nu=null}return n}function HN(n,e){do{var t=hr;try{if(xT(),dy.current=r_,n_){for(var r=Gn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}n_=!1}if(Mu=0,Pr=yr=Gn=null,Vp=!1,vm=0,IT.current=null,t===null||t.return===null){xr=1,xm=e,hr=null;break}e:{var s=n,o=t.return,a=t,l=e;if(e=Wr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=MO(o);if(m!==null){m.flags&=-257,TO(m,o,a,s,e),m.mode&1&&EO(s,c,e),e=m,l=c;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){EO(s,c,e),FT();break e}l=Error(Be(426))}}else if(Cn&&a.mode&1){var _=MO(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),TO(_,o,a,s,e),yT(Fd(l,a));break e}}s=l=Fd(l,a),xr!==4&&(xr=2),$p===null?$p=[s]:$p.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=wN(s,l,e);yO(s,v);break e;case 1:a=l;var x=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(jl===null||!jl.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var A=EN(s,a,e);yO(s,A);break e}}s=s.return}while(s!==null)}WN(t)}catch(M){e=M,hr===t&&t!==null&&(hr=t=t.return);continue}break}while(1)}function GN(){var n=i_.current;return i_.current=r_,n===null?r_:n}function FT(){(xr===0||xr===3||xr===2)&&(xr=4),Ir===null||!(Tu&268435455)&&!(gx&268435455)||Ll(Ir,Wr)}function a_(n,e){var t=Jt;Jt|=2;var r=GN();(Ir!==n||Wr!==e)&&(Ta=null,fu(n,e));do try{tV();break}catch(i){HN(n,i)}while(1);if(xT(),Jt=t,i_.current=r,hr!==null)throw Error(Be(261));return Ir=null,Wr=0,xr}function tV(){for(;hr!==null;)VN(hr)}function nV(){for(;hr!==null&&!T8();)VN(hr)}function VN(n){var e=jN(n.alternate,n,rs);n.memoizedProps=n.pendingProps,e===null?WN(n):hr=e,IT.current=null}function WN(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=Y6(t,e),t!==null){t.flags&=32767,hr=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{xr=6,hr=null;return}}else if(t=K6(t,e,rs),t!==null){hr=t;return}if(e=e.sibling,e!==null){hr=e;return}hr=e=n}while(e!==null);xr===0&&(xr=5)}function Xc(n,e,t){var r=on,i=qs.transition;try{qs.transition=null,on=1,rV(n,e,t,r)}finally{qs.transition=i,on=r}return null}function rV(n,e,t,r){do _d();while(kl!==null);if(Jt&6)throw Error(Be(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(Be(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(N8(n,s),n===Ir&&(hr=Ir=null,Wr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||X0||(X0=!0,XN(Gy,function(){return _d(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=qs.transition,qs.transition=null;var o=on;on=1;var a=Jt;Jt|=4,IT.current=null,q6(n,t),FN(t,n),A6(xw),Wy=!!_w,xw=_w=null,n.current=t,Q6(t),C8(),Jt=a,on=o,qs.transition=s}else n.current=t;if(X0&&(X0=!1,kl=n,o_=i),s=n.pendingLanes,s===0&&(jl=null),O8(t.stateNode),Vi(n,sr()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(s_)throw s_=!1,n=zw,zw=null,n;return o_&1&&n.tag!==0&&_d(),s=n.pendingLanes,s&1?n===Hw?jp++:(jp=0,Hw=n):jp=0,mc(),null}function _d(){if(kl!==null){var n=Ak(o_),e=qs.transition,t=on;try{if(qs.transition=null,on=16>n?16:n,kl===null)var r=!1;else{if(n=kl,kl=null,o_=0,Jt&6)throw Error(Be(331));var i=Jt;for(Jt|=4,tt=n.current;tt!==null;){var s=tt,o=s.child;if(tt.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(tt=c;tt!==null;){var u=tt;switch(u.tag){case 0:case 11:case 15:Wp(8,u,s)}var f=u.child;if(f!==null)f.return=u,tt=f;else for(;tt!==null;){u=tt;var p=u.sibling,m=u.return;if(DN(u),u===c){tt=null;break}if(p!==null){p.return=m,tt=p;break}tt=m}}}var g=s.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}tt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,tt=o;else e:for(;tt!==null;){if(s=tt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Wp(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,tt=v;break e}tt=s.return}}var x=n.current;for(tt=x;tt!==null;){o=tt;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,tt=b;else e:for(o=x;tt!==null;){if(a=tt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:mx(9,a)}}catch(M){Yn(a,a.return,M)}if(a===o){tt=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,tt=A;break e}tt=a.return}}if(Jt=i,mc(),Jo&&typeof Jo.onPostCommitFiberRoot=="function")try{Jo.onPostCommitFiberRoot(ax,n)}catch{}r=!0}return r}finally{on=t,qs.transition=e}}return!1}function zO(n,e,t){e=Fd(t,e),e=wN(n,e,1),n=$l(n,e,1),e=Mi(),n!==null&&(tg(n,1,e),Vi(n,e))}function Yn(n,e,t){if(n.tag===3)zO(n,n,t);else for(;e!==null;){if(e.tag===3){zO(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jl===null||!jl.has(r))){n=Fd(t,n),n=EN(e,n,1),e=$l(e,n,1),n=Mi(),e!==null&&(tg(e,1,n),Vi(e,n));break}}e=e.return}}function iV(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Mi(),n.pingedLanes|=n.suspendedLanes&t,Ir===n&&(Wr&t)===t&&(xr===4||xr===3&&(Wr&130023424)===Wr&&500>sr()-DT?fu(n,0):BT|=t),Vi(n,e)}function $N(n,e){e===0&&(n.mode&1?(e=N0,N0<<=1,!(N0&130023424)&&(N0=4194304)):e=1);var t=Mi();n=ja(n,e),n!==null&&(tg(n,e,t),Vi(n,t))}function sV(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),$N(n,t)}function oV(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(Be(314))}r!==null&&r.delete(e),$N(n,t)}var jN;jN=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Hi.current)Ui=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Ui=!1,X6(n,e,t);Ui=!!(n.flags&131072)}else Ui=!1,Cn&&e.flags&1048576&&Yk(e,qy,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;py(n,e),n=e.pendingProps;var i=Bd(e,ui.current);yd(e,t),i=CT(null,e,r,n,i,t);var s=RT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gi(r)?(s=!0,Yy(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,AT(e),i.updater=hx,e.stateNode=i,i._reactInternals=e,Rw(e,r,n,t),e=Lw(null,e,r,!0,s,t)):(e.tag=0,Cn&&s&&gT(e),xi(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(py(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=lV(r),n=ho(r,n),i){case 0:e=Ow(null,e,r,n,t);break e;case 1:e=PO(null,e,r,n,t);break e;case 11:e=CO(null,e,r,n,t);break e;case 14:e=RO(null,e,r,ho(r.type,n),t);break e}throw Error(Be(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ho(r,i),Ow(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ho(r,i),PO(n,e,r,i,t);case 3:e:{if(RN(e),n===null)throw Error(Be(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Zk(n,e),e_(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Fd(Error(Be(423)),e),e=OO(n,e,r,t,i);break e}else if(r!==i){i=Fd(Error(Be(424)),e),e=OO(n,e,r,t,i);break e}else for(cs=Wl(e.stateNode.containerInfo.firstChild),ds=e,Cn=!0,go=null,t=rN(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Dd(),r===i){e=Xa(n,e,t);break e}xi(n,e,r,t)}e=e.child}return e;case 5:return iN(e),n===null&&Mw(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,Sw(r,i)?o=null:s!==null&&Sw(r,s)&&(e.flags|=32),CN(n,e),xi(n,e,o,t),e.child;case 6:return n===null&&Mw(e),null;case 13:return PN(n,e,t);case 4:return wT(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=kd(e,null,r,t):xi(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ho(r,i),CO(n,e,r,i,t);case 7:return xi(n,e,e.pendingProps,t),e.child;case 8:return xi(n,e,e.pendingProps.children,t),e.child;case 12:return xi(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,gn(Qy,r._currentValue),r._currentValue=o,s!==null)if(Ao(s.value,o)){if(s.children===i.children&&!Hi.current){e=Xa(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=za(-1,t&-t),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=t,l=s.alternate,l!==null&&(l.lanes|=t),Tw(s.return,t,e),a.lanes|=t;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Be(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),Tw(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}xi(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,yd(e,t),i=Qs(i),r=r(i),e.flags|=1,xi(n,e,r,t),e.child;case 14:return r=e.type,i=ho(r,e.pendingProps),i=ho(r.type,i),RO(n,e,r,i,t);case 15:return MN(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ho(r,i),py(n,e),e.tag=1,Gi(r)?(n=!0,Yy(e)):n=!1,yd(e,t),tN(e,r,i),Rw(e,r,i,t),Lw(null,e,r,!0,n,t);case 19:return ON(n,e,t);case 22:return TN(n,e,t)}throw Error(Be(156,e.tag))};function XN(n,e){return _k(n,e)}function aV(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function js(n,e,t,r){return new aV(n,e,t,r)}function UT(n){return n=n.prototype,!(!n||!n.isReactComponent)}function lV(n){if(typeof n=="function")return UT(n)?1:0;if(n!=null){if(n=n.$$typeof,n===iT)return 11;if(n===sT)return 14}return 2}function Kl(n,e){var t=n.alternate;return t===null?(t=js(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function vy(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")UT(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Xf:return du(t.children,i,s,e);case rT:o=8,i|=8;break;case ZA:return n=js(12,t,e,i|2),n.elementType=ZA,n.lanes=s,n;case ew:return n=js(13,t,e,i),n.elementType=ew,n.lanes=s,n;case tw:return n=js(19,t,e,i),n.elementType=tw,n.lanes=s,n;case nk:return vx(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ek:o=10;break e;case tk:o=9;break e;case iT:o=11;break e;case sT:o=14;break e;case Tl:o=16,r=null;break e}throw Error(Be(130,n==null?n:typeof n,""))}return e=js(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function du(n,e,t,r){return n=js(7,n,r,e),n.lanes=t,n}function vx(n,e,t,r){return n=js(22,n,r,e),n.elementType=nk,n.lanes=t,n.stateNode={isHidden:!1},n}function vb(n,e,t){return n=js(6,n,null,e),n.lanes=t,n}function yb(n,e,t){return e=js(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function cV(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=QS(0),this.expirationTimes=QS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=QS(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zT(n,e,t,r,i,s,o,a,l){return n=new cV(n,e,t,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=js(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},AT(s),n}function uV(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:jf,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function KN(n){if(!n)return tc;n=n._reactInternals;e:{if(Hu(n)!==n||n.tag!==1)throw Error(Be(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Be(171))}if(n.tag===1){var t=n.type;if(Gi(t))return Xk(n,t,e)}return e}function YN(n,e,t,r,i,s,o,a,l){return n=zT(t,r,!0,n,i,s,o,a,l),n.context=KN(null),t=n.current,r=Mi(),i=Xl(t),s=za(r,i),s.callback=e??null,$l(t,s,i),n.current.lanes=i,tg(n,i,r),Vi(n,r),n}function yx(n,e,t,r){var i=e.current,s=Mi(),o=Xl(i);return t=KN(t),e.context===null?e.context=t:e.pendingContext=t,e=za(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=$l(i,e,o),n!==null&&(bo(n,i,o,s),fy(n,i,o)),o}function l_(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function HO(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function HT(n,e){HO(n,e),(n=n.alternate)&&HO(n,e)}function fV(){return null}var JN=typeof reportError=="function"?reportError:function(n){console.error(n)};function GT(n){this._internalRoot=n}_x.prototype.render=GT.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(Be(409));yx(n,e,null,null)};_x.prototype.unmount=GT.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Cu(function(){yx(null,n,null,null)}),e[$a]=null}};function _x(n){this._internalRoot=n}_x.prototype.unstable_scheduleHydration=function(n){if(n){var e=Mk();n={blockedOn:null,target:n,priority:e};for(var t=0;t<Ol.length&&e!==0&&e<Ol[t].priority;t++);Ol.splice(t,0,n),t===0&&Ck(n)}};function VT(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function xx(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function GO(){}function dV(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=l_(o);s.call(c)}}var o=YN(e,r,n,0,null,!1,!1,"",GO);return n._reactRootContainer=o,n[$a]=o.current,dm(n.nodeType===8?n.parentNode:n),Cu(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=l_(l);a.call(c)}}var l=zT(n,0,!1,null,null,!1,!1,"",GO);return n._reactRootContainer=l,n[$a]=l.current,dm(n.nodeType===8?n.parentNode:n),Cu(function(){yx(e,l,t,r)}),l}function Sx(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=l_(o);a.call(l)}}yx(e,o,n,i)}else o=dV(t,e,n,i,r);return l_(o)}wk=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Op(e.pendingLanes);t!==0&&(lT(e,t|1),Vi(e,sr()),!(Jt&6)&&(Ud=sr()+500,mc()))}break;case 13:Cu(function(){var r=ja(n,1);if(r!==null){var i=Mi();bo(r,n,1,i)}}),HT(n,1)}};cT=function(n){if(n.tag===13){var e=ja(n,134217728);if(e!==null){var t=Mi();bo(e,n,134217728,t)}HT(n,134217728)}};Ek=function(n){if(n.tag===13){var e=Xl(n),t=ja(n,e);if(t!==null){var r=Mi();bo(t,n,e,r)}HT(n,e)}};Mk=function(){return on};Tk=function(n,e){var t=on;try{return on=n,e()}finally{on=t}};fw=function(n,e,t){switch(e){case"input":if(iw(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=fx(r);if(!i)throw Error(Be(90));ik(r),iw(r,i)}}}break;case"textarea":ok(n,t);break;case"select":e=t.value,e!=null&&pd(n,!!t.multiple,e,!1)}};hk=kT;pk=Cu;var hV={usingClientEntryPoint:!1,Events:[rg,qf,fx,fk,dk,kT]},ap={findFiberByHostInstance:tu,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},pV={bundleType:ap.bundleType,version:ap.version,rendererPackageName:ap.rendererPackageName,rendererConfig:ap.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rl.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=vk(n),n===null?null:n.stateNode},findFiberByHostInstance:ap.findFiberByHostInstance||fV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var K0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!K0.isDisabled&&K0.supportsFiber)try{ax=K0.inject(pV),Jo=K0}catch{}}bs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hV;bs.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!VT(e))throw Error(Be(200));return uV(n,e,null,t)};bs.createRoot=function(n,e){if(!VT(n))throw Error(Be(299));var t=!1,r="",i=JN;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=zT(n,1,!1,null,null,t,!1,r,i),n[$a]=e.current,dm(n.nodeType===8?n.parentNode:n),new GT(e)};bs.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(Be(188)):(n=Object.keys(n).join(","),Error(Be(268,n)));return n=vk(e),n=n===null?null:n.stateNode,n};bs.flushSync=function(n){return Cu(n)};bs.hydrate=function(n,e,t){if(!xx(e))throw Error(Be(200));return Sx(null,n,e,!0,t)};bs.hydrateRoot=function(n,e,t){if(!VT(n))throw Error(Be(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=JN;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=YN(e,null,n,1,t??null,i,!1,s,o),n[$a]=e.current,dm(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new _x(e)};bs.render=function(n,e,t){if(!xx(e))throw Error(Be(200));return Sx(null,n,e,!1,t)};bs.unmountComponentAtNode=function(n){if(!xx(n))throw Error(Be(40));return n._reactRootContainer?(Cu(function(){Sx(null,null,n,!1,function(){n._reactRootContainer=null,n[$a]=null})}),!0):!1};bs.unstable_batchedUpdates=kT;bs.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!xx(t))throw Error(Be(200));if(n==null||n._reactInternals===void 0)throw Error(Be(38));return Sx(n,e,t,!1,r)};bs.version="18.2.0-next-9e3b772b8-20220608";function qN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qN)}catch(n){console.error(n)}}qN(),Y3.exports=bs;var sg=Y3.exports;const mV=dc(sg);var QN,VO=sg;QN=qA.createRoot=VO.createRoot,qA.hydrateRoot=VO.hydrateRoot;/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const og="160",Kc={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Yc={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},ZN=0,Ww=1,eF=2,gV=3,tF=0,bx=1,xd=2,po=3,sa=0,oi=1,Ws=2,vV=2,Ha=0,hu=1,$w=2,jw=3,Xw=4,nF=5,Il=100,rF=101,iF=102,Kw=103,Yw=104,sF=200,oF=201,aF=202,lF=203,c_=204,u_=205,cF=206,uF=207,fF=208,dF=209,hF=210,pF=211,mF=212,gF=213,vF=214,yF=0,_F=1,xF=2,Sm=3,SF=4,bF=5,AF=6,wF=7,ag=0,EF=1,MF=2,Qo=0,TF=1,CF=2,RF=3,WT=4,PF=5,OF=6,Jw="attached",LF="detached",Ax=300,Ka=301,nc=302,bm=303,Am=304,_h=306,Tn=1e3,Vr=1001,zd=1002,Jn=1003,wm=1004,yV=1004,Sd=1005,_V=1005,Nn=1006,wx=1007,xV=1007,oa=1008,SV=1008,Zo=1009,IF=1010,BF=1011,Ex=1012,$T=1013,Na=1014,_o=1015,Hd=1016,jT=1017,XT=1018,Yl=1020,DF=1021,Ai=1023,kF=1024,NF=1025,Jl=1026,Ru=1027,FF=1028,KT=1029,UF=1030,YT=1031,JT=1033,yy=33776,_y=33777,xy=33778,Sy=33779,qw=35840,Qw=35841,Zw=35842,eE=35843,qT=36196,tE=37492,nE=37496,rE=37808,iE=37809,sE=37810,oE=37811,aE=37812,lE=37813,cE=37814,uE=37815,fE=37816,dE=37817,hE=37818,pE=37819,mE=37820,gE=37821,by=36492,vE=36494,yE=36495,zF=36283,_E=36284,xE=36285,SE=36286,HF=2200,GF=2201,VF=2202,Gd=2300,Pu=2301,Ay=2302,iu=2400,su=2401,Em=2402,Mx=2500,QT=2501,WF=0,ZT=1,f_=2,eC=3e3,ql=3001,$F=3200,jF=3201,gc=0,XF=1,os="",_r="srgb",aa="srgb-linear",Tx="display-p3",lg="display-p3-linear",Mm="linear",pn="srgb",Tm="rec709",Cm="p3",bV=0,Jc=7680,AV=7681,wV=7682,EV=7683,MV=34055,TV=34056,CV=5386,RV=512,PV=513,OV=514,LV=515,IV=516,BV=517,DV=518,bE=519,KF=512,YF=513,JF=514,tC=515,qF=516,QF=517,ZF=518,eU=519,Rm=35044,kV=35048,NV=35040,FV=35045,UV=35049,zV=35041,HV=35046,GV=35050,VV=35042,WV="100",AE="300 es",d_=1035,xo=2e3,Vd=2001;class fa{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(t);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Zr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let WO=1234567;const pu=Math.PI/180,Wd=180/Math.PI;function hs(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Zr[n&255]+Zr[n>>8&255]+Zr[n>>16&255]+Zr[n>>24&255]+"-"+Zr[e&255]+Zr[e>>8&255]+"-"+Zr[e>>16&15|64]+Zr[e>>24&255]+"-"+Zr[t&63|128]+Zr[t>>8&255]+"-"+Zr[t>>16&255]+Zr[t>>24&255]+Zr[r&255]+Zr[r>>8&255]+Zr[r>>16&255]+Zr[r>>24&255]).toLowerCase()}function qn(n,e,t){return Math.max(e,Math.min(t,n))}function nC(n,e){return(n%e+e)%e}function $V(n,e,t,r,i){return r+(n-e)*(i-r)/(t-e)}function jV(n,e,t){return n!==e?(t-n)/(e-n):0}function Xp(n,e,t){return(1-t)*n+t*e}function XV(n,e,t,r){return Xp(n,e,1-Math.exp(-t*r))}function KV(n,e=1){return e-Math.abs(nC(n,e*2)-e)}function YV(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function JV(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function qV(n,e){return n+Math.floor(Math.random()*(e-n+1))}function QV(n,e){return n+Math.random()*(e-n)}function ZV(n){return n*(.5-Math.random())}function eW(n){n!==void 0&&(WO=n);let e=WO+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function tW(n){return n*pu}function nW(n){return n*Wd}function wE(n){return(n&n-1)===0&&n!==0}function rW(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function h_(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function iW(n,e,t,r,i){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+r)/2),u=o((e+r)/2),f=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":n.set(a*u,l*f,l*p,a*c);break;case"YZY":n.set(l*p,a*u,l*f,a*c);break;case"ZXZ":n.set(l*f,l*p,a*u,a*c);break;case"XZX":n.set(a*u,l*g,l*m,a*c);break;case"YXY":n.set(l*m,a*u,l*g,a*c);break;case"ZYZ":n.set(l*g,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Fi(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function It(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const tU={DEG2RAD:pu,RAD2DEG:Wd,generateUUID:hs,clamp:qn,euclideanModulo:nC,mapLinear:$V,inverseLerp:jV,lerp:Xp,damp:XV,pingpong:KV,smoothstep:YV,smootherstep:JV,randInt:qV,randFloat:QV,randFloatSpread:ZV,seededRandom:eW,degToRad:tW,radToDeg:nW,isPowerOfTwo:wE,ceilPowerOfTwo:rW,floorPowerOfTwo:h_,setQuaternionFromProperEuler:iW,normalize:It,denormalize:Fi};class xe{constructor(e=0,t=0){xe.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,r=this.y,i=e.elements;return this.x=i[0]*t+i[3]*r+i[6],this.y=i[1]*t+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(qn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y;return t*t+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const r=Math.cos(t),i=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class kt{constructor(e,t,r,i,s,o,a,l,c){kt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,l,c)}set(e,t,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],f=r[7],p=r[2],m=r[5],g=r[8],y=i[0],_=i[3],v=i[6],x=i[1],b=i[4],A=i[7],M=i[2],E=i[5],R=i[8];return s[0]=o*y+a*x+l*M,s[3]=o*_+a*b+l*E,s[6]=o*v+a*A+l*R,s[1]=c*y+u*x+f*M,s[4]=c*_+u*b+f*E,s[7]=c*v+u*A+f*R,s[2]=p*y+m*x+g*M,s[5]=p*_+m*b+g*E,s[8]=p*v+m*A+g*R,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=u*o-a*c,p=a*l-u*s,m=c*s-o*l,g=t*f+r*p+i*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/g;return e[0]=f*y,e[1]=(i*c-u*r)*y,e[2]=(a*r-i*o)*y,e[3]=p*y,e[4]=(u*t-i*l)*y,e[5]=(i*s-a*t)*y,e[6]=m*y,e[7]=(r*l-c*t)*y,e[8]=(o*t-r*s)*y,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(_b.makeScale(e,t)),this}rotate(e){return this.premultiply(_b.makeRotation(-e)),this}translate(e,t){return this.premultiply(_b.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<9;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const _b=new kt;function nU(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}const sW={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function id(n,e){return new sW[n](e)}function Pm(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function rU(){const n=Pm("canvas");return n.style.display="block",n}const $O={};function Kp(n){n in $O||($O[n]=!0,console.warn(n))}const jO=new kt().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),XO=new kt().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Y0={[aa]:{transfer:Mm,primaries:Tm,toReference:n=>n,fromReference:n=>n},[_r]:{transfer:pn,primaries:Tm,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[lg]:{transfer:Mm,primaries:Cm,toReference:n=>n.applyMatrix3(XO),fromReference:n=>n.applyMatrix3(jO)},[Tx]:{transfer:pn,primaries:Cm,toReference:n=>n.convertSRGBToLinear().applyMatrix3(XO),fromReference:n=>n.applyMatrix3(jO).convertLinearToSRGB()}},oW=new Set([aa,lg]),rn={enabled:!0,_workingColorSpace:aa,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!oW.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){if(this.enabled===!1||e===t||!e||!t)return n;const r=Y0[e].toReference,i=Y0[t].fromReference;return i(r(n))},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return Y0[n].primaries},getTransfer:function(n){return n===os?Mm:Y0[n].transfer}};function bd(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function xb(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let ff;class rC{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{ff===void 0&&(ff=Pm("canvas")),ff.width=e.width,ff.height=e.height;const r=ff.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=ff}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=Pm("canvas");t.width=e.width,t.height=e.height;const r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=bd(s[o]/255)*255;return r.putImageData(i,0,0),t}else if(e.data){const t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(bd(t[r]/255)*255):t[r]=bd(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let aW=0;class ou{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:aW++}),this.uuid=hs(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(Sb(i[o].image)):s.push(Sb(i[o]))}else s=Sb(i);r.url=s}return t||(e.images[this.uuid]=r),r}}function Sb(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?rC.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let lW=0;class Rn extends fa{constructor(e=Rn.DEFAULT_IMAGE,t=Rn.DEFAULT_MAPPING,r=Vr,i=Vr,s=Nn,o=oa,a=Ai,l=Zo,c=Rn.DEFAULT_ANISOTROPY,u=os){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:lW++}),this.uuid=hs(),this.name="",this.source=new ou(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new xe(0,0),this.repeat=new xe(1,1),this.center=new xe(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new kt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(Kp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===ql?_r:os),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Ax)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Tn:e.x=e.x-Math.floor(e.x);break;case Vr:e.x=e.x<0?0:1;break;case zd:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Tn:e.y=e.y-Math.floor(e.y);break;case Vr:e.y=e.y<0?0:1;break;case zd:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Kp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===_r?ql:eC}set encoding(e){Kp("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===ql?_r:os}}Rn.DEFAULT_IMAGE=null;Rn.DEFAULT_MAPPING=Ax;Rn.DEFAULT_ANISOTROPY=1;class sn{constructor(e=0,t=0,r=0,i=1){sn.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,i){return this.x=e,this.y=t,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*t+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*t+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*t+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,i,s;const l=e.elements,c=l[0],u=l[4],f=l[8],p=l[1],m=l[5],g=l[9],y=l[2],_=l[6],v=l[10];if(Math.abs(u-p)<.01&&Math.abs(f-y)<.01&&Math.abs(g-_)<.01){if(Math.abs(u+p)<.1&&Math.abs(f+y)<.1&&Math.abs(g+_)<.1&&Math.abs(c+m+v-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const b=(c+1)/2,A=(m+1)/2,M=(v+1)/2,E=(u+p)/4,R=(f+y)/4,I=(g+_)/4;return b>A&&b>M?b<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(b),i=E/r,s=R/r):A>M?A<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(A),r=E/i,s=I/i):M<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(M),r=R/s,i=I/s),this.set(r,i,s,t),this}let x=Math.sqrt((_-g)*(_-g)+(f-y)*(f-y)+(p-u)*(p-u));return Math.abs(x)<.001&&(x=1),this.x=(_-g)/x,this.y=(f-y)/x,this.z=(p-u)/x,this.w=Math.acos((c+m+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class iU extends fa{constructor(e=1,t=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new sn(0,0,e,t),this.scissorTest=!1,this.viewport=new sn(0,0,e,t);const i={width:e,height:t,depth:1};r.encoding!==void 0&&(Kp("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===ql?_r:os),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Nn,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new Rn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new ou(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class wo extends iU{constructor(e=1,t=1,r={}){super(e,t,r),this.isWebGLRenderTarget=!0}}class Cx extends Rn{constructor(e=null,t=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Jn,this.minFilter=Jn,this.wrapR=Vr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class cW extends wo{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new Cx(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class iC extends Rn{constructor(e=null,t=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:i},this.magFilter=Jn,this.minFilter=Jn,this.wrapR=Vr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class uW extends wo{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new iC(null,e,t,r),this.texture.isRenderTargetTexture=!0}}class fW extends wo{constructor(e=1,t=1,r=1,i={}){super(e,t,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=t,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}}class Br{constructor(e=0,t=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=i}static slerpFlat(e,t,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const p=s[o+0],m=s[o+1],g=s[o+2],y=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f;return}if(a===1){e[t+0]=p,e[t+1]=m,e[t+2]=g,e[t+3]=y;return}if(f!==y||l!==p||c!==m||u!==g){let _=1-a;const v=l*p+c*m+u*g+f*y,x=v>=0?1:-1,b=1-v*v;if(b>Number.EPSILON){const M=Math.sqrt(b),E=Math.atan2(M,v*x);_=Math.sin(_*E)/M,a=Math.sin(a*E)/M}const A=a*x;if(l=l*_+p*A,c=c*_+m*A,u=u*_+g*A,f=f*_+y*A,_===1-a){const M=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=M,c*=M,u*=M,f*=M}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f}static multiplyQuaternionsFlat(e,t,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=s[o],p=s[o+1],m=s[o+2],g=s[o+3];return e[t]=a*g+u*f+l*m-c*p,e[t+1]=l*g+u*p+c*f-a*m,e[t+2]=c*g+u*m+a*p-l*f,e[t+3]=u*g-a*f-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,i){return this._x=e,this._y=t,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),f=a(s/2),p=l(r/2),m=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=p*u*f+c*m*g,this._y=c*m*f-p*u*g,this._z=c*u*g+p*m*f,this._w=c*u*f-p*m*g;break;case"YXZ":this._x=p*u*f+c*m*g,this._y=c*m*f-p*u*g,this._z=c*u*g-p*m*f,this._w=c*u*f+p*m*g;break;case"ZXY":this._x=p*u*f-c*m*g,this._y=c*m*f+p*u*g,this._z=c*u*g+p*m*f,this._w=c*u*f-p*m*g;break;case"ZYX":this._x=p*u*f-c*m*g,this._y=c*m*f+p*u*g,this._z=c*u*g-p*m*f,this._w=c*u*f+p*m*g;break;case"YZX":this._x=p*u*f+c*m*g,this._y=c*m*f+p*u*g,this._z=c*u*g-p*m*f,this._w=c*u*f-p*m*g;break;case"XZY":this._x=p*u*f-c*m*g,this._y=c*m*f-p*u*g,this._z=c*u*g+p*m*f,this._w=c*u*f+p*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const r=t/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,r=t[0],i=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],f=t[10],p=r+a+f;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>f){const m=2*Math.sqrt(1+r-a-f);this._w=(u-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>f){const m=2*Math.sqrt(1+a-r-f);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+f-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(qn(this.dot(e),-1,1)))}rotateTowards(e,t){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,t/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const r=e._x,i=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-t;return this._w=m*o+t*this._w,this._x=m*r+t*this._x,this._y=m*i+t*this._y,this._z=m*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),f=Math.sin((1-t)*u)/c,p=Math.sin(t*u)/c;return this._w=o*f+this._w*p,this._x=r*f+this._x*p,this._y=i*f+this._y*p,this._z=s*f+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){const e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(i),r*Math.sin(s),r*Math.cos(s),t*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class z{constructor(e=0,t=0,r=0){z.prototype.isVector3=!0,this.x=e,this.y=t,this.z=r}set(e,t,r){return r===void 0&&(r=this.z),this.x=e,this.y=t,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(KO.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(KO.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[3]*r+s[6]*i,this.y=s[1]*t+s[4]*r+s[7]*i,this.z=s[2]*t+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*t+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*t+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*t+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*t+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const t=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*i-a*r),u=2*(a*t-s*i),f=2*(s*r-o*t);return this.x=t+l*c+o*f-a*u,this.y=r+l*u+a*c-s*f,this.z=i+l*f+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*t+s[4]*r+s[8]*i,this.y=s[1]*t+s[5]*r+s[9]*i,this.z=s[2]*t+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const r=e.x,i=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const r=e.dot(this)/t;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return bb.copy(this).projectOnVector(e),this.sub(bb)}reflect(e){return this.sub(bb.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const r=this.dot(e)/t;return Math.acos(qn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return t*t+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,r){const i=Math.sin(t)*e;return this.x=i*Math.sin(r),this.y=Math.cos(t)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,r){return this.x=e*Math.sin(t),this.y=r,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=r,this.z=i,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,t=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(t),this.y=r*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const bb=new z,KO=new Br;class ai{constructor(e=new z(1/0,1/0,1/0),t=new z(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t+=3)this.expandByPoint(co.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,r=e.count;t<r;t++)this.expandByPoint(co.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=co.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,co):co.fromBufferAttribute(s,o),co.applyMatrix4(e.matrixWorld),this.expandByPoint(co);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),J0.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),J0.copy(r.boundingBox)),J0.applyMatrix4(e.matrixWorld),this.union(J0)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,co),co.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(lp),q0.subVectors(this.max,lp),df.subVectors(e.a,lp),hf.subVectors(e.b,lp),pf.subVectors(e.c,lp),yl.subVectors(hf,df),_l.subVectors(pf,hf),Ic.subVectors(df,pf);let t=[0,-yl.z,yl.y,0,-_l.z,_l.y,0,-Ic.z,Ic.y,yl.z,0,-yl.x,_l.z,0,-_l.x,Ic.z,0,-Ic.x,-yl.y,yl.x,0,-_l.y,_l.x,0,-Ic.y,Ic.x,0];return!Ab(t,df,hf,pf,q0)||(t=[1,0,0,0,1,0,0,0,1],!Ab(t,df,hf,pf,q0))?!1:(Q0.crossVectors(yl,_l),t=[Q0.x,Q0.y,Q0.z],Ab(t,df,hf,pf,q0))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,co).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(co).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(_a[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),_a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),_a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),_a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),_a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),_a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),_a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),_a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(_a),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const _a=[new z,new z,new z,new z,new z,new z,new z,new z],co=new z,J0=new ai,df=new z,hf=new z,pf=new z,yl=new z,_l=new z,Ic=new z,lp=new z,q0=new z,Q0=new z,Bc=new z;function Ab(n,e,t,r,i){for(let s=0,o=n.length-3;s<=o;s+=3){Bc.fromArray(n,s);const a=i.x*Math.abs(Bc.x)+i.y*Math.abs(Bc.y)+i.z*Math.abs(Bc.z),l=e.dot(Bc),c=t.dot(Bc),u=r.dot(Bc);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const dW=new ai,cp=new z,wb=new z;class $r{constructor(e=new z,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const r=this.center;t!==void 0?r.copy(t):dW.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;cp.subVectors(e,this.center);const t=cp.lengthSq();if(t>this.radius*this.radius){const r=Math.sqrt(t),i=(r-this.radius)*.5;this.center.addScaledVector(cp,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(wb.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(cp.copy(e.center).add(wb)),this.expandByPoint(cp.copy(e.center).sub(wb))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const xa=new z,Eb=new z,Z0=new z,xl=new z,Mb=new z,ev=new z,Tb=new z;class Gu{constructor(e=new z,t=new z(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,xa)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=xa.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(xa.copy(this.origin).addScaledVector(this.direction,t),xa.distanceToSquared(e))}distanceSqToSegment(e,t,r,i){Eb.copy(e).add(t).multiplyScalar(.5),Z0.copy(t).sub(e).normalize(),xl.copy(this.origin).sub(Eb);const s=e.distanceTo(t)*.5,o=-this.direction.dot(Z0),a=xl.dot(this.direction),l=-xl.dot(Z0),c=xl.lengthSq(),u=Math.abs(1-o*o);let f,p,m,g;if(u>0)if(f=o*l-a,p=o*a-l,g=s*u,f>=0)if(p>=-g)if(p<=g){const y=1/u;f*=y,p*=y,m=f*(f+o*p+2*a)+p*(o*f+p+2*l)+c}else p=s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;else p=-s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;else p<=-g?(f=Math.max(0,-(-o*s+a)),p=f>0?-s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+c):p<=g?(f=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(f=Math.max(0,-(o*s+a)),p=f>0?s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+c);else p=o>0?-s:s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(Eb).addScaledVector(Z0,p),m}intersectSphere(e,t){xa.subVectors(e.center,this.origin);const r=xa.dot(this.direction),i=xa.dot(xa)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){const r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),u>=0?(s=(e.min.y-p.y)*u,o=(e.max.y-p.y)*u):(s=(e.max.y-p.y)*u,o=(e.min.y-p.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-p.z)*f,l=(e.max.z-p.z)*f):(a=(e.max.z-p.z)*f,l=(e.min.z-p.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,t)}intersectsBox(e){return this.intersectBox(e,xa)!==null}intersectTriangle(e,t,r,i,s){Mb.subVectors(t,e),ev.subVectors(r,e),Tb.crossVectors(Mb,ev);let o=this.direction.dot(Tb),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;xl.subVectors(this.origin,e);const l=a*this.direction.dot(ev.crossVectors(xl,ev));if(l<0)return null;const c=a*this.direction.dot(Mb.cross(xl));if(c<0||l+c>o)return null;const u=-a*xl.dot(Tb);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class vt{constructor(e,t,r,i,s,o,a,l,c,u,f,p,m,g,y,_){vt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,r,i,s,o,a,l,c,u,f,p,m,g,y,_)}set(e,t,r,i,s,o,a,l,c,u,f,p,m,g,y,_){const v=this.elements;return v[0]=e,v[4]=t,v[8]=r,v[12]=i,v[1]=s,v[5]=o,v[9]=a,v[13]=l,v[2]=c,v[6]=u,v[10]=f,v[14]=p,v[3]=m,v[7]=g,v[11]=y,v[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new vt().fromArray(this.elements)}copy(e){const t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){const t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,r=e.elements,i=1/mf.setFromMatrixColumn(e,0).length(),s=1/mf.setFromMatrixColumn(e,1).length(),o=1/mf.setFromMatrixColumn(e,2).length();return t[0]=r[0]*i,t[1]=r[1]*i,t[2]=r[2]*i,t[3]=0,t[4]=r[4]*s,t[5]=r[5]*s,t[6]=r[6]*s,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const p=o*u,m=o*f,g=a*u,y=a*f;t[0]=l*u,t[4]=-l*f,t[8]=c,t[1]=m+g*c,t[5]=p-y*c,t[9]=-a*l,t[2]=y-p*c,t[6]=g+m*c,t[10]=o*l}else if(e.order==="YXZ"){const p=l*u,m=l*f,g=c*u,y=c*f;t[0]=p+y*a,t[4]=g*a-m,t[8]=o*c,t[1]=o*f,t[5]=o*u,t[9]=-a,t[2]=m*a-g,t[6]=y+p*a,t[10]=o*l}else if(e.order==="ZXY"){const p=l*u,m=l*f,g=c*u,y=c*f;t[0]=p-y*a,t[4]=-o*f,t[8]=g+m*a,t[1]=m+g*a,t[5]=o*u,t[9]=y-p*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const p=o*u,m=o*f,g=a*u,y=a*f;t[0]=l*u,t[4]=g*c-m,t[8]=p*c+y,t[1]=l*f,t[5]=y*c+p,t[9]=m*c-g,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,g=a*l,y=a*c;t[0]=l*u,t[4]=y-p*f,t[8]=g*f+m,t[1]=f,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=m*f+g,t[10]=p-y*f}else if(e.order==="XZY"){const p=o*l,m=o*c,g=a*l,y=a*c;t[0]=l*u,t[4]=-f,t[8]=c*u,t[1]=p*f+y,t[5]=o*u,t[9]=m*f-g,t[2]=g*f-m,t[6]=a*u,t[10]=y*f+p}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(hW,e,pW)}lookAt(e,t,r){const i=this.elements;return ts.subVectors(e,t),ts.lengthSq()===0&&(ts.z=1),ts.normalize(),Sl.crossVectors(r,ts),Sl.lengthSq()===0&&(Math.abs(r.z)===1?ts.x+=1e-4:ts.z+=1e-4,ts.normalize(),Sl.crossVectors(r,ts)),Sl.normalize(),tv.crossVectors(ts,Sl),i[0]=Sl.x,i[4]=tv.x,i[8]=ts.x,i[1]=Sl.y,i[5]=tv.y,i[9]=ts.y,i[2]=Sl.z,i[6]=tv.z,i[10]=ts.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const r=e.elements,i=t.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],f=r[5],p=r[9],m=r[13],g=r[2],y=r[6],_=r[10],v=r[14],x=r[3],b=r[7],A=r[11],M=r[15],E=i[0],R=i[4],I=i[8],T=i[12],P=i[1],B=i[5],U=i[9],j=i[13],N=i[2],G=i[6],V=i[10],$=i[14],F=i[3],X=i[7],Y=i[11],te=i[15];return s[0]=o*E+a*P+l*N+c*F,s[4]=o*R+a*B+l*G+c*X,s[8]=o*I+a*U+l*V+c*Y,s[12]=o*T+a*j+l*$+c*te,s[1]=u*E+f*P+p*N+m*F,s[5]=u*R+f*B+p*G+m*X,s[9]=u*I+f*U+p*V+m*Y,s[13]=u*T+f*j+p*$+m*te,s[2]=g*E+y*P+_*N+v*F,s[6]=g*R+y*B+_*G+v*X,s[10]=g*I+y*U+_*V+v*Y,s[14]=g*T+y*j+_*$+v*te,s[3]=x*E+b*P+A*N+M*F,s[7]=x*R+b*B+A*G+M*X,s[11]=x*I+b*U+A*V+M*Y,s[15]=x*T+b*j+A*$+M*te,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],f=e[6],p=e[10],m=e[14],g=e[3],y=e[7],_=e[11],v=e[15];return g*(+s*l*f-i*c*f-s*a*p+r*c*p+i*a*m-r*l*m)+y*(+t*l*m-t*c*p+s*o*p-i*o*m+i*c*u-s*l*u)+_*(+t*c*f-t*a*m-s*o*f+r*o*m+s*a*u-r*c*u)+v*(-i*a*u-t*l*f+t*a*p+i*o*f-r*o*p+r*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=t,i[14]=r),this}invert(){const e=this.elements,t=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=e[9],p=e[10],m=e[11],g=e[12],y=e[13],_=e[14],v=e[15],x=f*_*c-y*p*c+y*l*m-a*_*m-f*l*v+a*p*v,b=g*p*c-u*_*c-g*l*m+o*_*m+u*l*v-o*p*v,A=u*y*c-g*f*c+g*a*m-o*y*m-u*a*v+o*f*v,M=g*f*l-u*y*l-g*a*p+o*y*p+u*a*_-o*f*_,E=t*x+r*b+i*A+s*M;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const R=1/E;return e[0]=x*R,e[1]=(y*p*s-f*_*s-y*i*m+r*_*m+f*i*v-r*p*v)*R,e[2]=(a*_*s-y*l*s+y*i*c-r*_*c-a*i*v+r*l*v)*R,e[3]=(f*l*s-a*p*s-f*i*c+r*p*c+a*i*m-r*l*m)*R,e[4]=b*R,e[5]=(u*_*s-g*p*s+g*i*m-t*_*m-u*i*v+t*p*v)*R,e[6]=(g*l*s-o*_*s-g*i*c+t*_*c+o*i*v-t*l*v)*R,e[7]=(o*p*s-u*l*s+u*i*c-t*p*c-o*i*m+t*l*m)*R,e[8]=A*R,e[9]=(g*f*s-u*y*s-g*r*m+t*y*m+u*r*v-t*f*v)*R,e[10]=(o*y*s-g*a*s+g*r*c-t*y*c-o*r*v+t*a*v)*R,e[11]=(u*a*s-o*f*s-u*r*c+t*f*c+o*r*m-t*a*m)*R,e[12]=M*R,e[13]=(u*y*i-g*f*i+g*r*p-t*y*p-u*r*_+t*f*_)*R,e[14]=(g*a*i-o*y*i-g*r*l+t*y*l+o*r*_-t*a*_)*R,e[15]=(o*f*i-u*a*i+u*r*l-t*f*l-o*r*p+t*a*p)*R,this}scale(e){const t=this.elements,r=e.x,i=e.y,s=e.z;return t[0]*=r,t[4]*=i,t[8]*=s,t[1]*=r,t[5]*=i,t[9]*=s,t[2]*=r,t[6]*=i,t[10]*=s,t[3]*=r,t[7]*=i,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,i))}makeTranslation(e,t,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const r=Math.cos(t),i=Math.sin(t),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,t,i,1,0,0,0,0,1),this}compose(e,t,r){const i=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,f=a+a,p=s*c,m=s*u,g=s*f,y=o*u,_=o*f,v=a*f,x=l*c,b=l*u,A=l*f,M=r.x,E=r.y,R=r.z;return i[0]=(1-(y+v))*M,i[1]=(m+A)*M,i[2]=(g-b)*M,i[3]=0,i[4]=(m-A)*E,i[5]=(1-(p+v))*E,i[6]=(_+x)*E,i[7]=0,i[8]=(g+b)*R,i[9]=(_-x)*R,i[10]=(1-(p+y))*R,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,t,r){const i=this.elements;let s=mf.set(i[0],i[1],i[2]).length();const o=mf.set(i[4],i[5],i[6]).length(),a=mf.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],uo.copy(this);const c=1/s,u=1/o,f=1/a;return uo.elements[0]*=c,uo.elements[1]*=c,uo.elements[2]*=c,uo.elements[4]*=u,uo.elements[5]*=u,uo.elements[6]*=u,uo.elements[8]*=f,uo.elements[9]*=f,uo.elements[10]*=f,t.setFromRotationMatrix(uo),r.x=s,r.y=o,r.z=a,this}makePerspective(e,t,r,i,s,o,a=xo){const l=this.elements,c=2*s/(t-e),u=2*s/(r-i),f=(t+e)/(t-e),p=(r+i)/(r-i);let m,g;if(a===xo)m=-(o+s)/(o-s),g=-2*o*s/(o-s);else if(a===Vd)m=-o/(o-s),g=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=u,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,i,s,o,a=xo){const l=this.elements,c=1/(t-e),u=1/(r-i),f=1/(o-s),p=(t+e)*c,m=(r+i)*u;let g,y;if(a===xo)g=(o+s)*f,y=-2*f;else if(a===Vd)g=s*f,y=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=y,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,r=e.elements;for(let i=0;i<16;i++)if(t[i]!==r[i])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){const r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}}const mf=new z,uo=new vt,hW=new z(0,0,0),pW=new z(1,1,1),Sl=new z,tv=new z,ts=new z,YO=new vt,JO=new Br;class cg{constructor(e=0,t=0,r=0,i=cg.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,i=this._order){return this._x=e,this._y=t,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],f=i[2],p=i[6],m=i[10];switch(t){case"XYZ":this._y=Math.asin(qn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-qn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(qn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-qn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(qn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-qn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return YO.makeRotationFromQuaternion(e),this.setFromRotationMatrix(YO,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return JO.setFromEuler(this),this.setFromQuaternion(JO,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}cg.DEFAULT_ORDER="XYZ";class mu{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let mW=0;const qO=new z,gf=new Br,Sa=new vt,nv=new z,up=new z,gW=new z,vW=new Br,QO=new z(1,0,0),ZO=new z(0,1,0),eL=new z(0,0,1),yW={type:"added"},_W={type:"removed"};class Kt extends fa{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:mW++}),this.uuid=hs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Kt.DEFAULT_UP.clone();const e=new z,t=new cg,r=new Br,i=new z(1,1,1);function s(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new vt},normalMatrix:{value:new kt}}),this.matrix=new vt,this.matrixWorld=new vt,this.matrixAutoUpdate=Kt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Kt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new mu,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return gf.setFromAxisAngle(e,t),this.quaternion.multiply(gf),this}rotateOnWorldAxis(e,t){return gf.setFromAxisAngle(e,t),this.quaternion.premultiply(gf),this}rotateX(e){return this.rotateOnAxis(QO,e)}rotateY(e){return this.rotateOnAxis(ZO,e)}rotateZ(e){return this.rotateOnAxis(eL,e)}translateOnAxis(e,t){return qO.copy(e).applyQuaternion(this.quaternion),this.position.add(qO.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(QO,e)}translateY(e){return this.translateOnAxis(ZO,e)}translateZ(e){return this.translateOnAxis(eL,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Sa.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?nv.copy(e):nv.set(e,t,r);const i=this.parent;this.updateWorldMatrix(!0,!1),up.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Sa.lookAt(up,nv,this.up):Sa.lookAt(nv,up,this.up),this.quaternion.setFromRotationMatrix(Sa),i&&(Sa.extractRotation(i.matrixWorld),gf.setFromRotationMatrix(Sa),this.quaternion.premultiply(gf.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(yW)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(_W)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Sa.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Sa.multiply(e.parent.matrixWorld)),e.applyMatrix4(Sa),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,r=[]){this[e]===t&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,t,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(up,e,gW),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(up,vW,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let r=0,i=t.length;r<i;r++)t[r].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let r=0,i=t.length;r<i;r++){const s=t[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,t){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),f=o(e.shapes),p=o(e.skeletons),m=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Kt.DEFAULT_UP=new z(0,1,0);Kt.DEFAULT_MATRIX_AUTO_UPDATE=!0;Kt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const fo=new z,ba=new z,Cb=new z,Aa=new z,vf=new z,yf=new z,tL=new z,Rb=new z,Pb=new z,Ob=new z;let rv=!1;class Ni{constructor(e=new z,t=new z,r=new z){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,i){i.subVectors(r,t),fo.subVectors(e,t),i.cross(fo);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,t,r,i,s){fo.subVectors(i,t),ba.subVectors(r,t),Cb.subVectors(e,t);const o=fo.dot(fo),a=fo.dot(ba),l=fo.dot(Cb),c=ba.dot(ba),u=ba.dot(Cb),f=o*c-a*a;if(f===0)return s.set(0,0,0),null;const p=1/f,m=(c*l-a*u)*p,g=(o*u-a*l)*p;return s.set(1-m-g,g,m)}static containsPoint(e,t,r,i){return this.getBarycoord(e,t,r,i,Aa)===null?!1:Aa.x>=0&&Aa.y>=0&&Aa.x+Aa.y<=1}static getUV(e,t,r,i,s,o,a,l){return rv===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),rv=!0),this.getInterpolation(e,t,r,i,s,o,a,l)}static getInterpolation(e,t,r,i,s,o,a,l){return this.getBarycoord(e,t,r,i,Aa)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Aa.x),l.addScaledVector(o,Aa.y),l.addScaledVector(a,Aa.z),l)}static isFrontFacing(e,t,r,i){return fo.subVectors(r,t),ba.subVectors(e,t),fo.cross(ba).dot(i)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,i){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,t,r,i){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return fo.subVectors(this.c,this.b),ba.subVectors(this.a,this.b),fo.cross(ba).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ni.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Ni.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,i,s){return rv===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),rv=!0),Ni.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}getInterpolation(e,t,r,i,s){return Ni.getInterpolation(e,this.a,this.b,this.c,t,r,i,s)}containsPoint(e){return Ni.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ni.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const r=this.a,i=this.b,s=this.c;let o,a;vf.subVectors(i,r),yf.subVectors(s,r),Rb.subVectors(e,r);const l=vf.dot(Rb),c=yf.dot(Rb);if(l<=0&&c<=0)return t.copy(r);Pb.subVectors(e,i);const u=vf.dot(Pb),f=yf.dot(Pb);if(u>=0&&f<=u)return t.copy(i);const p=l*f-u*c;if(p<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(r).addScaledVector(vf,o);Ob.subVectors(e,s);const m=vf.dot(Ob),g=yf.dot(Ob);if(g>=0&&m<=g)return t.copy(s);const y=m*c-l*g;if(y<=0&&c>=0&&g<=0)return a=c/(c-g),t.copy(r).addScaledVector(yf,a);const _=u*g-m*f;if(_<=0&&f-u>=0&&m-g>=0)return tL.subVectors(s,i),a=(f-u)/(f-u+(m-g)),t.copy(i).addScaledVector(tL,a);const v=1/(_+y+p);return o=y*v,a=p*v,t.copy(r).addScaledVector(vf,o).addScaledVector(yf,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const sU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},bl={h:0,s:0,l:0},iv={h:0,s:0,l:0};function Lb(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}let De=class{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,r)}set(e,t,r){if(t===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,t,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=_r){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,rn.toWorkingColorSpace(this,t),this}setRGB(e,t,r,i=rn.workingColorSpace){return this.r=e,this.g=t,this.b=r,rn.toWorkingColorSpace(this,i),this}setHSL(e,t,r,i=rn.workingColorSpace){if(e=nC(e,1),t=qn(t,0,1),r=qn(r,0,1),t===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+t):r+t-r*t,o=2*r-s;this.r=Lb(o,s,e+1/3),this.g=Lb(o,s,e),this.b=Lb(o,s,e-1/3)}return rn.toWorkingColorSpace(this,i),this}setStyle(e,t=_r){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=_r){const r=sU[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=bd(e.r),this.g=bd(e.g),this.b=bd(e.b),this}copyLinearToSRGB(e){return this.r=xb(e.r),this.g=xb(e.g),this.b=xb(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=_r){return rn.fromWorkingColorSpace(ei.copy(this),e),Math.round(qn(ei.r*255,0,255))*65536+Math.round(qn(ei.g*255,0,255))*256+Math.round(qn(ei.b*255,0,255))}getHexString(e=_r){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=rn.workingColorSpace){rn.fromWorkingColorSpace(ei.copy(this),t);const r=ei.r,i=ei.g,s=ei.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const f=o-a;switch(c=u<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=rn.workingColorSpace){return rn.fromWorkingColorSpace(ei.copy(this),t),e.r=ei.r,e.g=ei.g,e.b=ei.b,e}getStyle(e=_r){rn.fromWorkingColorSpace(ei.copy(this),e);const t=ei.r,r=ei.g,i=ei.b;return e!==_r?`color(${e} ${t.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,t,r){return this.getHSL(bl),this.setHSL(bl.h+e,bl.s+t,bl.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(bl),e.getHSL(iv);const r=Xp(bl.h,iv.h,t),i=Xp(bl.s,iv.s,t),s=Xp(bl.l,iv.l,t);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*t+s[3]*r+s[6]*i,this.g=s[1]*t+s[4]*r+s[7]*i,this.b=s[2]*t+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const ei=new De;De.NAMES=sU;let xW=0;class pr extends fa{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:xW++}),this.uuid=hs(),this.name="",this.type="Material",this.blending=hu,this.side=sa,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=c_,this.blendDst=u_,this.blendEquation=Il,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new De(0,0,0),this.blendAlpha=0,this.depthFunc=Sm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=bE,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Jc,this.stencilZFail=Jc,this.stencilZPass=Jc,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const r=e[t];if(r===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const i=this[t];if(i===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[t]=r}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==hu&&(r.blending=this.blending),this.side!==sa&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==c_&&(r.blendSrc=this.blendSrc),this.blendDst!==u_&&(r.blendDst=this.blendDst),this.blendEquation!==Il&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Sm&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==bE&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Jc&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Jc&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Jc&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let r=null;if(t!==null){const i=t.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=t[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class us extends pr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new De(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ag,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Ia=SW();function SW(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function Bi(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=qn(n,-65504,65504),Ia.floatView[0]=n;const e=Ia.uint32View[0],t=e>>23&511;return Ia.baseTable[t]+((e&8388607)>>Ia.shiftTable[t])}function Ip(n){const e=n>>10;return Ia.uint32View[0]=Ia.mantissaTable[Ia.offsetTable[e]+(n&1023)]+Ia.exponentTable[e],Ia.floatView[0]}const bW={toHalfFloat:Bi,fromHalfFloat:Ip},ur=new z,sv=new xe;class Yt{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=Rm,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=_o,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=t.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)sv.fromBufferAttribute(this,t),sv.applyMatrix3(e),this.setXY(t,sv.x,sv.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)ur.fromBufferAttribute(this,t),ur.applyMatrix3(e),this.setXYZ(t,ur.x,ur.y,ur.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)ur.fromBufferAttribute(this,t),ur.applyMatrix4(e),this.setXYZ(t,ur.x,ur.y,ur.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)ur.fromBufferAttribute(this,t),ur.applyNormalMatrix(e),this.setXYZ(t,ur.x,ur.y,ur.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)ur.fromBufferAttribute(this,t),ur.transformDirection(e),this.setXYZ(t,ur.x,ur.y,ur.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let r=this.array[e*this.itemSize+t];return this.normalized&&(r=Fi(r,this.array)),r}setComponent(e,t,r){return this.normalized&&(r=It(r,this.array)),this.array[e*this.itemSize+t]=r,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Fi(t,this.array)),t}setX(e,t){return this.normalized&&(t=It(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Fi(t,this.array)),t}setY(e,t){return this.normalized&&(t=It(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Fi(t,this.array)),t}setZ(e,t){return this.normalized&&(t=It(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Fi(t,this.array)),t}setW(e,t){return this.normalized&&(t=It(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=It(t,this.array),r=It(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=It(t,this.array),r=It(r,this.array),i=It(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=It(t,this.array),r=It(r,this.array),i=It(i,this.array),s=It(s,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Rm&&(e.usage=this.usage),e}}class AW extends Yt{constructor(e,t,r){super(new Int8Array(e),t,r)}}class wW extends Yt{constructor(e,t,r){super(new Uint8Array(e),t,r)}}class EW extends Yt{constructor(e,t,r){super(new Uint8ClampedArray(e),t,r)}}class MW extends Yt{constructor(e,t,r){super(new Int16Array(e),t,r)}}class sC extends Yt{constructor(e,t,r){super(new Uint16Array(e),t,r)}}class TW extends Yt{constructor(e,t,r){super(new Int32Array(e),t,r)}}class oC extends Yt{constructor(e,t,r){super(new Uint32Array(e),t,r)}}class CW extends Yt{constructor(e,t,r){super(new Uint16Array(e),t,r),this.isFloat16BufferAttribute=!0}getX(e){let t=Ip(this.array[e*this.itemSize]);return this.normalized&&(t=Fi(t,this.array)),t}setX(e,t){return this.normalized&&(t=It(t,this.array)),this.array[e*this.itemSize]=Bi(t),this}getY(e){let t=Ip(this.array[e*this.itemSize+1]);return this.normalized&&(t=Fi(t,this.array)),t}setY(e,t){return this.normalized&&(t=It(t,this.array)),this.array[e*this.itemSize+1]=Bi(t),this}getZ(e){let t=Ip(this.array[e*this.itemSize+2]);return this.normalized&&(t=Fi(t,this.array)),t}setZ(e,t){return this.normalized&&(t=It(t,this.array)),this.array[e*this.itemSize+2]=Bi(t),this}getW(e){let t=Ip(this.array[e*this.itemSize+3]);return this.normalized&&(t=Fi(t,this.array)),t}setW(e,t){return this.normalized&&(t=It(t,this.array)),this.array[e*this.itemSize+3]=Bi(t),this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=It(t,this.array),r=It(r,this.array)),this.array[e+0]=Bi(t),this.array[e+1]=Bi(r),this}setXYZ(e,t,r,i){return e*=this.itemSize,this.normalized&&(t=It(t,this.array),r=It(r,this.array),i=It(i,this.array)),this.array[e+0]=Bi(t),this.array[e+1]=Bi(r),this.array[e+2]=Bi(i),this}setXYZW(e,t,r,i,s){return e*=this.itemSize,this.normalized&&(t=It(t,this.array),r=It(r,this.array),i=It(i,this.array),s=It(s,this.array)),this.array[e+0]=Bi(t),this.array[e+1]=Bi(r),this.array[e+2]=Bi(i),this.array[e+3]=Bi(s),this}}class at extends Yt{constructor(e,t,r){super(new Float32Array(e),t,r)}}class RW extends Yt{constructor(e,t,r){super(new Float64Array(e),t,r)}}let PW=0;const Ds=new vt,Ib=new Kt,_f=new z,ns=new ai,fp=new ai,Cr=new z;class Ot extends fa{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:PW++}),this.uuid=hs(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(nU(e)?oC:sC)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new kt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ds.makeRotationFromQuaternion(e),this.applyMatrix4(Ds),this}rotateX(e){return Ds.makeRotationX(e),this.applyMatrix4(Ds),this}rotateY(e){return Ds.makeRotationY(e),this.applyMatrix4(Ds),this}rotateZ(e){return Ds.makeRotationZ(e),this.applyMatrix4(Ds),this}translate(e,t,r){return Ds.makeTranslation(e,t,r),this.applyMatrix4(Ds),this}scale(e,t,r){return Ds.makeScale(e,t,r),this.applyMatrix4(Ds),this}lookAt(e){return Ib.lookAt(e),Ib.updateMatrix(),this.applyMatrix4(Ib.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_f).negate(),this.translate(_f.x,_f.y,_f.z),this}setFromPoints(e){const t=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new at(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ai);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new z(-1/0,-1/0,-1/0),new z(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,i=t.length;r<i;r++){const s=t[r];ns.setFromBufferAttribute(s),this.morphTargetsRelative?(Cr.addVectors(this.boundingBox.min,ns.min),this.boundingBox.expandByPoint(Cr),Cr.addVectors(this.boundingBox.max,ns.max),this.boundingBox.expandByPoint(Cr)):(this.boundingBox.expandByPoint(ns.min),this.boundingBox.expandByPoint(ns.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new $r);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new z,1/0);return}if(e){const r=this.boundingSphere.center;if(ns.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];fp.setFromBufferAttribute(a),this.morphTargetsRelative?(Cr.addVectors(ns.min,fp.min),ns.expandByPoint(Cr),Cr.addVectors(ns.max,fp.max),ns.expandByPoint(Cr)):(ns.expandByPoint(fp.min),ns.expandByPoint(fp.max))}ns.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Cr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Cr));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Cr.fromBufferAttribute(a,c),l&&(_f.fromBufferAttribute(e,c),Cr.add(_f)),i=Math.max(i,r.distanceToSquared(Cr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=t.position.array,s=t.normal.array,o=t.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Yt(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let P=0;P<a;P++)c[P]=new z,u[P]=new z;const f=new z,p=new z,m=new z,g=new xe,y=new xe,_=new xe,v=new z,x=new z;function b(P,B,U){f.fromArray(i,P*3),p.fromArray(i,B*3),m.fromArray(i,U*3),g.fromArray(o,P*2),y.fromArray(o,B*2),_.fromArray(o,U*2),p.sub(f),m.sub(f),y.sub(g),_.sub(g);const j=1/(y.x*_.y-_.x*y.y);isFinite(j)&&(v.copy(p).multiplyScalar(_.y).addScaledVector(m,-y.y).multiplyScalar(j),x.copy(m).multiplyScalar(y.x).addScaledVector(p,-_.x).multiplyScalar(j),c[P].add(v),c[B].add(v),c[U].add(v),u[P].add(x),u[B].add(x),u[U].add(x))}let A=this.groups;A.length===0&&(A=[{start:0,count:r.length}]);for(let P=0,B=A.length;P<B;++P){const U=A[P],j=U.start,N=U.count;for(let G=j,V=j+N;G<V;G+=3)b(r[G+0],r[G+1],r[G+2])}const M=new z,E=new z,R=new z,I=new z;function T(P){R.fromArray(s,P*3),I.copy(R);const B=c[P];M.copy(B),M.sub(R.multiplyScalar(R.dot(B))).normalize(),E.crossVectors(I,B);const j=E.dot(u[P])<0?-1:1;l[P*4]=M.x,l[P*4+1]=M.y,l[P*4+2]=M.z,l[P*4+3]=j}for(let P=0,B=A.length;P<B;++P){const U=A[P],j=U.start,N=U.count;for(let G=j,V=j+N;G<V;G+=3)T(r[G+0]),T(r[G+1]),T(r[G+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Yt(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new z,s=new z,o=new z,a=new z,l=new z,c=new z,u=new z,f=new z;if(e)for(let p=0,m=e.count;p<m;p+=3){const g=e.getX(p+0),y=e.getX(p+1),_=e.getX(p+2);i.fromBufferAttribute(t,g),s.fromBufferAttribute(t,y),o.fromBufferAttribute(t,_),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,y),c.fromBufferAttribute(r,_),a.add(u),l.add(u),c.add(u),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(y,l.x,l.y,l.z),r.setXYZ(_,c.x,c.y,c.z)}else for(let p=0,m=t.count;p<m;p+=3)i.fromBufferAttribute(t,p+0),s.fromBufferAttribute(t,p+1),o.fromBufferAttribute(t,p+2),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),r.setXYZ(p+0,u.x,u.y,u.z),r.setXYZ(p+1,u.x,u.y,u.z),r.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)Cr.fromBufferAttribute(e,t),Cr.normalize(),e.setXYZ(t,Cr.x,Cr.y,Cr.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,f=a.normalized,p=new c.constructor(l.length*u);let m=0,g=0;for(let y=0,_=l.length;y<_;y++){a.isInterleavedBufferAttribute?m=l[y]*a.data.stride+a.offset:m=l[y]*u;for(let v=0;v<u;v++)p[g++]=c[m++]}return new Yt(p,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Ot,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,f=c.length;u<f;u++){const p=c[u],m=e(p,r);l.push(m)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,p=c.length;f<p;f++){const m=c[f];u.push(m.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(t));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],f=s[c];for(let p=0,m=f.length;p<m;p++)u.push(f[p].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const nL=new vt,Dc=new Gu,ov=new $r,rL=new z,xf=new z,Sf=new z,bf=new z,Bb=new z,av=new z,lv=new xe,cv=new xe,uv=new xe,iL=new z,sL=new z,oL=new z,fv=new z,dv=new z;class or extends Kt{constructor(e=new Ot,t=new us){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;t.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){av.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],f=s[l];u!==0&&(Bb.fromBufferAttribute(f,e),o?av.addScaledVector(Bb,u):av.addScaledVector(Bb.sub(t),u))}t.add(av)}return t}raycast(e,t){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),ov.copy(r.boundingSphere),ov.applyMatrix4(s),Dc.copy(e.ray).recast(e.near),!(ov.containsPoint(Dc.origin)===!1&&(Dc.intersectSphere(ov,rL)===null||Dc.origin.distanceToSquared(rL)>(e.far-e.near)**2))&&(nL.copy(s).invert(),Dc.copy(e.ray).applyMatrix4(nL),!(r.boundingBox!==null&&Dc.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,t,Dc)))}_computeIntersections(e,t,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,f=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let g=0,y=p.length;g<y;g++){const _=p[g],v=o[_.materialIndex],x=Math.max(_.start,m.start),b=Math.min(a.count,Math.min(_.start+_.count,m.start+m.count));for(let A=x,M=b;A<M;A+=3){const E=a.getX(A),R=a.getX(A+1),I=a.getX(A+2);i=hv(this,v,e,r,c,u,f,E,R,I),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=_.materialIndex,t.push(i))}}else{const g=Math.max(0,m.start),y=Math.min(a.count,m.start+m.count);for(let _=g,v=y;_<v;_+=3){const x=a.getX(_),b=a.getX(_+1),A=a.getX(_+2);i=hv(this,o,e,r,c,u,f,x,b,A),i&&(i.faceIndex=Math.floor(_/3),t.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let g=0,y=p.length;g<y;g++){const _=p[g],v=o[_.materialIndex],x=Math.max(_.start,m.start),b=Math.min(l.count,Math.min(_.start+_.count,m.start+m.count));for(let A=x,M=b;A<M;A+=3){const E=A,R=A+1,I=A+2;i=hv(this,v,e,r,c,u,f,E,R,I),i&&(i.faceIndex=Math.floor(A/3),i.face.materialIndex=_.materialIndex,t.push(i))}}else{const g=Math.max(0,m.start),y=Math.min(l.count,m.start+m.count);for(let _=g,v=y;_<v;_+=3){const x=_,b=_+1,A=_+2;i=hv(this,o,e,r,c,u,f,x,b,A),i&&(i.faceIndex=Math.floor(_/3),t.push(i))}}}}function OW(n,e,t,r,i,s,o,a){let l;if(e.side===oi?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===sa,a),l===null)return null;dv.copy(a),dv.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(dv);return c<t.near||c>t.far?null:{distance:c,point:dv.clone(),object:n}}function hv(n,e,t,r,i,s,o,a,l,c){n.getVertexPosition(a,xf),n.getVertexPosition(l,Sf),n.getVertexPosition(c,bf);const u=OW(n,e,t,r,xf,Sf,bf,fv);if(u){i&&(lv.fromBufferAttribute(i,a),cv.fromBufferAttribute(i,l),uv.fromBufferAttribute(i,c),u.uv=Ni.getInterpolation(fv,xf,Sf,bf,lv,cv,uv,new xe)),s&&(lv.fromBufferAttribute(s,a),cv.fromBufferAttribute(s,l),uv.fromBufferAttribute(s,c),u.uv1=Ni.getInterpolation(fv,xf,Sf,bf,lv,cv,uv,new xe),u.uv2=u.uv1),o&&(iL.fromBufferAttribute(o,a),sL.fromBufferAttribute(o,l),oL.fromBufferAttribute(o,c),u.normal=Ni.getInterpolation(fv,xf,Sf,bf,iL,sL,oL,new z),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new z,materialIndex:0};Ni.getNormal(xf,Sf,bf,f.normal),u.face=f}return u}class vc extends Ot{constructor(e=1,t=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],f=[];let p=0,m=0;g("z","y","x",-1,-1,r,t,e,o,s,0),g("z","y","x",1,-1,r,t,-e,o,s,1),g("x","z","y",1,1,e,r,t,i,o,2),g("x","z","y",1,-1,e,r,-t,i,o,3),g("x","y","z",1,-1,e,t,r,i,s,4),g("x","y","z",-1,-1,e,t,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new at(c,3)),this.setAttribute("normal",new at(u,3)),this.setAttribute("uv",new at(f,2));function g(y,_,v,x,b,A,M,E,R,I,T){const P=A/R,B=M/I,U=A/2,j=M/2,N=E/2,G=R+1,V=I+1;let $=0,F=0;const X=new z;for(let Y=0;Y<V;Y++){const te=Y*B-j;for(let ee=0;ee<G;ee++){const J=ee*P-U;X[y]=J*x,X[_]=te*b,X[v]=N,c.push(X.x,X.y,X.z),X[y]=0,X[_]=0,X[v]=E>0?1:-1,u.push(X.x,X.y,X.z),f.push(ee/R),f.push(1-Y/I),$+=1}}for(let Y=0;Y<I;Y++)for(let te=0;te<R;te++){const ee=p+te+G*Y,J=p+te+G*(Y+1),ne=p+(te+1)+G*(Y+1),ue=p+(te+1)+G*Y;l.push(ee,J,ue),l.push(J,ne,ue),F+=6}a.addGroup(m,F,T),m+=F,p+=$}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function $d(n){const e={};for(const t in n){e[t]={};for(const r in n[t]){const i=n[t][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][r]=null):e[t][r]=i.clone():Array.isArray(i)?e[t][r]=i.slice():e[t][r]=i}}return e}function _i(n){const e={};for(let t=0;t<n.length;t++){const r=$d(n[t]);for(const i in r)e[i]=r[i]}return e}function LW(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function oU(n){return n.getRenderTarget()===null?n.outputColorSpace:rn.workingColorSpace}const aC={clone:$d,merge:_i};var IW=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,BW=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class eo extends pr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=IW,this.fragmentShader=BW,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=$d(e.uniforms),this.uniformsGroups=LW(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?t.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[i]={type:"m4",value:o.toArray()}:t.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}}class ug extends Kt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new vt,this.projectionMatrix=new vt,this.projectionMatrixInverse=new vt,this.coordinateSystem=xo}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Sn extends ug{constructor(e=50,t=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Wd*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(pu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Wd*2*Math.atan(Math.tan(pu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,r,i,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(pu*.5*this.fov)/this.zoom,r=2*t,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,t-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,t,t-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const Af=-90,wf=1;class aU extends Kt{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Sn(Af,wf,e,t);i.layers=this.layers,this.add(i);const s=new Sn(Af,wf,e,t);s.layers=this.layers,this.add(s);const o=new Sn(Af,wf,e,t);o.layers=this.layers,this.add(o);const a=new Sn(Af,wf,e,t);a.layers=this.layers,this.add(a);const l=new Sn(Af,wf,e,t);l.layers=this.layers,this.add(l);const c=new Sn(Af,wf,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[r,i,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===xo)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Vd)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,f=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const y=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(t,s),e.setRenderTarget(r,1,i),e.render(t,o),e.setRenderTarget(r,2,i),e.render(t,a),e.setRenderTarget(r,3,i),e.render(t,l),e.setRenderTarget(r,4,i),e.render(t,c),r.texture.generateMipmaps=y,e.setRenderTarget(r,5,i),e.render(t,u),e.setRenderTarget(f,p,m),e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class fg extends Rn{constructor(e,t,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:Ka,super(e,t,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class lU extends wo{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];t.encoding!==void 0&&(Kp("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===ql?_r:os),this.texture=new fg(i,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Nn}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new vc(5,5,5),s=new eo({name:"CubemapFromEquirect",uniforms:$d(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:oi,blending:Ha});s.uniforms.tEquirect.value=t;const o=new or(i,s),a=t.minFilter;return t.minFilter===oa&&(t.minFilter=Nn),new aU(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,i);e.setRenderTarget(s)}}const Db=new z,DW=new z,kW=new kt;class Pa{constructor(e=new z(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,r,i){return this.normal.set(e,t,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,r){const i=Db.subVectors(r,t).cross(DW.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const r=e.delta(Db),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:t.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return t<0&&r>0||r<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const r=t||kW.getNormalMatrix(e),i=this.coplanarPoint(Db).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const kc=new $r,pv=new z;class dg{constructor(e=new Pa,t=new Pa,r=new Pa,i=new Pa,s=new Pa,o=new Pa){this.planes=[e,t,r,i,s,o]}set(e,t,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,t=xo){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],f=i[6],p=i[7],m=i[8],g=i[9],y=i[10],_=i[11],v=i[12],x=i[13],b=i[14],A=i[15];if(r[0].setComponents(l-s,p-c,_-m,A-v).normalize(),r[1].setComponents(l+s,p+c,_+m,A+v).normalize(),r[2].setComponents(l+o,p+u,_+g,A+x).normalize(),r[3].setComponents(l-o,p-u,_-g,A-x).normalize(),r[4].setComponents(l-a,p-f,_-y,A-b).normalize(),t===xo)r[5].setComponents(l+a,p+f,_+y,A+b).normalize();else if(t===Vd)r[5].setComponents(a,f,y,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),kc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),kc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(kc)}intersectsSprite(e){return kc.center.set(0,0,0),kc.radius=.7071067811865476,kc.applyMatrix4(e.matrixWorld),this.intersectsSphere(kc)}intersectsSphere(e){const t=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const t=this.planes;for(let r=0;r<6;r++){const i=t[r];if(pv.x=i.normal.x>0?e.max.x:e.min.x,pv.y=i.normal.y>0?e.max.y:e.min.y,pv.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(pv)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function cU(){let n=null,e=!1,t=null,r=null;function i(s,o){t(s,o),r=n.requestAnimationFrame(i)}return{start:function(){e!==!0&&t!==null&&(r=n.requestAnimationFrame(i),e=!0)},stop:function(){n.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function NW(n,e){const t=e.isWebGL2,r=new WeakMap;function i(c,u){const f=c.array,p=c.usage,m=f.byteLength,g=n.createBuffer();n.bindBuffer(u,g),n.bufferData(u,f,p),c.onUploadCallback();let y;if(f instanceof Float32Array)y=n.FLOAT;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(t)y=n.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)y=n.SHORT;else if(f instanceof Uint32Array)y=n.UNSIGNED_INT;else if(f instanceof Int32Array)y=n.INT;else if(f instanceof Int8Array)y=n.BYTE;else if(f instanceof Uint8Array)y=n.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)y=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:g,type:y,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version,size:m}}function s(c,u,f){const p=u.array,m=u._updateRange,g=u.updateRanges;if(n.bindBuffer(f,c),m.count===-1&&g.length===0&&n.bufferSubData(f,0,p),g.length!==0){for(let y=0,_=g.length;y<_;y++){const v=g[y];t?n.bufferSubData(f,v.start*p.BYTES_PER_ELEMENT,p,v.start,v.count):n.bufferSubData(f,v.start*p.BYTES_PER_ELEMENT,p.subarray(v.start,v.start+v.count))}u.clearUpdateRanges()}m.count!==-1&&(t?n.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):n.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(n.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const p=r.get(c);(!p||p.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);if(f===void 0)r.set(c,i(c,u));else if(f.version<c.version){if(f.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(f.buffer,c,u),f.version=c.version}}return{get:o,remove:a,update:l}}class xh extends Ot{constructor(e=1,t=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:i};const s=e/2,o=t/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,f=e/a,p=t/l,m=[],g=[],y=[],_=[];for(let v=0;v<u;v++){const x=v*p-o;for(let b=0;b<c;b++){const A=b*f-s;g.push(A,-x,0),y.push(0,0,1),_.push(b/a),_.push(1-v/l)}}for(let v=0;v<l;v++)for(let x=0;x<a;x++){const b=x+c*v,A=x+c*(v+1),M=x+1+c*(v+1),E=x+1+c*v;m.push(b,A,E),m.push(A,M,E)}this.setIndex(m),this.setAttribute("position",new at(g,3)),this.setAttribute("normal",new at(y,3)),this.setAttribute("uv",new at(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new xh(e.width,e.height,e.widthSegments,e.heightSegments)}}var FW=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,UW=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,zW=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,HW=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,GW=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,VW=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,WW=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,$W=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,jW=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,XW=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,KW=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,YW=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,JW=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,qW=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,QW=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,ZW=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,e$=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,t$=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,n$=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,r$=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,i$=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,s$=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,o$=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,a$=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,l$=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,c$=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,u$=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,f$=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,d$=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,h$=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,p$="gl_FragColor = linearToOutputTexel( gl_FragColor );",m$=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,g$=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,v$=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,y$=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,_$=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,x$=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,S$=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,b$=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,A$=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,w$=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,E$=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,M$=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,T$=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,C$=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,R$=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,P$=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,O$=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,L$=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,I$=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,B$=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,D$=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,k$=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,N$=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,F$=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,U$=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,z$=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,H$=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,G$=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,V$=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,W$=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,$$=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,j$=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,X$=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,K$=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Y$=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,J$=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,q$=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Q$=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Z$=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,ej=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,tj=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,nj=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,rj=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,ij=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,sj=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,oj=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,aj=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,lj=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,cj=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,uj=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,fj=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,dj=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,hj=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,pj=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,mj=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,gj=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,vj=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,yj=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,_j=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,xj=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Sj=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,bj=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Aj=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,wj=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Ej=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,Mj=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Tj=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Cj=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Rj=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Pj=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color *= toneMappingExposure;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Oj=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Lj=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Ij=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Bj=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Dj=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,kj=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const Nj=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Fj=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Uj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,zj=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Hj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Gj=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Vj=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Wj=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,$j=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,jj=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Xj=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Kj=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Yj=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Jj=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,qj=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Qj=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Zj=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,e7=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,t7=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,n7=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,r7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,i7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,s7=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,o7=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,a7=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,l7=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,c7=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,u7=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,f7=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,d7=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,h7=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,p7=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,m7=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,g7=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Lt={alphahash_fragment:FW,alphahash_pars_fragment:UW,alphamap_fragment:zW,alphamap_pars_fragment:HW,alphatest_fragment:GW,alphatest_pars_fragment:VW,aomap_fragment:WW,aomap_pars_fragment:$W,batching_pars_vertex:jW,batching_vertex:XW,begin_vertex:KW,beginnormal_vertex:YW,bsdfs:JW,iridescence_fragment:qW,bumpmap_pars_fragment:QW,clipping_planes_fragment:ZW,clipping_planes_pars_fragment:e$,clipping_planes_pars_vertex:t$,clipping_planes_vertex:n$,color_fragment:r$,color_pars_fragment:i$,color_pars_vertex:s$,color_vertex:o$,common:a$,cube_uv_reflection_fragment:l$,defaultnormal_vertex:c$,displacementmap_pars_vertex:u$,displacementmap_vertex:f$,emissivemap_fragment:d$,emissivemap_pars_fragment:h$,colorspace_fragment:p$,colorspace_pars_fragment:m$,envmap_fragment:g$,envmap_common_pars_fragment:v$,envmap_pars_fragment:y$,envmap_pars_vertex:_$,envmap_physical_pars_fragment:O$,envmap_vertex:x$,fog_vertex:S$,fog_pars_vertex:b$,fog_fragment:A$,fog_pars_fragment:w$,gradientmap_pars_fragment:E$,lightmap_fragment:M$,lightmap_pars_fragment:T$,lights_lambert_fragment:C$,lights_lambert_pars_fragment:R$,lights_pars_begin:P$,lights_toon_fragment:L$,lights_toon_pars_fragment:I$,lights_phong_fragment:B$,lights_phong_pars_fragment:D$,lights_physical_fragment:k$,lights_physical_pars_fragment:N$,lights_fragment_begin:F$,lights_fragment_maps:U$,lights_fragment_end:z$,logdepthbuf_fragment:H$,logdepthbuf_pars_fragment:G$,logdepthbuf_pars_vertex:V$,logdepthbuf_vertex:W$,map_fragment:$$,map_pars_fragment:j$,map_particle_fragment:X$,map_particle_pars_fragment:K$,metalnessmap_fragment:Y$,metalnessmap_pars_fragment:J$,morphcolor_vertex:q$,morphnormal_vertex:Q$,morphtarget_pars_vertex:Z$,morphtarget_vertex:ej,normal_fragment_begin:tj,normal_fragment_maps:nj,normal_pars_fragment:rj,normal_pars_vertex:ij,normal_vertex:sj,normalmap_pars_fragment:oj,clearcoat_normal_fragment_begin:aj,clearcoat_normal_fragment_maps:lj,clearcoat_pars_fragment:cj,iridescence_pars_fragment:uj,opaque_fragment:fj,packing:dj,premultiplied_alpha_fragment:hj,project_vertex:pj,dithering_fragment:mj,dithering_pars_fragment:gj,roughnessmap_fragment:vj,roughnessmap_pars_fragment:yj,shadowmap_pars_fragment:_j,shadowmap_pars_vertex:xj,shadowmap_vertex:Sj,shadowmask_pars_fragment:bj,skinbase_vertex:Aj,skinning_pars_vertex:wj,skinning_vertex:Ej,skinnormal_vertex:Mj,specularmap_fragment:Tj,specularmap_pars_fragment:Cj,tonemapping_fragment:Rj,tonemapping_pars_fragment:Pj,transmission_fragment:Oj,transmission_pars_fragment:Lj,uv_pars_fragment:Ij,uv_pars_vertex:Bj,uv_vertex:Dj,worldpos_vertex:kj,background_vert:Nj,background_frag:Fj,backgroundCube_vert:Uj,backgroundCube_frag:zj,cube_vert:Hj,cube_frag:Gj,depth_vert:Vj,depth_frag:Wj,distanceRGBA_vert:$j,distanceRGBA_frag:jj,equirect_vert:Xj,equirect_frag:Kj,linedashed_vert:Yj,linedashed_frag:Jj,meshbasic_vert:qj,meshbasic_frag:Qj,meshlambert_vert:Zj,meshlambert_frag:e7,meshmatcap_vert:t7,meshmatcap_frag:n7,meshnormal_vert:r7,meshnormal_frag:i7,meshphong_vert:s7,meshphong_frag:o7,meshphysical_vert:a7,meshphysical_frag:l7,meshtoon_vert:c7,meshtoon_frag:u7,points_vert:f7,points_frag:d7,shadow_vert:h7,shadow_frag:p7,sprite_vert:m7,sprite_frag:g7},Ge={common:{diffuse:{value:new De(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new kt},alphaMap:{value:null},alphaMapTransform:{value:new kt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new kt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new kt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new kt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new kt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new kt},normalScale:{value:new xe(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new kt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new kt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new kt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new kt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new De(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new De(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new kt},alphaTest:{value:0},uvTransform:{value:new kt}},sprite:{diffuse:{value:new De(16777215)},opacity:{value:1},center:{value:new xe(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new kt},alphaMap:{value:null},alphaMapTransform:{value:new kt},alphaTest:{value:0}}},vo={basic:{uniforms:_i([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.fog]),vertexShader:Lt.meshbasic_vert,fragmentShader:Lt.meshbasic_frag},lambert:{uniforms:_i([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.fog,Ge.lights,{emissive:{value:new De(0)}}]),vertexShader:Lt.meshlambert_vert,fragmentShader:Lt.meshlambert_frag},phong:{uniforms:_i([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.fog,Ge.lights,{emissive:{value:new De(0)},specular:{value:new De(1118481)},shininess:{value:30}}]),vertexShader:Lt.meshphong_vert,fragmentShader:Lt.meshphong_frag},standard:{uniforms:_i([Ge.common,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.roughnessmap,Ge.metalnessmap,Ge.fog,Ge.lights,{emissive:{value:new De(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Lt.meshphysical_vert,fragmentShader:Lt.meshphysical_frag},toon:{uniforms:_i([Ge.common,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.gradientmap,Ge.fog,Ge.lights,{emissive:{value:new De(0)}}]),vertexShader:Lt.meshtoon_vert,fragmentShader:Lt.meshtoon_frag},matcap:{uniforms:_i([Ge.common,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.fog,{matcap:{value:null}}]),vertexShader:Lt.meshmatcap_vert,fragmentShader:Lt.meshmatcap_frag},points:{uniforms:_i([Ge.points,Ge.fog]),vertexShader:Lt.points_vert,fragmentShader:Lt.points_frag},dashed:{uniforms:_i([Ge.common,Ge.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Lt.linedashed_vert,fragmentShader:Lt.linedashed_frag},depth:{uniforms:_i([Ge.common,Ge.displacementmap]),vertexShader:Lt.depth_vert,fragmentShader:Lt.depth_frag},normal:{uniforms:_i([Ge.common,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,{opacity:{value:1}}]),vertexShader:Lt.meshnormal_vert,fragmentShader:Lt.meshnormal_frag},sprite:{uniforms:_i([Ge.sprite,Ge.fog]),vertexShader:Lt.sprite_vert,fragmentShader:Lt.sprite_frag},background:{uniforms:{uvTransform:{value:new kt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Lt.background_vert,fragmentShader:Lt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Lt.backgroundCube_vert,fragmentShader:Lt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Lt.cube_vert,fragmentShader:Lt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Lt.equirect_vert,fragmentShader:Lt.equirect_frag},distanceRGBA:{uniforms:_i([Ge.common,Ge.displacementmap,{referencePosition:{value:new z},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Lt.distanceRGBA_vert,fragmentShader:Lt.distanceRGBA_frag},shadow:{uniforms:_i([Ge.lights,Ge.fog,{color:{value:new De(0)},opacity:{value:1}}]),vertexShader:Lt.shadow_vert,fragmentShader:Lt.shadow_frag}};vo.physical={uniforms:_i([vo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new kt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new kt},clearcoatNormalScale:{value:new xe(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new kt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new kt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new kt},sheen:{value:0},sheenColor:{value:new De(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new kt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new kt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new kt},transmissionSamplerSize:{value:new xe},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new kt},attenuationDistance:{value:0},attenuationColor:{value:new De(0)},specularColor:{value:new De(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new kt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new kt},anisotropyVector:{value:new xe},anisotropyMap:{value:null},anisotropyMapTransform:{value:new kt}}]),vertexShader:Lt.meshphysical_vert,fragmentShader:Lt.meshphysical_frag};const mv={r:0,b:0,g:0};function v7(n,e,t,r,i,s,o){const a=new De(0);let l=s===!0?0:1,c,u,f=null,p=0,m=null;function g(_,v){let x=!1,b=v.isScene===!0?v.background:null;b&&b.isTexture&&(b=(v.backgroundBlurriness>0?t:e).get(b)),b===null?y(a,l):b&&b.isColor&&(y(b,1),x=!0);const A=n.xr.getEnvironmentBlendMode();A==="additive"?r.buffers.color.setClear(0,0,0,1,o):A==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(n.autoClear||x)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),b&&(b.isCubeTexture||b.mapping===_h)?(u===void 0&&(u=new or(new vc(1,1,1),new eo({name:"BackgroundCubeMaterial",uniforms:$d(vo.backgroundCube.uniforms),vertexShader:vo.backgroundCube.vertexShader,fragmentShader:vo.backgroundCube.fragmentShader,side:oi,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(M,E,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=b,u.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=rn.getTransfer(b.colorSpace)!==pn,(f!==b||p!==b.version||m!==n.toneMapping)&&(u.material.needsUpdate=!0,f=b,p=b.version,m=n.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null)):b&&b.isTexture&&(c===void 0&&(c=new or(new xh(2,2),new eo({name:"BackgroundMaterial",uniforms:$d(vo.background.uniforms),vertexShader:vo.background.vertexShader,fragmentShader:vo.background.fragmentShader,side:sa,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=b,c.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,c.material.toneMapped=rn.getTransfer(b.colorSpace)!==pn,b.matrixAutoUpdate===!0&&b.updateMatrix(),c.material.uniforms.uvTransform.value.copy(b.matrix),(f!==b||p!==b.version||m!==n.toneMapping)&&(c.material.needsUpdate=!0,f=b,p=b.version,m=n.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}function y(_,v){_.getRGB(mv,oU(n)),r.buffers.color.setClear(mv.r,mv.g,mv.b,v,o)}return{getClearColor:function(){return a},setClearColor:function(_,v=1){a.set(_),l=v,y(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,y(a,l)},render:g}}function y7(n,e,t,r){const i=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=_(null);let c=l,u=!1;function f(N,G,V,$,F){let X=!1;if(o){const Y=y($,V,G);c!==Y&&(c=Y,m(c.object)),X=v(N,$,V,F),X&&x(N,$,V,F)}else{const Y=G.wireframe===!0;(c.geometry!==$.id||c.program!==V.id||c.wireframe!==Y)&&(c.geometry=$.id,c.program=V.id,c.wireframe=Y,X=!0)}F!==null&&t.update(F,n.ELEMENT_ARRAY_BUFFER),(X||u)&&(u=!1,I(N,G,V,$),F!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(F).buffer))}function p(){return r.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}function m(N){return r.isWebGL2?n.bindVertexArray(N):s.bindVertexArrayOES(N)}function g(N){return r.isWebGL2?n.deleteVertexArray(N):s.deleteVertexArrayOES(N)}function y(N,G,V){const $=V.wireframe===!0;let F=a[N.id];F===void 0&&(F={},a[N.id]=F);let X=F[G.id];X===void 0&&(X={},F[G.id]=X);let Y=X[$];return Y===void 0&&(Y=_(p()),X[$]=Y),Y}function _(N){const G=[],V=[],$=[];for(let F=0;F<i;F++)G[F]=0,V[F]=0,$[F]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:G,enabledAttributes:V,attributeDivisors:$,object:N,attributes:{},index:null}}function v(N,G,V,$){const F=c.attributes,X=G.attributes;let Y=0;const te=V.getAttributes();for(const ee in te)if(te[ee].location>=0){const ne=F[ee];let ue=X[ee];if(ue===void 0&&(ee==="instanceMatrix"&&N.instanceMatrix&&(ue=N.instanceMatrix),ee==="instanceColor"&&N.instanceColor&&(ue=N.instanceColor)),ne===void 0||ne.attribute!==ue||ue&&ne.data!==ue.data)return!0;Y++}return c.attributesNum!==Y||c.index!==$}function x(N,G,V,$){const F={},X=G.attributes;let Y=0;const te=V.getAttributes();for(const ee in te)if(te[ee].location>=0){let ne=X[ee];ne===void 0&&(ee==="instanceMatrix"&&N.instanceMatrix&&(ne=N.instanceMatrix),ee==="instanceColor"&&N.instanceColor&&(ne=N.instanceColor));const ue={};ue.attribute=ne,ne&&ne.data&&(ue.data=ne.data),F[ee]=ue,Y++}c.attributes=F,c.attributesNum=Y,c.index=$}function b(){const N=c.newAttributes;for(let G=0,V=N.length;G<V;G++)N[G]=0}function A(N){M(N,0)}function M(N,G){const V=c.newAttributes,$=c.enabledAttributes,F=c.attributeDivisors;V[N]=1,$[N]===0&&(n.enableVertexAttribArray(N),$[N]=1),F[N]!==G&&((r.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](N,G),F[N]=G)}function E(){const N=c.newAttributes,G=c.enabledAttributes;for(let V=0,$=G.length;V<$;V++)G[V]!==N[V]&&(n.disableVertexAttribArray(V),G[V]=0)}function R(N,G,V,$,F,X,Y){Y===!0?n.vertexAttribIPointer(N,G,V,F,X):n.vertexAttribPointer(N,G,V,$,F,X)}function I(N,G,V,$){if(r.isWebGL2===!1&&(N.isInstancedMesh||$.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;b();const F=$.attributes,X=V.getAttributes(),Y=G.defaultAttributeValues;for(const te in X){const ee=X[te];if(ee.location>=0){let J=F[te];if(J===void 0&&(te==="instanceMatrix"&&N.instanceMatrix&&(J=N.instanceMatrix),te==="instanceColor"&&N.instanceColor&&(J=N.instanceColor)),J!==void 0){const ne=J.normalized,ue=J.itemSize,Ae=t.get(J);if(Ae===void 0)continue;const Re=Ae.buffer,Qe=Ae.type,Ve=Ae.bytesPerElement,Fe=r.isWebGL2===!0&&(Qe===n.INT||Qe===n.UNSIGNED_INT||J.gpuType===$T);if(J.isInterleavedBufferAttribute){const Le=J.data,K=Le.stride,_e=J.offset;if(Le.isInstancedInterleavedBuffer){for(let me=0;me<ee.locationSize;me++)M(ee.location+me,Le.meshPerAttribute);N.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=Le.meshPerAttribute*Le.count)}else for(let me=0;me<ee.locationSize;me++)A(ee.location+me);n.bindBuffer(n.ARRAY_BUFFER,Re);for(let me=0;me<ee.locationSize;me++)R(ee.location+me,ue/ee.locationSize,Qe,ne,K*Ve,(_e+ue/ee.locationSize*me)*Ve,Fe)}else{if(J.isInstancedBufferAttribute){for(let Le=0;Le<ee.locationSize;Le++)M(ee.location+Le,J.meshPerAttribute);N.isInstancedMesh!==!0&&$._maxInstanceCount===void 0&&($._maxInstanceCount=J.meshPerAttribute*J.count)}else for(let Le=0;Le<ee.locationSize;Le++)A(ee.location+Le);n.bindBuffer(n.ARRAY_BUFFER,Re);for(let Le=0;Le<ee.locationSize;Le++)R(ee.location+Le,ue/ee.locationSize,Qe,ne,ue*Ve,ue/ee.locationSize*Le*Ve,Fe)}}else if(Y!==void 0){const ne=Y[te];if(ne!==void 0)switch(ne.length){case 2:n.vertexAttrib2fv(ee.location,ne);break;case 3:n.vertexAttrib3fv(ee.location,ne);break;case 4:n.vertexAttrib4fv(ee.location,ne);break;default:n.vertexAttrib1fv(ee.location,ne)}}}}E()}function T(){U();for(const N in a){const G=a[N];for(const V in G){const $=G[V];for(const F in $)g($[F].object),delete $[F];delete G[V]}delete a[N]}}function P(N){if(a[N.id]===void 0)return;const G=a[N.id];for(const V in G){const $=G[V];for(const F in $)g($[F].object),delete $[F];delete G[V]}delete a[N.id]}function B(N){for(const G in a){const V=a[G];if(V[N.id]===void 0)continue;const $=V[N.id];for(const F in $)g($[F].object),delete $[F];delete V[N.id]}}function U(){j(),u=!0,c!==l&&(c=l,m(c.object))}function j(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:U,resetDefaultState:j,dispose:T,releaseStatesOfGeometry:P,releaseStatesOfProgram:B,initAttributes:b,enableAttribute:A,disableUnusedAttributes:E}}function _7(n,e,t,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,f){n.drawArrays(s,u,f),t.update(f,s,1)}function l(u,f,p){if(p===0)return;let m,g;if(i)m=n,g="drawArraysInstanced";else if(m=e.get("ANGLE_instanced_arrays"),g="drawArraysInstancedANGLE",m===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[g](s,u,f,p),t.update(f,s,p)}function c(u,f,p){if(p===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let g=0;g<p;g++)this.render(u[g],f[g]);else{m.multiDrawArraysWEBGL(s,u,0,f,0,p);let g=0;for(let y=0;y<p;y++)g+=f[y];t.update(g,s,1)}}this.setMode=o,this.render=a,this.renderInstances=l,this.renderMultiDraw=c}function x7(n,e,t){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const R=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(R.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(R){if(R==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";R="mediump"}return R==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&n.constructor.name==="WebGL2RenderingContext";let a=t.precision!==void 0?t.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=t.logarithmicDepthBuffer===!0,f=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_TEXTURE_SIZE),g=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),y=n.getParameter(n.MAX_VERTEX_ATTRIBS),_=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),v=n.getParameter(n.MAX_VARYING_VECTORS),x=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),b=p>0,A=o||e.has("OES_texture_float"),M=b&&A,E=o?n.getParameter(n.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:g,maxAttributes:y,maxVertexUniforms:_,maxVaryings:v,maxFragmentUniforms:x,vertexTextures:b,floatFragmentTextures:A,floatVertexTextures:M,maxSamples:E}}function S7(n){const e=this;let t=null,r=0,i=!1,s=!1;const o=new Pa,a=new kt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,p){const m=f.length!==0||p||r!==0||i;return i=p,r=f.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,p){t=u(f,p,0)},this.setState=function(f,p,m){const g=f.clippingPlanes,y=f.clipIntersection,_=f.clipShadows,v=n.get(f);if(!i||g===null||g.length===0||s&&!_)s?u(null):c();else{const x=s?0:r,b=x*4;let A=v.clippingState||null;l.value=A,A=u(g,p,b,m);for(let M=0;M!==b;++M)A[M]=t[M];v.clippingState=A,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=x}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,p,m,g){const y=f!==null?f.length:0;let _=null;if(y!==0){if(_=l.value,g!==!0||_===null){const v=m+y*4,x=p.matrixWorldInverse;a.getNormalMatrix(x),(_===null||_.length<v)&&(_=new Float32Array(v));for(let b=0,A=m;b!==y;++b,A+=4)o.copy(f[b]).applyMatrix4(x,a),o.normal.toArray(_,A),_[A+3]=o.constant}l.value=_,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,_}}function b7(n){let e=new WeakMap;function t(o,a){return a===bm?o.mapping=Ka:a===Am&&(o.mapping=nc),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===bm||a===Am)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new lU(l.height/2);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",i),t(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class Xs extends ug{constructor(e=-1,t=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+t,l=i-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}const sd=4,aL=[.125,.215,.35,.446,.526,.582],eu=20,kb=new Xs,lL=new De;let Nb=null,Fb=0,Ub=0;const qc=(1+Math.sqrt(5))/2,Ef=1/qc,cL=[new z(1,1,1),new z(-1,1,1),new z(1,1,-1),new z(-1,1,-1),new z(0,qc,Ef),new z(0,qc,-Ef),new z(Ef,0,qc),new z(-Ef,0,qc),new z(qc,Ef,0),new z(-qc,Ef,0)];class EE{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,i=100){Nb=this._renderer.getRenderTarget(),Fb=this._renderer.getActiveCubeFace(),Ub=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=dL(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=fL(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Nb,Fb,Ub),e.scissorTest=!1,gv(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Ka||e.mapping===nc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Nb=this._renderer.getRenderTarget(),Fb=this._renderer.getActiveCubeFace(),Ub=this._renderer.getActiveMipmapLevel();const r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Nn,minFilter:Nn,generateMipmaps:!1,type:Hd,format:Ai,colorSpace:aa,depthBuffer:!1},i=uL(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=uL(e,t,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=A7(s)),this._blurMaterial=w7(s,e,t)}return i}_compileMaterial(e){const t=new or(this._lodPlanes[0],e);this._renderer.compile(t,kb)}_sceneToCubeUV(e,t,r,i){const a=new Sn(90,1,t,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,p=u.toneMapping;u.getClearColor(lL),u.toneMapping=Qo,u.autoClear=!1;const m=new us({name:"PMREM.Background",side:oi,depthWrite:!1,depthTest:!1}),g=new or(new vc,m);let y=!1;const _=e.background;_?_.isColor&&(m.color.copy(_),e.background=null,y=!0):(m.color.copy(lL),y=!0);for(let v=0;v<6;v++){const x=v%3;x===0?(a.up.set(0,l[v],0),a.lookAt(c[v],0,0)):x===1?(a.up.set(0,0,l[v]),a.lookAt(0,c[v],0)):(a.up.set(0,l[v],0),a.lookAt(0,0,c[v]));const b=this._cubeSize;gv(i,x*b,v>2?b:0,b,b),u.setRenderTarget(i),y&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=p,u.autoClear=f,e.background=_}_textureToCubeUV(e,t){const r=this._renderer,i=e.mapping===Ka||e.mapping===nc;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=dL()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=fL());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new or(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;gv(t,0,0,3*l,2*l),r.setRenderTarget(t),r.render(o,kb)}_applyPMREM(e){const t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=cL[(i-1)%cL.length];this._blur(e,i-1,i,s,o)}t.autoClear=r}_blur(e,t,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,t,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new or(this._lodPlanes[i],c),p=c.uniforms,m=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*eu-1),y=s/g,_=isFinite(s)?1+Math.floor(u*y):eu;_>eu&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to ${eu}`);const v=[];let x=0;for(let R=0;R<eu;++R){const I=R/y,T=Math.exp(-I*I/2);v.push(T),R===0?x+=T:R<_&&(x+=2*T)}for(let R=0;R<v.length;R++)v[R]=v[R]/x;p.envMap.value=e.texture,p.samples.value=_,p.weights.value=v,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:b}=this;p.dTheta.value=g,p.mipInt.value=b-r;const A=this._sizeLods[i],M=3*A*(i>b-sd?i-b+sd:0),E=4*(this._cubeSize-A);gv(t,M,E,3*A,2*A),l.setRenderTarget(t),l.render(f,kb)}}function A7(n){const e=[],t=[],r=[];let i=n;const s=n-sd+1+aL.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);t.push(a);let l=1/a;o>n-sd?l=aL[o-n+sd-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,f=1+c,p=[u,u,f,u,f,f,u,u,f,f,u,f],m=6,g=6,y=3,_=2,v=1,x=new Float32Array(y*g*m),b=new Float32Array(_*g*m),A=new Float32Array(v*g*m);for(let E=0;E<m;E++){const R=E%3*2/3-1,I=E>2?0:-1,T=[R,I,0,R+2/3,I,0,R+2/3,I+1,0,R,I,0,R+2/3,I+1,0,R,I+1,0];x.set(T,y*g*E),b.set(p,_*g*E);const P=[E,E,E,E,E,E];A.set(P,v*g*E)}const M=new Ot;M.setAttribute("position",new Yt(x,y)),M.setAttribute("uv",new Yt(b,_)),M.setAttribute("faceIndex",new Yt(A,v)),e.push(M),i>sd&&i--}return{lodPlanes:e,sizeLods:t,sigmas:r}}function uL(n,e,t){const r=new wo(n,e,t);return r.texture.mapping=_h,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function gv(n,e,t,r,i){n.viewport.set(e,t,r,i),n.scissor.set(e,t,r,i)}function w7(n,e,t){const r=new Float32Array(eu),i=new z(0,1,0);return new eo({name:"SphericalGaussianBlur",defines:{n:eu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:lC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Ha,depthTest:!1,depthWrite:!1})}function fL(){return new eo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:lC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Ha,depthTest:!1,depthWrite:!1})}function dL(){return new eo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:lC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Ha,depthTest:!1,depthWrite:!1})}function lC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function E7(n){let e=new WeakMap,t=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===bm||l===Am,u=l===Ka||l===nc;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return t===null&&(t=new EE(n)),f=c?t.fromEquirectangular(a,f):t.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(c&&f&&f.height>0||u&&f&&i(f)){t===null&&(t=new EE(n));const p=c?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:r,dispose:o}}function M7(n){const e={};function t(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=n.getExtension(r)}return e[r]=i,i}return{has:function(r){return t(r)!==null},init:function(r){r.isWebGL2?(t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance")):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(r){const i=t(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function T7(n,e,t,r){const i={},s=new WeakMap;function o(f){const p=f.target;p.index!==null&&e.remove(p.index);for(const g in p.attributes)e.remove(p.attributes[g]);for(const g in p.morphAttributes){const y=p.morphAttributes[g];for(let _=0,v=y.length;_<v;_++)e.remove(y[_])}p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,t.memory.geometries--}function a(f,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,t.memory.geometries++),p}function l(f){const p=f.attributes;for(const g in p)e.update(p[g],n.ARRAY_BUFFER);const m=f.morphAttributes;for(const g in m){const y=m[g];for(let _=0,v=y.length;_<v;_++)e.update(y[_],n.ARRAY_BUFFER)}}function c(f){const p=[],m=f.index,g=f.attributes.position;let y=0;if(m!==null){const x=m.array;y=m.version;for(let b=0,A=x.length;b<A;b+=3){const M=x[b+0],E=x[b+1],R=x[b+2];p.push(M,E,E,R,R,M)}}else if(g!==void 0){const x=g.array;y=g.version;for(let b=0,A=x.length/3-1;b<A;b+=3){const M=b+0,E=b+1,R=b+2;p.push(M,E,E,R,R,M)}}else return;const _=new(nU(p)?oC:sC)(p,1);_.version=y;const v=s.get(f);v&&e.remove(v),s.set(f,_)}function u(f){const p=s.get(f);if(p){const m=f.index;m!==null&&p.version<m.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:u}}function C7(n,e,t,r){const i=r.isWebGL2;let s;function o(m){s=m}let a,l;function c(m){a=m.type,l=m.bytesPerElement}function u(m,g){n.drawElements(s,g,a,m*l),t.update(g,s,1)}function f(m,g,y){if(y===0)return;let _,v;if(i)_=n,v="drawElementsInstanced";else if(_=e.get("ANGLE_instanced_arrays"),v="drawElementsInstancedANGLE",_===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}_[v](s,g,a,m*l,y),t.update(g,s,y)}function p(m,g,y){if(y===0)return;const _=e.get("WEBGL_multi_draw");if(_===null)for(let v=0;v<y;v++)this.render(m[v]/l,g[v]);else{_.multiDrawElementsWEBGL(s,g,0,a,m,0,y);let v=0;for(let x=0;x<y;x++)v+=g[x];t.update(v,s,1)}}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=f,this.renderMultiDraw=p}function R7(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:i,update:r}}function P7(n,e){return n[0]-e[0]}function O7(n,e){return Math.abs(e[1])-Math.abs(n[1])}function L7(n,e,t){const r={},i=new Float32Array(8),s=new WeakMap,o=new sn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,f){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,y=g!==void 0?g.length:0;let _=s.get(u);if(_===void 0||_.count!==y){let G=function(){j.dispose(),s.delete(u),u.removeEventListener("dispose",G)};var m=G;_!==void 0&&_.texture.dispose();const b=u.morphAttributes.position!==void 0,A=u.morphAttributes.normal!==void 0,M=u.morphAttributes.color!==void 0,E=u.morphAttributes.position||[],R=u.morphAttributes.normal||[],I=u.morphAttributes.color||[];let T=0;b===!0&&(T=1),A===!0&&(T=2),M===!0&&(T=3);let P=u.attributes.position.count*T,B=1;P>e.maxTextureSize&&(B=Math.ceil(P/e.maxTextureSize),P=e.maxTextureSize);const U=new Float32Array(P*B*4*y),j=new Cx(U,P,B,y);j.type=_o,j.needsUpdate=!0;const N=T*4;for(let V=0;V<y;V++){const $=E[V],F=R[V],X=I[V],Y=P*B*4*V;for(let te=0;te<$.count;te++){const ee=te*N;b===!0&&(o.fromBufferAttribute($,te),U[Y+ee+0]=o.x,U[Y+ee+1]=o.y,U[Y+ee+2]=o.z,U[Y+ee+3]=0),A===!0&&(o.fromBufferAttribute(F,te),U[Y+ee+4]=o.x,U[Y+ee+5]=o.y,U[Y+ee+6]=o.z,U[Y+ee+7]=0),M===!0&&(o.fromBufferAttribute(X,te),U[Y+ee+8]=o.x,U[Y+ee+9]=o.y,U[Y+ee+10]=o.z,U[Y+ee+11]=X.itemSize===4?o.w:1)}}_={count:y,texture:j,size:new xe(P,B)},s.set(u,_),u.addEventListener("dispose",G)}let v=0;for(let b=0;b<p.length;b++)v+=p[b];const x=u.morphTargetsRelative?1:1-v;f.getUniforms().setValue(n,"morphTargetBaseInfluence",x),f.getUniforms().setValue(n,"morphTargetInfluences",p),f.getUniforms().setValue(n,"morphTargetsTexture",_.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",_.size)}else{const g=p===void 0?0:p.length;let y=r[u.id];if(y===void 0||y.length!==g){y=[];for(let A=0;A<g;A++)y[A]=[A,0];r[u.id]=y}for(let A=0;A<g;A++){const M=y[A];M[0]=A,M[1]=p[A]}y.sort(O7);for(let A=0;A<8;A++)A<g&&y[A][1]?(a[A][0]=y[A][0],a[A][1]=y[A][1]):(a[A][0]=Number.MAX_SAFE_INTEGER,a[A][1]=0);a.sort(P7);const _=u.morphAttributes.position,v=u.morphAttributes.normal;let x=0;for(let A=0;A<8;A++){const M=a[A],E=M[0],R=M[1];E!==Number.MAX_SAFE_INTEGER&&R?(_&&u.getAttribute("morphTarget"+A)!==_[E]&&u.setAttribute("morphTarget"+A,_[E]),v&&u.getAttribute("morphNormal"+A)!==v[E]&&u.setAttribute("morphNormal"+A,v[E]),i[A]=R,x+=R):(_&&u.hasAttribute("morphTarget"+A)===!0&&u.deleteAttribute("morphTarget"+A),v&&u.hasAttribute("morphNormal"+A)===!0&&u.deleteAttribute("morphNormal"+A),i[A]=0)}const b=u.morphTargetsRelative?1:1-x;f.getUniforms().setValue(n,"morphTargetBaseInfluence",b),f.getUniforms().setValue(n,"morphTargetInfluences",i)}}return{update:l}}function I7(n,e,t,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);if(i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;i.get(p)!==c&&(p.update(),i.set(p,c))}return f}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}class cC extends Rn{constructor(e,t,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:Jl,u!==Jl&&u!==Ru)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===Jl&&(r=Na),r===void 0&&u===Ru&&(r=Yl),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Jn,this.minFilter=l!==void 0?l:Jn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}const uU=new Rn,fU=new cC(1,1);fU.compareFunction=tC;const dU=new Cx,hU=new iC,pU=new fg,hL=[],pL=[],mL=new Float32Array(16),gL=new Float32Array(9),vL=new Float32Array(4);function Sh(n,e,t){const r=n[0];if(r<=0||r>0)return n;const i=e*t;let s=hL[i];if(s===void 0&&(s=new Float32Array(i),hL[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Sr(n,e){if(n.length!==e.length)return!1;for(let t=0,r=n.length;t<r;t++)if(n[t]!==e[t])return!1;return!0}function br(n,e){for(let t=0,r=e.length;t<r;t++)n[t]=e[t]}function Rx(n,e){let t=pL[e];t===void 0&&(t=new Int32Array(e),pL[e]=t);for(let r=0;r!==e;++r)t[r]=n.allocateTextureUnit();return t}function B7(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function D7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Sr(t,e))return;n.uniform2fv(this.addr,e),br(t,e)}}function k7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Sr(t,e))return;n.uniform3fv(this.addr,e),br(t,e)}}function N7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Sr(t,e))return;n.uniform4fv(this.addr,e),br(t,e)}}function F7(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Sr(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),br(t,e)}else{if(Sr(t,r))return;vL.set(r),n.uniformMatrix2fv(this.addr,!1,vL),br(t,r)}}function U7(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Sr(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),br(t,e)}else{if(Sr(t,r))return;gL.set(r),n.uniformMatrix3fv(this.addr,!1,gL),br(t,r)}}function z7(n,e){const t=this.cache,r=e.elements;if(r===void 0){if(Sr(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),br(t,e)}else{if(Sr(t,r))return;mL.set(r),n.uniformMatrix4fv(this.addr,!1,mL),br(t,r)}}function H7(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function G7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Sr(t,e))return;n.uniform2iv(this.addr,e),br(t,e)}}function V7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Sr(t,e))return;n.uniform3iv(this.addr,e),br(t,e)}}function W7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Sr(t,e))return;n.uniform4iv(this.addr,e),br(t,e)}}function $7(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function j7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Sr(t,e))return;n.uniform2uiv(this.addr,e),br(t,e)}}function X7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Sr(t,e))return;n.uniform3uiv(this.addr,e),br(t,e)}}function K7(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Sr(t,e))return;n.uniform4uiv(this.addr,e),br(t,e)}}function Y7(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i);const s=this.type===n.SAMPLER_2D_SHADOW?fU:uU;t.setTexture2D(e||s,i)}function J7(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture3D(e||hU,i)}function q7(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTextureCube(e||pU,i)}function Q7(n,e,t){const r=this.cache,i=t.allocateTextureUnit();r[0]!==i&&(n.uniform1i(this.addr,i),r[0]=i),t.setTexture2DArray(e||dU,i)}function Z7(n){switch(n){case 5126:return B7;case 35664:return D7;case 35665:return k7;case 35666:return N7;case 35674:return F7;case 35675:return U7;case 35676:return z7;case 5124:case 35670:return H7;case 35667:case 35671:return G7;case 35668:case 35672:return V7;case 35669:case 35673:return W7;case 5125:return $7;case 36294:return j7;case 36295:return X7;case 36296:return K7;case 35678:case 36198:case 36298:case 36306:case 35682:return Y7;case 35679:case 36299:case 36307:return J7;case 35680:case 36300:case 36308:case 36293:return q7;case 36289:case 36303:case 36311:case 36292:return Q7}}function eX(n,e){n.uniform1fv(this.addr,e)}function tX(n,e){const t=Sh(e,this.size,2);n.uniform2fv(this.addr,t)}function nX(n,e){const t=Sh(e,this.size,3);n.uniform3fv(this.addr,t)}function rX(n,e){const t=Sh(e,this.size,4);n.uniform4fv(this.addr,t)}function iX(n,e){const t=Sh(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function sX(n,e){const t=Sh(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function oX(n,e){const t=Sh(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function aX(n,e){n.uniform1iv(this.addr,e)}function lX(n,e){n.uniform2iv(this.addr,e)}function cX(n,e){n.uniform3iv(this.addr,e)}function uX(n,e){n.uniform4iv(this.addr,e)}function fX(n,e){n.uniform1uiv(this.addr,e)}function dX(n,e){n.uniform2uiv(this.addr,e)}function hX(n,e){n.uniform3uiv(this.addr,e)}function pX(n,e){n.uniform4uiv(this.addr,e)}function mX(n,e,t){const r=this.cache,i=e.length,s=Rx(t,i);Sr(r,s)||(n.uniform1iv(this.addr,s),br(r,s));for(let o=0;o!==i;++o)t.setTexture2D(e[o]||uU,s[o])}function gX(n,e,t){const r=this.cache,i=e.length,s=Rx(t,i);Sr(r,s)||(n.uniform1iv(this.addr,s),br(r,s));for(let o=0;o!==i;++o)t.setTexture3D(e[o]||hU,s[o])}function vX(n,e,t){const r=this.cache,i=e.length,s=Rx(t,i);Sr(r,s)||(n.uniform1iv(this.addr,s),br(r,s));for(let o=0;o!==i;++o)t.setTextureCube(e[o]||pU,s[o])}function yX(n,e,t){const r=this.cache,i=e.length,s=Rx(t,i);Sr(r,s)||(n.uniform1iv(this.addr,s),br(r,s));for(let o=0;o!==i;++o)t.setTexture2DArray(e[o]||dU,s[o])}function _X(n){switch(n){case 5126:return eX;case 35664:return tX;case 35665:return nX;case 35666:return rX;case 35674:return iX;case 35675:return sX;case 35676:return oX;case 5124:case 35670:return aX;case 35667:case 35671:return lX;case 35668:case 35672:return cX;case 35669:case 35673:return uX;case 5125:return fX;case 36294:return dX;case 36295:return hX;case 36296:return pX;case 35678:case 36198:case 36298:case 36306:case 35682:return mX;case 35679:case 36299:case 36307:return gX;case 35680:case 36300:case 36308:case 36293:return vX;case 36289:case 36303:case 36311:case 36292:return yX}}class xX{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.setValue=Z7(t.type)}}class SX{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=_X(t.type)}}class bX{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,t[a.id],r)}}}const zb=/(\w+)(\])?(\[|\.)?/g;function yL(n,e){n.seq.push(e),n.map[e.id]=e}function AX(n,e,t){const r=n.name,i=r.length;for(zb.lastIndex=0;;){const s=zb.exec(r),o=zb.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){yL(t,c===void 0?new xX(a,n,e):new SX(a,n,e));break}else{let f=t.map[a];f===void 0&&(f=new bX(a),yL(t,f)),t=f}}}class wy{constructor(e,t){this.seq=[],this.map={};const r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(t,i),o=e.getUniformLocation(t,s.name);AX(s,o,this)}}setValue(e,t,r,i){const s=this.map[t];s!==void 0&&s.setValue(e,r,i)}setOptional(e,t,r){const i=t[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,t,r,i){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,t){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in t&&r.push(o)}return r}}function _L(n,e,t){const r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}const wX=37297;let EX=0;function MX(n,e){const t=n.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return r.join(`
`)}function TX(n){const e=rn.getPrimaries(rn.workingColorSpace),t=rn.getPrimaries(n);let r;switch(e===t?r="":e===Cm&&t===Tm?r="LinearDisplayP3ToLinearSRGB":e===Tm&&t===Cm&&(r="LinearSRGBToLinearDisplayP3"),n){case aa:case lg:return[r,"LinearTransferOETF"];case _r:case Tx:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[r,"LinearTransferOETF"]}}function xL(n,e,t){const r=n.getShaderParameter(e,n.COMPILE_STATUS),i=n.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+i+`

`+MX(n.getShaderSource(e),o)}else return i}function CX(n,e){const t=TX(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function RX(n,e){let t;switch(e){case TF:t="Linear";break;case CF:t="Reinhard";break;case RF:t="OptimizedCineon";break;case WT:t="ACESFilmic";break;case OF:t="AgX";break;case PF:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function PX(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||n.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(od).join(`
`)}function OX(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":""].filter(od).join(`
`)}function LX(n){const e=[];for(const t in n){const r=n[t];r!==!1&&e.push("#define "+t+" "+r)}return e.join(`
`)}function IX(n,e){const t={},r=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=n.getActiveAttrib(e,i),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function od(n){return n!==""}function SL(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function bL(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const BX=/^[ \t]*#include +<([\w\d./]+)>/gm;function ME(n){return n.replace(BX,kX)}const DX=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function kX(n,e){let t=Lt[e];if(t===void 0){const r=DX.get(e);if(r!==void 0)t=Lt[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return ME(t)}const NX=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function AL(n){return n.replace(NX,FX)}function FX(n,e,t,r){let i="";for(let s=parseInt(e);s<parseInt(t);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function wL(n){let e="precision "+n.precision+` float;
precision `+n.precision+" int;";return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function UX(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===bx?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===xd?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===po&&(e="SHADOWMAP_TYPE_VSM"),e}function zX(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Ka:case nc:e="ENVMAP_TYPE_CUBE";break;case _h:e="ENVMAP_TYPE_CUBE_UV";break}return e}function HX(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case nc:e="ENVMAP_MODE_REFRACTION";break}return e}function GX(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case ag:e="ENVMAP_BLENDING_MULTIPLY";break;case EF:e="ENVMAP_BLENDING_MIX";break;case MF:e="ENVMAP_BLENDING_ADD";break}return e}function VX(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:r,maxMip:t}}function WX(n,e,t,r){const i=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=UX(t),c=zX(t),u=HX(t),f=GX(t),p=VX(t),m=t.isWebGL2?"":PX(t),g=OX(t),y=LX(s),_=i.createProgram();let v,x,b=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(v=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y].filter(od).join(`
`),v.length>0&&(v+=`
`),x=[m,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y].filter(od).join(`
`),x.length>0&&(x+=`
`)):(v=[wL(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(od).join(`
`),x=[m,wL(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,y,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Qo?"#define TONE_MAPPING":"",t.toneMapping!==Qo?Lt.tonemapping_pars_fragment:"",t.toneMapping!==Qo?RX("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Lt.colorspace_pars_fragment,CX("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(od).join(`
`)),o=ME(o),o=SL(o,t),o=bL(o,t),a=ME(a),a=SL(a,t),a=bL(a,t),o=AL(o),a=AL(a),t.isWebGL2&&t.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,v=[g,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,x=["precision mediump sampler2DArray;","#define varying in",t.glslVersion===AE?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===AE?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+x);const A=b+v+o,M=b+x+a,E=_L(i,i.VERTEX_SHADER,A),R=_L(i,i.FRAGMENT_SHADER,M);i.attachShader(_,E),i.attachShader(_,R),t.index0AttributeName!==void 0?i.bindAttribLocation(_,0,t.index0AttributeName):t.morphTargets===!0&&i.bindAttribLocation(_,0,"position"),i.linkProgram(_);function I(U){if(n.debug.checkShaderErrors){const j=i.getProgramInfoLog(_).trim(),N=i.getShaderInfoLog(E).trim(),G=i.getShaderInfoLog(R).trim();let V=!0,$=!0;if(i.getProgramParameter(_,i.LINK_STATUS)===!1)if(V=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(i,_,E,R);else{const F=xL(i,E,"vertex"),X=xL(i,R,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(_,i.VALIDATE_STATUS)+`

Program Info Log: `+j+`
`+F+`
`+X)}else j!==""?console.warn("THREE.WebGLProgram: Program Info Log:",j):(N===""||G==="")&&($=!1);$&&(U.diagnostics={runnable:V,programLog:j,vertexShader:{log:N,prefix:v},fragmentShader:{log:G,prefix:x}})}i.deleteShader(E),i.deleteShader(R),T=new wy(i,_),P=IX(i,_)}let T;this.getUniforms=function(){return T===void 0&&I(this),T};let P;this.getAttributes=function(){return P===void 0&&I(this),P};let B=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return B===!1&&(B=i.getProgramParameter(_,wX)),B},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(_),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=EX++,this.cacheKey=e,this.usedTimes=1,this.program=_,this.vertexShader=E,this.fragmentShader=R,this}let $X=0;class jX{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(t),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){const t=this.shaderCache;let r=t.get(e);return r===void 0&&(r=new XX(e),t.set(e,r)),r}}class XX{constructor(e){this.id=$X++,this.code=e,this.usedTimes=0}}function KX(n,e,t,r,i,s,o){const a=new mu,l=new jX,c=[],u=i.isWebGL2,f=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(T){return T===0?"uv":`uv${T}`}function _(T,P,B,U,j){const N=U.fog,G=j.geometry,V=T.isMeshStandardMaterial?U.environment:null,$=(T.isMeshStandardMaterial?t:e).get(T.envMap||V),F=$&&$.mapping===_h?$.image.height:null,X=g[T.type];T.precision!==null&&(m=i.getMaxPrecision(T.precision),m!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",m,"instead."));const Y=G.morphAttributes.position||G.morphAttributes.normal||G.morphAttributes.color,te=Y!==void 0?Y.length:0;let ee=0;G.morphAttributes.position!==void 0&&(ee=1),G.morphAttributes.normal!==void 0&&(ee=2),G.morphAttributes.color!==void 0&&(ee=3);let J,ne,ue,Ae;if(X){const dn=vo[X];J=dn.vertexShader,ne=dn.fragmentShader}else J=T.vertexShader,ne=T.fragmentShader,l.update(T),ue=l.getVertexShaderID(T),Ae=l.getFragmentShaderID(T);const Re=n.getRenderTarget(),Qe=j.isInstancedMesh===!0,Ve=j.isBatchedMesh===!0,Fe=!!T.map,Le=!!T.matcap,K=!!$,_e=!!T.aoMap,me=!!T.lightMap,we=!!T.bumpMap,ve=!!T.normalMap,Xe=!!T.displacementMap,Ue=!!T.emissiveMap,k=!!T.metalnessMap,D=!!T.roughnessMap,ie=T.anisotropy>0,Ee=T.clearcoat>0,oe=T.iridescence>0,le=T.sheen>0,ke=T.transmission>0,Te=ie&&!!T.anisotropyMap,Ie=Ee&&!!T.clearcoatMap,Ze=Ee&&!!T.clearcoatNormalMap,Pe=Ee&&!!T.clearcoatRoughnessMap,be=oe&&!!T.iridescenceMap,Et=oe&&!!T.iridescenceThicknessMap,pt=le&&!!T.sheenColorMap,dt=le&&!!T.sheenRoughnessMap,ot=!!T.specularMap,He=!!T.specularColorMap,Q=!!T.specularIntensityMap,Se=ke&&!!T.transmissionMap,$e=ke&&!!T.thicknessMap,Ke=!!T.gradientMap,Ce=!!T.alphaMap,Z=T.alphaTest>0,ze=!!T.alphaHash,We=!!T.extensions,ht=!!G.attributes.uv1,nt=!!G.attributes.uv2,Bt=!!G.attributes.uv3;let Ut=Qo;return T.toneMapped&&(Re===null||Re.isXRRenderTarget===!0)&&(Ut=n.toneMapping),{isWebGL2:u,shaderID:X,shaderType:T.type,shaderName:T.name,vertexShader:J,fragmentShader:ne,defines:T.defines,customVertexShaderID:ue,customFragmentShaderID:Ae,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:m,batching:Ve,instancing:Qe,instancingColor:Qe&&j.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:Re===null?n.outputColorSpace:Re.isXRRenderTarget===!0?Re.texture.colorSpace:aa,map:Fe,matcap:Le,envMap:K,envMapMode:K&&$.mapping,envMapCubeUVHeight:F,aoMap:_e,lightMap:me,bumpMap:we,normalMap:ve,displacementMap:p&&Xe,emissiveMap:Ue,normalMapObjectSpace:ve&&T.normalMapType===XF,normalMapTangentSpace:ve&&T.normalMapType===gc,metalnessMap:k,roughnessMap:D,anisotropy:ie,anisotropyMap:Te,clearcoat:Ee,clearcoatMap:Ie,clearcoatNormalMap:Ze,clearcoatRoughnessMap:Pe,iridescence:oe,iridescenceMap:be,iridescenceThicknessMap:Et,sheen:le,sheenColorMap:pt,sheenRoughnessMap:dt,specularMap:ot,specularColorMap:He,specularIntensityMap:Q,transmission:ke,transmissionMap:Se,thicknessMap:$e,gradientMap:Ke,opaque:T.transparent===!1&&T.blending===hu,alphaMap:Ce,alphaTest:Z,alphaHash:ze,combine:T.combine,mapUv:Fe&&y(T.map.channel),aoMapUv:_e&&y(T.aoMap.channel),lightMapUv:me&&y(T.lightMap.channel),bumpMapUv:we&&y(T.bumpMap.channel),normalMapUv:ve&&y(T.normalMap.channel),displacementMapUv:Xe&&y(T.displacementMap.channel),emissiveMapUv:Ue&&y(T.emissiveMap.channel),metalnessMapUv:k&&y(T.metalnessMap.channel),roughnessMapUv:D&&y(T.roughnessMap.channel),anisotropyMapUv:Te&&y(T.anisotropyMap.channel),clearcoatMapUv:Ie&&y(T.clearcoatMap.channel),clearcoatNormalMapUv:Ze&&y(T.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Pe&&y(T.clearcoatRoughnessMap.channel),iridescenceMapUv:be&&y(T.iridescenceMap.channel),iridescenceThicknessMapUv:Et&&y(T.iridescenceThicknessMap.channel),sheenColorMapUv:pt&&y(T.sheenColorMap.channel),sheenRoughnessMapUv:dt&&y(T.sheenRoughnessMap.channel),specularMapUv:ot&&y(T.specularMap.channel),specularColorMapUv:He&&y(T.specularColorMap.channel),specularIntensityMapUv:Q&&y(T.specularIntensityMap.channel),transmissionMapUv:Se&&y(T.transmissionMap.channel),thicknessMapUv:$e&&y(T.thicknessMap.channel),alphaMapUv:Ce&&y(T.alphaMap.channel),vertexTangents:!!G.attributes.tangent&&(ve||ie),vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!G.attributes.color&&G.attributes.color.itemSize===4,vertexUv1s:ht,vertexUv2s:nt,vertexUv3s:Bt,pointsUvs:j.isPoints===!0&&!!G.attributes.uv&&(Fe||Ce),fog:!!N,useFog:T.fog===!0,fogExp2:N&&N.isFogExp2,flatShading:T.flatShading===!0,sizeAttenuation:T.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:j.isSkinnedMesh===!0,morphTargets:G.morphAttributes.position!==void 0,morphNormals:G.morphAttributes.normal!==void 0,morphColors:G.morphAttributes.color!==void 0,morphTargetsCount:te,morphTextureStride:ee,numDirLights:P.directional.length,numPointLights:P.point.length,numSpotLights:P.spot.length,numSpotLightMaps:P.spotLightMap.length,numRectAreaLights:P.rectArea.length,numHemiLights:P.hemi.length,numDirLightShadows:P.directionalShadowMap.length,numPointLightShadows:P.pointShadowMap.length,numSpotLightShadows:P.spotShadowMap.length,numSpotLightShadowsWithMaps:P.numSpotLightShadowsWithMaps,numLightProbes:P.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:T.dithering,shadowMapEnabled:n.shadowMap.enabled&&B.length>0,shadowMapType:n.shadowMap.type,toneMapping:Ut,useLegacyLights:n._useLegacyLights,decodeVideoTexture:Fe&&T.map.isVideoTexture===!0&&rn.getTransfer(T.map.colorSpace)===pn,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===Ws,flipSided:T.side===oi,useDepthPacking:T.depthPacking>=0,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionDerivatives:We&&T.extensions.derivatives===!0,extensionFragDepth:We&&T.extensions.fragDepth===!0,extensionDrawBuffers:We&&T.extensions.drawBuffers===!0,extensionShaderTextureLOD:We&&T.extensions.shaderTextureLOD===!0,extensionClipCullDistance:We&&T.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:T.customProgramCacheKey()}}function v(T){const P=[];if(T.shaderID?P.push(T.shaderID):(P.push(T.customVertexShaderID),P.push(T.customFragmentShaderID)),T.defines!==void 0)for(const B in T.defines)P.push(B),P.push(T.defines[B]);return T.isRawShaderMaterial===!1&&(x(P,T),b(P,T),P.push(n.outputColorSpace)),P.push(T.customProgramCacheKey),P.join()}function x(T,P){T.push(P.precision),T.push(P.outputColorSpace),T.push(P.envMapMode),T.push(P.envMapCubeUVHeight),T.push(P.mapUv),T.push(P.alphaMapUv),T.push(P.lightMapUv),T.push(P.aoMapUv),T.push(P.bumpMapUv),T.push(P.normalMapUv),T.push(P.displacementMapUv),T.push(P.emissiveMapUv),T.push(P.metalnessMapUv),T.push(P.roughnessMapUv),T.push(P.anisotropyMapUv),T.push(P.clearcoatMapUv),T.push(P.clearcoatNormalMapUv),T.push(P.clearcoatRoughnessMapUv),T.push(P.iridescenceMapUv),T.push(P.iridescenceThicknessMapUv),T.push(P.sheenColorMapUv),T.push(P.sheenRoughnessMapUv),T.push(P.specularMapUv),T.push(P.specularColorMapUv),T.push(P.specularIntensityMapUv),T.push(P.transmissionMapUv),T.push(P.thicknessMapUv),T.push(P.combine),T.push(P.fogExp2),T.push(P.sizeAttenuation),T.push(P.morphTargetsCount),T.push(P.morphAttributeCount),T.push(P.numDirLights),T.push(P.numPointLights),T.push(P.numSpotLights),T.push(P.numSpotLightMaps),T.push(P.numHemiLights),T.push(P.numRectAreaLights),T.push(P.numDirLightShadows),T.push(P.numPointLightShadows),T.push(P.numSpotLightShadows),T.push(P.numSpotLightShadowsWithMaps),T.push(P.numLightProbes),T.push(P.shadowMapType),T.push(P.toneMapping),T.push(P.numClippingPlanes),T.push(P.numClipIntersection),T.push(P.depthPacking)}function b(T,P){a.disableAll(),P.isWebGL2&&a.enable(0),P.supportsVertexTextures&&a.enable(1),P.instancing&&a.enable(2),P.instancingColor&&a.enable(3),P.matcap&&a.enable(4),P.envMap&&a.enable(5),P.normalMapObjectSpace&&a.enable(6),P.normalMapTangentSpace&&a.enable(7),P.clearcoat&&a.enable(8),P.iridescence&&a.enable(9),P.alphaTest&&a.enable(10),P.vertexColors&&a.enable(11),P.vertexAlphas&&a.enable(12),P.vertexUv1s&&a.enable(13),P.vertexUv2s&&a.enable(14),P.vertexUv3s&&a.enable(15),P.vertexTangents&&a.enable(16),P.anisotropy&&a.enable(17),P.alphaHash&&a.enable(18),P.batching&&a.enable(19),T.push(a.mask),a.disableAll(),P.fog&&a.enable(0),P.useFog&&a.enable(1),P.flatShading&&a.enable(2),P.logarithmicDepthBuffer&&a.enable(3),P.skinning&&a.enable(4),P.morphTargets&&a.enable(5),P.morphNormals&&a.enable(6),P.morphColors&&a.enable(7),P.premultipliedAlpha&&a.enable(8),P.shadowMapEnabled&&a.enable(9),P.useLegacyLights&&a.enable(10),P.doubleSided&&a.enable(11),P.flipSided&&a.enable(12),P.useDepthPacking&&a.enable(13),P.dithering&&a.enable(14),P.transmission&&a.enable(15),P.sheen&&a.enable(16),P.opaque&&a.enable(17),P.pointsUvs&&a.enable(18),P.decodeVideoTexture&&a.enable(19),T.push(a.mask)}function A(T){const P=g[T.type];let B;if(P){const U=vo[P];B=aC.clone(U.uniforms)}else B=T.uniforms;return B}function M(T,P){let B;for(let U=0,j=c.length;U<j;U++){const N=c[U];if(N.cacheKey===P){B=N,++B.usedTimes;break}}return B===void 0&&(B=new WX(n,P,T,s),c.push(B)),B}function E(T){if(--T.usedTimes===0){const P=c.indexOf(T);c[P]=c[c.length-1],c.pop(),T.destroy()}}function R(T){l.remove(T)}function I(){l.dispose()}return{getParameters:_,getProgramCacheKey:v,getUniforms:A,acquireProgram:M,releaseProgram:E,releaseShaderCache:R,programs:c,dispose:I}}function YX(){let n=new WeakMap;function e(s){let o=n.get(s);return o===void 0&&(o={},n.set(s,o)),o}function t(s){n.delete(s)}function r(s,o,a){n.get(s)[o]=a}function i(){n=new WeakMap}return{get:e,remove:t,update:r,dispose:i}}function JX(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function EL(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function ML(){const n=[];let e=0;const t=[],r=[],i=[];function s(){e=0,t.length=0,r.length=0,i.length=0}function o(f,p,m,g,y,_){let v=n[e];return v===void 0?(v={id:f.id,object:f,geometry:p,material:m,groupOrder:g,renderOrder:f.renderOrder,z:y,group:_},n[e]=v):(v.id=f.id,v.object=f,v.geometry=p,v.material=m,v.groupOrder=g,v.renderOrder=f.renderOrder,v.z=y,v.group=_),e++,v}function a(f,p,m,g,y,_){const v=o(f,p,m,g,y,_);m.transmission>0?r.push(v):m.transparent===!0?i.push(v):t.push(v)}function l(f,p,m,g,y,_){const v=o(f,p,m,g,y,_);m.transmission>0?r.unshift(v):m.transparent===!0?i.unshift(v):t.unshift(v)}function c(f,p){t.length>1&&t.sort(f||JX),r.length>1&&r.sort(p||EL),i.length>1&&i.sort(p||EL)}function u(){for(let f=e,p=n.length;f<p;f++){const m=n[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:t,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function qX(){let n=new WeakMap;function e(r,i){const s=n.get(r);let o;return s===void 0?(o=new ML,n.set(r,[o])):i>=s.length?(o=new ML,s.push(o)):o=s[i],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function QX(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new z,color:new De};break;case"SpotLight":t={position:new z,direction:new z,color:new De,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new z,color:new De,distance:0,decay:0};break;case"HemisphereLight":t={direction:new z,skyColor:new De,groundColor:new De};break;case"RectAreaLight":t={color:new De,position:new z,halfWidth:new z,halfHeight:new z};break}return n[e.id]=t,t}}}function ZX(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xe};break;case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xe};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new xe,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let eK=0;function tK(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function nK(n,e){const t=new QX,r=ZX(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new z);const s=new z,o=new vt,a=new vt;function l(u,f){let p=0,m=0,g=0;for(let U=0;U<9;U++)i.probe[U].set(0,0,0);let y=0,_=0,v=0,x=0,b=0,A=0,M=0,E=0,R=0,I=0,T=0;u.sort(tK);const P=f===!0?Math.PI:1;for(let U=0,j=u.length;U<j;U++){const N=u[U],G=N.color,V=N.intensity,$=N.distance,F=N.shadow&&N.shadow.map?N.shadow.map.texture:null;if(N.isAmbientLight)p+=G.r*V*P,m+=G.g*V*P,g+=G.b*V*P;else if(N.isLightProbe){for(let X=0;X<9;X++)i.probe[X].addScaledVector(N.sh.coefficients[X],V);T++}else if(N.isDirectionalLight){const X=t.get(N);if(X.color.copy(N.color).multiplyScalar(N.intensity*P),N.castShadow){const Y=N.shadow,te=r.get(N);te.shadowBias=Y.bias,te.shadowNormalBias=Y.normalBias,te.shadowRadius=Y.radius,te.shadowMapSize=Y.mapSize,i.directionalShadow[y]=te,i.directionalShadowMap[y]=F,i.directionalShadowMatrix[y]=N.shadow.matrix,A++}i.directional[y]=X,y++}else if(N.isSpotLight){const X=t.get(N);X.position.setFromMatrixPosition(N.matrixWorld),X.color.copy(G).multiplyScalar(V*P),X.distance=$,X.coneCos=Math.cos(N.angle),X.penumbraCos=Math.cos(N.angle*(1-N.penumbra)),X.decay=N.decay,i.spot[v]=X;const Y=N.shadow;if(N.map&&(i.spotLightMap[R]=N.map,R++,Y.updateMatrices(N),N.castShadow&&I++),i.spotLightMatrix[v]=Y.matrix,N.castShadow){const te=r.get(N);te.shadowBias=Y.bias,te.shadowNormalBias=Y.normalBias,te.shadowRadius=Y.radius,te.shadowMapSize=Y.mapSize,i.spotShadow[v]=te,i.spotShadowMap[v]=F,E++}v++}else if(N.isRectAreaLight){const X=t.get(N);X.color.copy(G).multiplyScalar(V),X.halfWidth.set(N.width*.5,0,0),X.halfHeight.set(0,N.height*.5,0),i.rectArea[x]=X,x++}else if(N.isPointLight){const X=t.get(N);if(X.color.copy(N.color).multiplyScalar(N.intensity*P),X.distance=N.distance,X.decay=N.decay,N.castShadow){const Y=N.shadow,te=r.get(N);te.shadowBias=Y.bias,te.shadowNormalBias=Y.normalBias,te.shadowRadius=Y.radius,te.shadowMapSize=Y.mapSize,te.shadowCameraNear=Y.camera.near,te.shadowCameraFar=Y.camera.far,i.pointShadow[_]=te,i.pointShadowMap[_]=F,i.pointShadowMatrix[_]=N.shadow.matrix,M++}i.point[_]=X,_++}else if(N.isHemisphereLight){const X=t.get(N);X.skyColor.copy(N.color).multiplyScalar(V*P),X.groundColor.copy(N.groundColor).multiplyScalar(V*P),i.hemi[b]=X,b++}}x>0&&(e.isWebGL2?n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ge.LTC_FLOAT_1,i.rectAreaLTC2=Ge.LTC_FLOAT_2):(i.rectAreaLTC1=Ge.LTC_HALF_1,i.rectAreaLTC2=Ge.LTC_HALF_2):n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ge.LTC_FLOAT_1,i.rectAreaLTC2=Ge.LTC_FLOAT_2):n.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ge.LTC_HALF_1,i.rectAreaLTC2=Ge.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=g;const B=i.hash;(B.directionalLength!==y||B.pointLength!==_||B.spotLength!==v||B.rectAreaLength!==x||B.hemiLength!==b||B.numDirectionalShadows!==A||B.numPointShadows!==M||B.numSpotShadows!==E||B.numSpotMaps!==R||B.numLightProbes!==T)&&(i.directional.length=y,i.spot.length=v,i.rectArea.length=x,i.point.length=_,i.hemi.length=b,i.directionalShadow.length=A,i.directionalShadowMap.length=A,i.pointShadow.length=M,i.pointShadowMap.length=M,i.spotShadow.length=E,i.spotShadowMap.length=E,i.directionalShadowMatrix.length=A,i.pointShadowMatrix.length=M,i.spotLightMatrix.length=E+R-I,i.spotLightMap.length=R,i.numSpotLightShadowsWithMaps=I,i.numLightProbes=T,B.directionalLength=y,B.pointLength=_,B.spotLength=v,B.rectAreaLength=x,B.hemiLength=b,B.numDirectionalShadows=A,B.numPointShadows=M,B.numSpotShadows=E,B.numSpotMaps=R,B.numLightProbes=T,i.version=eK++)}function c(u,f){let p=0,m=0,g=0,y=0,_=0;const v=f.matrixWorldInverse;for(let x=0,b=u.length;x<b;x++){const A=u[x];if(A.isDirectionalLight){const M=i.directional[p];M.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(v),p++}else if(A.isSpotLight){const M=i.spot[g];M.position.setFromMatrixPosition(A.matrixWorld),M.position.applyMatrix4(v),M.direction.setFromMatrixPosition(A.matrixWorld),s.setFromMatrixPosition(A.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(v),g++}else if(A.isRectAreaLight){const M=i.rectArea[y];M.position.setFromMatrixPosition(A.matrixWorld),M.position.applyMatrix4(v),a.identity(),o.copy(A.matrixWorld),o.premultiply(v),a.extractRotation(o),M.halfWidth.set(A.width*.5,0,0),M.halfHeight.set(0,A.height*.5,0),M.halfWidth.applyMatrix4(a),M.halfHeight.applyMatrix4(a),y++}else if(A.isPointLight){const M=i.point[m];M.position.setFromMatrixPosition(A.matrixWorld),M.position.applyMatrix4(v),m++}else if(A.isHemisphereLight){const M=i.hemi[_];M.direction.setFromMatrixPosition(A.matrixWorld),M.direction.transformDirection(v),_++}}}return{setup:l,setupView:c,state:i}}function TL(n,e){const t=new nK(n,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){t.setup(r,f)}function c(f){t.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:t},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function rK(n,e){let t=new WeakMap;function r(s,o=0){const a=t.get(s);let l;return a===void 0?(l=new TL(n,e),t.set(s,[l])):o>=a.length?(l=new TL(n,e),a.push(l)):l=a[o],l}function i(){t=new WeakMap}return{get:r,dispose:i}}class uC extends pr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=$F,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class fC extends pr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const iK=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,sK=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function oK(n,e,t){let r=new dg;const i=new xe,s=new xe,o=new sn,a=new uC({depthPacking:jF}),l=new fC,c={},u=t.maxTextureSize,f={[sa]:oi,[oi]:sa,[Ws]:Ws},p=new eo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new xe},radius:{value:4}},vertexShader:iK,fragmentShader:sK}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const g=new Ot;g.setAttribute("position",new Yt(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new or(g,p),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=bx;let v=this.type;this.render=function(E,R,I){if(_.enabled===!1||_.autoUpdate===!1&&_.needsUpdate===!1||E.length===0)return;const T=n.getRenderTarget(),P=n.getActiveCubeFace(),B=n.getActiveMipmapLevel(),U=n.state;U.setBlending(Ha),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);const j=v!==po&&this.type===po,N=v===po&&this.type!==po;for(let G=0,V=E.length;G<V;G++){const $=E[G],F=$.shadow;if(F===void 0){console.warn("THREE.WebGLShadowMap:",$,"has no shadow.");continue}if(F.autoUpdate===!1&&F.needsUpdate===!1)continue;i.copy(F.mapSize);const X=F.getFrameExtents();if(i.multiply(X),s.copy(F.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/X.x),i.x=s.x*X.x,F.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/X.y),i.y=s.y*X.y,F.mapSize.y=s.y)),F.map===null||j===!0||N===!0){const te=this.type!==po?{minFilter:Jn,magFilter:Jn}:{};F.map!==null&&F.map.dispose(),F.map=new wo(i.x,i.y,te),F.map.texture.name=$.name+".shadowMap",F.camera.updateProjectionMatrix()}n.setRenderTarget(F.map),n.clear();const Y=F.getViewportCount();for(let te=0;te<Y;te++){const ee=F.getViewport(te);o.set(s.x*ee.x,s.y*ee.y,s.x*ee.z,s.y*ee.w),U.viewport(o),F.updateMatrices($,te),r=F.getFrustum(),A(R,I,F.camera,$,this.type)}F.isPointLightShadow!==!0&&this.type===po&&x(F,I),F.needsUpdate=!1}v=this.type,_.needsUpdate=!1,n.setRenderTarget(T,P,B)};function x(E,R){const I=e.update(y);p.defines.VSM_SAMPLES!==E.blurSamples&&(p.defines.VSM_SAMPLES=E.blurSamples,m.defines.VSM_SAMPLES=E.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),E.mapPass===null&&(E.mapPass=new wo(i.x,i.y)),p.uniforms.shadow_pass.value=E.map.texture,p.uniforms.resolution.value=E.mapSize,p.uniforms.radius.value=E.radius,n.setRenderTarget(E.mapPass),n.clear(),n.renderBufferDirect(R,null,I,p,y,null),m.uniforms.shadow_pass.value=E.mapPass.texture,m.uniforms.resolution.value=E.mapSize,m.uniforms.radius.value=E.radius,n.setRenderTarget(E.map),n.clear(),n.renderBufferDirect(R,null,I,m,y,null)}function b(E,R,I,T){let P=null;const B=I.isPointLight===!0?E.customDistanceMaterial:E.customDepthMaterial;if(B!==void 0)P=B;else if(P=I.isPointLight===!0?l:a,n.localClippingEnabled&&R.clipShadows===!0&&Array.isArray(R.clippingPlanes)&&R.clippingPlanes.length!==0||R.displacementMap&&R.displacementScale!==0||R.alphaMap&&R.alphaTest>0||R.map&&R.alphaTest>0){const U=P.uuid,j=R.uuid;let N=c[U];N===void 0&&(N={},c[U]=N);let G=N[j];G===void 0&&(G=P.clone(),N[j]=G,R.addEventListener("dispose",M)),P=G}if(P.visible=R.visible,P.wireframe=R.wireframe,T===po?P.side=R.shadowSide!==null?R.shadowSide:R.side:P.side=R.shadowSide!==null?R.shadowSide:f[R.side],P.alphaMap=R.alphaMap,P.alphaTest=R.alphaTest,P.map=R.map,P.clipShadows=R.clipShadows,P.clippingPlanes=R.clippingPlanes,P.clipIntersection=R.clipIntersection,P.displacementMap=R.displacementMap,P.displacementScale=R.displacementScale,P.displacementBias=R.displacementBias,P.wireframeLinewidth=R.wireframeLinewidth,P.linewidth=R.linewidth,I.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const U=n.properties.get(P);U.light=I}return P}function A(E,R,I,T,P){if(E.visible===!1)return;if(E.layers.test(R.layers)&&(E.isMesh||E.isLine||E.isPoints)&&(E.castShadow||E.receiveShadow&&P===po)&&(!E.frustumCulled||r.intersectsObject(E))){E.modelViewMatrix.multiplyMatrices(I.matrixWorldInverse,E.matrixWorld);const j=e.update(E),N=E.material;if(Array.isArray(N)){const G=j.groups;for(let V=0,$=G.length;V<$;V++){const F=G[V],X=N[F.materialIndex];if(X&&X.visible){const Y=b(E,X,T,P);E.onBeforeShadow(n,E,R,I,j,Y,F),n.renderBufferDirect(I,null,j,Y,E,F),E.onAfterShadow(n,E,R,I,j,Y,F)}}}else if(N.visible){const G=b(E,N,T,P);E.onBeforeShadow(n,E,R,I,j,G,null),n.renderBufferDirect(I,null,j,G,E,null),E.onAfterShadow(n,E,R,I,j,G,null)}}const U=E.children;for(let j=0,N=U.length;j<N;j++)A(U[j],R,I,T,P)}function M(E){E.target.removeEventListener("dispose",M);for(const I in c){const T=c[I],P=E.target.uuid;P in T&&(T[P].dispose(),delete T[P])}}}function aK(n,e,t){const r=t.isWebGL2;function i(){let Z=!1;const ze=new sn;let We=null;const ht=new sn(0,0,0,0);return{setMask:function(nt){We!==nt&&!Z&&(n.colorMask(nt,nt,nt,nt),We=nt)},setLocked:function(nt){Z=nt},setClear:function(nt,Bt,Ut,nn,dn){dn===!0&&(nt*=nn,Bt*=nn,Ut*=nn),ze.set(nt,Bt,Ut,nn),ht.equals(ze)===!1&&(n.clearColor(nt,Bt,Ut,nn),ht.copy(ze))},reset:function(){Z=!1,We=null,ht.set(-1,0,0,0)}}}function s(){let Z=!1,ze=null,We=null,ht=null;return{setTest:function(nt){nt?Ve(n.DEPTH_TEST):Fe(n.DEPTH_TEST)},setMask:function(nt){ze!==nt&&!Z&&(n.depthMask(nt),ze=nt)},setFunc:function(nt){if(We!==nt){switch(nt){case yF:n.depthFunc(n.NEVER);break;case _F:n.depthFunc(n.ALWAYS);break;case xF:n.depthFunc(n.LESS);break;case Sm:n.depthFunc(n.LEQUAL);break;case SF:n.depthFunc(n.EQUAL);break;case bF:n.depthFunc(n.GEQUAL);break;case AF:n.depthFunc(n.GREATER);break;case wF:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}We=nt}},setLocked:function(nt){Z=nt},setClear:function(nt){ht!==nt&&(n.clearDepth(nt),ht=nt)},reset:function(){Z=!1,ze=null,We=null,ht=null}}}function o(){let Z=!1,ze=null,We=null,ht=null,nt=null,Bt=null,Ut=null,nn=null,dn=null;return{setTest:function(Wt){Z||(Wt?Ve(n.STENCIL_TEST):Fe(n.STENCIL_TEST))},setMask:function(Wt){ze!==Wt&&!Z&&(n.stencilMask(Wt),ze=Wt)},setFunc:function(Wt,gr,Ri){(We!==Wt||ht!==gr||nt!==Ri)&&(n.stencilFunc(Wt,gr,Ri),We=Wt,ht=gr,nt=Ri)},setOp:function(Wt,gr,Ri){(Bt!==Wt||Ut!==gr||nn!==Ri)&&(n.stencilOp(Wt,gr,Ri),Bt=Wt,Ut=gr,nn=Ri)},setLocked:function(Wt){Z=Wt},setClear:function(Wt){dn!==Wt&&(n.clearStencil(Wt),dn=Wt)},reset:function(){Z=!1,ze=null,We=null,ht=null,nt=null,Bt=null,Ut=null,nn=null,dn=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,f=new WeakMap;let p={},m={},g=new WeakMap,y=[],_=null,v=!1,x=null,b=null,A=null,M=null,E=null,R=null,I=null,T=new De(0,0,0),P=0,B=!1,U=null,j=null,N=null,G=null,V=null;const $=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let F=!1,X=0;const Y=n.getParameter(n.VERSION);Y.indexOf("WebGL")!==-1?(X=parseFloat(/^WebGL (\d)/.exec(Y)[1]),F=X>=1):Y.indexOf("OpenGL ES")!==-1&&(X=parseFloat(/^OpenGL ES (\d)/.exec(Y)[1]),F=X>=2);let te=null,ee={};const J=n.getParameter(n.SCISSOR_BOX),ne=n.getParameter(n.VIEWPORT),ue=new sn().fromArray(J),Ae=new sn().fromArray(ne);function Re(Z,ze,We,ht){const nt=new Uint8Array(4),Bt=n.createTexture();n.bindTexture(Z,Bt),n.texParameteri(Z,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Z,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Ut=0;Ut<We;Ut++)r&&(Z===n.TEXTURE_3D||Z===n.TEXTURE_2D_ARRAY)?n.texImage3D(ze,0,n.RGBA,1,1,ht,0,n.RGBA,n.UNSIGNED_BYTE,nt):n.texImage2D(ze+Ut,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,nt);return Bt}const Qe={};Qe[n.TEXTURE_2D]=Re(n.TEXTURE_2D,n.TEXTURE_2D,1),Qe[n.TEXTURE_CUBE_MAP]=Re(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(Qe[n.TEXTURE_2D_ARRAY]=Re(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Qe[n.TEXTURE_3D]=Re(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Ve(n.DEPTH_TEST),l.setFunc(Sm),Ue(!1),k(Ww),Ve(n.CULL_FACE),ve(Ha);function Ve(Z){p[Z]!==!0&&(n.enable(Z),p[Z]=!0)}function Fe(Z){p[Z]!==!1&&(n.disable(Z),p[Z]=!1)}function Le(Z,ze){return m[Z]!==ze?(n.bindFramebuffer(Z,ze),m[Z]=ze,r&&(Z===n.DRAW_FRAMEBUFFER&&(m[n.FRAMEBUFFER]=ze),Z===n.FRAMEBUFFER&&(m[n.DRAW_FRAMEBUFFER]=ze)),!0):!1}function K(Z,ze){let We=y,ht=!1;if(Z)if(We=g.get(ze),We===void 0&&(We=[],g.set(ze,We)),Z.isWebGLMultipleRenderTargets){const nt=Z.texture;if(We.length!==nt.length||We[0]!==n.COLOR_ATTACHMENT0){for(let Bt=0,Ut=nt.length;Bt<Ut;Bt++)We[Bt]=n.COLOR_ATTACHMENT0+Bt;We.length=nt.length,ht=!0}}else We[0]!==n.COLOR_ATTACHMENT0&&(We[0]=n.COLOR_ATTACHMENT0,ht=!0);else We[0]!==n.BACK&&(We[0]=n.BACK,ht=!0);ht&&(t.isWebGL2?n.drawBuffers(We):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(We))}function _e(Z){return _!==Z?(n.useProgram(Z),_=Z,!0):!1}const me={[Il]:n.FUNC_ADD,[rF]:n.FUNC_SUBTRACT,[iF]:n.FUNC_REVERSE_SUBTRACT};if(r)me[Kw]=n.MIN,me[Yw]=n.MAX;else{const Z=e.get("EXT_blend_minmax");Z!==null&&(me[Kw]=Z.MIN_EXT,me[Yw]=Z.MAX_EXT)}const we={[sF]:n.ZERO,[oF]:n.ONE,[aF]:n.SRC_COLOR,[c_]:n.SRC_ALPHA,[hF]:n.SRC_ALPHA_SATURATE,[fF]:n.DST_COLOR,[cF]:n.DST_ALPHA,[lF]:n.ONE_MINUS_SRC_COLOR,[u_]:n.ONE_MINUS_SRC_ALPHA,[dF]:n.ONE_MINUS_DST_COLOR,[uF]:n.ONE_MINUS_DST_ALPHA,[pF]:n.CONSTANT_COLOR,[mF]:n.ONE_MINUS_CONSTANT_COLOR,[gF]:n.CONSTANT_ALPHA,[vF]:n.ONE_MINUS_CONSTANT_ALPHA};function ve(Z,ze,We,ht,nt,Bt,Ut,nn,dn,Wt){if(Z===Ha){v===!0&&(Fe(n.BLEND),v=!1);return}if(v===!1&&(Ve(n.BLEND),v=!0),Z!==nF){if(Z!==x||Wt!==B){if((b!==Il||E!==Il)&&(n.blendEquation(n.FUNC_ADD),b=Il,E=Il),Wt)switch(Z){case hu:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case $w:n.blendFunc(n.ONE,n.ONE);break;case jw:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Xw:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}else switch(Z){case hu:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case $w:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case jw:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Xw:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Z);break}A=null,M=null,R=null,I=null,T.set(0,0,0),P=0,x=Z,B=Wt}return}nt=nt||ze,Bt=Bt||We,Ut=Ut||ht,(ze!==b||nt!==E)&&(n.blendEquationSeparate(me[ze],me[nt]),b=ze,E=nt),(We!==A||ht!==M||Bt!==R||Ut!==I)&&(n.blendFuncSeparate(we[We],we[ht],we[Bt],we[Ut]),A=We,M=ht,R=Bt,I=Ut),(nn.equals(T)===!1||dn!==P)&&(n.blendColor(nn.r,nn.g,nn.b,dn),T.copy(nn),P=dn),x=Z,B=!1}function Xe(Z,ze){Z.side===Ws?Fe(n.CULL_FACE):Ve(n.CULL_FACE);let We=Z.side===oi;ze&&(We=!We),Ue(We),Z.blending===hu&&Z.transparent===!1?ve(Ha):ve(Z.blending,Z.blendEquation,Z.blendSrc,Z.blendDst,Z.blendEquationAlpha,Z.blendSrcAlpha,Z.blendDstAlpha,Z.blendColor,Z.blendAlpha,Z.premultipliedAlpha),l.setFunc(Z.depthFunc),l.setTest(Z.depthTest),l.setMask(Z.depthWrite),a.setMask(Z.colorWrite);const ht=Z.stencilWrite;c.setTest(ht),ht&&(c.setMask(Z.stencilWriteMask),c.setFunc(Z.stencilFunc,Z.stencilRef,Z.stencilFuncMask),c.setOp(Z.stencilFail,Z.stencilZFail,Z.stencilZPass)),ie(Z.polygonOffset,Z.polygonOffsetFactor,Z.polygonOffsetUnits),Z.alphaToCoverage===!0?Ve(n.SAMPLE_ALPHA_TO_COVERAGE):Fe(n.SAMPLE_ALPHA_TO_COVERAGE)}function Ue(Z){U!==Z&&(Z?n.frontFace(n.CW):n.frontFace(n.CCW),U=Z)}function k(Z){Z!==ZN?(Ve(n.CULL_FACE),Z!==j&&(Z===Ww?n.cullFace(n.BACK):Z===eF?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):Fe(n.CULL_FACE),j=Z}function D(Z){Z!==N&&(F&&n.lineWidth(Z),N=Z)}function ie(Z,ze,We){Z?(Ve(n.POLYGON_OFFSET_FILL),(G!==ze||V!==We)&&(n.polygonOffset(ze,We),G=ze,V=We)):Fe(n.POLYGON_OFFSET_FILL)}function Ee(Z){Z?Ve(n.SCISSOR_TEST):Fe(n.SCISSOR_TEST)}function oe(Z){Z===void 0&&(Z=n.TEXTURE0+$-1),te!==Z&&(n.activeTexture(Z),te=Z)}function le(Z,ze,We){We===void 0&&(te===null?We=n.TEXTURE0+$-1:We=te);let ht=ee[We];ht===void 0&&(ht={type:void 0,texture:void 0},ee[We]=ht),(ht.type!==Z||ht.texture!==ze)&&(te!==We&&(n.activeTexture(We),te=We),n.bindTexture(Z,ze||Qe[Z]),ht.type=Z,ht.texture=ze)}function ke(){const Z=ee[te];Z!==void 0&&Z.type!==void 0&&(n.bindTexture(Z.type,null),Z.type=void 0,Z.texture=void 0)}function Te(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ie(){try{n.compressedTexImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Ze(){try{n.texSubImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Pe(){try{n.texSubImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function be(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Et(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function pt(){try{n.texStorage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function dt(){try{n.texStorage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function ot(){try{n.texImage2D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function He(){try{n.texImage3D.apply(n,arguments)}catch(Z){console.error("THREE.WebGLState:",Z)}}function Q(Z){ue.equals(Z)===!1&&(n.scissor(Z.x,Z.y,Z.z,Z.w),ue.copy(Z))}function Se(Z){Ae.equals(Z)===!1&&(n.viewport(Z.x,Z.y,Z.z,Z.w),Ae.copy(Z))}function $e(Z,ze){let We=f.get(ze);We===void 0&&(We=new WeakMap,f.set(ze,We));let ht=We.get(Z);ht===void 0&&(ht=n.getUniformBlockIndex(ze,Z.name),We.set(Z,ht))}function Ke(Z,ze){const ht=f.get(ze).get(Z);u.get(ze)!==ht&&(n.uniformBlockBinding(ze,ht,Z.__bindingPointIndex),u.set(ze,ht))}function Ce(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),r===!0&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),p={},te=null,ee={},m={},g=new WeakMap,y=[],_=null,v=!1,x=null,b=null,A=null,M=null,E=null,R=null,I=null,T=new De(0,0,0),P=0,B=!1,U=null,j=null,N=null,G=null,V=null,ue.set(0,0,n.canvas.width,n.canvas.height),Ae.set(0,0,n.canvas.width,n.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Ve,disable:Fe,bindFramebuffer:Le,drawBuffers:K,useProgram:_e,setBlending:ve,setMaterial:Xe,setFlipSided:Ue,setCullFace:k,setLineWidth:D,setPolygonOffset:ie,setScissorTest:Ee,activeTexture:oe,bindTexture:le,unbindTexture:ke,compressedTexImage2D:Te,compressedTexImage3D:Ie,texImage2D:ot,texImage3D:He,updateUBOMapping:$e,uniformBlockBinding:Ke,texStorage2D:pt,texStorage3D:dt,texSubImage2D:Ze,texSubImage3D:Pe,compressedTexSubImage2D:be,compressedTexSubImage3D:Et,scissor:Q,viewport:Se,reset:Ce}}function lK(n,e,t,r,i,s,o){const a=i.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new WeakMap;let f;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(k,D){return m?new OffscreenCanvas(k,D):Pm("canvas")}function y(k,D,ie,Ee){let oe=1;if((k.width>Ee||k.height>Ee)&&(oe=Ee/Math.max(k.width,k.height)),oe<1||D===!0)if(typeof HTMLImageElement<"u"&&k instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&k instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&k instanceof ImageBitmap){const le=D?h_:Math.floor,ke=le(oe*k.width),Te=le(oe*k.height);f===void 0&&(f=g(ke,Te));const Ie=ie?g(ke,Te):f;return Ie.width=ke,Ie.height=Te,Ie.getContext("2d").drawImage(k,0,0,ke,Te),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+k.width+"x"+k.height+") to ("+ke+"x"+Te+")."),Ie}else return"data"in k&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+k.width+"x"+k.height+")."),k;return k}function _(k){return wE(k.width)&&wE(k.height)}function v(k){return a?!1:k.wrapS!==Vr||k.wrapT!==Vr||k.minFilter!==Jn&&k.minFilter!==Nn}function x(k,D){return k.generateMipmaps&&D&&k.minFilter!==Jn&&k.minFilter!==Nn}function b(k){n.generateMipmap(k)}function A(k,D,ie,Ee,oe=!1){if(a===!1)return D;if(k!==null){if(n[k]!==void 0)return n[k];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+k+"'")}let le=D;if(D===n.RED&&(ie===n.FLOAT&&(le=n.R32F),ie===n.HALF_FLOAT&&(le=n.R16F),ie===n.UNSIGNED_BYTE&&(le=n.R8)),D===n.RED_INTEGER&&(ie===n.UNSIGNED_BYTE&&(le=n.R8UI),ie===n.UNSIGNED_SHORT&&(le=n.R16UI),ie===n.UNSIGNED_INT&&(le=n.R32UI),ie===n.BYTE&&(le=n.R8I),ie===n.SHORT&&(le=n.R16I),ie===n.INT&&(le=n.R32I)),D===n.RG&&(ie===n.FLOAT&&(le=n.RG32F),ie===n.HALF_FLOAT&&(le=n.RG16F),ie===n.UNSIGNED_BYTE&&(le=n.RG8)),D===n.RGBA){const ke=oe?Mm:rn.getTransfer(Ee);ie===n.FLOAT&&(le=n.RGBA32F),ie===n.HALF_FLOAT&&(le=n.RGBA16F),ie===n.UNSIGNED_BYTE&&(le=ke===pn?n.SRGB8_ALPHA8:n.RGBA8),ie===n.UNSIGNED_SHORT_4_4_4_4&&(le=n.RGBA4),ie===n.UNSIGNED_SHORT_5_5_5_1&&(le=n.RGB5_A1)}return(le===n.R16F||le===n.R32F||le===n.RG16F||le===n.RG32F||le===n.RGBA16F||le===n.RGBA32F)&&e.get("EXT_color_buffer_float"),le}function M(k,D,ie){return x(k,ie)===!0||k.isFramebufferTexture&&k.minFilter!==Jn&&k.minFilter!==Nn?Math.log2(Math.max(D.width,D.height))+1:k.mipmaps!==void 0&&k.mipmaps.length>0?k.mipmaps.length:k.isCompressedTexture&&Array.isArray(k.image)?D.mipmaps.length:1}function E(k){return k===Jn||k===wm||k===Sd?n.NEAREST:n.LINEAR}function R(k){const D=k.target;D.removeEventListener("dispose",R),T(D),D.isVideoTexture&&u.delete(D)}function I(k){const D=k.target;D.removeEventListener("dispose",I),B(D)}function T(k){const D=r.get(k);if(D.__webglInit===void 0)return;const ie=k.source,Ee=p.get(ie);if(Ee){const oe=Ee[D.__cacheKey];oe.usedTimes--,oe.usedTimes===0&&P(k),Object.keys(Ee).length===0&&p.delete(ie)}r.remove(k)}function P(k){const D=r.get(k);n.deleteTexture(D.__webglTexture);const ie=k.source,Ee=p.get(ie);delete Ee[D.__cacheKey],o.memory.textures--}function B(k){const D=k.texture,ie=r.get(k),Ee=r.get(D);if(Ee.__webglTexture!==void 0&&(n.deleteTexture(Ee.__webglTexture),o.memory.textures--),k.depthTexture&&k.depthTexture.dispose(),k.isWebGLCubeRenderTarget)for(let oe=0;oe<6;oe++){if(Array.isArray(ie.__webglFramebuffer[oe]))for(let le=0;le<ie.__webglFramebuffer[oe].length;le++)n.deleteFramebuffer(ie.__webglFramebuffer[oe][le]);else n.deleteFramebuffer(ie.__webglFramebuffer[oe]);ie.__webglDepthbuffer&&n.deleteRenderbuffer(ie.__webglDepthbuffer[oe])}else{if(Array.isArray(ie.__webglFramebuffer))for(let oe=0;oe<ie.__webglFramebuffer.length;oe++)n.deleteFramebuffer(ie.__webglFramebuffer[oe]);else n.deleteFramebuffer(ie.__webglFramebuffer);if(ie.__webglDepthbuffer&&n.deleteRenderbuffer(ie.__webglDepthbuffer),ie.__webglMultisampledFramebuffer&&n.deleteFramebuffer(ie.__webglMultisampledFramebuffer),ie.__webglColorRenderbuffer)for(let oe=0;oe<ie.__webglColorRenderbuffer.length;oe++)ie.__webglColorRenderbuffer[oe]&&n.deleteRenderbuffer(ie.__webglColorRenderbuffer[oe]);ie.__webglDepthRenderbuffer&&n.deleteRenderbuffer(ie.__webglDepthRenderbuffer)}if(k.isWebGLMultipleRenderTargets)for(let oe=0,le=D.length;oe<le;oe++){const ke=r.get(D[oe]);ke.__webglTexture&&(n.deleteTexture(ke.__webglTexture),o.memory.textures--),r.remove(D[oe])}r.remove(D),r.remove(k)}let U=0;function j(){U=0}function N(){const k=U;return k>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+k+" texture units while this GPU supports only "+i.maxTextures),U+=1,k}function G(k){const D=[];return D.push(k.wrapS),D.push(k.wrapT),D.push(k.wrapR||0),D.push(k.magFilter),D.push(k.minFilter),D.push(k.anisotropy),D.push(k.internalFormat),D.push(k.format),D.push(k.type),D.push(k.generateMipmaps),D.push(k.premultiplyAlpha),D.push(k.flipY),D.push(k.unpackAlignment),D.push(k.colorSpace),D.join()}function V(k,D){const ie=r.get(k);if(k.isVideoTexture&&Xe(k),k.isRenderTargetTexture===!1&&k.version>0&&ie.__version!==k.version){const Ee=k.image;if(Ee===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ee.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ue(ie,k,D);return}}t.bindTexture(n.TEXTURE_2D,ie.__webglTexture,n.TEXTURE0+D)}function $(k,D){const ie=r.get(k);if(k.version>0&&ie.__version!==k.version){ue(ie,k,D);return}t.bindTexture(n.TEXTURE_2D_ARRAY,ie.__webglTexture,n.TEXTURE0+D)}function F(k,D){const ie=r.get(k);if(k.version>0&&ie.__version!==k.version){ue(ie,k,D);return}t.bindTexture(n.TEXTURE_3D,ie.__webglTexture,n.TEXTURE0+D)}function X(k,D){const ie=r.get(k);if(k.version>0&&ie.__version!==k.version){Ae(ie,k,D);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ie.__webglTexture,n.TEXTURE0+D)}const Y={[Tn]:n.REPEAT,[Vr]:n.CLAMP_TO_EDGE,[zd]:n.MIRRORED_REPEAT},te={[Jn]:n.NEAREST,[wm]:n.NEAREST_MIPMAP_NEAREST,[Sd]:n.NEAREST_MIPMAP_LINEAR,[Nn]:n.LINEAR,[wx]:n.LINEAR_MIPMAP_NEAREST,[oa]:n.LINEAR_MIPMAP_LINEAR},ee={[KF]:n.NEVER,[eU]:n.ALWAYS,[YF]:n.LESS,[tC]:n.LEQUAL,[JF]:n.EQUAL,[ZF]:n.GEQUAL,[qF]:n.GREATER,[QF]:n.NOTEQUAL};function J(k,D,ie){if(ie?(n.texParameteri(k,n.TEXTURE_WRAP_S,Y[D.wrapS]),n.texParameteri(k,n.TEXTURE_WRAP_T,Y[D.wrapT]),(k===n.TEXTURE_3D||k===n.TEXTURE_2D_ARRAY)&&n.texParameteri(k,n.TEXTURE_WRAP_R,Y[D.wrapR]),n.texParameteri(k,n.TEXTURE_MAG_FILTER,te[D.magFilter]),n.texParameteri(k,n.TEXTURE_MIN_FILTER,te[D.minFilter])):(n.texParameteri(k,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(k,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(k===n.TEXTURE_3D||k===n.TEXTURE_2D_ARRAY)&&n.texParameteri(k,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(D.wrapS!==Vr||D.wrapT!==Vr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(k,n.TEXTURE_MAG_FILTER,E(D.magFilter)),n.texParameteri(k,n.TEXTURE_MIN_FILTER,E(D.minFilter)),D.minFilter!==Jn&&D.minFilter!==Nn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),D.compareFunction&&(n.texParameteri(k,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(k,n.TEXTURE_COMPARE_FUNC,ee[D.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Ee=e.get("EXT_texture_filter_anisotropic");if(D.magFilter===Jn||D.minFilter!==Sd&&D.minFilter!==oa||D.type===_o&&e.has("OES_texture_float_linear")===!1||a===!1&&D.type===Hd&&e.has("OES_texture_half_float_linear")===!1)return;(D.anisotropy>1||r.get(D).__currentAnisotropy)&&(n.texParameterf(k,Ee.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(D.anisotropy,i.getMaxAnisotropy())),r.get(D).__currentAnisotropy=D.anisotropy)}}function ne(k,D){let ie=!1;k.__webglInit===void 0&&(k.__webglInit=!0,D.addEventListener("dispose",R));const Ee=D.source;let oe=p.get(Ee);oe===void 0&&(oe={},p.set(Ee,oe));const le=G(D);if(le!==k.__cacheKey){oe[le]===void 0&&(oe[le]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ie=!0),oe[le].usedTimes++;const ke=oe[k.__cacheKey];ke!==void 0&&(oe[k.__cacheKey].usedTimes--,ke.usedTimes===0&&P(D)),k.__cacheKey=le,k.__webglTexture=oe[le].texture}return ie}function ue(k,D,ie){let Ee=n.TEXTURE_2D;(D.isDataArrayTexture||D.isCompressedArrayTexture)&&(Ee=n.TEXTURE_2D_ARRAY),D.isData3DTexture&&(Ee=n.TEXTURE_3D);const oe=ne(k,D),le=D.source;t.bindTexture(Ee,k.__webglTexture,n.TEXTURE0+ie);const ke=r.get(le);if(le.version!==ke.__version||oe===!0){t.activeTexture(n.TEXTURE0+ie);const Te=rn.getPrimaries(rn.workingColorSpace),Ie=D.colorSpace===os?null:rn.getPrimaries(D.colorSpace),Ze=D.colorSpace===os||Te===Ie?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,D.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,D.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ze);const Pe=v(D)&&_(D.image)===!1;let be=y(D.image,Pe,!1,i.maxTextureSize);be=Ue(D,be);const Et=_(be)||a,pt=s.convert(D.format,D.colorSpace);let dt=s.convert(D.type),ot=A(D.internalFormat,pt,dt,D.colorSpace,D.isVideoTexture);J(Ee,D,Et);let He;const Q=D.mipmaps,Se=a&&D.isVideoTexture!==!0&&ot!==qT,$e=ke.__version===void 0||oe===!0,Ke=M(D,be,Et);if(D.isDepthTexture)ot=n.DEPTH_COMPONENT,a?D.type===_o?ot=n.DEPTH_COMPONENT32F:D.type===Na?ot=n.DEPTH_COMPONENT24:D.type===Yl?ot=n.DEPTH24_STENCIL8:ot=n.DEPTH_COMPONENT16:D.type===_o&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),D.format===Jl&&ot===n.DEPTH_COMPONENT&&D.type!==Ex&&D.type!==Na&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),D.type=Na,dt=s.convert(D.type)),D.format===Ru&&ot===n.DEPTH_COMPONENT&&(ot=n.DEPTH_STENCIL,D.type!==Yl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),D.type=Yl,dt=s.convert(D.type))),$e&&(Se?t.texStorage2D(n.TEXTURE_2D,1,ot,be.width,be.height):t.texImage2D(n.TEXTURE_2D,0,ot,be.width,be.height,0,pt,dt,null));else if(D.isDataTexture)if(Q.length>0&&Et){Se&&$e&&t.texStorage2D(n.TEXTURE_2D,Ke,ot,Q[0].width,Q[0].height);for(let Ce=0,Z=Q.length;Ce<Z;Ce++)He=Q[Ce],Se?t.texSubImage2D(n.TEXTURE_2D,Ce,0,0,He.width,He.height,pt,dt,He.data):t.texImage2D(n.TEXTURE_2D,Ce,ot,He.width,He.height,0,pt,dt,He.data);D.generateMipmaps=!1}else Se?($e&&t.texStorage2D(n.TEXTURE_2D,Ke,ot,be.width,be.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,be.width,be.height,pt,dt,be.data)):t.texImage2D(n.TEXTURE_2D,0,ot,be.width,be.height,0,pt,dt,be.data);else if(D.isCompressedTexture)if(D.isCompressedArrayTexture){Se&&$e&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ke,ot,Q[0].width,Q[0].height,be.depth);for(let Ce=0,Z=Q.length;Ce<Z;Ce++)He=Q[Ce],D.format!==Ai?pt!==null?Se?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ce,0,0,0,He.width,He.height,be.depth,pt,He.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Ce,ot,He.width,He.height,be.depth,0,He.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Se?t.texSubImage3D(n.TEXTURE_2D_ARRAY,Ce,0,0,0,He.width,He.height,be.depth,pt,dt,He.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Ce,ot,He.width,He.height,be.depth,0,pt,dt,He.data)}else{Se&&$e&&t.texStorage2D(n.TEXTURE_2D,Ke,ot,Q[0].width,Q[0].height);for(let Ce=0,Z=Q.length;Ce<Z;Ce++)He=Q[Ce],D.format!==Ai?pt!==null?Se?t.compressedTexSubImage2D(n.TEXTURE_2D,Ce,0,0,He.width,He.height,pt,He.data):t.compressedTexImage2D(n.TEXTURE_2D,Ce,ot,He.width,He.height,0,He.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Se?t.texSubImage2D(n.TEXTURE_2D,Ce,0,0,He.width,He.height,pt,dt,He.data):t.texImage2D(n.TEXTURE_2D,Ce,ot,He.width,He.height,0,pt,dt,He.data)}else if(D.isDataArrayTexture)Se?($e&&t.texStorage3D(n.TEXTURE_2D_ARRAY,Ke,ot,be.width,be.height,be.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,be.width,be.height,be.depth,pt,dt,be.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,ot,be.width,be.height,be.depth,0,pt,dt,be.data);else if(D.isData3DTexture)Se?($e&&t.texStorage3D(n.TEXTURE_3D,Ke,ot,be.width,be.height,be.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,be.width,be.height,be.depth,pt,dt,be.data)):t.texImage3D(n.TEXTURE_3D,0,ot,be.width,be.height,be.depth,0,pt,dt,be.data);else if(D.isFramebufferTexture){if($e)if(Se)t.texStorage2D(n.TEXTURE_2D,Ke,ot,be.width,be.height);else{let Ce=be.width,Z=be.height;for(let ze=0;ze<Ke;ze++)t.texImage2D(n.TEXTURE_2D,ze,ot,Ce,Z,0,pt,dt,null),Ce>>=1,Z>>=1}}else if(Q.length>0&&Et){Se&&$e&&t.texStorage2D(n.TEXTURE_2D,Ke,ot,Q[0].width,Q[0].height);for(let Ce=0,Z=Q.length;Ce<Z;Ce++)He=Q[Ce],Se?t.texSubImage2D(n.TEXTURE_2D,Ce,0,0,pt,dt,He):t.texImage2D(n.TEXTURE_2D,Ce,ot,pt,dt,He);D.generateMipmaps=!1}else Se?($e&&t.texStorage2D(n.TEXTURE_2D,Ke,ot,be.width,be.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,pt,dt,be)):t.texImage2D(n.TEXTURE_2D,0,ot,pt,dt,be);x(D,Et)&&b(Ee),ke.__version=le.version,D.onUpdate&&D.onUpdate(D)}k.__version=D.version}function Ae(k,D,ie){if(D.image.length!==6)return;const Ee=ne(k,D),oe=D.source;t.bindTexture(n.TEXTURE_CUBE_MAP,k.__webglTexture,n.TEXTURE0+ie);const le=r.get(oe);if(oe.version!==le.__version||Ee===!0){t.activeTexture(n.TEXTURE0+ie);const ke=rn.getPrimaries(rn.workingColorSpace),Te=D.colorSpace===os?null:rn.getPrimaries(D.colorSpace),Ie=D.colorSpace===os||ke===Te?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,D.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,D.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,D.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ie);const Ze=D.isCompressedTexture||D.image[0].isCompressedTexture,Pe=D.image[0]&&D.image[0].isDataTexture,be=[];for(let Ce=0;Ce<6;Ce++)!Ze&&!Pe?be[Ce]=y(D.image[Ce],!1,!0,i.maxCubemapSize):be[Ce]=Pe?D.image[Ce].image:D.image[Ce],be[Ce]=Ue(D,be[Ce]);const Et=be[0],pt=_(Et)||a,dt=s.convert(D.format,D.colorSpace),ot=s.convert(D.type),He=A(D.internalFormat,dt,ot,D.colorSpace),Q=a&&D.isVideoTexture!==!0,Se=le.__version===void 0||Ee===!0;let $e=M(D,Et,pt);J(n.TEXTURE_CUBE_MAP,D,pt);let Ke;if(Ze){Q&&Se&&t.texStorage2D(n.TEXTURE_CUBE_MAP,$e,He,Et.width,Et.height);for(let Ce=0;Ce<6;Ce++){Ke=be[Ce].mipmaps;for(let Z=0;Z<Ke.length;Z++){const ze=Ke[Z];D.format!==Ai?dt!==null?Q?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,Z,0,0,ze.width,ze.height,dt,ze.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,Z,He,ze.width,ze.height,0,ze.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Q?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,Z,0,0,ze.width,ze.height,dt,ot,ze.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,Z,He,ze.width,ze.height,0,dt,ot,ze.data)}}}else{Ke=D.mipmaps,Q&&Se&&(Ke.length>0&&$e++,t.texStorage2D(n.TEXTURE_CUBE_MAP,$e,He,be[0].width,be[0].height));for(let Ce=0;Ce<6;Ce++)if(Pe){Q?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0,0,0,be[Ce].width,be[Ce].height,dt,ot,be[Ce].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0,He,be[Ce].width,be[Ce].height,0,dt,ot,be[Ce].data);for(let Z=0;Z<Ke.length;Z++){const We=Ke[Z].image[Ce].image;Q?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,Z+1,0,0,We.width,We.height,dt,ot,We.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,Z+1,He,We.width,We.height,0,dt,ot,We.data)}}else{Q?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0,0,0,dt,ot,be[Ce]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,0,He,dt,ot,be[Ce]);for(let Z=0;Z<Ke.length;Z++){const ze=Ke[Z];Q?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,Z+1,0,0,dt,ot,ze.image[Ce]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,Z+1,He,dt,ot,ze.image[Ce])}}}x(D,pt)&&b(n.TEXTURE_CUBE_MAP),le.__version=oe.version,D.onUpdate&&D.onUpdate(D)}k.__version=D.version}function Re(k,D,ie,Ee,oe,le){const ke=s.convert(ie.format,ie.colorSpace),Te=s.convert(ie.type),Ie=A(ie.internalFormat,ke,Te,ie.colorSpace);if(!r.get(D).__hasExternalTextures){const Pe=Math.max(1,D.width>>le),be=Math.max(1,D.height>>le);oe===n.TEXTURE_3D||oe===n.TEXTURE_2D_ARRAY?t.texImage3D(oe,le,Ie,Pe,be,D.depth,0,ke,Te,null):t.texImage2D(oe,le,Ie,Pe,be,0,ke,Te,null)}t.bindFramebuffer(n.FRAMEBUFFER,k),ve(D)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ee,oe,r.get(ie).__webglTexture,0,we(D)):(oe===n.TEXTURE_2D||oe>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&oe<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ee,oe,r.get(ie).__webglTexture,le),t.bindFramebuffer(n.FRAMEBUFFER,null)}function Qe(k,D,ie){if(n.bindRenderbuffer(n.RENDERBUFFER,k),D.depthBuffer&&!D.stencilBuffer){let Ee=a===!0?n.DEPTH_COMPONENT24:n.DEPTH_COMPONENT16;if(ie||ve(D)){const oe=D.depthTexture;oe&&oe.isDepthTexture&&(oe.type===_o?Ee=n.DEPTH_COMPONENT32F:oe.type===Na&&(Ee=n.DEPTH_COMPONENT24));const le=we(D);ve(D)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,le,Ee,D.width,D.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,le,Ee,D.width,D.height)}else n.renderbufferStorage(n.RENDERBUFFER,Ee,D.width,D.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,k)}else if(D.depthBuffer&&D.stencilBuffer){const Ee=we(D);ie&&ve(D)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ee,n.DEPTH24_STENCIL8,D.width,D.height):ve(D)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ee,n.DEPTH24_STENCIL8,D.width,D.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,D.width,D.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,k)}else{const Ee=D.isWebGLMultipleRenderTargets===!0?D.texture:[D.texture];for(let oe=0;oe<Ee.length;oe++){const le=Ee[oe],ke=s.convert(le.format,le.colorSpace),Te=s.convert(le.type),Ie=A(le.internalFormat,ke,Te,le.colorSpace),Ze=we(D);ie&&ve(D)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Ze,Ie,D.width,D.height):ve(D)?l.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Ze,Ie,D.width,D.height):n.renderbufferStorage(n.RENDERBUFFER,Ie,D.width,D.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function Ve(k,D){if(D&&D.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,k),!(D.depthTexture&&D.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(D.depthTexture).__webglTexture||D.depthTexture.image.width!==D.width||D.depthTexture.image.height!==D.height)&&(D.depthTexture.image.width=D.width,D.depthTexture.image.height=D.height,D.depthTexture.needsUpdate=!0),V(D.depthTexture,0);const Ee=r.get(D.depthTexture).__webglTexture,oe=we(D);if(D.depthTexture.format===Jl)ve(D)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ee,0,oe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Ee,0);else if(D.depthTexture.format===Ru)ve(D)?l.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ee,0,oe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Ee,0);else throw new Error("Unknown depthTexture format")}function Fe(k){const D=r.get(k),ie=k.isWebGLCubeRenderTarget===!0;if(k.depthTexture&&!D.__autoAllocateDepthBuffer){if(ie)throw new Error("target.depthTexture not supported in Cube render targets");Ve(D.__webglFramebuffer,k)}else if(ie){D.__webglDepthbuffer=[];for(let Ee=0;Ee<6;Ee++)t.bindFramebuffer(n.FRAMEBUFFER,D.__webglFramebuffer[Ee]),D.__webglDepthbuffer[Ee]=n.createRenderbuffer(),Qe(D.__webglDepthbuffer[Ee],k,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,D.__webglFramebuffer),D.__webglDepthbuffer=n.createRenderbuffer(),Qe(D.__webglDepthbuffer,k,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function Le(k,D,ie){const Ee=r.get(k);D!==void 0&&Re(Ee.__webglFramebuffer,k,k.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),ie!==void 0&&Fe(k)}function K(k){const D=k.texture,ie=r.get(k),Ee=r.get(D);k.addEventListener("dispose",I),k.isWebGLMultipleRenderTargets!==!0&&(Ee.__webglTexture===void 0&&(Ee.__webglTexture=n.createTexture()),Ee.__version=D.version,o.memory.textures++);const oe=k.isWebGLCubeRenderTarget===!0,le=k.isWebGLMultipleRenderTargets===!0,ke=_(k)||a;if(oe){ie.__webglFramebuffer=[];for(let Te=0;Te<6;Te++)if(a&&D.mipmaps&&D.mipmaps.length>0){ie.__webglFramebuffer[Te]=[];for(let Ie=0;Ie<D.mipmaps.length;Ie++)ie.__webglFramebuffer[Te][Ie]=n.createFramebuffer()}else ie.__webglFramebuffer[Te]=n.createFramebuffer()}else{if(a&&D.mipmaps&&D.mipmaps.length>0){ie.__webglFramebuffer=[];for(let Te=0;Te<D.mipmaps.length;Te++)ie.__webglFramebuffer[Te]=n.createFramebuffer()}else ie.__webglFramebuffer=n.createFramebuffer();if(le)if(i.drawBuffers){const Te=k.texture;for(let Ie=0,Ze=Te.length;Ie<Ze;Ie++){const Pe=r.get(Te[Ie]);Pe.__webglTexture===void 0&&(Pe.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&k.samples>0&&ve(k)===!1){const Te=le?D:[D];ie.__webglMultisampledFramebuffer=n.createFramebuffer(),ie.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ie.__webglMultisampledFramebuffer);for(let Ie=0;Ie<Te.length;Ie++){const Ze=Te[Ie];ie.__webglColorRenderbuffer[Ie]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ie.__webglColorRenderbuffer[Ie]);const Pe=s.convert(Ze.format,Ze.colorSpace),be=s.convert(Ze.type),Et=A(Ze.internalFormat,Pe,be,Ze.colorSpace,k.isXRRenderTarget===!0),pt=we(k);n.renderbufferStorageMultisample(n.RENDERBUFFER,pt,Et,k.width,k.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ie,n.RENDERBUFFER,ie.__webglColorRenderbuffer[Ie])}n.bindRenderbuffer(n.RENDERBUFFER,null),k.depthBuffer&&(ie.__webglDepthRenderbuffer=n.createRenderbuffer(),Qe(ie.__webglDepthRenderbuffer,k,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(oe){t.bindTexture(n.TEXTURE_CUBE_MAP,Ee.__webglTexture),J(n.TEXTURE_CUBE_MAP,D,ke);for(let Te=0;Te<6;Te++)if(a&&D.mipmaps&&D.mipmaps.length>0)for(let Ie=0;Ie<D.mipmaps.length;Ie++)Re(ie.__webglFramebuffer[Te][Ie],k,D,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ie);else Re(ie.__webglFramebuffer[Te],k,D,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0);x(D,ke)&&b(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(le){const Te=k.texture;for(let Ie=0,Ze=Te.length;Ie<Ze;Ie++){const Pe=Te[Ie],be=r.get(Pe);t.bindTexture(n.TEXTURE_2D,be.__webglTexture),J(n.TEXTURE_2D,Pe,ke),Re(ie.__webglFramebuffer,k,Pe,n.COLOR_ATTACHMENT0+Ie,n.TEXTURE_2D,0),x(Pe,ke)&&b(n.TEXTURE_2D)}t.unbindTexture()}else{let Te=n.TEXTURE_2D;if((k.isWebGL3DRenderTarget||k.isWebGLArrayRenderTarget)&&(a?Te=k.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Te,Ee.__webglTexture),J(Te,D,ke),a&&D.mipmaps&&D.mipmaps.length>0)for(let Ie=0;Ie<D.mipmaps.length;Ie++)Re(ie.__webglFramebuffer[Ie],k,D,n.COLOR_ATTACHMENT0,Te,Ie);else Re(ie.__webglFramebuffer,k,D,n.COLOR_ATTACHMENT0,Te,0);x(D,ke)&&b(Te),t.unbindTexture()}k.depthBuffer&&Fe(k)}function _e(k){const D=_(k)||a,ie=k.isWebGLMultipleRenderTargets===!0?k.texture:[k.texture];for(let Ee=0,oe=ie.length;Ee<oe;Ee++){const le=ie[Ee];if(x(le,D)){const ke=k.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Te=r.get(le).__webglTexture;t.bindTexture(ke,Te),b(ke),t.unbindTexture()}}}function me(k){if(a&&k.samples>0&&ve(k)===!1){const D=k.isWebGLMultipleRenderTargets?k.texture:[k.texture],ie=k.width,Ee=k.height;let oe=n.COLOR_BUFFER_BIT;const le=[],ke=k.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Te=r.get(k),Ie=k.isWebGLMultipleRenderTargets===!0;if(Ie)for(let Ze=0;Ze<D.length;Ze++)t.bindFramebuffer(n.FRAMEBUFFER,Te.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ze,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Te.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ze,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Te.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Te.__webglFramebuffer);for(let Ze=0;Ze<D.length;Ze++){le.push(n.COLOR_ATTACHMENT0+Ze),k.depthBuffer&&le.push(ke);const Pe=Te.__ignoreDepthValues!==void 0?Te.__ignoreDepthValues:!1;if(Pe===!1&&(k.depthBuffer&&(oe|=n.DEPTH_BUFFER_BIT),k.stencilBuffer&&(oe|=n.STENCIL_BUFFER_BIT)),Ie&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Te.__webglColorRenderbuffer[Ze]),Pe===!0&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[ke]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[ke])),Ie){const be=r.get(D[Ze]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,be,0)}n.blitFramebuffer(0,0,ie,Ee,0,0,ie,Ee,oe,n.NEAREST),c&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,le)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Ie)for(let Ze=0;Ze<D.length;Ze++){t.bindFramebuffer(n.FRAMEBUFFER,Te.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ze,n.RENDERBUFFER,Te.__webglColorRenderbuffer[Ze]);const Pe=r.get(D[Ze]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Te.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Ze,n.TEXTURE_2D,Pe,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Te.__webglMultisampledFramebuffer)}}function we(k){return Math.min(i.maxSamples,k.samples)}function ve(k){const D=r.get(k);return a&&k.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&D.__useRenderToTexture!==!1}function Xe(k){const D=o.render.frame;u.get(k)!==D&&(u.set(k,D),k.update())}function Ue(k,D){const ie=k.colorSpace,Ee=k.format,oe=k.type;return k.isCompressedTexture===!0||k.isVideoTexture===!0||k.format===d_||ie!==aa&&ie!==os&&(rn.getTransfer(ie)===pn?a===!1?e.has("EXT_sRGB")===!0&&Ee===Ai?(k.format=d_,k.minFilter=Nn,k.generateMipmaps=!1):D=rC.sRGBToLinear(D):(Ee!==Ai||oe!==Zo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ie)),D}this.allocateTextureUnit=N,this.resetTextureUnits=j,this.setTexture2D=V,this.setTexture2DArray=$,this.setTexture3D=F,this.setTextureCube=X,this.rebindTextures=Le,this.setupRenderTarget=K,this.updateRenderTargetMipmap=_e,this.updateMultisampleRenderTarget=me,this.setupDepthRenderbuffer=Fe,this.setupFrameBufferTexture=Re,this.useMultisampledRTT=ve}function mU(n,e,t){const r=t.isWebGL2;function i(s,o=os){let a;const l=rn.getTransfer(o);if(s===Zo)return n.UNSIGNED_BYTE;if(s===jT)return n.UNSIGNED_SHORT_4_4_4_4;if(s===XT)return n.UNSIGNED_SHORT_5_5_5_1;if(s===IF)return n.BYTE;if(s===BF)return n.SHORT;if(s===Ex)return n.UNSIGNED_SHORT;if(s===$T)return n.INT;if(s===Na)return n.UNSIGNED_INT;if(s===_o)return n.FLOAT;if(s===Hd)return r?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===DF)return n.ALPHA;if(s===Ai)return n.RGBA;if(s===kF)return n.LUMINANCE;if(s===NF)return n.LUMINANCE_ALPHA;if(s===Jl)return n.DEPTH_COMPONENT;if(s===Ru)return n.DEPTH_STENCIL;if(s===d_)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===FF)return n.RED;if(s===KT)return n.RED_INTEGER;if(s===UF)return n.RG;if(s===YT)return n.RG_INTEGER;if(s===JT)return n.RGBA_INTEGER;if(s===yy||s===_y||s===xy||s===Sy)if(l===pn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===yy)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===_y)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===xy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Sy)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===yy)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===_y)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===xy)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Sy)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===qw||s===Qw||s===Zw||s===eE)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===qw)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Qw)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Zw)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===eE)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===qT)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===tE||s===nE)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===tE)return l===pn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===nE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===rE||s===iE||s===sE||s===oE||s===aE||s===lE||s===cE||s===uE||s===fE||s===dE||s===hE||s===pE||s===mE||s===gE)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===rE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===iE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===sE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===oE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===aE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===lE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===cE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===uE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===fE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===dE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===hE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===pE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===mE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===gE)return l===pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===by||s===vE||s===yE)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===by)return l===pn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===vE)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===yE)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===zF||s===_E||s===xE||s===SE)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===by)return a.COMPRESSED_RED_RGTC1_EXT;if(s===_E)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===xE)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===SE)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Yl?r?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):n[s]!==void 0?n[s]:null}return{convert:i}}class gU extends Sn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Fa extends Kt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const cK={type:"move"};class Hb{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Fa,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Fa,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Fa,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new z),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const y of e.hand.values()){const _=t.getJointPose(y,r),v=this._getHandJoint(c,y);_!==null&&(v.matrix.fromArray(_.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=_.radius),v.visible=_!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],p=u.position.distanceTo(f.position),m=.02,g=.005;c.inputState.pinching&&p>m+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=t.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(cK)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const r=new Fa;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}}class uK extends fa{constructor(e,t){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,f=null,p=null,m=null,g=null;const y=t.getContextAttributes();let _=null,v=null;const x=[],b=[],A=new xe;let M=null;const E=new Sn;E.layers.enable(1),E.viewport=new sn;const R=new Sn;R.layers.enable(2),R.viewport=new sn;const I=[E,R],T=new gU;T.layers.enable(1),T.layers.enable(2);let P=null,B=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(J){let ne=x[J];return ne===void 0&&(ne=new Hb,x[J]=ne),ne.getTargetRaySpace()},this.getControllerGrip=function(J){let ne=x[J];return ne===void 0&&(ne=new Hb,x[J]=ne),ne.getGripSpace()},this.getHand=function(J){let ne=x[J];return ne===void 0&&(ne=new Hb,x[J]=ne),ne.getHandSpace()};function U(J){const ne=b.indexOf(J.inputSource);if(ne===-1)return;const ue=x[ne];ue!==void 0&&(ue.update(J.inputSource,J.frame,c||o),ue.dispatchEvent({type:J.type,data:J.inputSource}))}function j(){i.removeEventListener("select",U),i.removeEventListener("selectstart",U),i.removeEventListener("selectend",U),i.removeEventListener("squeeze",U),i.removeEventListener("squeezestart",U),i.removeEventListener("squeezeend",U),i.removeEventListener("end",j),i.removeEventListener("inputsourceschange",N);for(let J=0;J<x.length;J++){const ne=b[J];ne!==null&&(b[J]=null,x[J].disconnect(ne))}P=null,B=null,e.setRenderTarget(_),m=null,p=null,f=null,i=null,v=null,ee.stop(),r.isPresenting=!1,e.setPixelRatio(M),e.setSize(A.width,A.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(J){s=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(J){a=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(J){c=J},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return f},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(J){if(i=J,i!==null){if(_=e.getRenderTarget(),i.addEventListener("select",U),i.addEventListener("selectstart",U),i.addEventListener("selectend",U),i.addEventListener("squeeze",U),i.addEventListener("squeezestart",U),i.addEventListener("squeezeend",U),i.addEventListener("end",j),i.addEventListener("inputsourceschange",N),y.xrCompatible!==!0&&await t.makeXRCompatible(),M=e.getPixelRatio(),e.getSize(A),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ne={antialias:i.renderState.layers===void 0?y.antialias:!0,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,t,ne),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),v=new wo(m.framebufferWidth,m.framebufferHeight,{format:Ai,type:Zo,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let ne=null,ue=null,Ae=null;y.depth&&(Ae=y.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,ne=y.stencil?Ru:Jl,ue=y.stencil?Yl:Na);const Re={colorFormat:t.RGBA8,depthFormat:Ae,scaleFactor:s};f=new XRWebGLBinding(i,t),p=f.createProjectionLayer(Re),i.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),v=new wo(p.textureWidth,p.textureHeight,{format:Ai,type:Zo,depthTexture:new cC(p.textureWidth,p.textureHeight,ue,void 0,void 0,void 0,void 0,void 0,void 0,ne),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0});const Qe=e.properties.get(v);Qe.__ignoreDepthValues=p.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),ee.setContext(i),ee.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function N(J){for(let ne=0;ne<J.removed.length;ne++){const ue=J.removed[ne],Ae=b.indexOf(ue);Ae>=0&&(b[Ae]=null,x[Ae].disconnect(ue))}for(let ne=0;ne<J.added.length;ne++){const ue=J.added[ne];let Ae=b.indexOf(ue);if(Ae===-1){for(let Qe=0;Qe<x.length;Qe++)if(Qe>=b.length){b.push(ue),Ae=Qe;break}else if(b[Qe]===null){b[Qe]=ue,Ae=Qe;break}if(Ae===-1)break}const Re=x[Ae];Re&&Re.connect(ue)}}const G=new z,V=new z;function $(J,ne,ue){G.setFromMatrixPosition(ne.matrixWorld),V.setFromMatrixPosition(ue.matrixWorld);const Ae=G.distanceTo(V),Re=ne.projectionMatrix.elements,Qe=ue.projectionMatrix.elements,Ve=Re[14]/(Re[10]-1),Fe=Re[14]/(Re[10]+1),Le=(Re[9]+1)/Re[5],K=(Re[9]-1)/Re[5],_e=(Re[8]-1)/Re[0],me=(Qe[8]+1)/Qe[0],we=Ve*_e,ve=Ve*me,Xe=Ae/(-_e+me),Ue=Xe*-_e;ne.matrixWorld.decompose(J.position,J.quaternion,J.scale),J.translateX(Ue),J.translateZ(Xe),J.matrixWorld.compose(J.position,J.quaternion,J.scale),J.matrixWorldInverse.copy(J.matrixWorld).invert();const k=Ve+Xe,D=Fe+Xe,ie=we-Ue,Ee=ve+(Ae-Ue),oe=Le*Fe/D*k,le=K*Fe/D*k;J.projectionMatrix.makePerspective(ie,Ee,oe,le,k,D),J.projectionMatrixInverse.copy(J.projectionMatrix).invert()}function F(J,ne){ne===null?J.matrixWorld.copy(J.matrix):J.matrixWorld.multiplyMatrices(ne.matrixWorld,J.matrix),J.matrixWorldInverse.copy(J.matrixWorld).invert()}this.updateCamera=function(J){if(i===null)return;T.near=R.near=E.near=J.near,T.far=R.far=E.far=J.far,(P!==T.near||B!==T.far)&&(i.updateRenderState({depthNear:T.near,depthFar:T.far}),P=T.near,B=T.far);const ne=J.parent,ue=T.cameras;F(T,ne);for(let Ae=0;Ae<ue.length;Ae++)F(ue[Ae],ne);ue.length===2?$(T,E,R):T.projectionMatrix.copy(E.projectionMatrix),X(J,T,ne)};function X(J,ne,ue){ue===null?J.matrix.copy(ne.matrixWorld):(J.matrix.copy(ue.matrixWorld),J.matrix.invert(),J.matrix.multiply(ne.matrixWorld)),J.matrix.decompose(J.position,J.quaternion,J.scale),J.updateMatrixWorld(!0),J.projectionMatrix.copy(ne.projectionMatrix),J.projectionMatrixInverse.copy(ne.projectionMatrixInverse),J.isPerspectiveCamera&&(J.fov=Wd*2*Math.atan(1/J.projectionMatrix.elements[5]),J.zoom=1)}this.getCamera=function(){return T},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(J){l=J,p!==null&&(p.fixedFoveation=J),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=J)};let Y=null;function te(J,ne){if(u=ne.getViewerPose(c||o),g=ne,u!==null){const ue=u.views;m!==null&&(e.setRenderTargetFramebuffer(v,m.framebuffer),e.setRenderTarget(v));let Ae=!1;ue.length!==T.cameras.length&&(T.cameras.length=0,Ae=!0);for(let Re=0;Re<ue.length;Re++){const Qe=ue[Re];let Ve=null;if(m!==null)Ve=m.getViewport(Qe);else{const Le=f.getViewSubImage(p,Qe);Ve=Le.viewport,Re===0&&(e.setRenderTargetTextures(v,Le.colorTexture,p.ignoreDepthValues?void 0:Le.depthStencilTexture),e.setRenderTarget(v))}let Fe=I[Re];Fe===void 0&&(Fe=new Sn,Fe.layers.enable(Re),Fe.viewport=new sn,I[Re]=Fe),Fe.matrix.fromArray(Qe.transform.matrix),Fe.matrix.decompose(Fe.position,Fe.quaternion,Fe.scale),Fe.projectionMatrix.fromArray(Qe.projectionMatrix),Fe.projectionMatrixInverse.copy(Fe.projectionMatrix).invert(),Fe.viewport.set(Ve.x,Ve.y,Ve.width,Ve.height),Re===0&&(T.matrix.copy(Fe.matrix),T.matrix.decompose(T.position,T.quaternion,T.scale)),Ae===!0&&T.cameras.push(Fe)}}for(let ue=0;ue<x.length;ue++){const Ae=b[ue],Re=x[ue];Ae!==null&&Re!==void 0&&Re.update(Ae,ne,c||o)}Y&&Y(J,ne),ne.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ne}),g=null}const ee=new cU;ee.setAnimationLoop(te),this.setAnimationLoop=function(J){Y=J},this.dispose=function(){}}}function fK(n,e){function t(_,v){_.matrixAutoUpdate===!0&&_.updateMatrix(),v.value.copy(_.matrix)}function r(_,v){v.color.getRGB(_.fogColor.value,oU(n)),v.isFog?(_.fogNear.value=v.near,_.fogFar.value=v.far):v.isFogExp2&&(_.fogDensity.value=v.density)}function i(_,v,x,b,A){v.isMeshBasicMaterial||v.isMeshLambertMaterial?s(_,v):v.isMeshToonMaterial?(s(_,v),f(_,v)):v.isMeshPhongMaterial?(s(_,v),u(_,v)):v.isMeshStandardMaterial?(s(_,v),p(_,v),v.isMeshPhysicalMaterial&&m(_,v,A)):v.isMeshMatcapMaterial?(s(_,v),g(_,v)):v.isMeshDepthMaterial?s(_,v):v.isMeshDistanceMaterial?(s(_,v),y(_,v)):v.isMeshNormalMaterial?s(_,v):v.isLineBasicMaterial?(o(_,v),v.isLineDashedMaterial&&a(_,v)):v.isPointsMaterial?l(_,v,x,b):v.isSpriteMaterial?c(_,v):v.isShadowMaterial?(_.color.value.copy(v.color),_.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function s(_,v){_.opacity.value=v.opacity,v.color&&_.diffuse.value.copy(v.color),v.emissive&&_.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(_.map.value=v.map,t(v.map,_.mapTransform)),v.alphaMap&&(_.alphaMap.value=v.alphaMap,t(v.alphaMap,_.alphaMapTransform)),v.bumpMap&&(_.bumpMap.value=v.bumpMap,t(v.bumpMap,_.bumpMapTransform),_.bumpScale.value=v.bumpScale,v.side===oi&&(_.bumpScale.value*=-1)),v.normalMap&&(_.normalMap.value=v.normalMap,t(v.normalMap,_.normalMapTransform),_.normalScale.value.copy(v.normalScale),v.side===oi&&_.normalScale.value.negate()),v.displacementMap&&(_.displacementMap.value=v.displacementMap,t(v.displacementMap,_.displacementMapTransform),_.displacementScale.value=v.displacementScale,_.displacementBias.value=v.displacementBias),v.emissiveMap&&(_.emissiveMap.value=v.emissiveMap,t(v.emissiveMap,_.emissiveMapTransform)),v.specularMap&&(_.specularMap.value=v.specularMap,t(v.specularMap,_.specularMapTransform)),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest);const x=e.get(v).envMap;if(x&&(_.envMap.value=x,_.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,_.reflectivity.value=v.reflectivity,_.ior.value=v.ior,_.refractionRatio.value=v.refractionRatio),v.lightMap){_.lightMap.value=v.lightMap;const b=n._useLegacyLights===!0?Math.PI:1;_.lightMapIntensity.value=v.lightMapIntensity*b,t(v.lightMap,_.lightMapTransform)}v.aoMap&&(_.aoMap.value=v.aoMap,_.aoMapIntensity.value=v.aoMapIntensity,t(v.aoMap,_.aoMapTransform))}function o(_,v){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,v.map&&(_.map.value=v.map,t(v.map,_.mapTransform))}function a(_,v){_.dashSize.value=v.dashSize,_.totalSize.value=v.dashSize+v.gapSize,_.scale.value=v.scale}function l(_,v,x,b){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,_.size.value=v.size*x,_.scale.value=b*.5,v.map&&(_.map.value=v.map,t(v.map,_.uvTransform)),v.alphaMap&&(_.alphaMap.value=v.alphaMap,t(v.alphaMap,_.alphaMapTransform)),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest)}function c(_,v){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,_.rotation.value=v.rotation,v.map&&(_.map.value=v.map,t(v.map,_.mapTransform)),v.alphaMap&&(_.alphaMap.value=v.alphaMap,t(v.alphaMap,_.alphaMapTransform)),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest)}function u(_,v){_.specular.value.copy(v.specular),_.shininess.value=Math.max(v.shininess,1e-4)}function f(_,v){v.gradientMap&&(_.gradientMap.value=v.gradientMap)}function p(_,v){_.metalness.value=v.metalness,v.metalnessMap&&(_.metalnessMap.value=v.metalnessMap,t(v.metalnessMap,_.metalnessMapTransform)),_.roughness.value=v.roughness,v.roughnessMap&&(_.roughnessMap.value=v.roughnessMap,t(v.roughnessMap,_.roughnessMapTransform)),e.get(v).envMap&&(_.envMapIntensity.value=v.envMapIntensity)}function m(_,v,x){_.ior.value=v.ior,v.sheen>0&&(_.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),_.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(_.sheenColorMap.value=v.sheenColorMap,t(v.sheenColorMap,_.sheenColorMapTransform)),v.sheenRoughnessMap&&(_.sheenRoughnessMap.value=v.sheenRoughnessMap,t(v.sheenRoughnessMap,_.sheenRoughnessMapTransform))),v.clearcoat>0&&(_.clearcoat.value=v.clearcoat,_.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(_.clearcoatMap.value=v.clearcoatMap,t(v.clearcoatMap,_.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,t(v.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(_.clearcoatNormalMap.value=v.clearcoatNormalMap,t(v.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===oi&&_.clearcoatNormalScale.value.negate())),v.iridescence>0&&(_.iridescence.value=v.iridescence,_.iridescenceIOR.value=v.iridescenceIOR,_.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(_.iridescenceMap.value=v.iridescenceMap,t(v.iridescenceMap,_.iridescenceMapTransform)),v.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=v.iridescenceThicknessMap,t(v.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),v.transmission>0&&(_.transmission.value=v.transmission,_.transmissionSamplerMap.value=x.texture,_.transmissionSamplerSize.value.set(x.width,x.height),v.transmissionMap&&(_.transmissionMap.value=v.transmissionMap,t(v.transmissionMap,_.transmissionMapTransform)),_.thickness.value=v.thickness,v.thicknessMap&&(_.thicknessMap.value=v.thicknessMap,t(v.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=v.attenuationDistance,_.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(_.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(_.anisotropyMap.value=v.anisotropyMap,t(v.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=v.specularIntensity,_.specularColor.value.copy(v.specularColor),v.specularColorMap&&(_.specularColorMap.value=v.specularColorMap,t(v.specularColorMap,_.specularColorMapTransform)),v.specularIntensityMap&&(_.specularIntensityMap.value=v.specularIntensityMap,t(v.specularIntensityMap,_.specularIntensityMapTransform))}function g(_,v){v.matcap&&(_.matcap.value=v.matcap)}function y(_,v){const x=e.get(v).light;_.referencePosition.value.setFromMatrixPosition(x.matrixWorld),_.nearDistance.value=x.shadow.camera.near,_.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function dK(n,e,t,r){let i={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(x,b){const A=b.program;r.uniformBlockBinding(x,A)}function c(x,b){let A=i[x.id];A===void 0&&(g(x),A=u(x),i[x.id]=A,x.addEventListener("dispose",_));const M=b.program;r.updateUBOMapping(x,M);const E=e.render.frame;s[x.id]!==E&&(p(x),s[x.id]=E)}function u(x){const b=f();x.__bindingPointIndex=b;const A=n.createBuffer(),M=x.__size,E=x.usage;return n.bindBuffer(n.UNIFORM_BUFFER,A),n.bufferData(n.UNIFORM_BUFFER,M,E),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,b,A),A}function f(){for(let x=0;x<a;x++)if(o.indexOf(x)===-1)return o.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(x){const b=i[x.id],A=x.uniforms,M=x.__cache;n.bindBuffer(n.UNIFORM_BUFFER,b);for(let E=0,R=A.length;E<R;E++){const I=Array.isArray(A[E])?A[E]:[A[E]];for(let T=0,P=I.length;T<P;T++){const B=I[T];if(m(B,E,T,M)===!0){const U=B.__offset,j=Array.isArray(B.value)?B.value:[B.value];let N=0;for(let G=0;G<j.length;G++){const V=j[G],$=y(V);typeof V=="number"||typeof V=="boolean"?(B.__data[0]=V,n.bufferSubData(n.UNIFORM_BUFFER,U+N,B.__data)):V.isMatrix3?(B.__data[0]=V.elements[0],B.__data[1]=V.elements[1],B.__data[2]=V.elements[2],B.__data[3]=0,B.__data[4]=V.elements[3],B.__data[5]=V.elements[4],B.__data[6]=V.elements[5],B.__data[7]=0,B.__data[8]=V.elements[6],B.__data[9]=V.elements[7],B.__data[10]=V.elements[8],B.__data[11]=0):(V.toArray(B.__data,N),N+=$.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,U,B.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function m(x,b,A,M){const E=x.value,R=b+"_"+A;if(M[R]===void 0)return typeof E=="number"||typeof E=="boolean"?M[R]=E:M[R]=E.clone(),!0;{const I=M[R];if(typeof E=="number"||typeof E=="boolean"){if(I!==E)return M[R]=E,!0}else if(I.equals(E)===!1)return I.copy(E),!0}return!1}function g(x){const b=x.uniforms;let A=0;const M=16;for(let R=0,I=b.length;R<I;R++){const T=Array.isArray(b[R])?b[R]:[b[R]];for(let P=0,B=T.length;P<B;P++){const U=T[P],j=Array.isArray(U.value)?U.value:[U.value];for(let N=0,G=j.length;N<G;N++){const V=j[N],$=y(V),F=A%M;F!==0&&M-F<$.boundary&&(A+=M-F),U.__data=new Float32Array($.storage/Float32Array.BYTES_PER_ELEMENT),U.__offset=A,A+=$.storage}}}const E=A%M;return E>0&&(A+=M-E),x.__size=A,x.__cache={},this}function y(x){const b={boundary:0,storage:0};return typeof x=="number"||typeof x=="boolean"?(b.boundary=4,b.storage=4):x.isVector2?(b.boundary=8,b.storage=8):x.isVector3||x.isColor?(b.boundary=16,b.storage=12):x.isVector4?(b.boundary=16,b.storage=16):x.isMatrix3?(b.boundary=48,b.storage=48):x.isMatrix4?(b.boundary=64,b.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),b}function _(x){const b=x.target;b.removeEventListener("dispose",_);const A=o.indexOf(b.__bindingPointIndex);o.splice(A,1),n.deleteBuffer(i[b.id]),delete i[b.id],delete s[b.id]}function v(){for(const x in i)n.deleteBuffer(i[x]);o=[],i={},s={}}return{bind:l,update:c,dispose:v}}class dC{constructor(e={}){const{canvas:t=rU(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let p;r!==null?p=r.getContextAttributes().alpha:p=o;const m=new Uint32Array(4),g=new Int32Array(4);let y=null,_=null;const v=[],x=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=_r,this._useLegacyLights=!1,this.toneMapping=Qo,this.toneMappingExposure=1;const b=this;let A=!1,M=0,E=0,R=null,I=-1,T=null;const P=new sn,B=new sn;let U=null;const j=new De(0);let N=0,G=t.width,V=t.height,$=1,F=null,X=null;const Y=new sn(0,0,G,V),te=new sn(0,0,G,V);let ee=!1;const J=new dg;let ne=!1,ue=!1,Ae=null;const Re=new vt,Qe=new xe,Ve=new z,Fe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Le(){return R===null?$:1}let K=r;function _e(H,ae){for(let de=0;de<H.length;de++){const he=H[de],fe=t.getContext(he,ae);if(fe!==null)return fe}return null}try{const H={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${og}`),t.addEventListener("webglcontextlost",Ce,!1),t.addEventListener("webglcontextrestored",Z,!1),t.addEventListener("webglcontextcreationerror",ze,!1),K===null){const ae=["webgl2","webgl","experimental-webgl"];if(b.isWebGL1Renderer===!0&&ae.shift(),K=_e(ae,H),K===null)throw _e(ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&K instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),K.getShaderPrecisionFormat===void 0&&(K.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(H){throw console.error("THREE.WebGLRenderer: "+H.message),H}let me,we,ve,Xe,Ue,k,D,ie,Ee,oe,le,ke,Te,Ie,Ze,Pe,be,Et,pt,dt,ot,He,Q,Se;function $e(){me=new M7(K),we=new x7(K,me,e),me.init(we),He=new mU(K,me,we),ve=new aK(K,me,we),Xe=new R7(K),Ue=new YX,k=new lK(K,me,ve,Ue,we,He,Xe),D=new b7(b),ie=new E7(b),Ee=new NW(K,we),Q=new y7(K,me,Ee,we),oe=new T7(K,Ee,Xe,Q),le=new I7(K,oe,Ee,Xe),pt=new L7(K,we,k),Pe=new S7(Ue),ke=new KX(b,D,ie,me,we,Q,Pe),Te=new fK(b,Ue),Ie=new qX,Ze=new rK(me,we),Et=new v7(b,D,ie,ve,le,p,l),be=new oK(b,le,we),Se=new dK(K,Xe,we,ve),dt=new _7(K,me,Xe,we),ot=new C7(K,me,Xe,we),Xe.programs=ke.programs,b.capabilities=we,b.extensions=me,b.properties=Ue,b.renderLists=Ie,b.shadowMap=be,b.state=ve,b.info=Xe}$e();const Ke=new uK(b,K);this.xr=Ke,this.getContext=function(){return K},this.getContextAttributes=function(){return K.getContextAttributes()},this.forceContextLoss=function(){const H=me.get("WEBGL_lose_context");H&&H.loseContext()},this.forceContextRestore=function(){const H=me.get("WEBGL_lose_context");H&&H.restoreContext()},this.getPixelRatio=function(){return $},this.setPixelRatio=function(H){H!==void 0&&($=H,this.setSize(G,V,!1))},this.getSize=function(H){return H.set(G,V)},this.setSize=function(H,ae,de=!0){if(Ke.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}G=H,V=ae,t.width=Math.floor(H*$),t.height=Math.floor(ae*$),de===!0&&(t.style.width=H+"px",t.style.height=ae+"px"),this.setViewport(0,0,H,ae)},this.getDrawingBufferSize=function(H){return H.set(G*$,V*$).floor()},this.setDrawingBufferSize=function(H,ae,de){G=H,V=ae,$=de,t.width=Math.floor(H*de),t.height=Math.floor(ae*de),this.setViewport(0,0,H,ae)},this.getCurrentViewport=function(H){return H.copy(P)},this.getViewport=function(H){return H.copy(Y)},this.setViewport=function(H,ae,de,he){H.isVector4?Y.set(H.x,H.y,H.z,H.w):Y.set(H,ae,de,he),ve.viewport(P.copy(Y).multiplyScalar($).floor())},this.getScissor=function(H){return H.copy(te)},this.setScissor=function(H,ae,de,he){H.isVector4?te.set(H.x,H.y,H.z,H.w):te.set(H,ae,de,he),ve.scissor(B.copy(te).multiplyScalar($).floor())},this.getScissorTest=function(){return ee},this.setScissorTest=function(H){ve.setScissorTest(ee=H)},this.setOpaqueSort=function(H){F=H},this.setTransparentSort=function(H){X=H},this.getClearColor=function(H){return H.copy(Et.getClearColor())},this.setClearColor=function(){Et.setClearColor.apply(Et,arguments)},this.getClearAlpha=function(){return Et.getClearAlpha()},this.setClearAlpha=function(){Et.setClearAlpha.apply(Et,arguments)},this.clear=function(H=!0,ae=!0,de=!0){let he=0;if(H){let fe=!1;if(R!==null){const et=R.texture.format;fe=et===JT||et===YT||et===KT}if(fe){const et=R.texture.type,ut=et===Zo||et===Na||et===Ex||et===Yl||et===jT||et===XT,_t=Et.getClearColor(),St=Et.getClearAlpha(),Mt=_t.r,wt=_t.g,Tt=_t.b;ut?(m[0]=Mt,m[1]=wt,m[2]=Tt,m[3]=St,K.clearBufferuiv(K.COLOR,0,m)):(g[0]=Mt,g[1]=wt,g[2]=Tt,g[3]=St,K.clearBufferiv(K.COLOR,0,g))}else he|=K.COLOR_BUFFER_BIT}ae&&(he|=K.DEPTH_BUFFER_BIT),de&&(he|=K.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),K.clear(he)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ce,!1),t.removeEventListener("webglcontextrestored",Z,!1),t.removeEventListener("webglcontextcreationerror",ze,!1),Ie.dispose(),Ze.dispose(),Ue.dispose(),D.dispose(),ie.dispose(),le.dispose(),Q.dispose(),Se.dispose(),ke.dispose(),Ke.dispose(),Ke.removeEventListener("sessionstart",dn),Ke.removeEventListener("sessionend",Wt),Ae&&(Ae.dispose(),Ae=null),gr.stop()};function Ce(H){H.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),A=!0}function Z(){console.log("THREE.WebGLRenderer: Context Restored."),A=!1;const H=Xe.autoReset,ae=be.enabled,de=be.autoUpdate,he=be.needsUpdate,fe=be.type;$e(),Xe.autoReset=H,be.enabled=ae,be.autoUpdate=de,be.needsUpdate=he,be.type=fe}function ze(H){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",H.statusMessage)}function We(H){const ae=H.target;ae.removeEventListener("dispose",We),ht(ae)}function ht(H){nt(H),Ue.remove(H)}function nt(H){const ae=Ue.get(H).programs;ae!==void 0&&(ae.forEach(function(de){ke.releaseProgram(de)}),H.isShaderMaterial&&ke.releaseShaderCache(H))}this.renderBufferDirect=function(H,ae,de,he,fe,et){ae===null&&(ae=Fe);const ut=fe.isMesh&&fe.matrixWorld.determinant()<0,_t=An(H,ae,de,he,fe);ve.setMaterial(he,ut);let St=de.index,Mt=1;if(he.wireframe===!0){if(St=oe.getWireframeAttribute(de),St===void 0)return;Mt=2}const wt=de.drawRange,Tt=de.attributes.position;let Pn=wt.start*Mt,Fr=(wt.start+wt.count)*Mt;et!==null&&(Pn=Math.max(Pn,et.start*Mt),Fr=Math.min(Fr,(et.start+et.count)*Mt)),St!==null?(Pn=Math.max(Pn,0),Fr=Math.min(Fr,St.count)):Tt!=null&&(Pn=Math.max(Pn,0),Fr=Math.min(Fr,Tt.count));const yn=Fr-Pn;if(yn<0||yn===1/0)return;Q.setup(fe,he,_t,de,St);let Ar,bt=dt;if(St!==null&&(Ar=Ee.get(St),bt=ot,bt.setIndex(Ar)),fe.isMesh)he.wireframe===!0?(ve.setLineWidth(he.wireframeLinewidth*Le()),bt.setMode(K.LINES)):bt.setMode(K.TRIANGLES);else if(fe.isLine){let rt=he.linewidth;rt===void 0&&(rt=1),ve.setLineWidth(rt*Le()),fe.isLineSegments?bt.setMode(K.LINES):fe.isLineLoop?bt.setMode(K.LINE_LOOP):bt.setMode(K.LINE_STRIP)}else fe.isPoints?bt.setMode(K.POINTS):fe.isSprite&&bt.setMode(K.TRIANGLES);if(fe.isBatchedMesh)bt.renderMultiDraw(fe._multiDrawStarts,fe._multiDrawCounts,fe._multiDrawCount);else if(fe.isInstancedMesh)bt.renderInstances(Pn,yn,fe.count);else if(de.isInstancedBufferGeometry){const rt=de._maxInstanceCount!==void 0?de._maxInstanceCount:1/0,Es=Math.min(de.instanceCount,rt);bt.renderInstances(Pn,yn,Es)}else bt.render(Pn,yn)};function Bt(H,ae,de){H.transparent===!0&&H.side===Ws&&H.forceSinglePass===!1?(H.side=oi,H.needsUpdate=!0,Je(H,ae,de),H.side=sa,H.needsUpdate=!0,Je(H,ae,de),H.side=Ws):Je(H,ae,de)}this.compile=function(H,ae,de=null){de===null&&(de=H),_=Ze.get(de),_.init(),x.push(_),de.traverseVisible(function(fe){fe.isLight&&fe.layers.test(ae.layers)&&(_.pushLight(fe),fe.castShadow&&_.pushShadow(fe))}),H!==de&&H.traverseVisible(function(fe){fe.isLight&&fe.layers.test(ae.layers)&&(_.pushLight(fe),fe.castShadow&&_.pushShadow(fe))}),_.setupLights(b._useLegacyLights);const he=new Set;return H.traverse(function(fe){const et=fe.material;if(et)if(Array.isArray(et))for(let ut=0;ut<et.length;ut++){const _t=et[ut];Bt(_t,de,fe),he.add(_t)}else Bt(et,de,fe),he.add(et)}),x.pop(),_=null,he},this.compileAsync=function(H,ae,de=null){const he=this.compile(H,ae,de);return new Promise(fe=>{function et(){if(he.forEach(function(ut){Ue.get(ut).currentProgram.isReady()&&he.delete(ut)}),he.size===0){fe(H);return}setTimeout(et,10)}me.get("KHR_parallel_shader_compile")!==null?et():setTimeout(et,10)})};let Ut=null;function nn(H){Ut&&Ut(H)}function dn(){gr.stop()}function Wt(){gr.start()}const gr=new cU;gr.setAnimationLoop(nn),typeof self<"u"&&gr.setContext(self),this.setAnimationLoop=function(H){Ut=H,Ke.setAnimationLoop(H),H===null?gr.stop():gr.start()},Ke.addEventListener("sessionstart",dn),Ke.addEventListener("sessionend",Wt),this.render=function(H,ae){if(ae!==void 0&&ae.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(A===!0)return;H.matrixWorldAutoUpdate===!0&&H.updateMatrixWorld(),ae.parent===null&&ae.matrixWorldAutoUpdate===!0&&ae.updateMatrixWorld(),Ke.enabled===!0&&Ke.isPresenting===!0&&(Ke.cameraAutoUpdate===!0&&Ke.updateCamera(ae),ae=Ke.getCamera()),H.isScene===!0&&H.onBeforeRender(b,H,ae,R),_=Ze.get(H,x.length),_.init(),x.push(_),Re.multiplyMatrices(ae.projectionMatrix,ae.matrixWorldInverse),J.setFromProjectionMatrix(Re),ue=this.localClippingEnabled,ne=Pe.init(this.clippingPlanes,ue),y=Ie.get(H,v.length),y.init(),v.push(y),Ri(H,ae,0,b.sortObjects),y.finish(),b.sortObjects===!0&&y.sort(F,X),this.info.render.frame++,ne===!0&&Pe.beginShadows();const de=_.state.shadowsArray;if(be.render(de,H,ae),ne===!0&&Pe.endShadows(),this.info.autoReset===!0&&this.info.reset(),Et.render(y,H),_.setupLights(b._useLegacyLights),ae.isArrayCamera){const he=ae.cameras;for(let fe=0,et=he.length;fe<et;fe++){const ut=he[fe];Ac(y,H,ut,ut.viewport)}}else Ac(y,H,ae);R!==null&&(k.updateMultisampleRenderTarget(R),k.updateRenderTargetMipmap(R)),H.isScene===!0&&H.onAfterRender(b,H,ae),Q.resetDefaultState(),I=-1,T=null,x.pop(),x.length>0?_=x[x.length-1]:_=null,v.pop(),v.length>0?y=v[v.length-1]:y=null};function Ri(H,ae,de,he){if(H.visible===!1)return;if(H.layers.test(ae.layers)){if(H.isGroup)de=H.renderOrder;else if(H.isLOD)H.autoUpdate===!0&&H.update(ae);else if(H.isLight)_.pushLight(H),H.castShadow&&_.pushShadow(H);else if(H.isSprite){if(!H.frustumCulled||J.intersectsSprite(H)){he&&Ve.setFromMatrixPosition(H.matrixWorld).applyMatrix4(Re);const ut=le.update(H),_t=H.material;_t.visible&&y.push(H,ut,_t,de,Ve.z,null)}}else if((H.isMesh||H.isLine||H.isPoints)&&(!H.frustumCulled||J.intersectsObject(H))){const ut=le.update(H),_t=H.material;if(he&&(H.boundingSphere!==void 0?(H.boundingSphere===null&&H.computeBoundingSphere(),Ve.copy(H.boundingSphere.center)):(ut.boundingSphere===null&&ut.computeBoundingSphere(),Ve.copy(ut.boundingSphere.center)),Ve.applyMatrix4(H.matrixWorld).applyMatrix4(Re)),Array.isArray(_t)){const St=ut.groups;for(let Mt=0,wt=St.length;Mt<wt;Mt++){const Tt=St[Mt],Pn=_t[Tt.materialIndex];Pn&&Pn.visible&&y.push(H,ut,Pn,de,Ve.z,Tt)}}else _t.visible&&y.push(H,ut,_t,de,Ve.z,null)}}const et=H.children;for(let ut=0,_t=et.length;ut<_t;ut++)Ri(et[ut],ae,de,he)}function Ac(H,ae,de,he){const fe=H.opaque,et=H.transmissive,ut=H.transparent;_.setupLightsView(de),ne===!0&&Pe.setGlobalState(b.clippingPlanes,de),et.length>0&&al(fe,et,ae,de),he&&ve.viewport(P.copy(he)),fe.length>0&&ll(fe,ae,de),et.length>0&&ll(et,ae,de),ut.length>0&&ll(ut,ae,de),ve.buffers.depth.setTest(!0),ve.buffers.depth.setMask(!0),ve.buffers.color.setMask(!0),ve.setPolygonOffset(!1)}function al(H,ae,de,he){if((de.isScene===!0?de.overrideMaterial:null)!==null)return;const et=we.isWebGL2;Ae===null&&(Ae=new wo(1,1,{generateMipmaps:!0,type:me.has("EXT_color_buffer_half_float")?Hd:Zo,minFilter:oa,samples:et?4:0})),b.getDrawingBufferSize(Qe),et?Ae.setSize(Qe.x,Qe.y):Ae.setSize(h_(Qe.x),h_(Qe.y));const ut=b.getRenderTarget();b.setRenderTarget(Ae),b.getClearColor(j),N=b.getClearAlpha(),N<1&&b.setClearColor(16777215,.5),b.clear();const _t=b.toneMapping;b.toneMapping=Qo,ll(H,de,he),k.updateMultisampleRenderTarget(Ae),k.updateRenderTargetMipmap(Ae);let St=!1;for(let Mt=0,wt=ae.length;Mt<wt;Mt++){const Tt=ae[Mt],Pn=Tt.object,Fr=Tt.geometry,yn=Tt.material,Ar=Tt.group;if(yn.side===Ws&&Pn.layers.test(he.layers)){const bt=yn.side;yn.side=oi,yn.needsUpdate=!0,so(Pn,de,he,Fr,yn,Ar),yn.side=bt,yn.needsUpdate=!0,St=!0}}St===!0&&(k.updateMultisampleRenderTarget(Ae),k.updateRenderTargetMipmap(Ae)),b.setRenderTarget(ut),b.setClearColor(j,N),b.toneMapping=_t}function ll(H,ae,de){const he=ae.isScene===!0?ae.overrideMaterial:null;for(let fe=0,et=H.length;fe<et;fe++){const ut=H[fe],_t=ut.object,St=ut.geometry,Mt=he===null?ut.material:he,wt=ut.group;_t.layers.test(de.layers)&&so(_t,ae,de,St,Mt,wt)}}function so(H,ae,de,he,fe,et){H.onBeforeRender(b,ae,de,he,fe,et),H.modelViewMatrix.multiplyMatrices(de.matrixWorldInverse,H.matrixWorld),H.normalMatrix.getNormalMatrix(H.modelViewMatrix),fe.onBeforeRender(b,ae,de,he,H,et),fe.transparent===!0&&fe.side===Ws&&fe.forceSinglePass===!1?(fe.side=oi,fe.needsUpdate=!0,b.renderBufferDirect(de,ae,he,fe,H,et),fe.side=sa,fe.needsUpdate=!0,b.renderBufferDirect(de,ae,he,fe,H,et),fe.side=Ws):b.renderBufferDirect(de,ae,he,fe,H,et),H.onAfterRender(b,ae,de,he,fe,et)}function Je(H,ae,de){ae.isScene!==!0&&(ae=Fe);const he=Ue.get(H),fe=_.state.lights,et=_.state.shadowsArray,ut=fe.state.version,_t=ke.getParameters(H,fe.state,et,ae,de),St=ke.getProgramCacheKey(_t);let Mt=he.programs;he.environment=H.isMeshStandardMaterial?ae.environment:null,he.fog=ae.fog,he.envMap=(H.isMeshStandardMaterial?ie:D).get(H.envMap||he.environment),Mt===void 0&&(H.addEventListener("dispose",We),Mt=new Map,he.programs=Mt);let wt=Mt.get(St);if(wt!==void 0){if(he.currentProgram===wt&&he.lightsStateVersion===ut)return yt(H,_t),wt}else _t.uniforms=ke.getUniforms(H),H.onBuild(de,_t,b),H.onBeforeCompile(_t,b),wt=ke.acquireProgram(_t,St),Mt.set(St,wt),he.uniforms=_t.uniforms;const Tt=he.uniforms;return(!H.isShaderMaterial&&!H.isRawShaderMaterial||H.clipping===!0)&&(Tt.clippingPlanes=Pe.uniform),yt(H,_t),he.needsLights=Ku(H),he.lightsStateVersion=ut,he.needsLights&&(Tt.ambientLightColor.value=fe.state.ambient,Tt.lightProbe.value=fe.state.probe,Tt.directionalLights.value=fe.state.directional,Tt.directionalLightShadows.value=fe.state.directionalShadow,Tt.spotLights.value=fe.state.spot,Tt.spotLightShadows.value=fe.state.spotShadow,Tt.rectAreaLights.value=fe.state.rectArea,Tt.ltc_1.value=fe.state.rectAreaLTC1,Tt.ltc_2.value=fe.state.rectAreaLTC2,Tt.pointLights.value=fe.state.point,Tt.pointLightShadows.value=fe.state.pointShadow,Tt.hemisphereLights.value=fe.state.hemi,Tt.directionalShadowMap.value=fe.state.directionalShadowMap,Tt.directionalShadowMatrix.value=fe.state.directionalShadowMatrix,Tt.spotShadowMap.value=fe.state.spotShadowMap,Tt.spotLightMatrix.value=fe.state.spotLightMatrix,Tt.spotLightMap.value=fe.state.spotLightMap,Tt.pointShadowMap.value=fe.state.pointShadowMap,Tt.pointShadowMatrix.value=fe.state.pointShadowMatrix),he.currentProgram=wt,he.uniformsList=null,wt}function lt(H){if(H.uniformsList===null){const ae=H.currentProgram.getUniforms();H.uniformsList=wy.seqWithValue(ae.seq,H.uniforms)}return H.uniformsList}function yt(H,ae){const de=Ue.get(H);de.outputColorSpace=ae.outputColorSpace,de.batching=ae.batching,de.instancing=ae.instancing,de.instancingColor=ae.instancingColor,de.skinning=ae.skinning,de.morphTargets=ae.morphTargets,de.morphNormals=ae.morphNormals,de.morphColors=ae.morphColors,de.morphTargetsCount=ae.morphTargetsCount,de.numClippingPlanes=ae.numClippingPlanes,de.numIntersection=ae.numClipIntersection,de.vertexAlphas=ae.vertexAlphas,de.vertexTangents=ae.vertexTangents,de.toneMapping=ae.toneMapping}function An(H,ae,de,he,fe){ae.isScene!==!0&&(ae=Fe),k.resetTextureUnits();const et=ae.fog,ut=he.isMeshStandardMaterial?ae.environment:null,_t=R===null?b.outputColorSpace:R.isXRRenderTarget===!0?R.texture.colorSpace:aa,St=(he.isMeshStandardMaterial?ie:D).get(he.envMap||ut),Mt=he.vertexColors===!0&&!!de.attributes.color&&de.attributes.color.itemSize===4,wt=!!de.attributes.tangent&&(!!he.normalMap||he.anisotropy>0),Tt=!!de.morphAttributes.position,Pn=!!de.morphAttributes.normal,Fr=!!de.morphAttributes.color;let yn=Qo;he.toneMapped&&(R===null||R.isXRRenderTarget===!0)&&(yn=b.toneMapping);const Ar=de.morphAttributes.position||de.morphAttributes.normal||de.morphAttributes.color,bt=Ar!==void 0?Ar.length:0,rt=Ue.get(he),Es=_.state.lights;if(ne===!0&&(ue===!0||H!==T)){const Ur=H===T&&he.id===I;Pe.setState(he,H,Ur)}let Nt=!1;he.version===rt.__version?(rt.needsLights&&rt.lightsStateVersion!==Es.state.version||rt.outputColorSpace!==_t||fe.isBatchedMesh&&rt.batching===!1||!fe.isBatchedMesh&&rt.batching===!0||fe.isInstancedMesh&&rt.instancing===!1||!fe.isInstancedMesh&&rt.instancing===!0||fe.isSkinnedMesh&&rt.skinning===!1||!fe.isSkinnedMesh&&rt.skinning===!0||fe.isInstancedMesh&&rt.instancingColor===!0&&fe.instanceColor===null||fe.isInstancedMesh&&rt.instancingColor===!1&&fe.instanceColor!==null||rt.envMap!==St||he.fog===!0&&rt.fog!==et||rt.numClippingPlanes!==void 0&&(rt.numClippingPlanes!==Pe.numPlanes||rt.numIntersection!==Pe.numIntersection)||rt.vertexAlphas!==Mt||rt.vertexTangents!==wt||rt.morphTargets!==Tt||rt.morphNormals!==Pn||rt.morphColors!==Fr||rt.toneMapping!==yn||we.isWebGL2===!0&&rt.morphTargetsCount!==bt)&&(Nt=!0):(Nt=!0,rt.__version=he.version);let Wn=rt.currentProgram;Nt===!0&&(Wn=Je(he,ae,fe));let Po=!1,Ms=!1,wr=!1;const tr=Wn.getUniforms(),Oo=rt.uniforms;if(ve.useProgram(Wn.program)&&(Po=!0,Ms=!0,wr=!0),he.id!==I&&(I=he.id,Ms=!0),Po||T!==H){tr.setValue(K,"projectionMatrix",H.projectionMatrix),tr.setValue(K,"viewMatrix",H.matrixWorldInverse);const Ur=tr.map.cameraPosition;Ur!==void 0&&Ur.setValue(K,Ve.setFromMatrixPosition(H.matrixWorld)),we.logarithmicDepthBuffer&&tr.setValue(K,"logDepthBufFC",2/(Math.log(H.far+1)/Math.LN2)),(he.isMeshPhongMaterial||he.isMeshToonMaterial||he.isMeshLambertMaterial||he.isMeshBasicMaterial||he.isMeshStandardMaterial||he.isShaderMaterial)&&tr.setValue(K,"isOrthographic",H.isOrthographicCamera===!0),T!==H&&(T=H,Ms=!0,wr=!0)}if(fe.isSkinnedMesh){tr.setOptional(K,fe,"bindMatrix"),tr.setOptional(K,fe,"bindMatrixInverse");const Ur=fe.skeleton;Ur&&(we.floatVertexTextures?(Ur.boneTexture===null&&Ur.computeBoneTexture(),tr.setValue(K,"boneTexture",Ur.boneTexture,k)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}fe.isBatchedMesh&&(tr.setOptional(K,fe,"batchingTexture"),tr.setValue(K,"batchingTexture",fe._matricesTexture,k));const Yu=de.morphAttributes;if((Yu.position!==void 0||Yu.normal!==void 0||Yu.color!==void 0&&we.isWebGL2===!0)&&pt.update(fe,de,Wn),(Ms||rt.receiveShadow!==fe.receiveShadow)&&(rt.receiveShadow=fe.receiveShadow,tr.setValue(K,"receiveShadow",fe.receiveShadow)),he.isMeshGouraudMaterial&&he.envMap!==null&&(Oo.envMap.value=St,Oo.flipEnvMap.value=St.isCubeTexture&&St.isRenderTargetTexture===!1?-1:1),Ms&&(tr.setValue(K,"toneMappingExposure",b.toneMappingExposure),rt.needsLights&&er(Oo,wr),et&&he.fog===!0&&Te.refreshFogUniforms(Oo,et),Te.refreshMaterialUniforms(Oo,he,$,V,Ae),wy.upload(K,lt(rt),Oo,k)),he.isShaderMaterial&&he.uniformsNeedUpdate===!0&&(wy.upload(K,lt(rt),Oo,k),he.uniformsNeedUpdate=!1),he.isSpriteMaterial&&tr.setValue(K,"center",fe.center),tr.setValue(K,"modelViewMatrix",fe.modelViewMatrix),tr.setValue(K,"normalMatrix",fe.normalMatrix),tr.setValue(K,"modelMatrix",fe.matrixWorld),he.isShaderMaterial||he.isRawShaderMaterial){const Ur=he.uniformsGroups;for(let Ju=0,Ji=Ur.length;Ju<Ji;Ju++)if(we.isWebGL2){const Fg=Ur[Ju];Se.update(Fg,Wn),Se.bind(Fg,Wn)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Wn}function er(H,ae){H.ambientLightColor.needsUpdate=ae,H.lightProbe.needsUpdate=ae,H.directionalLights.needsUpdate=ae,H.directionalLightShadows.needsUpdate=ae,H.pointLights.needsUpdate=ae,H.pointLightShadows.needsUpdate=ae,H.spotLights.needsUpdate=ae,H.spotLightShadows.needsUpdate=ae,H.rectAreaLights.needsUpdate=ae,H.hemisphereLights.needsUpdate=ae}function Ku(H){return H.isMeshLambertMaterial||H.isMeshToonMaterial||H.isMeshPhongMaterial||H.isMeshStandardMaterial||H.isShadowMaterial||H.isShaderMaterial&&H.lights===!0}this.getActiveCubeFace=function(){return M},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return R},this.setRenderTargetTextures=function(H,ae,de){Ue.get(H.texture).__webglTexture=ae,Ue.get(H.depthTexture).__webglTexture=de;const he=Ue.get(H);he.__hasExternalTextures=!0,he.__hasExternalTextures&&(he.__autoAllocateDepthBuffer=de===void 0,he.__autoAllocateDepthBuffer||me.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),he.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(H,ae){const de=Ue.get(H);de.__webglFramebuffer=ae,de.__useDefaultFramebuffer=ae===void 0},this.setRenderTarget=function(H,ae=0,de=0){R=H,M=ae,E=de;let he=!0,fe=null,et=!1,ut=!1;if(H){const St=Ue.get(H);St.__useDefaultFramebuffer!==void 0?(ve.bindFramebuffer(K.FRAMEBUFFER,null),he=!1):St.__webglFramebuffer===void 0?k.setupRenderTarget(H):St.__hasExternalTextures&&k.rebindTextures(H,Ue.get(H.texture).__webglTexture,Ue.get(H.depthTexture).__webglTexture);const Mt=H.texture;(Mt.isData3DTexture||Mt.isDataArrayTexture||Mt.isCompressedArrayTexture)&&(ut=!0);const wt=Ue.get(H).__webglFramebuffer;H.isWebGLCubeRenderTarget?(Array.isArray(wt[ae])?fe=wt[ae][de]:fe=wt[ae],et=!0):we.isWebGL2&&H.samples>0&&k.useMultisampledRTT(H)===!1?fe=Ue.get(H).__webglMultisampledFramebuffer:Array.isArray(wt)?fe=wt[de]:fe=wt,P.copy(H.viewport),B.copy(H.scissor),U=H.scissorTest}else P.copy(Y).multiplyScalar($).floor(),B.copy(te).multiplyScalar($).floor(),U=ee;if(ve.bindFramebuffer(K.FRAMEBUFFER,fe)&&we.drawBuffers&&he&&ve.drawBuffers(H,fe),ve.viewport(P),ve.scissor(B),ve.setScissorTest(U),et){const St=Ue.get(H.texture);K.framebufferTexture2D(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,K.TEXTURE_CUBE_MAP_POSITIVE_X+ae,St.__webglTexture,de)}else if(ut){const St=Ue.get(H.texture),Mt=ae||0;K.framebufferTextureLayer(K.FRAMEBUFFER,K.COLOR_ATTACHMENT0,St.__webglTexture,de||0,Mt)}I=-1},this.readRenderTargetPixels=function(H,ae,de,he,fe,et,ut){if(!(H&&H.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let _t=Ue.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&ut!==void 0&&(_t=_t[ut]),_t){ve.bindFramebuffer(K.FRAMEBUFFER,_t);try{const St=H.texture,Mt=St.format,wt=St.type;if(Mt!==Ai&&He.convert(Mt)!==K.getParameter(K.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Tt=wt===Hd&&(me.has("EXT_color_buffer_half_float")||we.isWebGL2&&me.has("EXT_color_buffer_float"));if(wt!==Zo&&He.convert(wt)!==K.getParameter(K.IMPLEMENTATION_COLOR_READ_TYPE)&&!(wt===_o&&(we.isWebGL2||me.has("OES_texture_float")||me.has("WEBGL_color_buffer_float")))&&!Tt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ae>=0&&ae<=H.width-he&&de>=0&&de<=H.height-fe&&K.readPixels(ae,de,he,fe,He.convert(Mt),He.convert(wt),et)}finally{const St=R!==null?Ue.get(R).__webglFramebuffer:null;ve.bindFramebuffer(K.FRAMEBUFFER,St)}}},this.copyFramebufferToTexture=function(H,ae,de=0){const he=Math.pow(2,-de),fe=Math.floor(ae.image.width*he),et=Math.floor(ae.image.height*he);k.setTexture2D(ae,0),K.copyTexSubImage2D(K.TEXTURE_2D,de,0,0,H.x,H.y,fe,et),ve.unbindTexture()},this.copyTextureToTexture=function(H,ae,de,he=0){const fe=ae.image.width,et=ae.image.height,ut=He.convert(de.format),_t=He.convert(de.type);k.setTexture2D(de,0),K.pixelStorei(K.UNPACK_FLIP_Y_WEBGL,de.flipY),K.pixelStorei(K.UNPACK_PREMULTIPLY_ALPHA_WEBGL,de.premultiplyAlpha),K.pixelStorei(K.UNPACK_ALIGNMENT,de.unpackAlignment),ae.isDataTexture?K.texSubImage2D(K.TEXTURE_2D,he,H.x,H.y,fe,et,ut,_t,ae.image.data):ae.isCompressedTexture?K.compressedTexSubImage2D(K.TEXTURE_2D,he,H.x,H.y,ae.mipmaps[0].width,ae.mipmaps[0].height,ut,ae.mipmaps[0].data):K.texSubImage2D(K.TEXTURE_2D,he,H.x,H.y,ut,_t,ae.image),he===0&&de.generateMipmaps&&K.generateMipmap(K.TEXTURE_2D),ve.unbindTexture()},this.copyTextureToTexture3D=function(H,ae,de,he,fe=0){if(b.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const et=H.max.x-H.min.x+1,ut=H.max.y-H.min.y+1,_t=H.max.z-H.min.z+1,St=He.convert(he.format),Mt=He.convert(he.type);let wt;if(he.isData3DTexture)k.setTexture3D(he,0),wt=K.TEXTURE_3D;else if(he.isDataArrayTexture||he.isCompressedArrayTexture)k.setTexture2DArray(he,0),wt=K.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}K.pixelStorei(K.UNPACK_FLIP_Y_WEBGL,he.flipY),K.pixelStorei(K.UNPACK_PREMULTIPLY_ALPHA_WEBGL,he.premultiplyAlpha),K.pixelStorei(K.UNPACK_ALIGNMENT,he.unpackAlignment);const Tt=K.getParameter(K.UNPACK_ROW_LENGTH),Pn=K.getParameter(K.UNPACK_IMAGE_HEIGHT),Fr=K.getParameter(K.UNPACK_SKIP_PIXELS),yn=K.getParameter(K.UNPACK_SKIP_ROWS),Ar=K.getParameter(K.UNPACK_SKIP_IMAGES),bt=de.isCompressedTexture?de.mipmaps[fe]:de.image;K.pixelStorei(K.UNPACK_ROW_LENGTH,bt.width),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,bt.height),K.pixelStorei(K.UNPACK_SKIP_PIXELS,H.min.x),K.pixelStorei(K.UNPACK_SKIP_ROWS,H.min.y),K.pixelStorei(K.UNPACK_SKIP_IMAGES,H.min.z),de.isDataTexture||de.isData3DTexture?K.texSubImage3D(wt,fe,ae.x,ae.y,ae.z,et,ut,_t,St,Mt,bt.data):de.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),K.compressedTexSubImage3D(wt,fe,ae.x,ae.y,ae.z,et,ut,_t,St,bt.data)):K.texSubImage3D(wt,fe,ae.x,ae.y,ae.z,et,ut,_t,St,Mt,bt),K.pixelStorei(K.UNPACK_ROW_LENGTH,Tt),K.pixelStorei(K.UNPACK_IMAGE_HEIGHT,Pn),K.pixelStorei(K.UNPACK_SKIP_PIXELS,Fr),K.pixelStorei(K.UNPACK_SKIP_ROWS,yn),K.pixelStorei(K.UNPACK_SKIP_IMAGES,Ar),fe===0&&he.generateMipmaps&&K.generateMipmap(wt),ve.unbindTexture()},this.initTexture=function(H){H.isCubeTexture?k.setTextureCube(H,0):H.isData3DTexture?k.setTexture3D(H,0):H.isDataArrayTexture||H.isCompressedArrayTexture?k.setTexture2DArray(H,0):k.setTexture2D(H,0),ve.unbindTexture()},this.resetState=function(){M=0,E=0,R=null,ve.reset(),Q.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return xo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===Tx?"display-p3":"srgb",t.unpackColorSpace=rn.workingColorSpace===lg?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===_r?ql:eC}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===ql?_r:aa}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class vU extends dC{}vU.prototype.isWebGL1Renderer=!0;class Px{constructor(e,t=25e-5){this.isFogExp2=!0,this.name="",this.color=new De(e),this.density=t}clone(){return new Px(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class Ox{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new De(e),this.near=t,this.far=r}clone(){return new Ox(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}let p_=class extends Kt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}};class hg{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=Rm,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=hs()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=t.array[r+i];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=hs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=hs()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const gi=new z;class rc{constructor(e,t,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)gi.fromBufferAttribute(this,t),gi.applyMatrix4(e),this.setXYZ(t,gi.x,gi.y,gi.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)gi.fromBufferAttribute(this,t),gi.applyNormalMatrix(e),this.setXYZ(t,gi.x,gi.y,gi.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)gi.fromBufferAttribute(this,t),gi.transformDirection(e),this.setXYZ(t,gi.x,gi.y,gi.z);return this}setX(e,t){return this.normalized&&(t=It(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=It(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=It(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=It(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=Fi(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=Fi(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=Fi(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=Fi(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=It(t,this.array),r=It(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=It(t,this.array),r=It(r,this.array),i=It(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,t,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=It(t,this.array),r=It(r,this.array),i=It(i,this.array),s=It(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return new Yt(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new rc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class hC extends pr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new De(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Mf;const dp=new z,Tf=new z,Cf=new z,Rf=new xe,hp=new xe,yU=new vt,vv=new z,pp=new z,yv=new z,CL=new xe,Gb=new xe,RL=new xe;class _U extends Kt{constructor(e=new hC){if(super(),this.isSprite=!0,this.type="Sprite",Mf===void 0){Mf=new Ot;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new hg(t,5);Mf.setIndex([0,1,2,0,2,3]),Mf.setAttribute("position",new rc(r,3,0,!1)),Mf.setAttribute("uv",new rc(r,2,3,!1))}this.geometry=Mf,this.material=e,this.center=new xe(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Tf.setFromMatrixScale(this.matrixWorld),yU.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Cf.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Tf.multiplyScalar(-Cf.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;_v(vv.set(-.5,-.5,0),Cf,o,Tf,i,s),_v(pp.set(.5,-.5,0),Cf,o,Tf,i,s),_v(yv.set(.5,.5,0),Cf,o,Tf,i,s),CL.set(0,0),Gb.set(1,0),RL.set(1,1);let a=e.ray.intersectTriangle(vv,pp,yv,!1,dp);if(a===null&&(_v(pp.set(-.5,.5,0),Cf,o,Tf,i,s),Gb.set(0,1),a=e.ray.intersectTriangle(vv,yv,pp,!1,dp),a===null))return;const l=e.ray.origin.distanceTo(dp);l<e.near||l>e.far||t.push({distance:l,point:dp.clone(),uv:Ni.getInterpolation(dp,vv,pp,yv,CL,Gb,RL,new xe),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function _v(n,e,t,r,i,s){Rf.subVectors(n,t).addScalar(.5).multiply(r),i!==void 0?(hp.x=s*Rf.x-i*Rf.y,hp.y=i*Rf.x+s*Rf.y):hp.copy(Rf),n.copy(e),n.x+=hp.x,n.y+=hp.y,n.applyMatrix4(yU)}const xv=new z,PL=new z;class xU extends Kt{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const t=e.levels;for(let r=0,i=t.length;r<i;r++){const s=t[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,t=0,r=0){t=Math.abs(t);const i=this.levels;let s;for(s=0;s<i.length&&!(t<i[s].distance);s++);return i.splice(s,0,{distance:t,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const t=this.levels;if(t.length>0){let r,i;for(r=1,i=t.length;r<i;r++){let s=t[r].distance;if(t[r].object.visible&&(s-=s*t[r].hysteresis),e<s)break}return t[r-1].object}return null}raycast(e,t){if(this.levels.length>0){xv.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(xv);this.getObjectForDistance(i).raycast(e,t)}}update(e){const t=this.levels;if(t.length>1){xv.setFromMatrixPosition(e.matrixWorld),PL.setFromMatrixPosition(this.matrixWorld);const r=xv.distanceTo(PL)/e.zoom;t[0].object.visible=!0;let i,s;for(i=1,s=t.length;i<s;i++){let o=t[i].distance;if(t[i].object.visible&&(o-=o*t[i].hysteresis),r>=o)t[i-1].object.visible=!1,t[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)t[i].object.visible=!1}}toJSON(e){const t=super.toJSON(e);this.autoUpdate===!1&&(t.object.autoUpdate=!1),t.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];t.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return t}}const OL=new z,LL=new sn,IL=new sn,hK=new z,BL=new vt,Sv=new z,Vb=new $r,DL=new vt,Wb=new Gu;class pC extends or{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=Jw,this.bindMatrix=new vt,this.bindMatrixInverse=new vt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ai),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,Sv),this.boundingBox.expandByPoint(Sv)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new $r),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let r=0;r<t.count;r++)this.getVertexPosition(r,Sv),this.boundingSphere.expandByPoint(Sv)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Vb.copy(this.boundingSphere),Vb.applyMatrix4(i),e.ray.intersectsSphere(Vb)!==!1&&(DL.copy(i).invert(),Wb.copy(e.ray).applyMatrix4(DL),!(this.boundingBox!==null&&Wb.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,Wb)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new sn,t=this.geometry.attributes.skinWeight;for(let r=0,i=t.count;r<i;r++){e.fromBufferAttribute(t,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===Jw?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===LF?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const r=this.skeleton,i=this.geometry;LL.fromBufferAttribute(i.attributes.skinIndex,e),IL.fromBufferAttribute(i.attributes.skinWeight,e),OL.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=IL.getComponent(s);if(o!==0){const a=LL.getComponent(s);BL.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),t.addScaledVector(hK.copy(OL).applyMatrix4(BL),o)}}return t.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,t){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,t)}}class Lx extends Kt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class gu extends Rn{constructor(e=null,t=1,r=1,i,s,o,a,l,c=Jn,u=Jn,f,p){super(null,o,a,l,c,u,i,s,f,p),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const kL=new vt,pK=new vt;class pg{constructor(e=[],t=[]){this.uuid=hs(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new vt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const r=new vt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,t=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:pK;kL.multiplyMatrices(a,t[s]),kL.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new pg(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const r=new gu(t,e,e,Ai,_o);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){const i=this.bones[t];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new Lx),this.bones.push(o),this.boneInverses.push(new vt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,r=this.boneInverses;for(let i=0,s=t.length;i<s;i++){const o=t[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class jd extends Yt{constructor(e,t,r,i=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Pf=new vt,NL=new vt,bv=[],FL=new ai,mK=new vt,mp=new or,gp=new $r;class mC extends or{constructor(e,t,r){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new jd(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,mK)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new ai),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Pf),FL.copy(e.boundingBox).applyMatrix4(Pf),this.boundingBox.union(FL)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new $r),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<t;r++)this.getMatrixAt(r,Pf),gp.copy(e.boundingSphere).applyMatrix4(Pf),this.boundingSphere.union(gp)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}raycast(e,t){const r=this.matrixWorld,i=this.count;if(mp.geometry=this.geometry,mp.material=this.material,mp.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),gp.copy(this.boundingSphere),gp.applyMatrix4(r),e.ray.intersectsSphere(gp)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,Pf),NL.multiplyMatrices(r,Pf),mp.matrixWorld=NL,mp.raycast(e,bv);for(let o=0,a=bv.length;o<a;o++){const l=bv[o];l.instanceId=s,l.object=this,t.push(l)}bv.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new jd(new Float32Array(this.instanceMatrix.count*3),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function gK(n,e){return n.z-e.z}function vK(n,e){return e.z-n.z}class yK{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,t){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const s=r[this.index];i.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=t}reset(){this.list.length=0,this.index=0}}const Of="batchId",Al=new vt,UL=new vt,_K=new vt,zL=new vt,$b=new dg,Av=new ai,Nc=new $r,vp=new z,jb=new yK,ti=new or,wv=[];function xK(n,e,t=0){const r=e.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==e.array.constructor){const i=n.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+t,o,n.getComponent(s,o))}else e.array.set(n.array,t*r);e.needsUpdate=!0}class SU extends or{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,t,r=t*2,i){super(new Ot,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=t,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4),r=new gu(t,e,e,Ai,_o);this._matricesTexture=r}_initializeGeometry(e){const t=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:c,itemSize:u,normalized:f}=l,p=new c.constructor(r*u),m=new l.constructor(p,u,f);m.setUsage(l.usage),t.setAttribute(a,m)}if(e.getIndex()!==null){const a=r>65536?new Uint32Array(s):new Uint16Array(s);t.setIndex(new Yt(a,1))}const o=i>65536?new Uint32Array(r):new Uint16Array(r);t.setAttribute(Of,new Yt(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(Of))throw new Error(`BatchedMesh: Geometry cannot use attribute "${Of}"`);const t=this.geometry;if(!!e.getIndex()!=!!t.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in t.attributes){if(r===Of)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=t.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ai);const e=this._geometryCount,t=this.boundingBox,r=this._active;t.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Al),this.getBoundingBoxAt(i,Av).applyMatrix4(Al),t.union(Av))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new $r);const e=this._geometryCount,t=this.boundingSphere,r=this._active;t.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Al),this.getBoundingSphereAt(i,Nc).applyMatrix4(Al),t.union(Nc))}addGeometry(e,t=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),t===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=t,s===null?i.vertexStart=0:i.vertexStart=s.vertexStart+s.vertexCount;const c=e.getIndex(),u=c!==null;if(u&&(r===-1?i.indexCount=c.count:i.indexCount=r,s===null?i.indexStart=0:i.indexStart=s.indexStart+s.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const f=this._visibility,p=this._active,m=this._matricesTexture,g=this._matricesTexture.image.data;f.push(!0),p.push(!0);const y=this._geometryCount;this._geometryCount++,_K.toArray(g,y*16),m.needsUpdate=!0,o.push(i),a.push({start:u?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new ai,sphereInitialized:!1,sphere:new $r});const _=this.geometry.getAttribute(Of);for(let v=0;v<i.vertexCount;v++)_.setX(i.vertexStart+v,y);return _.needsUpdate=!0,this.setGeometryAt(y,e),y}setGeometryAt(e,t){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(t);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=t.getIndex(),a=this._reservedRanges[e];if(i&&o.count>a.indexCount||t.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const m in r.attributes){if(m===Of)continue;const g=t.getAttribute(m),y=r.getAttribute(m);xK(g,y,l);const _=g.itemSize;for(let v=g.count,x=c;v<x;v++){const b=l+v;for(let A=0;A<_;A++)y.setComponent(b,A,0)}y.needsUpdate=!0}if(i){const m=a.indexStart;for(let g=0;g<o.count;g++)s.setX(m+g,l+o.getX(g));for(let g=o.count,y=a.indexCount;g<y;g++)s.setX(m+g,l);s.needsUpdate=!0}const u=this._bounds[e];t.boundingBox!==null?(u.box.copy(t.boundingBox),u.boxInitialized=!0):u.boxInitialized=!1,t.boundingSphere!==null?(u.sphere.copy(t.boundingSphere),u.sphereInitialized=!0):u.sphereInitialized=!1;const f=this._drawRanges[e],p=t.getAttribute("position");return f.count=i?o.count:p.count,this._visibilityChanged=!0,e}deleteGeometry(e){const t=this._active;return e>=t.length||t[e]===!1?this:(t[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,t){if(this._active[e]===!1)return this;const i=this._bounds[e],s=i.box,o=this.geometry;if(i.boxInitialized===!1){s.makeEmpty();const a=o.index,l=o.attributes.position,c=this._drawRanges[e];for(let u=c.start,f=c.start+c.count;u<f;u++){let p=u;a&&(p=a.getX(p)),s.expandByPoint(vp.fromBufferAttribute(l,p))}i.boxInitialized=!0}return t.copy(s),t}getBoundingSphereAt(e,t){if(this._active[e]===!1)return this;const i=this._bounds[e],s=i.sphere,o=this.geometry;if(i.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,Av),Av.getCenter(s.center);const a=o.index,l=o.attributes.position,c=this._drawRanges[e];let u=0;for(let f=c.start,p=c.start+c.count;f<p;f++){let m=f;a&&(m=a.getX(m)),vp.fromBufferAttribute(l,m),u=Math.max(u,s.center.distanceToSquared(vp))}s.radius=Math.sqrt(u),i.sphereInitialized=!0}return t.copy(s),t}setMatrixAt(e,t){const r=this._active,i=this._matricesTexture,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?this:(t.toArray(s,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,t){const r=this._active,i=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?null:t.fromArray(i,e*16)}setVisibleAt(e,t){const r=this._visibility,i=this._active,s=this._geometryCount;return e>=s||i[e]===!1||r[e]===t?this:(r[e]=t,this._visibilityChanged=!0,this)}getVisibleAt(e){const t=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:t[e]}raycast(e,t){const r=this._visibility,i=this._active,s=this._drawRanges,o=this._geometryCount,a=this.matrixWorld,l=this.geometry;ti.material=this.material,ti.geometry.index=l.index,ti.geometry.attributes=l.attributes,ti.geometry.boundingBox===null&&(ti.geometry.boundingBox=new ai),ti.geometry.boundingSphere===null&&(ti.geometry.boundingSphere=new $r);for(let c=0;c<o;c++){if(!r[c]||!i[c])continue;const u=s[c];ti.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(c,ti.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,ti.geometry.boundingBox),this.getBoundingSphereAt(c,ti.geometry.boundingSphere),ti.raycast(e,wv);for(let f=0,p=wv.length;f<p;f++){const m=wv[f];m.object=this,m.batchId=c,t.push(m)}wv.length=0}ti.material=null,ti.geometry.index=null,ti.geometry.attributes={},ti.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(t=>({...t})),this._reservedRanges=e._reservedRanges.map(t=>({...t})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(t=>({boxInitialized:t.boxInitialized,box:t.box.clone(),sphereInitialized:t.sphereInitialized,sphere:t.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,t,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._visibility,c=this._multiDrawStarts,u=this._multiDrawCounts,f=this._drawRanges,p=this.perObjectFrustumCulled;p&&(zL.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),$b.setFromProjectionMatrix(zL,e.isWebGPURenderer?Vd:xo));let m=0;if(this.sortObjects){UL.copy(this.matrixWorld).invert(),vp.setFromMatrixPosition(r.matrixWorld).applyMatrix4(UL);for(let _=0,v=l.length;_<v;_++)if(l[_]){this.getMatrixAt(_,Al),this.getBoundingSphereAt(_,Nc).applyMatrix4(Al);let x=!1;if(p&&(x=!$b.intersectsSphere(Nc)),!x){const b=vp.distanceTo(Nc.center);jb.push(f[_],b)}}const g=jb.list,y=this.customSort;y===null?g.sort(s.transparent?vK:gK):y.call(this,g,r);for(let _=0,v=g.length;_<v;_++){const x=g[_];c[m]=x.start*a,u[m]=x.count,m++}jb.reset()}else for(let g=0,y=l.length;g<y;g++)if(l[g]){let _=!1;if(p&&(this.getMatrixAt(g,Al),this.getBoundingSphereAt(g,Nc).applyMatrix4(Al),_=!$b.intersectsSphere(Nc)),!_){const v=f[g];c[m]=v.start*a,u[m]=v.count,m++}}this._multiDrawCount=m,this._visibilityChanged=!1}onBeforeShadow(e,t,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class fi extends pr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new De(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const HL=new z,GL=new z,VL=new vt,Xb=new Gu,Ev=new $r;class Ya extends Kt{constructor(e=new Ot,t=new fi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[0];for(let i=1,s=t.count;i<s;i++)HL.fromBufferAttribute(t,i-1),GL.fromBufferAttribute(t,i),r[i]=r[i-1],r[i]+=HL.distanceTo(GL);e.setAttribute("lineDistance",new at(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Ev.copy(r.boundingSphere),Ev.applyMatrix4(i),Ev.radius+=s,e.ray.intersectsSphere(Ev)===!1)return;VL.copy(i).invert(),Xb.copy(e.ray).applyMatrix4(VL);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new z,u=new z,f=new z,p=new z,m=this.isLineSegments?2:1,g=r.index,_=r.attributes.position;if(g!==null){const v=Math.max(0,o.start),x=Math.min(g.count,o.start+o.count);for(let b=v,A=x-1;b<A;b+=m){const M=g.getX(b),E=g.getX(b+1);if(c.fromBufferAttribute(_,M),u.fromBufferAttribute(_,E),Xb.distanceSqToSegment(c,u,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const I=e.ray.origin.distanceTo(p);I<e.near||I>e.far||t.push({distance:I,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,o.start),x=Math.min(_.count,o.start+o.count);for(let b=v,A=x-1;b<A;b+=m){if(c.fromBufferAttribute(_,b),u.fromBufferAttribute(_,b+1),Xb.distanceSqToSegment(c,u,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(p);E<e.near||E>e.far||t.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:b,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const WL=new z,$L=new z;class Mo extends Ya{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,r=[];for(let i=0,s=t.count;i<s;i+=2)WL.fromBufferAttribute(t,i),$L.fromBufferAttribute(t,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+WL.distanceTo($L);e.setAttribute("lineDistance",new at(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class gC extends Ya{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class Ix extends pr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new De(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const jL=new vt,TE=new Gu,Mv=new $r,Tv=new z;class vC extends Kt{constructor(e=new Ot,t=new Ix){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Mv.copy(r.boundingSphere),Mv.applyMatrix4(i),Mv.radius+=s,e.ray.intersectsSphere(Mv)===!1)return;jL.copy(i).invert(),TE.copy(e.ray).applyMatrix4(jL);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,f=r.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let g=p,y=m;g<y;g++){const _=c.getX(g);Tv.fromBufferAttribute(f,_),XL(Tv,_,l,i,e,t,this)}}else{const p=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let g=p,y=m;g<y;g++)Tv.fromBufferAttribute(f,g),XL(Tv,g,l,i,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){const i=t[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function XL(n,e,t,r,i,s,o){const a=TE.distanceSqToPoint(n);if(a<t){const l=new z;TE.closestPointToPoint(n,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class SK extends Rn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Nn,this.magFilter=s!==void 0?s:Nn,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class bK extends Rn{constructor(e,t){super({width:e,height:t}),this.isFramebufferTexture=!0,this.magFilter=Jn,this.minFilter=Jn,this.generateMipmaps=!1,this.needsUpdate=!0}}class Bx extends Rn{constructor(e,t,r,i,s,o,a,l,c,u,f,p){super(null,o,a,l,c,u,i,s,f,p),this.isCompressedTexture=!0,this.image={width:t,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class AK extends Bx{constructor(e,t,r,i,s,o){super(e,t,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Vr}}class wK extends Bx{constructor(e,t,r){super(void 0,e[0].width,e[0].height,t,r,Ka),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class EK extends Rn{constructor(e,t,r,i,s,o,a,l,c){super(e,t,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class To{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){const t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let r,i=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),t.push(s),i=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const r=this.getLengths();let i=0;const s=r.length;let o;t?o=t:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],p=r[i+1]-u,m=(o-u)/p;return(i+m)/(s-1)}getTangent(e,t){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=t||(o.isVector2?new xe:new z);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,t){const r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){const r=new z,i=[],s=[],o=[],a=new z,l=new vt;for(let m=0;m<=e;m++){const g=m/e;i[m]=this.getTangentAt(g,new z)}s[0]=new z,o[0]=new z;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),f=Math.abs(i[0].y),p=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),p<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(qn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,g))}o[m].crossVectors(i[m],s[m])}if(t===!0){let m=Math.acos(qn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let g=1;g<=e;g++)s[g].applyMatrix4(l.makeRotationAxis(i[g],m*g)),o[g].crossVectors(i[g],s[g])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class Dx extends To{constructor(e=0,t=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,t){const r=t||new xe,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*u-m*f+this.aX,c=p*f+m*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class bU extends Dx{constructor(e,t,r,i,s,o){super(e,t,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function yC(){let n=0,e=0,t=0,r=0;function i(s,o,a,l){n=s,e=a,t=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,f){let p=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+f)+(l-a)/f;p*=u,m*=u,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return n+e*s+t*o+r*a}}}const Cv=new z,Kb=new yC,Yb=new yC,Jb=new yC;class AU extends To{constructor(e=[],t=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=i}getPoint(e,t=new z){const r=t,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(Cv.subVectors(i[0],i[1]).add(i[0]),c=Cv);const f=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(Cv.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=Cv),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(c.distanceToSquared(f),m),y=Math.pow(f.distanceToSquared(p),m),_=Math.pow(p.distanceToSquared(u),m);y<1e-4&&(y=1),g<1e-4&&(g=y),_<1e-4&&(_=y),Kb.initNonuniformCatmullRom(c.x,f.x,p.x,u.x,g,y,_),Yb.initNonuniformCatmullRom(c.y,f.y,p.y,u.y,g,y,_),Jb.initNonuniformCatmullRom(c.z,f.z,p.z,u.z,g,y,_)}else this.curveType==="catmullrom"&&(Kb.initCatmullRom(c.x,f.x,p.x,u.x,this.tension),Yb.initCatmullRom(c.y,f.y,p.y,u.y,this.tension),Jb.initCatmullRom(c.z,f.z,p.z,u.z,this.tension));return r.set(Kb.calc(l),Yb.calc(l),Jb.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new z().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function KL(n,e,t,r,i){const s=(r-e)*.5,o=(i-t)*.5,a=n*n,l=n*a;return(2*t-2*r+s+o)*l+(-3*t+3*r-2*s-o)*a+s*n+t}function MK(n,e){const t=1-n;return t*t*e}function TK(n,e){return 2*(1-n)*n*e}function CK(n,e){return n*n*e}function Yp(n,e,t,r){return MK(n,e)+TK(n,t)+CK(n,r)}function RK(n,e){const t=1-n;return t*t*t*e}function PK(n,e){const t=1-n;return 3*t*t*n*e}function OK(n,e){return 3*(1-n)*n*n*e}function LK(n,e){return n*n*n*e}function Jp(n,e,t,r,i){return RK(n,e)+PK(n,t)+OK(n,r)+LK(n,i)}class _C extends To{constructor(e=new xe,t=new xe,r=new xe,i=new xe){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new xe){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Jp(e,i.x,s.x,o.x,a.x),Jp(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class wU extends To{constructor(e=new z,t=new z,r=new z,i=new z){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=i}getPoint(e,t=new z){const r=t,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Jp(e,i.x,s.x,o.x,a.x),Jp(e,i.y,s.y,o.y,a.y),Jp(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class xC extends To{constructor(e=new xe,t=new xe){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new xe){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new xe){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class EU extends To{constructor(e=new z,t=new z){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new z){const r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new z){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class SC extends To{constructor(e=new xe,t=new xe,r=new xe){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new xe){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Yp(e,i.x,s.x,o.x),Yp(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class bC extends To{constructor(e=new z,t=new z,r=new z){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new z){const r=t,i=this.v0,s=this.v1,o=this.v2;return r.set(Yp(e,i.x,s.x,o.x),Yp(e,i.y,s.y,o.y),Yp(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class AC extends To{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new xe){const r=t,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(KL(a,l.x,c.x,u.x,f.x),KL(a,l.y,c.y,u.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){const i=this.points[t];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){const i=e.points[t];this.points.push(new xe().fromArray(i))}return this}}var m_=Object.freeze({__proto__:null,ArcCurve:bU,CatmullRomCurve3:AU,CubicBezierCurve:_C,CubicBezierCurve3:wU,EllipseCurve:Dx,LineCurve:xC,LineCurve3:EU,QuadraticBezierCurve:SC,QuadraticBezierCurve3:bC,SplineCurve:AC});class MU extends To{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(t)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new m_[r](t,e))}return this}getPoint(e,t){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let r=0,i=this.curves.length;r<i;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(t.push(u),r=u)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){const i=this.curves[t];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){const i=e.curves[t];this.curves.push(new m_[i.type]().fromJSON(i))}return this}}class Om extends MU{constructor(e){super(),this.type="Path",this.currentPoint=new xe,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const r=new xC(this.currentPoint.clone(),new xe(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,i){const s=new SC(this.currentPoint.clone(),new xe(e,t),new xe(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,t,r,i,s,o){const a=new _C(this.currentPoint.clone(),new xe(e,t),new xe(r,i),new xe(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),r=new AC(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,t+l,r,i,s,o),this}absarc(e,t,r,i,s,o){return this.absellipse(e,t,r,r,i,s,o),this}ellipse(e,t,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,t+u,r,i,s,o,a,l),this}absellipse(e,t,r,i,s,o,a,l){const c=new Dx(e,t,r,i,s,o,a,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class mg extends Ot{constructor(e=[new xe(0,-.5),new xe(.5,0),new xe(0,.5)],t=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:i},t=Math.floor(t),i=qn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/t,f=new z,p=new xe,m=new z,g=new z,y=new z;let _=0,v=0;for(let x=0;x<=e.length-1;x++)switch(x){case 0:_=e[x+1].x-e[x].x,v=e[x+1].y-e[x].y,m.x=v*1,m.y=-_,m.z=v*0,y.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:_=e[x+1].x-e[x].x,v=e[x+1].y-e[x].y,m.x=v*1,m.y=-_,m.z=v*0,g.copy(m),m.x+=y.x,m.y+=y.y,m.z+=y.z,m.normalize(),l.push(m.x,m.y,m.z),y.copy(g)}for(let x=0;x<=t;x++){const b=r+x*u*i,A=Math.sin(b),M=Math.cos(b);for(let E=0;E<=e.length-1;E++){f.x=e[E].x*A,f.y=e[E].y,f.z=e[E].x*M,o.push(f.x,f.y,f.z),p.x=x/t,p.y=E/(e.length-1),a.push(p.x,p.y);const R=l[3*E+0]*A,I=l[3*E+1],T=l[3*E+0]*M;c.push(R,I,T)}}for(let x=0;x<t;x++)for(let b=0;b<e.length-1;b++){const A=b+x*e.length,M=A,E=A+e.length,R=A+e.length+1,I=A+1;s.push(M,E,I),s.push(R,I,E)}this.setIndex(s),this.setAttribute("position",new at(o,3)),this.setAttribute("uv",new at(a,2)),this.setAttribute("normal",new at(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new mg(e.points,e.segments,e.phiStart,e.phiLength)}}class kx extends mg{constructor(e=1,t=1,r=4,i=8){const s=new Om;s.absarc(0,-t/2,e,Math.PI*1.5,0),s.absarc(0,t/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:t,capSegments:r,radialSegments:i}}static fromJSON(e){return new kx(e.radius,e.length,e.capSegments,e.radialSegments)}}class Nx extends Ot{constructor(e=1,t=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:r,thetaLength:i},t=Math.max(3,t);const s=[],o=[],a=[],l=[],c=new z,u=new xe;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,p=3;f<=t;f++,p+=3){const m=r+f/t*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[p]/e+1)/2,u.y=(o[p+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=t;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new at(o,3)),this.setAttribute("normal",new at(a,3)),this.setAttribute("uv",new at(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nx(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class bh extends Ot{constructor(e=1,t=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],f=[],p=[],m=[];let g=0;const y=[],_=r/2;let v=0;x(),o===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new at(f,3)),this.setAttribute("normal",new at(p,3)),this.setAttribute("uv",new at(m,2));function x(){const A=new z,M=new z;let E=0;const R=(t-e)/r;for(let I=0;I<=s;I++){const T=[],P=I/s,B=P*(t-e)+e;for(let U=0;U<=i;U++){const j=U/i,N=j*l+a,G=Math.sin(N),V=Math.cos(N);M.x=B*G,M.y=-P*r+_,M.z=B*V,f.push(M.x,M.y,M.z),A.set(G,R,V).normalize(),p.push(A.x,A.y,A.z),m.push(j,1-P),T.push(g++)}y.push(T)}for(let I=0;I<i;I++)for(let T=0;T<s;T++){const P=y[T][I],B=y[T+1][I],U=y[T+1][I+1],j=y[T][I+1];u.push(P,B,j),u.push(B,U,j),E+=6}c.addGroup(v,E,0),v+=E}function b(A){const M=g,E=new xe,R=new z;let I=0;const T=A===!0?e:t,P=A===!0?1:-1;for(let U=1;U<=i;U++)f.push(0,_*P,0),p.push(0,P,0),m.push(.5,.5),g++;const B=g;for(let U=0;U<=i;U++){const N=U/i*l+a,G=Math.cos(N),V=Math.sin(N);R.x=T*V,R.y=_*P,R.z=T*G,f.push(R.x,R.y,R.z),p.push(0,P,0),E.x=G*.5+.5,E.y=V*.5*P+.5,m.push(E.x,E.y),g++}for(let U=0;U<i;U++){const j=M+U,N=B+U;A===!0?u.push(N,N+1,j):u.push(N+1,N,j),I+=3}c.addGroup(v,I,A===!0?1:2),v+=I}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new bh(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Fx extends bh{constructor(e=1,t=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,t,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new Fx(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class yc extends Ot{constructor(e=[],t=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new at(s,3)),this.setAttribute("normal",new at(s.slice(),3)),this.setAttribute("uv",new at(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const b=new z,A=new z,M=new z;for(let E=0;E<t.length;E+=3)m(t[E+0],b),m(t[E+1],A),m(t[E+2],M),l(b,A,M,x)}function l(x,b,A,M){const E=M+1,R=[];for(let I=0;I<=E;I++){R[I]=[];const T=x.clone().lerp(A,I/E),P=b.clone().lerp(A,I/E),B=E-I;for(let U=0;U<=B;U++)U===0&&I===E?R[I][U]=T:R[I][U]=T.clone().lerp(P,U/B)}for(let I=0;I<E;I++)for(let T=0;T<2*(E-I)-1;T++){const P=Math.floor(T/2);T%2===0?(p(R[I][P+1]),p(R[I+1][P]),p(R[I][P])):(p(R[I][P+1]),p(R[I+1][P+1]),p(R[I+1][P]))}}function c(x){const b=new z;for(let A=0;A<s.length;A+=3)b.x=s[A+0],b.y=s[A+1],b.z=s[A+2],b.normalize().multiplyScalar(x),s[A+0]=b.x,s[A+1]=b.y,s[A+2]=b.z}function u(){const x=new z;for(let b=0;b<s.length;b+=3){x.x=s[b+0],x.y=s[b+1],x.z=s[b+2];const A=_(x)/2/Math.PI+.5,M=v(x)/Math.PI+.5;o.push(A,1-M)}g(),f()}function f(){for(let x=0;x<o.length;x+=6){const b=o[x+0],A=o[x+2],M=o[x+4],E=Math.max(b,A,M),R=Math.min(b,A,M);E>.9&&R<.1&&(b<.2&&(o[x+0]+=1),A<.2&&(o[x+2]+=1),M<.2&&(o[x+4]+=1))}}function p(x){s.push(x.x,x.y,x.z)}function m(x,b){const A=x*3;b.x=e[A+0],b.y=e[A+1],b.z=e[A+2]}function g(){const x=new z,b=new z,A=new z,M=new z,E=new xe,R=new xe,I=new xe;for(let T=0,P=0;T<s.length;T+=9,P+=6){x.set(s[T+0],s[T+1],s[T+2]),b.set(s[T+3],s[T+4],s[T+5]),A.set(s[T+6],s[T+7],s[T+8]),E.set(o[P+0],o[P+1]),R.set(o[P+2],o[P+3]),I.set(o[P+4],o[P+5]),M.copy(x).add(b).add(A).divideScalar(3);const B=_(M);y(E,P+0,x,B),y(R,P+2,b,B),y(I,P+4,A,B)}}function y(x,b,A,M){M<0&&x.x===1&&(o[b]=x.x-1),A.x===0&&A.z===0&&(o[b]=M/2/Math.PI+.5)}function _(x){return Math.atan2(x.z,-x.x)}function v(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new yc(e.vertices,e.indices,e.radius,e.details)}}class Ux extends yc{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Ux(e.radius,e.detail)}}const Rv=new z,Pv=new z,qb=new z,Ov=new Ni;class wC extends Ot{constructor(e=null,t=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:t},e!==null){const i=Math.pow(10,4),s=Math.cos(pu*t),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),p={},m=[];for(let g=0;g<l;g+=3){o?(c[0]=o.getX(g),c[1]=o.getX(g+1),c[2]=o.getX(g+2)):(c[0]=g,c[1]=g+1,c[2]=g+2);const{a:y,b:_,c:v}=Ov;if(y.fromBufferAttribute(a,c[0]),_.fromBufferAttribute(a,c[1]),v.fromBufferAttribute(a,c[2]),Ov.getNormal(qb),f[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[1]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,f[2]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let x=0;x<3;x++){const b=(x+1)%3,A=f[x],M=f[b],E=Ov[u[x]],R=Ov[u[b]],I=`${A}_${M}`,T=`${M}_${A}`;T in p&&p[T]?(qb.dot(p[T].normal)<=s&&(m.push(E.x,E.y,E.z),m.push(R.x,R.y,R.z)),p[T]=null):I in p||(p[I]={index0:c[x],index1:c[b],normal:qb.clone()})}}for(const g in p)if(p[g]){const{index0:y,index1:_}=p[g];Rv.fromBufferAttribute(a,y),Pv.fromBufferAttribute(a,_),m.push(Rv.x,Rv.y,Rv.z),m.push(Pv.x,Pv.y,Pv.z)}this.setAttribute("position",new at(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class vu extends Om{constructor(e){super(e),this.uuid=hs(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let r=0,i=this.holes.length;r<i;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){const i=this.holes[t];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){const i=e.holes[t];this.holes.push(new Om().fromJSON(i))}return this}}const IK={triangulate:function(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=TU(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,f,p,m;if(r&&(s=FK(n,e,s,t)),n.length>80*t){a=c=n[0],l=u=n[1];for(let g=t;g<i;g+=t)f=n[g],p=n[g+1],f<a&&(a=f),p<l&&(l=p),f>c&&(c=f),p>u&&(u=p);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return Lm(s,o,t,a,l,m,0),o}};function TU(n,e,t,r,i){let s,o;if(i===YK(n,e,t,r)>0)for(s=e;s<t;s+=r)o=YL(s,n[s],n[s+1],o);else for(s=t-r;s>=e;s-=r)o=YL(s,n[s],n[s+1],o);return o&&zx(o,o.next)&&(Bm(o),o=o.next),o}function Ou(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(zx(t,t.next)||Fn(t.prev,t,t.next)===0)){if(Bm(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function Lm(n,e,t,r,i,s,o){if(!n)return;!o&&s&&VK(n,r,i,s);let a=n,l,c;for(;n.prev!==n.next;){if(l=n.prev,c=n.next,s?DK(n,r,i,s):BK(n)){e.push(l.i/t|0),e.push(n.i/t|0),e.push(c.i/t|0),Bm(n),n=c.next,a=c.next;continue}if(n=c,n===a){o?o===1?(n=kK(Ou(n),e,t),Lm(n,e,t,r,i,s,2)):o===2&&NK(n,e,t,r,i,s):Lm(Ou(n),e,t,r,i,s,1);break}}}function BK(n){const e=n.prev,t=n,r=n.next;if(Fn(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,a=e.y,l=t.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let g=r.next;for(;g!==e;){if(g.x>=u&&g.x<=p&&g.y>=f&&g.y<=m&&ad(i,a,s,l,o,c,g.x,g.y)&&Fn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function DK(n,e,t,r){const i=n.prev,s=n,o=n.next;if(Fn(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,f=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,g=u<f?u<p?u:p:f<p?f:p,y=a>l?a>c?a:c:l>c?l:c,_=u>f?u>p?u:p:f>p?f:p,v=CE(m,g,e,t,r),x=CE(y,_,e,t,r);let b=n.prevZ,A=n.nextZ;for(;b&&b.z>=v&&A&&A.z<=x;){if(b.x>=m&&b.x<=y&&b.y>=g&&b.y<=_&&b!==i&&b!==o&&ad(a,u,l,f,c,p,b.x,b.y)&&Fn(b.prev,b,b.next)>=0||(b=b.prevZ,A.x>=m&&A.x<=y&&A.y>=g&&A.y<=_&&A!==i&&A!==o&&ad(a,u,l,f,c,p,A.x,A.y)&&Fn(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;b&&b.z>=v;){if(b.x>=m&&b.x<=y&&b.y>=g&&b.y<=_&&b!==i&&b!==o&&ad(a,u,l,f,c,p,b.x,b.y)&&Fn(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;A&&A.z<=x;){if(A.x>=m&&A.x<=y&&A.y>=g&&A.y<=_&&A!==i&&A!==o&&ad(a,u,l,f,c,p,A.x,A.y)&&Fn(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function kK(n,e,t){let r=n;do{const i=r.prev,s=r.next.next;!zx(i,s)&&CU(i,r,r.next,s)&&Im(i,s)&&Im(s,i)&&(e.push(i.i/t|0),e.push(r.i/t|0),e.push(s.i/t|0),Bm(r),Bm(r.next),r=n=s),r=r.next}while(r!==n);return Ou(r)}function NK(n,e,t,r,i,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&jK(o,a)){let l=RU(o,a);o=Ou(o,o.next),l=Ou(l,l.next),Lm(o,e,t,r,i,s,0),Lm(l,e,t,r,i,s,0);return}a=a.next}o=o.next}while(o!==n)}function FK(n,e,t,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:n.length,c=TU(n,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push($K(c));for(i.sort(UK),s=0;s<i.length;s++)t=zK(i[s],t);return t}function UK(n,e){return n.x-e.x}function zK(n,e){const t=HK(n,e);if(!t)return e;const r=RU(t,n);return Ou(r,r.next),Ou(t,t.next)}function HK(n,e){let t=e,r=-1/0,i;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const p=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(p<=s&&p>r&&(r=p,i=t.x<t.next.x?t:t.next,p===s))return i}t=t.next}while(t!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,f;t=i;do s>=t.x&&t.x>=l&&s!==t.x&&ad(o<c?s:r,o,l,c,o<c?r:s,o,t.x,t.y)&&(f=Math.abs(o-t.y)/(s-t.x),Im(t,n)&&(f<u||f===u&&(t.x>i.x||t.x===i.x&&GK(i,t)))&&(i=t,u=f)),t=t.next;while(t!==a);return i}function GK(n,e){return Fn(n.prev,n,e.prev)<0&&Fn(e.next,n,n.next)<0}function VK(n,e,t,r){let i=n;do i.z===0&&(i.z=CE(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,WK(i)}function WK(n){let e,t,r,i,s,o,a,l,c=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,r=t,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||t.z<=r.z)?(i=t,t=t.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;t=r}s.nextZ=null,c*=2}while(o>1);return n}function CE(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function $K(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function ad(n,e,t,r,i,s,o,a){return(i-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(r-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(i-o)*(r-a)}function jK(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!XK(n,e)&&(Im(n,e)&&Im(e,n)&&KK(n,e)&&(Fn(n.prev,n,e.prev)||Fn(n,e.prev,e))||zx(n,e)&&Fn(n.prev,n,n.next)>0&&Fn(e.prev,e,e.next)>0)}function Fn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function zx(n,e){return n.x===e.x&&n.y===e.y}function CU(n,e,t,r){const i=Iv(Fn(n,e,t)),s=Iv(Fn(n,e,r)),o=Iv(Fn(t,r,n)),a=Iv(Fn(t,r,e));return!!(i!==s&&o!==a||i===0&&Lv(n,t,e)||s===0&&Lv(n,r,e)||o===0&&Lv(t,n,r)||a===0&&Lv(t,e,r))}function Lv(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Iv(n){return n>0?1:n<0?-1:0}function XK(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&CU(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Im(n,e){return Fn(n.prev,n,n.next)<0?Fn(n,e,n.next)>=0&&Fn(n,n.prev,e)>=0:Fn(n,e,n.prev)<0||Fn(n,n.next,e)<0}function KK(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function RU(n,e){const t=new RE(n.i,n.x,n.y),r=new RE(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function YL(n,e,t,r){const i=new RE(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Bm(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function RE(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function YK(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}class ea{static area(e){const t=e.length;let r=0;for(let i=t-1,s=0;s<t;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return ea.area(e)<0}static triangulateShape(e,t){const r=[],i=[],s=[];JL(e),qL(r,e);let o=e.length;t.forEach(JL);for(let l=0;l<t.length;l++)i.push(o),o+=t[l].length,qL(r,t[l]);const a=IK.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function JL(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function qL(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class Hx extends Ot{constructor(e=new vu([new xe(.5,.5),new xe(-.5,.5),new xe(-.5,-.5),new xe(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new at(i,3)),this.setAttribute("uv",new at(s,2)),this.computeVertexNormals();function o(a){const l=[],c=t.curveSegments!==void 0?t.curveSegments:12,u=t.steps!==void 0?t.steps:1,f=t.depth!==void 0?t.depth:1;let p=t.bevelEnabled!==void 0?t.bevelEnabled:!0,m=t.bevelThickness!==void 0?t.bevelThickness:.2,g=t.bevelSize!==void 0?t.bevelSize:m-.1,y=t.bevelOffset!==void 0?t.bevelOffset:0,_=t.bevelSegments!==void 0?t.bevelSegments:3;const v=t.extrudePath,x=t.UVGenerator!==void 0?t.UVGenerator:JK;let b,A=!1,M,E,R,I;v&&(b=v.getSpacedPoints(u),A=!0,p=!1,M=v.computeFrenetFrames(u,!1),E=new z,R=new z,I=new z),p||(_=0,m=0,g=0,y=0);const T=a.extractPoints(c);let P=T.shape;const B=T.holes;if(!ea.isClockWise(P)){P=P.reverse();for(let K=0,_e=B.length;K<_e;K++){const me=B[K];ea.isClockWise(me)&&(B[K]=me.reverse())}}const j=ea.triangulateShape(P,B),N=P;for(let K=0,_e=B.length;K<_e;K++){const me=B[K];P=P.concat(me)}function G(K,_e,me){return _e||console.error("THREE.ExtrudeGeometry: vec does not exist"),K.clone().addScaledVector(_e,me)}const V=P.length,$=j.length;function F(K,_e,me){let we,ve,Xe;const Ue=K.x-_e.x,k=K.y-_e.y,D=me.x-K.x,ie=me.y-K.y,Ee=Ue*Ue+k*k,oe=Ue*ie-k*D;if(Math.abs(oe)>Number.EPSILON){const le=Math.sqrt(Ee),ke=Math.sqrt(D*D+ie*ie),Te=_e.x-k/le,Ie=_e.y+Ue/le,Ze=me.x-ie/ke,Pe=me.y+D/ke,be=((Ze-Te)*ie-(Pe-Ie)*D)/(Ue*ie-k*D);we=Te+Ue*be-K.x,ve=Ie+k*be-K.y;const Et=we*we+ve*ve;if(Et<=2)return new xe(we,ve);Xe=Math.sqrt(Et/2)}else{let le=!1;Ue>Number.EPSILON?D>Number.EPSILON&&(le=!0):Ue<-Number.EPSILON?D<-Number.EPSILON&&(le=!0):Math.sign(k)===Math.sign(ie)&&(le=!0),le?(we=-k,ve=Ue,Xe=Math.sqrt(Ee)):(we=Ue,ve=k,Xe=Math.sqrt(Ee/2))}return new xe(we/Xe,ve/Xe)}const X=[];for(let K=0,_e=N.length,me=_e-1,we=K+1;K<_e;K++,me++,we++)me===_e&&(me=0),we===_e&&(we=0),X[K]=F(N[K],N[me],N[we]);const Y=[];let te,ee=X.concat();for(let K=0,_e=B.length;K<_e;K++){const me=B[K];te=[];for(let we=0,ve=me.length,Xe=ve-1,Ue=we+1;we<ve;we++,Xe++,Ue++)Xe===ve&&(Xe=0),Ue===ve&&(Ue=0),te[we]=F(me[we],me[Xe],me[Ue]);Y.push(te),ee=ee.concat(te)}for(let K=0;K<_;K++){const _e=K/_,me=m*Math.cos(_e*Math.PI/2),we=g*Math.sin(_e*Math.PI/2)+y;for(let ve=0,Xe=N.length;ve<Xe;ve++){const Ue=G(N[ve],X[ve],we);Re(Ue.x,Ue.y,-me)}for(let ve=0,Xe=B.length;ve<Xe;ve++){const Ue=B[ve];te=Y[ve];for(let k=0,D=Ue.length;k<D;k++){const ie=G(Ue[k],te[k],we);Re(ie.x,ie.y,-me)}}}const J=g+y;for(let K=0;K<V;K++){const _e=p?G(P[K],ee[K],J):P[K];A?(R.copy(M.normals[0]).multiplyScalar(_e.x),E.copy(M.binormals[0]).multiplyScalar(_e.y),I.copy(b[0]).add(R).add(E),Re(I.x,I.y,I.z)):Re(_e.x,_e.y,0)}for(let K=1;K<=u;K++)for(let _e=0;_e<V;_e++){const me=p?G(P[_e],ee[_e],J):P[_e];A?(R.copy(M.normals[K]).multiplyScalar(me.x),E.copy(M.binormals[K]).multiplyScalar(me.y),I.copy(b[K]).add(R).add(E),Re(I.x,I.y,I.z)):Re(me.x,me.y,f/u*K)}for(let K=_-1;K>=0;K--){const _e=K/_,me=m*Math.cos(_e*Math.PI/2),we=g*Math.sin(_e*Math.PI/2)+y;for(let ve=0,Xe=N.length;ve<Xe;ve++){const Ue=G(N[ve],X[ve],we);Re(Ue.x,Ue.y,f+me)}for(let ve=0,Xe=B.length;ve<Xe;ve++){const Ue=B[ve];te=Y[ve];for(let k=0,D=Ue.length;k<D;k++){const ie=G(Ue[k],te[k],we);A?Re(ie.x,ie.y+b[u-1].y,b[u-1].x+me):Re(ie.x,ie.y,f+me)}}}ne(),ue();function ne(){const K=i.length/3;if(p){let _e=0,me=V*_e;for(let we=0;we<$;we++){const ve=j[we];Qe(ve[2]+me,ve[1]+me,ve[0]+me)}_e=u+_*2,me=V*_e;for(let we=0;we<$;we++){const ve=j[we];Qe(ve[0]+me,ve[1]+me,ve[2]+me)}}else{for(let _e=0;_e<$;_e++){const me=j[_e];Qe(me[2],me[1],me[0])}for(let _e=0;_e<$;_e++){const me=j[_e];Qe(me[0]+V*u,me[1]+V*u,me[2]+V*u)}}r.addGroup(K,i.length/3-K,0)}function ue(){const K=i.length/3;let _e=0;Ae(N,_e),_e+=N.length;for(let me=0,we=B.length;me<we;me++){const ve=B[me];Ae(ve,_e),_e+=ve.length}r.addGroup(K,i.length/3-K,1)}function Ae(K,_e){let me=K.length;for(;--me>=0;){const we=me;let ve=me-1;ve<0&&(ve=K.length-1);for(let Xe=0,Ue=u+_*2;Xe<Ue;Xe++){const k=V*Xe,D=V*(Xe+1),ie=_e+we+k,Ee=_e+ve+k,oe=_e+ve+D,le=_e+we+D;Ve(ie,Ee,oe,le)}}}function Re(K,_e,me){l.push(K),l.push(_e),l.push(me)}function Qe(K,_e,me){Fe(K),Fe(_e),Fe(me);const we=i.length/3,ve=x.generateTopUV(r,i,we-3,we-2,we-1);Le(ve[0]),Le(ve[1]),Le(ve[2])}function Ve(K,_e,me,we){Fe(K),Fe(_e),Fe(we),Fe(_e),Fe(me),Fe(we);const ve=i.length/3,Xe=x.generateSideWallUV(r,i,ve-6,ve-3,ve-2,ve-1);Le(Xe[0]),Le(Xe[1]),Le(Xe[3]),Le(Xe[1]),Le(Xe[2]),Le(Xe[3])}function Fe(K){i.push(l[K*3+0]),i.push(l[K*3+1]),i.push(l[K*3+2])}function Le(K){s.push(K.x),s.push(K.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes,r=this.parameters.options;return qK(t,r,e)}static fromJSON(e,t){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=t[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new m_[i.type]().fromJSON(i)),new Hx(r,e.options)}}const JK={generateTopUV:function(n,e,t,r,i){const s=e[t*3],o=e[t*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new xe(s,o),new xe(a,l),new xe(c,u)]},generateSideWallUV:function(n,e,t,r,i,s){const o=e[t*3],a=e[t*3+1],l=e[t*3+2],c=e[r*3],u=e[r*3+1],f=e[r*3+2],p=e[i*3],m=e[i*3+1],g=e[i*3+2],y=e[s*3],_=e[s*3+1],v=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new xe(o,1-l),new xe(c,1-f),new xe(p,1-g),new xe(y,1-v)]:[new xe(a,1-l),new xe(u,1-f),new xe(m,1-g),new xe(_,1-v)]}};function qK(n,e,t){if(t.shapes=[],Array.isArray(n))for(let r=0,i=n.length;r<i;r++){const s=n[r];t.shapes.push(s.uuid)}else t.shapes.push(n.uuid);return t.options=Object.assign({},e),e.extrudePath!==void 0&&(t.options.extrudePath=e.extrudePath.toJSON()),t}class Gx extends yc{constructor(e=1,t=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Gx(e.radius,e.detail)}}class gg extends yc{constructor(e=1,t=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new gg(e.radius,e.detail)}}class Vx extends Ot{constructor(e=.5,t=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let f=e;const p=(t-e)/i,m=new z,g=new xe;for(let y=0;y<=i;y++){for(let _=0;_<=r;_++){const v=s+_/r*o;m.x=f*Math.cos(v),m.y=f*Math.sin(v),l.push(m.x,m.y,m.z),c.push(0,0,1),g.x=(m.x/t+1)/2,g.y=(m.y/t+1)/2,u.push(g.x,g.y)}f+=p}for(let y=0;y<i;y++){const _=y*(r+1);for(let v=0;v<r;v++){const x=v+_,b=x,A=x+r+1,M=x+r+2,E=x+1;a.push(b,A,E),a.push(A,M,E)}}this.setIndex(a),this.setAttribute("position",new at(l,3)),this.setAttribute("normal",new at(c,3)),this.setAttribute("uv",new at(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vx(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class Wx extends Ot{constructor(e=new vu([new xe(0,.5),new xe(-.5,-.5),new xe(.5,-.5)]),t=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:t};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new at(i,3)),this.setAttribute("normal",new at(s,3)),this.setAttribute("uv",new at(o,2));function c(u){const f=i.length/3,p=u.extractPoints(t);let m=p.shape;const g=p.holes;ea.isClockWise(m)===!1&&(m=m.reverse());for(let _=0,v=g.length;_<v;_++){const x=g[_];ea.isClockWise(x)===!0&&(g[_]=x.reverse())}const y=ea.triangulateShape(m,g);for(let _=0,v=g.length;_<v;_++){const x=g[_];m=m.concat(x)}for(let _=0,v=m.length;_<v;_++){const x=m[_];i.push(x.x,x.y,0),s.push(0,0,1),o.push(x.x,x.y)}for(let _=0,v=y.length;_<v;_++){const x=y[_],b=x[0]+f,A=x[1]+f,M=x[2]+f;r.push(b,A,M),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),t=this.parameters.shapes;return QK(t,e)}static fromJSON(e,t){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=t[e.shapes[i]];r.push(o)}return new Wx(r,e.curveSegments)}}function QK(n,e){if(e.shapes=[],Array.isArray(n))for(let t=0,r=n.length;t<r;t++){const i=n[t];e.shapes.push(i.uuid)}else e.shapes.push(n.uuid);return e}class vg extends Ot{constructor(e=1,t=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],f=new z,p=new z,m=[],g=[],y=[],_=[];for(let v=0;v<=r;v++){const x=[],b=v/r;let A=0;v===0&&o===0?A=.5/t:v===r&&l===Math.PI&&(A=-.5/t);for(let M=0;M<=t;M++){const E=M/t;f.x=-e*Math.cos(i+E*s)*Math.sin(o+b*a),f.y=e*Math.cos(o+b*a),f.z=e*Math.sin(i+E*s)*Math.sin(o+b*a),g.push(f.x,f.y,f.z),p.copy(f).normalize(),y.push(p.x,p.y,p.z),_.push(E+A,1-b),x.push(c++)}u.push(x)}for(let v=0;v<r;v++)for(let x=0;x<t;x++){const b=u[v][x+1],A=u[v][x],M=u[v+1][x],E=u[v+1][x+1];(v!==0||o>0)&&m.push(b,A,E),(v!==r-1||l<Math.PI)&&m.push(A,M,E)}this.setIndex(m),this.setAttribute("position",new at(g,3)),this.setAttribute("normal",new at(y,3)),this.setAttribute("uv",new at(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new vg(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class $x extends yc{constructor(e=1,t=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new $x(e.radius,e.detail)}}class jx extends Ot{constructor(e=1,t=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new z,f=new z,p=new z;for(let m=0;m<=r;m++)for(let g=0;g<=i;g++){const y=g/i*s,_=m/r*Math.PI*2;f.x=(e+t*Math.cos(_))*Math.cos(y),f.y=(e+t*Math.cos(_))*Math.sin(y),f.z=t*Math.sin(_),a.push(f.x,f.y,f.z),u.x=e*Math.cos(y),u.y=e*Math.sin(y),p.subVectors(f,u).normalize(),l.push(p.x,p.y,p.z),c.push(g/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let g=1;g<=i;g++){const y=(i+1)*m+g-1,_=(i+1)*(m-1)+g-1,v=(i+1)*(m-1)+g,x=(i+1)*m+g;o.push(y,_,x),o.push(_,v,x)}this.setIndex(o),this.setAttribute("position",new at(a,3)),this.setAttribute("normal",new at(l,3)),this.setAttribute("uv",new at(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jx(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class Xx extends Ot{constructor(e=1,t=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],f=new z,p=new z,m=new z,g=new z,y=new z,_=new z,v=new z;for(let b=0;b<=r;++b){const A=b/r*s*Math.PI*2;x(A,s,o,e,m),x(A+.01,s,o,e,g),_.subVectors(g,m),v.addVectors(g,m),y.crossVectors(_,v),v.crossVectors(y,_),y.normalize(),v.normalize();for(let M=0;M<=i;++M){const E=M/i*Math.PI*2,R=-t*Math.cos(E),I=t*Math.sin(E);f.x=m.x+(R*v.x+I*y.x),f.y=m.y+(R*v.y+I*y.y),f.z=m.z+(R*v.z+I*y.z),l.push(f.x,f.y,f.z),p.subVectors(f,m).normalize(),c.push(p.x,p.y,p.z),u.push(b/r),u.push(M/i)}}for(let b=1;b<=r;b++)for(let A=1;A<=i;A++){const M=(i+1)*(b-1)+(A-1),E=(i+1)*b+(A-1),R=(i+1)*b+A,I=(i+1)*(b-1)+A;a.push(M,E,I),a.push(E,R,I)}this.setIndex(a),this.setAttribute("position",new at(l,3)),this.setAttribute("normal",new at(c,3)),this.setAttribute("uv",new at(u,2));function x(b,A,M,E,R){const I=Math.cos(b),T=Math.sin(b),P=M/A*b,B=Math.cos(P);R.x=E*(2+B)*.5*I,R.y=E*(2+B)*T*.5,R.z=E*Math.sin(P)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xx(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Kx extends Ot{constructor(e=new bC(new z(-1,-1,0),new z(-1,1,0),new z(1,1,0)),t=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:t,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(t,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new z,l=new z,c=new xe;let u=new z;const f=[],p=[],m=[],g=[];y(),this.setIndex(g),this.setAttribute("position",new at(f,3)),this.setAttribute("normal",new at(p,3)),this.setAttribute("uv",new at(m,2));function y(){for(let b=0;b<t;b++)_(b);_(s===!1?t:0),x(),v()}function _(b){u=e.getPointAt(b/t,u);const A=o.normals[b],M=o.binormals[b];for(let E=0;E<=i;E++){const R=E/i*Math.PI*2,I=Math.sin(R),T=-Math.cos(R);l.x=T*A.x+I*M.x,l.y=T*A.y+I*M.y,l.z=T*A.z+I*M.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,f.push(a.x,a.y,a.z)}}function v(){for(let b=1;b<=t;b++)for(let A=1;A<=i;A++){const M=(i+1)*(b-1)+(A-1),E=(i+1)*b+(A-1),R=(i+1)*b+A,I=(i+1)*(b-1)+A;g.push(M,E,I),g.push(E,R,I)}}function x(){for(let b=0;b<=t;b++)for(let A=0;A<=i;A++)c.x=b/t,c.y=A/i,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Kx(new m_[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class PU extends Ot{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],r=new Set,i=new z,s=new z;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],p=f.start,m=f.count;for(let g=p,y=p+m;g<y;g+=3)for(let _=0;_<3;_++){const v=a.getX(g+_),x=a.getX(g+(_+1)%3);i.fromBufferAttribute(o,v),s.fromBufferAttribute(o,x),QL(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,f=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,f),QL(i,s,r)===!0&&(t.push(i.x,i.y,i.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new at(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function QL(n,e,t){const r=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(r)===!0||t.has(i)===!0?!1:(t.add(r),t.add(i),!0)}var ZL=Object.freeze({__proto__:null,BoxGeometry:vc,CapsuleGeometry:kx,CircleGeometry:Nx,ConeGeometry:Fx,CylinderGeometry:bh,DodecahedronGeometry:Ux,EdgesGeometry:wC,ExtrudeGeometry:Hx,IcosahedronGeometry:Gx,LatheGeometry:mg,OctahedronGeometry:gg,PlaneGeometry:xh,PolyhedronGeometry:yc,RingGeometry:Vx,ShapeGeometry:Wx,SphereGeometry:vg,TetrahedronGeometry:$x,TorusGeometry:jx,TorusKnotGeometry:Xx,TubeGeometry:Kx,WireframeGeometry:PU});class OU extends pr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new De(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class LU extends eo{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class yg extends pr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new De(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gc,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class da extends yg{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new xe(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return qn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new De(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new De(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new De(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class IU extends pr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new De(16777215),this.specular=new De(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gc,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ag,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class BU extends pr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new De(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gc,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class DU extends pr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gc,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class kU extends pr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new De(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new De(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gc,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=ag,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class NU extends pr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new De(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gc,this.normalScale=new xe(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class FU extends fi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function au(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function UU(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function zU(n){function e(i,s){return n[i]-n[s]}const t=n.length,r=new Array(t);for(let i=0;i!==t;++i)r[i]=i;return r.sort(e),r}function PE(n,e,t){const r=n.length,i=new n.constructor(r);for(let s=0,o=0;o!==r;++s){const a=t[s]*e;for(let l=0;l!==e;++l)i[o++]=n[a+l]}return i}function EC(n,e,t,r){let i=1,s=n[0];for(;s!==void 0&&s[r]===void 0;)s=n[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),t.push(o)),s=n[i++];while(s!==void 0)}function ZK(n,e,t,r,i=30){const s=n.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),f=[],p=[];for(let m=0;m<c.times.length;++m){const g=c.times[m]*i;if(!(g<t||g>=r)){f.push(c.times[m]);for(let y=0;y<u;++y)p.push(c.values[m*u+y])}}f.length!==0&&(c.times=au(f,c.times.constructor),c.values=au(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function eY(n,e=0,t=n,r=30){r<=0&&(r=30);const i=t.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=t.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=n.tracks.find(function(v){return v.name===a.name&&v.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const g=a.times.length-1;let y;if(s<=a.times[0]){const v=u,x=f-u;y=a.values.slice(v,x)}else if(s>=a.times[g]){const v=g*f+u,x=v+f-u;y=a.values.slice(v,x)}else{const v=a.createInterpolant(),x=u,b=f-u;v.evaluate(s),y=v.resultBuffer.slice(x,b)}l==="quaternion"&&new Br().fromArray(y).normalize().conjugate().toArray(y);const _=c.times.length;for(let v=0;v<_;++v){const x=v*m+p;if(l==="quaternion")Br.multiplyQuaternionsFlat(c.values,x,y,0,c.values,x);else{const b=m-p*2;for(let A=0;A<b;++A)c.values[x+A]-=y[A]}}}return n.blendMode=QT,n}const tY={convertArray:au,isTypedArray:UU,getKeyframeOrder:zU,sortedArray:PE,flattenJSON:EC,subclip:ZK,makeClipAdditive:eY};class Ah{constructor(e,t,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let r=this._cachedIndex,i=t[r],s=t[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=t[++r],e<i)break t}o=t.length;break n}if(!(e>=s)){const a=t[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=t[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<t[a]?o=a:r=a+1}if(i=t[r],s=t[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)t[o]=r[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class HU extends Ah{constructor(e,t,r,i){super(e,t,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:iu,endingEnd:iu}}intervalChanged_(e,t,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case su:s=e,a=2*t-r;break;case Em:s=i.length-2,a=t+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case su:o=e,l=2*r-t;break;case Em:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=t}const c=(r-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,f=this._offsetNext,p=this._weightPrev,m=this._weightNext,g=(r-t)/(i-t),y=g*g,_=y*g,v=-p*_+2*p*y-p*g,x=(1+p)*_+(-1.5-2*p)*y+(-.5+p)*g+1,b=(-1-m)*_+(1.5+m)*y+.5*g,A=m*_-m*y;for(let M=0;M!==a;++M)s[M]=v*o[u+M]+x*o[c+M]+b*o[l+M]+A*o[f+M];return s}}class MC extends Ah{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-t)/(i-t),f=1-u;for(let p=0;p!==a;++p)s[p]=o[c+p]*f+o[l+p]*u;return s}}class GU extends Ah{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Co{constructor(e,t,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=au(t,this.TimeBufferType),this.values=au(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:au(e.times,Array),values:au(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new GU(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new MC(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new HU(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Gd:t=this.InterpolantFactoryMethodDiscrete;break;case Pu:t=this.InterpolantFactoryMethodLinear;break;case Ay:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Gd;case this.InterpolantFactoryMethodLinear:return Pu;case this.InterpolantFactoryMethodSmooth:return Ay}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let r=0,i=t.length;r!==i;++r)t[r]*=e}return this}trim(e,t){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>t;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&UU(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===Ay,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const f=a*r,p=f-r,m=f+r;for(let g=0;g!==r;++g){const y=t[f+g];if(y!==t[p+g]||y!==t[m+g]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,p=o*r;for(let m=0;m!==r;++m)t[p+m]=t[f+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*r)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=this.constructor,i=new r(this.name,e,t);return i.createInterpolant=this.createInterpolant,i}}Co.prototype.TimeBufferType=Float32Array;Co.prototype.ValueBufferType=Float32Array;Co.prototype.DefaultInterpolation=Pu;class Vu extends Co{}Vu.prototype.ValueTypeName="bool";Vu.prototype.ValueBufferType=Array;Vu.prototype.DefaultInterpolation=Gd;Vu.prototype.InterpolantFactoryMethodLinear=void 0;Vu.prototype.InterpolantFactoryMethodSmooth=void 0;class TC extends Co{}TC.prototype.ValueTypeName="color";class Xd extends Co{}Xd.prototype.ValueTypeName="number";class VU extends Ah{constructor(e,t,r,i){super(e,t,r,i)}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-t)/(i-t);let c=e*a;for(let u=c+a;c!==u;c+=4)Br.slerpFlat(s,0,o,c-a,o,c,l);return s}}class ic extends Co{InterpolantFactoryMethodLinear(e){return new VU(this.times,this.values,this.getValueSize(),e)}}ic.prototype.ValueTypeName="quaternion";ic.prototype.DefaultInterpolation=Pu;ic.prototype.InterpolantFactoryMethodSmooth=void 0;class Wu extends Co{}Wu.prototype.ValueTypeName="string";Wu.prototype.ValueBufferType=Array;Wu.prototype.DefaultInterpolation=Gd;Wu.prototype.InterpolantFactoryMethodLinear=void 0;Wu.prototype.InterpolantFactoryMethodSmooth=void 0;class Kd extends Co{}Kd.prototype.ValueTypeName="vector";class Yd{constructor(e,t=-1,r,i=Mx){this.name=e,this.tracks=r,this.duration=t,this.blendMode=i,this.uuid=hs(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)t.push(rY(r[o]).scale(i));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)t.push(Co.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,t,r,i){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=zU(l);l=PE(l,1,u),c=PE(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Xd(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===t)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,t,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const f=u[1];let p=i[f];p||(i[f]=p=[]),p.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,p,m,g,y){if(m.length!==0){const _=[],v=[];EC(m,_,v,g),_.length!==0&&y.push(new f(p,_,v))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const p=c[f].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let g;for(g=0;g<p.length;g++)if(p[g].morphTargets)for(let y=0;y<p[g].morphTargets.length;y++)m[p[g].morphTargets[y]]=-1;for(const y in m){const _=[],v=[];for(let x=0;x!==p[g].morphTargets.length;++x){const b=p[g];_.push(b.time),v.push(b.morphTarget===y?1:0)}i.push(new Xd(".morphTargetInfluence["+y+"]",_,v))}l=m.length*o}else{const m=".bones["+t[f].name+"]";r(Kd,m+".position",p,"pos",i),r(ic,m+".quaternion",p,"rot",i),r(Kd,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let t=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function nY(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Xd;case"vector":case"vector2":case"vector3":case"vector4":return Kd;case"color":return TC;case"quaternion":return ic;case"bool":case"boolean":return Vu;case"string":return Wu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function rY(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=nY(n.type);if(n.times===void 0){const t=[],r=[];EC(n.keys,t,r,"value"),n.times=t,n.values=r}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Ua={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class CC{constructor(e,t,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,p=c.length;f<p;f+=2){const m=c[f],g=c[f+1];if(m.global&&(m.lastIndex=0),m.test(u))return g}return null}}}const ld=new CC;class di{constructor(e){this.manager=e!==void 0?e:ld,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const r=this;return new Promise(function(i,s){r.load(e,i,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}di.DEFAULT_MATERIAL_NAME="__DEFAULT";const wa={};class iY extends Error{constructor(e,t){super(e),this.response=t}}class ys extends di{constructor(e){super(e)}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Ua.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(wa[e]!==void 0){wa[e].push({onLoad:t,onProgress:r,onError:i});return}wa[e]=[],wa[e].push({onLoad:t,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=wa[e],f=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,g=m!==0;let y=0;const _=new ReadableStream({start(v){x();function x(){f.read().then(({done:b,value:A})=>{if(b)v.close();else{y+=A.byteLength;const M=new ProgressEvent("progress",{lengthComputable:g,loaded:y,total:m});for(let E=0,R=u.length;E<R;E++){const I=u[E];I.onProgress&&I.onProgress(M)}v.enqueue(A),x()}})}}});return new Response(_)}else throw new iY(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),p=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(g=>m.decode(g))}}}).then(c=>{Ua.add(e,c);const u=wa[e];delete wa[e];for(let f=0,p=u.length;f<p;f++){const m=u[f];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=wa[e];if(u===void 0)throw this.manager.itemError(e),c;delete wa[e];for(let f=0,p=u.length;f<p;f++){const m=u[f];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class sY extends di{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new ys(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=[];for(let r=0;r<e.length;r++){const i=Yd.parse(e[r]);t.push(i)}return t}}class oY extends di{constructor(e){super(e)}load(e,t,r,i){const s=this,o=[],a=new Bx,l=new ys(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(f){l.load(e[f],function(p){const m=s.parse(p,!0);o[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=Nn),a.image=o,a.format=m.format,a.needsUpdate=!0,t&&t(a))},r,i)}if(Array.isArray(e))for(let f=0,p=e.length;f<p;++f)u(f);else l.load(e,function(f){const p=s.parse(f,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let y=0;y<p.mipmapCount;y++)o[g].mipmaps.push(p.mipmaps[g*p.mipmapCount+y]),o[g].format=p.format,o[g].width=p.width,o[g].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=Nn),a.format=p.format,a.needsUpdate=!0,t&&t(a)},r,i);return a}}class Dm extends di{constructor(e){super(e)}load(e,t,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ua.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=Pm("img");function l(){u(),Ua.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(f){u(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class aY extends di{constructor(e){super(e)}load(e,t,r,i){const s=new fg;s.colorSpace=_r;const o=new Dm(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class lY extends di{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new gu,a=new ys(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:Vr,o.wrapT=c.wrapT!==void 0?c.wrapT:Vr,o.magFilter=c.magFilter!==void 0?c.magFilter:Nn,o.minFilter=c.minFilter!==void 0?c.minFilter:Nn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=oa),c.mipmapCount===1&&(o.minFilter=Nn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},r,i),o}}class _g extends di{constructor(e){super(e)}load(e,t,r,i){const s=new Rn,o=new Dm(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},r,i),s}}class _c extends Kt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new De(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}}class WU extends _c{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Kt.DEFAULT_UP),this.updateMatrix(),this.groundColor=new De(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}}const Qb=new vt,eI=new z,tI=new z;class RC{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new xe(512,512),this.map=null,this.mapPass=null,this.matrix=new vt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new dg,this._frameExtents=new xe(1,1),this._viewportCount=1,this._viewports=[new sn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,r=this.matrix;eI.setFromMatrixPosition(e.matrixWorld),t.position.copy(eI),tI.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(tI),t.updateMatrixWorld(),Qb.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Qb),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(Qb)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class cY extends RC{constructor(){super(new Sn(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,r=Wd*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(r!==t.fov||i!==t.aspect||s!==t.far)&&(t.fov=r,t.aspect=i,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class PC extends _c{constructor(e,t,r=0,i=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Kt.DEFAULT_UP),this.updateMatrix(),this.target=new Kt,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new cY}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const nI=new vt,yp=new z,Zb=new z;class uY extends RC{constructor(){super(new Sn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new xe(4,2),this._viewportCount=6,this._viewports=[new sn(2,1,1,1),new sn(0,1,1,1),new sn(3,1,1,1),new sn(1,1,1,1),new sn(3,0,1,1),new sn(1,0,1,1)],this._cubeDirections=[new z(1,0,0),new z(-1,0,0),new z(0,0,1),new z(0,0,-1),new z(0,1,0),new z(0,-1,0)],this._cubeUps=[new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,1,0),new z(0,0,1),new z(0,0,-1)]}updateMatrices(e,t=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),yp.setFromMatrixPosition(e.matrixWorld),r.position.copy(yp),Zb.copy(r.position),Zb.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(Zb),r.updateMatrixWorld(),i.makeTranslation(-yp.x,-yp.y,-yp.z),nI.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(nI)}}class OC extends _c{constructor(e,t,r=0,i=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new uY}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class fY extends RC{constructor(){super(new Xs(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class LC extends _c{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Kt.DEFAULT_UP),this.updateMatrix(),this.target=new Kt,this.shadow=new fY}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class $U extends _c{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class jU extends _c{constructor(e,t,r=10,i=10){super(e,t),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const t=super.toJSON(e);return t.object.width=this.width,t.object.height=this.height,t}}class XU{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new z)}set(e){for(let t=0;t<9;t++)this.coefficients[t].copy(e[t]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.282095),t.addScaledVector(o[1],.488603*i),t.addScaledVector(o[2],.488603*s),t.addScaledVector(o[3],.488603*r),t.addScaledVector(o[4],1.092548*(r*i)),t.addScaledVector(o[5],1.092548*(i*s)),t.addScaledVector(o[6],.315392*(3*s*s-1)),t.addScaledVector(o[7],1.092548*(r*s)),t.addScaledVector(o[8],.546274*(r*r-i*i)),t}getIrradianceAt(e,t){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return t.copy(o[0]).multiplyScalar(.886227),t.addScaledVector(o[1],2*.511664*i),t.addScaledVector(o[2],2*.511664*s),t.addScaledVector(o[3],2*.511664*r),t.addScaledVector(o[4],2*.429043*r*i),t.addScaledVector(o[5],2*.429043*i*s),t.addScaledVector(o[6],.743125*s*s-.247708),t.addScaledVector(o[7],2*.429043*r*s),t.addScaledVector(o[8],.429043*(r*r-i*i)),t}add(e){for(let t=0;t<9;t++)this.coefficients[t].add(e.coefficients[t]);return this}addScaledSH(e,t){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],t);return this}scale(e){for(let t=0;t<9;t++)this.coefficients[t].multiplyScalar(e);return this}lerp(e,t){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],t);return this}equals(e){for(let t=0;t<9;t++)if(!this.coefficients[t].equals(e.coefficients[t]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,t+i*3);return this}toArray(e=[],t=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,t+i*3);return e}static getBasisAt(e,t){const r=e.x,i=e.y,s=e.z;t[0]=.282095,t[1]=.488603*i,t[2]=.488603*s,t[3]=.488603*r,t[4]=1.092548*r*i,t[5]=1.092548*i*s,t[6]=.315392*(3*s*s-1),t[7]=1.092548*r*s,t[8]=.546274*(r*r-i*i)}}class KU extends _c{constructor(e=new XU,t=1){super(void 0,t),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const t=super.toJSON(e);return t.object.sh=this.sh.toArray(),t}}class Yx extends di{constructor(e){super(e),this.textures={}}load(e,t,r,i){const s=this,o=new ys(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t=this.textures;function r(s){return t[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),t[s]}const i=Yx.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new De().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new De().setHex(o.value);break;case"v2":i.uniforms[s].value=new xe().fromArray(o.value);break;case"v3":i.uniforms[s].value=new z().fromArray(o.value);break;case"v4":i.uniforms[s].value=new sn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new kt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new vt().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new xe().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new xe().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const t={ShadowMaterial:OU,SpriteMaterial:hC,RawShaderMaterial:LU,ShaderMaterial:eo,PointsMaterial:Ix,MeshPhysicalMaterial:da,MeshStandardMaterial:yg,MeshPhongMaterial:IU,MeshToonMaterial:BU,MeshNormalMaterial:DU,MeshLambertMaterial:kU,MeshDepthMaterial:uC,MeshDistanceMaterial:fC,MeshBasicMaterial:us,MeshMatcapMaterial:NU,LineDashedMaterial:FU,LineBasicMaterial:fi,Material:pr};return new t[e]}}class ta{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let r=0,i=e.length;r<i;r++)t+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class YU extends Ot{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class JU extends di{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new ys(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{t(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const t={},r={};function i(m,g){if(t[g]!==void 0)return t[g];const _=m.interleavedBuffers[g],v=s(m,_.buffer),x=id(_.type,v),b=new hg(x,_.stride);return b.uuid=_.uuid,t[g]=b,b}function s(m,g){if(r[g]!==void 0)return r[g];const _=m.arrayBuffers[g],v=new Uint32Array(_).buffer;return r[g]=v,v}const o=e.isInstancedBufferGeometry?new YU:new Ot,a=e.data.index;if(a!==void 0){const m=id(a.type,a.array);o.setIndex(new Yt(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let y;if(g.isInterleavedBufferAttribute){const _=i(e.data,g.data);y=new rc(_,g.itemSize,g.offset,g.normalized)}else{const _=id(g.type,g.array),v=g.isInstancedBufferAttribute?jd:Yt;y=new v(_,g.itemSize,g.normalized)}g.name!==void 0&&(y.name=g.name),g.usage!==void 0&&y.setUsage(g.usage),o.setAttribute(m,y)}const c=e.data.morphAttributes;if(c)for(const m in c){const g=c[m],y=[];for(let _=0,v=g.length;_<v;_++){const x=g[_];let b;if(x.isInterleavedBufferAttribute){const A=i(e.data,x.data);b=new rc(A,x.itemSize,x.offset,x.normalized)}else{const A=id(x.type,x.array);b=new Yt(A,x.itemSize,x.normalized)}x.name!==void 0&&(b.name=x.name),y.push(b)}o.morphAttributes[m]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,g=f.length;m!==g;++m){const y=f[m];o.addGroup(y.start,y.count,y.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new z;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new $r(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class dY extends di{constructor(e){super(e)}load(e,t,r,i){const s=this,o=this.path===""?ta.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new ys(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,t)},r,i)}async loadAsync(e,t){const r=this,i=this.path===""?ta.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new ys(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,t),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,t){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){t!==void 0&&t(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),t!==void 0){let f=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){f=!0;break}f===!1&&t(c)}return c}async parseAsync(e){const t=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,t),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const t={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new vu().fromJSON(e[r]);t[s.uuid]=s}return t}parseSkeletons(e,t){const r={},i={};if(t.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new pg().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,t){const r={};if(e!==void 0){const i=new JU;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in ZL?a=ZL[l.type].fromJSON(l,t):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,t){const r={},i={};if(e!==void 0){const s=new Yx;s.setTextures(t);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const t={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Yd.parse(i);t[s.uuid]=s}return t}parseImages(e,t){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:id(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new CC(t);s=new Dm(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],p=f.url;if(Array.isArray(p)){const m=[];for(let g=0,y=p.length;g<y;g++){const _=p[g],v=a(_);v!==null&&(v instanceof HTMLImageElement?m.push(v):m.push(new gu(v.data,v.width,v.height)))}i[f.uuid]=new ou(m)}else{const m=a(f.url);i[f.uuid]=new ou(m)}}}return i}async parseImagesAsync(e){const t=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:t.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:id(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Dm(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,p=c.length;f<p;f++){const m=c[f],g=await s(m);g!==null&&(g instanceof HTMLImageElement?u.push(g):u.push(new gu(g.data,g.width,g.height)))}r[l.uuid]=new ou(u)}else{const u=await s(l.url);r[l.uuid]=new ou(u)}}}return r}parseTextures(e,t){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),t[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=t[a.image],c=l.data;let u;Array.isArray(c)?(u=new fg,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new gu:u=new Rn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,hY)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],rI),u.wrapT=r(a.wrap[1],rI)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,iI)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,iI)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,t,r,i,s){let o;function a(p){return t[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),t[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let g=0,y=p.length;g<y;g++){const _=p[g];r[_]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",_),m.push(r[_])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function c(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let u,f;switch(e.type){case"Scene":o=new p_,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new De(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new Ox(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new Px(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Sn(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Xs(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new $U(e.color,e.intensity);break;case"DirectionalLight":o=new LC(e.color,e.intensity);break;case"PointLight":o=new OC(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new jU(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new PC(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new WU(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new KU().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),f=l(e.material),o=new pC(u,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),f=l(e.material),o=new or(u,f);break;case"InstancedMesh":u=a(e.geometry),f=l(e.material);const p=e.count,m=e.instanceMatrix,g=e.instanceColor;o=new mC(u,f,p),o.instanceMatrix=new jd(new Float32Array(m.array),16),g!==void 0&&(o.instanceColor=new jd(new Float32Array(g.array),g.itemSize));break;case"BatchedMesh":u=a(e.geometry),f=l(e.material),o=new SU(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,f),o.geometry=u,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(y=>{const _=new ai;_.min.fromArray(y.boxMin),_.max.fromArray(y.boxMax);const v=new $r;return v.radius=y.sphereRadius,v.center.fromArray(y.sphereCenter),{boxInitialized:y.boxInitialized,box:_,sphereInitialized:y.sphereInitialized,sphere:v}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":o=new xU;break;case"Line":o=new Ya(a(e.geometry),l(e.material));break;case"LineLoop":o=new gC(a(e.geometry),l(e.material));break;case"LineSegments":o=new Mo(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new vC(a(e.geometry),l(e.material));break;case"Sprite":o=new _U(l(e.material));break;case"Group":o=new Fa;break;case"Bone":o=new Lx;break;default:o=new Kt}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],t,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const g=p[m];o.animations.push(s[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const g=p[m],y=o.getObjectByProperty("uuid",g.object);y!==void 0&&o.addLevel(y,g.distance,g.hysteresis)}}return o}bindSkeletons(e,t){Object.keys(t).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=t[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const hY={UVMapping:Ax,CubeReflectionMapping:Ka,CubeRefractionMapping:nc,EquirectangularReflectionMapping:bm,EquirectangularRefractionMapping:Am,CubeUVReflectionMapping:_h},rI={RepeatWrapping:Tn,ClampToEdgeWrapping:Vr,MirroredRepeatWrapping:zd},iI={NearestFilter:Jn,NearestMipmapNearestFilter:wm,NearestMipmapLinearFilter:Sd,LinearFilter:Nn,LinearMipmapNearestFilter:wx,LinearMipmapLinearFilter:oa};class qU extends di{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Ua.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{t&&t(c),s.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return Ua.add(e,c),t&&t(c),s.manager.itemEnd(e),c}).catch(function(c){i&&i(c),Ua.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Ua.add(e,l),s.manager.itemStart(e)}}let Bv;class IC{static getContext(){return Bv===void 0&&(Bv=new(window.AudioContext||window.webkitAudioContext)),Bv}static setContext(e){Bv=e}}class pY extends di{constructor(e){super(e)}load(e,t,r,i){const s=this,o=new ys(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);IC.getContext().decodeAudioData(c,function(f){t(f)}).catch(a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const sI=new vt,oI=new vt,Fc=new vt;class mY{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Sn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Sn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const t=this._cache;if(t.focus!==e.focus||t.fov!==e.fov||t.aspect!==e.aspect*this.aspect||t.near!==e.near||t.far!==e.far||t.zoom!==e.zoom||t.eyeSep!==this.eyeSep){t.focus=e.focus,t.fov=e.fov,t.aspect=e.aspect*this.aspect,t.near=e.near,t.far=e.far,t.zoom=e.zoom,t.eyeSep=this.eyeSep,Fc.copy(e.projectionMatrix);const i=t.eyeSep/2,s=i*t.near/t.focus,o=t.near*Math.tan(pu*t.fov*.5)/t.zoom;let a,l;oI.elements[12]=-i,sI.elements[12]=i,a=-o*t.aspect+s,l=o*t.aspect+s,Fc.elements[0]=2*t.near/(l-a),Fc.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(Fc),a=-o*t.aspect-s,l=o*t.aspect-s,Fc.elements[0]=2*t.near/(l-a),Fc.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(Fc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(oI),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(sI)}}class BC{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=aI(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=aI();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function aI(){return(typeof performance>"u"?Date:performance).now()}const Uc=new z,lI=new Br,gY=new z,zc=new z;class vY extends Kt{constructor(){super(),this.type="AudioListener",this.context=IC.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new BC}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const t=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Uc,lI,gY),zc.set(0,0,-1).applyQuaternion(lI),t.positionX){const i=this.context.currentTime+this.timeDelta;t.positionX.linearRampToValueAtTime(Uc.x,i),t.positionY.linearRampToValueAtTime(Uc.y,i),t.positionZ.linearRampToValueAtTime(Uc.z,i),t.forwardX.linearRampToValueAtTime(zc.x,i),t.forwardY.linearRampToValueAtTime(zc.y,i),t.forwardZ.linearRampToValueAtTime(zc.z,i),t.upX.linearRampToValueAtTime(r.x,i),t.upY.linearRampToValueAtTime(r.y,i),t.upZ.linearRampToValueAtTime(r.z,i)}else t.setPosition(Uc.x,Uc.y,Uc.z),t.setOrientation(zc.x,zc.y,zc.z,r.x,r.y,r.z)}}class QU extends Kt{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.onended=this.onEnded.bind(this),t.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,t=this.filters.length;e<t;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const Hc=new z,cI=new Br,yY=new z,Gc=new z;class _Y extends QU{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,t,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=t,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Hc,cI,yY),Gc.set(0,0,1).applyQuaternion(cI);const t=this.panner;if(t.positionX){const r=this.context.currentTime+this.listener.timeDelta;t.positionX.linearRampToValueAtTime(Hc.x,r),t.positionY.linearRampToValueAtTime(Hc.y,r),t.positionZ.linearRampToValueAtTime(Hc.z,r),t.orientationX.linearRampToValueAtTime(Gc.x,r),t.orientationY.linearRampToValueAtTime(Gc.y,r),t.orientationZ.linearRampToValueAtTime(Gc.z,r)}else t.setPosition(Hc.x,Hc.y,Hc.z),t.setOrientation(Gc.x,Gc.y,Gc.z)}}class xY{constructor(e,t=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=t,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const t=this.getFrequencyData();for(let r=0;r<t.length;r++)e+=t[r];return e/t.length}}class ZU{constructor(e,t,r){this.binding=e,this.valueSize=r;let i,s,o;switch(t){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=t}else{o+=t;const a=t/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const t=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const t=this.valueSize,r=this.buffer,i=e*t+t,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=t*this._origIndex;this._mixBufferRegion(r,i,l,1-s,t)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*t,1,t);for(let l=t,c=t+t;l!==c;++l)if(r[l]!==r[l+t]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,t=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(t,i);for(let s=r,o=i;s!==o;++s)t[s]=t[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[t+o]=e[r+o]}_slerp(e,t,r,i){Br.slerpFlat(e,t,e,t,e,r,i)}_slerpAdditive(e,t,r,i,s){const o=this._workIndex*s;Br.multiplyQuaternionsFlat(e,o,e,t,e,r),Br.slerpFlat(e,t,e,t,e,o,i)}_lerp(e,t,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=t+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,t,r,i,s){for(let o=0;o!==s;++o){const a=t+o;e[a]=e[a]+e[r+o]*i}}}const DC="\\[\\]\\.:\\/",SY=new RegExp("["+DC+"]","g"),kC="[^"+DC+"]",bY="[^"+DC.replace("\\.","")+"]",AY=/((?:WC+[\/:])*)/.source.replace("WC",kC),wY=/(WCOD+)?/.source.replace("WCOD",bY),EY=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",kC),MY=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",kC),TY=new RegExp("^"+AY+wY+EY+MY+"$"),CY=["material","materials","bones","map"];class RY{constructor(e,t,r){const i=r||Xt.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,i)}getValue(e,t){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,t)}setValue(e,t){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}}class Xt{constructor(e,t,r){this.path=t,this.parsedPath=r||Xt.parseTrackName(t),this.node=Xt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Xt.Composite(e,t,r):new Xt(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(SY,"")}static parseTrackName(e){const t=TY.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);CY.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[t++]=r[i]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,r=t.objectName,i=t.propertyName;let s=t.propertyIndex;if(e||(e=Xt.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Xt.Composite=RY;Xt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Xt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Xt.prototype.GetterByBindingType=[Xt.prototype._getValue_direct,Xt.prototype._getValue_array,Xt.prototype._getValue_arrayElement,Xt.prototype._getValue_toArray];Xt.prototype.SetterByBindingTypeAndVersioning=[[Xt.prototype._setValue_direct,Xt.prototype._setValue_direct_setNeedsUpdate,Xt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Xt.prototype._setValue_array,Xt.prototype._setValue_array_setNeedsUpdate,Xt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Xt.prototype._setValue_arrayElement,Xt.prototype._setValue_arrayElement_setNeedsUpdate,Xt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Xt.prototype._setValue_fromArray,Xt.prototype._setValue_fromArray_setNeedsUpdate,Xt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class PY{constructor(){this.isAnimationObjectGroup=!0,this.uuid=hs(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const t=this;this.stats={objects:{get total(){return t._objects.length},get inUse(){return this.total-t.nCachedObjects_}},get bindingsPerObject(){return t._bindings.length}}}add(){const e=this._objects,t=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const p=arguments[u],m=p.uuid;let g=t[m];if(g===void 0){g=l++,t[m]=g,e.push(p);for(let y=0,_=o;y!==_;++y)s[y].push(new Xt(p,r[y],i[y]))}else if(g<c){a=e[g];const y=--c,_=e[y];t[_.uuid]=g,e[g]=_,t[m]=y,e[y]=p;for(let v=0,x=o;v!==x;++v){const b=s[v],A=b[y];let M=b[g];b[g]=A,M===void 0&&(M=new Xt(p,r[v],i[v])),b[y]=M}}else e[g]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=t[c];if(u!==void 0&&u>=s){const f=s++,p=e[f];t[p.uuid]=u,e[u]=p,t[c]=f,e[f]=l;for(let m=0,g=i;m!==g;++m){const y=r[m],_=y[f],v=y[u];y[u]=_,y[f]=v}}}this.nCachedObjects_=s}uncache(){const e=this._objects,t=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,f=t[u];if(f!==void 0)if(delete t[u],f<s){const p=--s,m=e[p],g=--o,y=e[g];t[m.uuid]=f,e[f]=m,t[y.uuid]=p,e[p]=y,e.pop();for(let _=0,v=i;_!==v;++_){const x=r[_],b=x[p],A=x[g];x[f]=b,x[p]=A,x.pop()}}else{const p=--o,m=e[p];p>0&&(t[m.uuid]=f),e[f]=m,e.pop();for(let g=0,y=i;g!==y;++g){const _=r[g];_[f]=_[p],_.pop()}}}this.nCachedObjects_=s}subscribe_(e,t){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(t),s.push(f);for(let p=u,m=l.length;p!==m;++p){const g=l[p];f[p]=new Xt(g,e,t)}return f}unsubscribe_(e){const t=this._bindingsIndicesByPath,r=t[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];t[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class ez{constructor(e,t,r=null,i=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=i;const s=t.tracks,o=s.length,a=new Array(o),l={endingStart:iu,endingEnd:iu};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=GF,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,t),this.warp(a,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=t/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?t=0:(this._startTime=null,t=r*l)}t*=this._updateTimeScale(e);const o=this._updateTime(t),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case QT:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case Mx:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];t*=i,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){const t=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===VF;if(e===0)return s===-1?i:o&&(s&1)===1?t-i:i;if(r===HF){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=t||i<0){const a=Math.floor(i/t);i-=t*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?t:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return t-i}return i}_setEndings(e,t,r){const i=this._interpolantSettings;r?(i.endingStart=su,i.endingEnd=su):(e?i.endingStart=this.zeroSlopeAtStart?su:iu:i.endingStart=Em,t?i.endingEnd=this.zeroSlopeAtEnd?su:iu:i.endingEnd=Em)}_scheduleFading(e,t,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=t,a[1]=s+e,l[1]=r,this}}const OY=new Float32Array(1);class LY extends fa{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==s;++f){const p=i[f],m=p.name;let g=u[m];if(g!==void 0)++g.referenceCount,o[f]=g;else{if(g=o[f],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const y=t&&t._propertyBindings[f].binding.parsedPath;g=new ZU(Xt.create(r,m,y),p.ValueTypeName,p.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[f]=g}a[f].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){const i=this._actions,s=this._actionsByClip;let o=s[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[t]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const t=this._actions,r=t[t.length-1],i=e._cacheIndex;r._cacheIndex=i,t[i]=r,t.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete f[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const t=e._propertyBindings;for(let r=0,i=t.length;r!==i;++r){const s=t[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const t=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackAction(e){const t=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_addInactiveBinding(e,t,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[t];o===void 0&&(o={},i[t]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const t=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=t[t.length-1],c=e._cacheIndex;l._cacheIndex=c,t[c]=l,t.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const t=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_takeBackBinding(e){const t=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=t[i];e._cacheIndex=i,t[i]=e,s._cacheIndex=r,t[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,t=this._nActiveControlInterpolants++;let r=e[t];return r===void 0&&(r=new MC(new Float32Array(2),new Float32Array(2),1,OY),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){const t=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=t[i];e.__cacheIndex=i,t[i]=e,s.__cacheIndex=r,t[r]=s}clipAction(e,t,r){const i=t||this._root,s=i.uuid;let o=typeof e=="string"?Yd.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=Mx),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new ez(this,o,t,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,t){const r=t||this._root,i=r.uuid,s=typeof e=="string"?Yd.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const t=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)t[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const t=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,f=t[t.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,t[u]=f,t.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const t=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[t];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[t];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,t){const r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class NC{constructor(e){this.value=e}clone(){return new NC(this.value.clone===void 0?this.value:this.value.clone())}}let IY=0;class BY extends fa{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:IY++}),this.name="",this.usage=Rm,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const t=this.uniforms.indexOf(e);return t!==-1&&this.uniforms.splice(t,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const t=e.uniforms;this.uniforms.length=0;for(let r=0,i=t.length;r<i;r++){const s=Array.isArray(t[r])?t[r]:[t[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class DY extends hg{constructor(e,t,r=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}class kY{constructor(e,t,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=t,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,t){return this.type=e,this.elementSize=t,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class tz{constructor(e,t,r=0,i=1/0){this.ray=new Gu(e,t),this.near=r,this.far=i,this.camera=null,this.layers=new mu,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return OE(e,this,r,t),r.sort(uI),r}intersectObjects(e,t=!0,r=[]){for(let i=0,s=e.length;i<s;i++)OE(e[i],this,r,t);return r.sort(uI),r}}function uI(n,e){return n.distance-e.distance}function OE(n,e,t,r){if(n.layers.test(e.layers)&&n.raycast(e,t),r===!0){const i=n.children;for(let s=0,o=i.length;s<o;s++)OE(i[s],e,t,!0)}}class LE{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(qn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class NY{constructor(e=1,t=0,r=0){return this.radius=e,this.theta=t,this.y=r,this}set(e,t,r){return this.radius=e,this.theta=t,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=t,this}clone(){return new this.constructor().copy(this)}}const fI=new xe;class FY{constructor(e=new xe(1/0,1/0),t=new xe(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const r=fI.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,fI).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const dI=new z,Dv=new z;class UY{constructor(e=new z,t=new z){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){dI.subVectors(e,this.start),Dv.subVectors(this.end,this.start);const r=Dv.dot(Dv);let s=Dv.dot(dI)/r;return t&&(s=qn(s,0,1)),s}closestPointToPoint(e,t,r){const i=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const hI=new z;class zY extends Kt{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";const r=new Ot,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new at(i,3));const s=new fi({fog:!1,toneMapped:!1});this.cone=new Mo(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),hI.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(hI),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const wl=new z,kv=new vt,eA=new vt;class HY extends Mo{constructor(e){const t=nz(e),r=new Ot,i=[],s=[],o=new De(0,0,1),a=new De(0,1,0);for(let c=0;c<t.length;c++){const u=t[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new at(i,3)),r.setAttribute("color",new at(s,3));const l=new fi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=t,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const t=this.bones,r=this.geometry,i=r.getAttribute("position");eA.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<t.length;s++){const a=t[s];a.parent&&a.parent.isBone&&(kv.multiplyMatrices(eA,a.matrixWorld),wl.setFromMatrixPosition(kv),i.setXYZ(o,wl.x,wl.y,wl.z),kv.multiplyMatrices(eA,a.parent.matrixWorld),wl.setFromMatrixPosition(kv),i.setXYZ(o+1,wl.x,wl.y,wl.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function nz(n){const e=[];n.isBone===!0&&e.push(n);for(let t=0;t<n.children.length;t++)e.push.apply(e,nz(n.children[t]));return e}class GY extends or{constructor(e,t,r){const i=new vg(t,4,2),s=new us({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const VY=new z,pI=new De,mI=new De;class WY extends Kt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new gg(t);i.rotateY(Math.PI*.5),this.material=new us({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new Yt(o,3)),this.add(new or(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const t=e.geometry.getAttribute("color");pI.copy(this.light.color),mI.copy(this.light.groundColor);for(let r=0,i=t.count;r<i;r++){const s=r<i/2?pI:mI;t.setXYZ(r,s.r,s.g,s.b)}t.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(VY.setFromMatrixPosition(this.light.matrixWorld).negate())}}class $Y extends Mo{constructor(e=10,t=10,r=4473924,i=8947848){r=new De(r),i=new De(i);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let p=0,m=0,g=-a;p<=t;p++,g+=o){l.push(-a,0,g,a,0,g),l.push(g,0,-a,g,0,a);const y=p===s?r:i;y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3,y.toArray(c,m),m+=3}const u=new Ot;u.setAttribute("position",new at(l,3)),u.setAttribute("color",new at(c,3));const f=new fi({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class jY extends Mo{constructor(e=10,t=16,r=8,i=64,s=4473924,o=8947848){s=new De(s),o=new De(o);const a=[],l=[];if(t>1)for(let f=0;f<t;f++){const p=f/t*(Math.PI*2),m=Math.sin(p)*e,g=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,g);const y=f&1?s:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let f=0;f<r;f++){const p=f&1?s:o,m=e-e/r*f;for(let g=0;g<i;g++){let y=g/i*(Math.PI*2),_=Math.sin(y)*m,v=Math.cos(y)*m;a.push(_,0,v),l.push(p.r,p.g,p.b),y=(g+1)/i*(Math.PI*2),_=Math.sin(y)*m,v=Math.cos(y)*m,a.push(_,0,v),l.push(p.r,p.g,p.b)}}const c=new Ot;c.setAttribute("position",new at(a,3)),c.setAttribute("color",new at(l,3));const u=new fi({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const gI=new z,Nv=new z,vI=new z;class XY extends Kt{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let i=new Ot;i.setAttribute("position",new at([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new fi({fog:!1,toneMapped:!1});this.lightPlane=new Ya(i,s),this.add(this.lightPlane),i=new Ot,i.setAttribute("position",new at([0,0,0,0,0,1],3)),this.targetLine=new Ya(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),gI.setFromMatrixPosition(this.light.matrixWorld),Nv.setFromMatrixPosition(this.light.target.matrixWorld),vI.subVectors(Nv,gI),this.lightPlane.lookAt(Nv),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Nv),this.targetLine.scale.z=vI.length()}}const Fv=new z,jn=new ug;class KY extends Mo{constructor(e){const t=new Ot,r=new fi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(g,y){l(g),l(y)}function l(g){i.push(0,0,0),s.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}t.setAttribute("position",new at(i,3)),t.setAttribute("color",new at(s,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new De(16755200),u=new De(16711680),f=new De(43775),p=new De(16777215),m=new De(3355443);this.setColors(c,u,f,p,m)}setColors(e,t,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,r=1,i=1;jn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),rr("c",t,e,jn,0,0,-1),rr("t",t,e,jn,0,0,1),rr("n1",t,e,jn,-r,-i,-1),rr("n2",t,e,jn,r,-i,-1),rr("n3",t,e,jn,-r,i,-1),rr("n4",t,e,jn,r,i,-1),rr("f1",t,e,jn,-r,-i,1),rr("f2",t,e,jn,r,-i,1),rr("f3",t,e,jn,-r,i,1),rr("f4",t,e,jn,r,i,1),rr("u1",t,e,jn,r*.7,i*1.1,-1),rr("u2",t,e,jn,-r*.7,i*1.1,-1),rr("u3",t,e,jn,0,i*2,-1),rr("cf1",t,e,jn,-r,0,1),rr("cf2",t,e,jn,r,0,1),rr("cf3",t,e,jn,0,-i,1),rr("cf4",t,e,jn,0,i,1),rr("cn1",t,e,jn,-r,0,-1),rr("cn2",t,e,jn,r,0,-1),rr("cn3",t,e,jn,0,-i,-1),rr("cn4",t,e,jn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function rr(n,e,t,r,i,s,o){Fv.set(i,s,o).unproject(r);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],Fv.x,Fv.y,Fv.z)}}const Uv=new ai;class YY extends Mo{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Ot;s.setIndex(new Yt(r,1)),s.setAttribute("position",new Yt(i,3)),super(s,new fi({color:t,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Uv.setFromObject(this.object),Uv.isEmpty())return;const t=Uv.min,r=Uv.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=t.x,s[4]=r.y,s[5]=r.z,s[6]=t.x,s[7]=t.y,s[8]=r.z,s[9]=r.x,s[10]=t.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=t.z,s[15]=t.x,s[16]=r.y,s[17]=t.z,s[18]=t.x,s[19]=t.y,s[20]=t.z,s[21]=r.x,s[22]=t.y,s[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,t){return super.copy(e,t),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class JY extends Mo{constructor(e,t=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Ot;s.setIndex(new Yt(r,1)),s.setAttribute("position",new at(i,3)),super(s,new fi({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class qY extends Ya{constructor(e,t=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Ot;o.setAttribute("position",new at(s,3)),o.computeBoundingSphere(),super(o,new fi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=t;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Ot;l.setAttribute("position",new at(a,3)),l.computeBoundingSphere(),this.add(new or(l,new us({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const yI=new z;let zv,tA;class QY extends Kt{constructor(e=new z(0,0,1),t=new z(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",zv===void 0&&(zv=new Ot,zv.setAttribute("position",new at([0,0,0,0,1,0],3)),tA=new bh(0,.5,1,5,1),tA.translate(0,-.5,0)),this.position.copy(t),this.line=new Ya(zv,new fi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new or(tA,new us({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{yI.set(e.z,0,-e.x).normalize();const t=Math.acos(e.y);this.quaternion.setFromAxisAngle(yI,t)}}setLength(e,t=e*.2,r=t*.2){this.line.scale.set(1,Math.max(1e-4,e-t),1),this.line.updateMatrix(),this.cone.scale.set(r,t,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class ZY extends Mo{constructor(e=1){const t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Ot;i.setAttribute("position",new at(t,3)),i.setAttribute("color",new at(r,3));const s=new fi({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,t,r){const i=new De,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(t),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class eJ{constructor(){this.type="ShapePath",this.color=new De,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new Om,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,r,i){return this.currentPath.quadraticCurveTo(e,t,r,i),this}bezierCurveTo(e,t,r,i,s,o){return this.currentPath.bezierCurveTo(e,t,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function t(v){const x=[];for(let b=0,A=v.length;b<A;b++){const M=v[b],E=new vu;E.curves=M.curves,x.push(E)}return x}function r(v,x){const b=x.length;let A=!1;for(let M=b-1,E=0;E<b;M=E++){let R=x[M],I=x[E],T=I.x-R.x,P=I.y-R.y;if(Math.abs(P)>Number.EPSILON){if(P<0&&(R=x[E],T=-T,I=x[M],P=-P),v.y<R.y||v.y>I.y)continue;if(v.y===R.y){if(v.x===R.x)return!0}else{const B=P*(v.x-R.x)-T*(v.y-R.y);if(B===0)return!0;if(B<0)continue;A=!A}}else{if(v.y!==R.y)continue;if(I.x<=v.x&&v.x<=R.x||R.x<=v.x&&v.x<=I.x)return!0}}return A}const i=ea.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new vu,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const f=[],p=[];let m=[],g=0,y;p[g]=void 0,m[g]=[];for(let v=0,x=s.length;v<x;v++)a=s[v],y=a.getPoints(),o=i(y),o=e?!o:o,o?(!u&&p[g]&&g++,p[g]={s:new vu,p:y},p[g].s.curves=a.curves,u&&g++,m[g]=[]):m[g].push({h:a,p:y[0]});if(!p[0])return t(s);if(p.length>1){let v=!1,x=0;for(let b=0,A=p.length;b<A;b++)f[b]=[];for(let b=0,A=p.length;b<A;b++){const M=m[b];for(let E=0;E<M.length;E++){const R=M[E];let I=!0;for(let T=0;T<p.length;T++)r(R.p,p[T].p)&&(b!==T&&x++,I?(I=!1,f[T].push(R)):v=!0);I&&f[b].push(R)}}x>0&&v===!1&&(m=f)}let _;for(let v=0,x=p.length;v<x;v++){l=p[v].s,c.push(l),_=m[v];for(let b=0,A=_.length;b<A;b++)l.holes.push(_[b].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:og}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=og);const tJ=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:WT,AddEquation:Il,AddOperation:MF,AdditiveAnimationBlendMode:QT,AdditiveBlending:$w,AgXToneMapping:OF,AlphaFormat:DF,AlwaysCompare:eU,AlwaysDepth:_F,AlwaysStencilFunc:bE,AmbientLight:$U,AnimationAction:ez,AnimationClip:Yd,AnimationLoader:sY,AnimationMixer:LY,AnimationObjectGroup:PY,AnimationUtils:tY,ArcCurve:bU,ArrayCamera:gU,ArrowHelper:QY,AttachedBindMode:Jw,Audio:QU,AudioAnalyser:xY,AudioContext:IC,AudioListener:vY,AudioLoader:pY,AxesHelper:ZY,BackSide:oi,BasicDepthPacking:$F,BasicShadowMap:tF,BatchedMesh:SU,Bone:Lx,BooleanKeyframeTrack:Vu,Box2:FY,Box3:ai,Box3Helper:JY,BoxGeometry:vc,BoxHelper:YY,BufferAttribute:Yt,BufferGeometry:Ot,BufferGeometryLoader:JU,ByteType:IF,Cache:Ua,Camera:ug,CameraHelper:KY,CanvasTexture:EK,CapsuleGeometry:kx,CatmullRomCurve3:AU,CineonToneMapping:RF,CircleGeometry:Nx,ClampToEdgeWrapping:Vr,Clock:BC,Color:De,ColorKeyframeTrack:TC,ColorManagement:rn,CompressedArrayTexture:AK,CompressedCubeTexture:wK,CompressedTexture:Bx,CompressedTextureLoader:oY,ConeGeometry:Fx,ConstantAlphaFactor:gF,ConstantColorFactor:pF,CubeCamera:aU,CubeReflectionMapping:Ka,CubeRefractionMapping:nc,CubeTexture:fg,CubeTextureLoader:aY,CubeUVReflectionMapping:_h,CubicBezierCurve:_C,CubicBezierCurve3:wU,CubicInterpolant:HU,CullFaceBack:Ww,CullFaceFront:eF,CullFaceFrontBack:gV,CullFaceNone:ZN,Curve:To,CurvePath:MU,CustomBlending:nF,CustomToneMapping:PF,CylinderGeometry:bh,Cylindrical:NY,Data3DTexture:iC,DataArrayTexture:Cx,DataTexture:gu,DataTextureLoader:lY,DataUtils:bW,DecrementStencilOp:EV,DecrementWrapStencilOp:TV,DefaultLoadingManager:ld,DepthFormat:Jl,DepthStencilFormat:Ru,DepthTexture:cC,DetachedBindMode:LF,DirectionalLight:LC,DirectionalLightHelper:XY,DiscreteInterpolant:GU,DisplayP3ColorSpace:Tx,DodecahedronGeometry:Ux,DoubleSide:Ws,DstAlphaFactor:cF,DstColorFactor:fF,DynamicCopyUsage:GV,DynamicDrawUsage:kV,DynamicReadUsage:UV,EdgesGeometry:wC,EllipseCurve:Dx,EqualCompare:JF,EqualDepth:SF,EqualStencilFunc:OV,EquirectangularReflectionMapping:bm,EquirectangularRefractionMapping:Am,Euler:cg,EventDispatcher:fa,ExtrudeGeometry:Hx,FileLoader:ys,Float16BufferAttribute:CW,Float32BufferAttribute:at,Float64BufferAttribute:RW,FloatType:_o,Fog:Ox,FogExp2:Px,FramebufferTexture:bK,FrontSide:sa,Frustum:dg,GLBufferAttribute:kY,GLSL1:WV,GLSL3:AE,GreaterCompare:qF,GreaterDepth:AF,GreaterEqualCompare:ZF,GreaterEqualDepth:bF,GreaterEqualStencilFunc:DV,GreaterStencilFunc:IV,GridHelper:$Y,Group:Fa,HalfFloatType:Hd,HemisphereLight:WU,HemisphereLightHelper:WY,IcosahedronGeometry:Gx,ImageBitmapLoader:qU,ImageLoader:Dm,ImageUtils:rC,IncrementStencilOp:wV,IncrementWrapStencilOp:MV,InstancedBufferAttribute:jd,InstancedBufferGeometry:YU,InstancedInterleavedBuffer:DY,InstancedMesh:mC,Int16BufferAttribute:MW,Int32BufferAttribute:TW,Int8BufferAttribute:AW,IntType:$T,InterleavedBuffer:hg,InterleavedBufferAttribute:rc,Interpolant:Ah,InterpolateDiscrete:Gd,InterpolateLinear:Pu,InterpolateSmooth:Ay,InvertStencilOp:CV,KeepStencilOp:Jc,KeyframeTrack:Co,LOD:xU,LatheGeometry:mg,Layers:mu,LessCompare:YF,LessDepth:xF,LessEqualCompare:tC,LessEqualDepth:Sm,LessEqualStencilFunc:LV,LessStencilFunc:PV,Light:_c,LightProbe:KU,Line:Ya,Line3:UY,LineBasicMaterial:fi,LineCurve:xC,LineCurve3:EU,LineDashedMaterial:FU,LineLoop:gC,LineSegments:Mo,LinearDisplayP3ColorSpace:lg,LinearEncoding:eC,LinearFilter:Nn,LinearInterpolant:MC,LinearMipMapLinearFilter:SV,LinearMipMapNearestFilter:xV,LinearMipmapLinearFilter:oa,LinearMipmapNearestFilter:wx,LinearSRGBColorSpace:aa,LinearToneMapping:TF,LinearTransfer:Mm,Loader:di,LoaderUtils:ta,LoadingManager:CC,LoopOnce:HF,LoopPingPong:VF,LoopRepeat:GF,LuminanceAlphaFormat:NF,LuminanceFormat:kF,MOUSE:Kc,Material:pr,MaterialLoader:Yx,MathUtils:tU,Matrix3:kt,Matrix4:vt,MaxEquation:Yw,Mesh:or,MeshBasicMaterial:us,MeshDepthMaterial:uC,MeshDistanceMaterial:fC,MeshLambertMaterial:kU,MeshMatcapMaterial:NU,MeshNormalMaterial:DU,MeshPhongMaterial:IU,MeshPhysicalMaterial:da,MeshStandardMaterial:yg,MeshToonMaterial:BU,MinEquation:Kw,MirroredRepeatWrapping:zd,MixOperation:EF,MultiplyBlending:Xw,MultiplyOperation:ag,NearestFilter:Jn,NearestMipMapLinearFilter:_V,NearestMipMapNearestFilter:yV,NearestMipmapLinearFilter:Sd,NearestMipmapNearestFilter:wm,NeverCompare:KF,NeverDepth:yF,NeverStencilFunc:RV,NoBlending:Ha,NoColorSpace:os,NoToneMapping:Qo,NormalAnimationBlendMode:Mx,NormalBlending:hu,NotEqualCompare:QF,NotEqualDepth:wF,NotEqualStencilFunc:BV,NumberKeyframeTrack:Xd,Object3D:Kt,ObjectLoader:dY,ObjectSpaceNormalMap:XF,OctahedronGeometry:gg,OneFactor:oF,OneMinusConstantAlphaFactor:vF,OneMinusConstantColorFactor:mF,OneMinusDstAlphaFactor:uF,OneMinusDstColorFactor:dF,OneMinusSrcAlphaFactor:u_,OneMinusSrcColorFactor:lF,OrthographicCamera:Xs,P3Primaries:Cm,PCFShadowMap:bx,PCFSoftShadowMap:xd,PMREMGenerator:EE,Path:Om,PerspectiveCamera:Sn,Plane:Pa,PlaneGeometry:xh,PlaneHelper:qY,PointLight:OC,PointLightHelper:GY,Points:vC,PointsMaterial:Ix,PolarGridHelper:jY,PolyhedronGeometry:yc,PositionalAudio:_Y,PropertyBinding:Xt,PropertyMixer:ZU,QuadraticBezierCurve:SC,QuadraticBezierCurve3:bC,Quaternion:Br,QuaternionKeyframeTrack:ic,QuaternionLinearInterpolant:VU,RED_GREEN_RGTC2_Format:xE,RED_RGTC1_Format:zF,REVISION:og,RGBADepthPacking:jF,RGBAFormat:Ai,RGBAIntegerFormat:JT,RGBA_ASTC_10x10_Format:pE,RGBA_ASTC_10x5_Format:fE,RGBA_ASTC_10x6_Format:dE,RGBA_ASTC_10x8_Format:hE,RGBA_ASTC_12x10_Format:mE,RGBA_ASTC_12x12_Format:gE,RGBA_ASTC_4x4_Format:rE,RGBA_ASTC_5x4_Format:iE,RGBA_ASTC_5x5_Format:sE,RGBA_ASTC_6x5_Format:oE,RGBA_ASTC_6x6_Format:aE,RGBA_ASTC_8x5_Format:lE,RGBA_ASTC_8x6_Format:cE,RGBA_ASTC_8x8_Format:uE,RGBA_BPTC_Format:by,RGBA_ETC2_EAC_Format:nE,RGBA_PVRTC_2BPPV1_Format:eE,RGBA_PVRTC_4BPPV1_Format:Zw,RGBA_S3TC_DXT1_Format:_y,RGBA_S3TC_DXT3_Format:xy,RGBA_S3TC_DXT5_Format:Sy,RGB_BPTC_SIGNED_Format:vE,RGB_BPTC_UNSIGNED_Format:yE,RGB_ETC1_Format:qT,RGB_ETC2_Format:tE,RGB_PVRTC_2BPPV1_Format:Qw,RGB_PVRTC_4BPPV1_Format:qw,RGB_S3TC_DXT1_Format:yy,RGFormat:UF,RGIntegerFormat:YT,RawShaderMaterial:LU,Ray:Gu,Raycaster:tz,Rec709Primaries:Tm,RectAreaLight:jU,RedFormat:FF,RedIntegerFormat:KT,ReinhardToneMapping:CF,RenderTarget:iU,RepeatWrapping:Tn,ReplaceStencilOp:AV,ReverseSubtractEquation:iF,RingGeometry:Vx,SIGNED_RED_GREEN_RGTC2_Format:SE,SIGNED_RED_RGTC1_Format:_E,SRGBColorSpace:_r,SRGBTransfer:pn,Scene:p_,ShaderChunk:Lt,ShaderLib:vo,ShaderMaterial:eo,ShadowMaterial:OU,Shape:vu,ShapeGeometry:Wx,ShapePath:eJ,ShapeUtils:ea,ShortType:BF,Skeleton:pg,SkeletonHelper:HY,SkinnedMesh:pC,Source:ou,Sphere:$r,SphereGeometry:vg,Spherical:LE,SphericalHarmonics3:XU,SplineCurve:AC,SpotLight:PC,SpotLightHelper:zY,Sprite:_U,SpriteMaterial:hC,SrcAlphaFactor:c_,SrcAlphaSaturateFactor:hF,SrcColorFactor:aF,StaticCopyUsage:HV,StaticDrawUsage:Rm,StaticReadUsage:FV,StereoCamera:mY,StreamCopyUsage:VV,StreamDrawUsage:NV,StreamReadUsage:zV,StringKeyframeTrack:Wu,SubtractEquation:rF,SubtractiveBlending:jw,TOUCH:Yc,TangentSpaceNormalMap:gc,TetrahedronGeometry:$x,Texture:Rn,TextureLoader:_g,TorusGeometry:jx,TorusKnotGeometry:Xx,Triangle:Ni,TriangleFanDrawMode:f_,TriangleStripDrawMode:ZT,TrianglesDrawMode:WF,TubeGeometry:Kx,TwoPassDoubleSide:vV,UVMapping:Ax,Uint16BufferAttribute:sC,Uint32BufferAttribute:oC,Uint8BufferAttribute:wW,Uint8ClampedBufferAttribute:EW,Uniform:NC,UniformsGroup:BY,UniformsLib:Ge,UniformsUtils:aC,UnsignedByteType:Zo,UnsignedInt248Type:Yl,UnsignedIntType:Na,UnsignedShort4444Type:jT,UnsignedShort5551Type:XT,UnsignedShortType:Ex,VSMShadowMap:po,Vector2:xe,Vector3:z,Vector4:sn,VectorKeyframeTrack:Kd,VideoTexture:SK,WebGL1Renderer:vU,WebGL3DRenderTarget:uW,WebGLArrayRenderTarget:cW,WebGLCoordinateSystem:xo,WebGLCubeRenderTarget:lU,WebGLMultipleRenderTargets:fW,WebGLRenderTarget:wo,WebGLRenderer:dC,WebGLUtils:mU,WebGPUCoordinateSystem:Vd,WireframeGeometry:PU,WrapAroundEnding:Em,ZeroCurvatureEnding:iu,ZeroFactor:sF,ZeroSlopeEnding:su,ZeroStencilOp:bV,_SRGBAFormat:d_,createCanvasElement:rU,sRGBEncoding:ql},Symbol.toStringTag,{value:"Module"}));var rz={exports:{}},$u={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */$u.ConcurrentRoot=1;$u.ContinuousEventPriority=4;$u.DefaultEventPriority=16;$u.DiscreteEventPriority=1;$u.IdleEventPriority=536870912;$u.LegacyRoot=0;rz.exports=$u;var cd=rz.exports;function nJ(n){let e;const t=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const p=e;e=u?f:Object.assign({},e,f),t.forEach(m=>m(e,p))}},i=()=>e,s=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function m(){const g=u(e);if(!f(p,g)){const y=p;c(p=g,y)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(c,u,f)=>u||f?s(c,u,f):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const rJ=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),_I=rJ?O.useEffect:O.useLayoutEffect;function iJ(n){const e=typeof n=="function"?nJ(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=O.useReducer(_=>_+1,0),o=e.getState(),a=O.useRef(o),l=O.useRef(r),c=O.useRef(i),u=O.useRef(!1),f=O.useRef();f.current===void 0&&(f.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(p=r(o),m=!i(f.current,p)),_I(()=>{m&&(f.current=p),a.current=o,l.current=r,c.current=i,u.current=!1});const g=O.useRef(o);_I(()=>{const _=()=>{try{const x=e.getState(),b=l.current(x);c.current(f.current,b)||(a.current=x,f.current=b,s())}catch{u.current=!0,s()}},v=e.subscribe(_);return e.getState()!==g.current&&_(),v},[]);const y=m?p:f.current;return O.useDebugValue(y),y};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}var iz={exports:{}},sz={exports:{}},oz={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(F,X){var Y=F.length;F.push(X);e:for(;0<Y;){var te=Y-1>>>1,ee=F[te];if(0<i(ee,X))F[te]=X,F[Y]=ee,Y=te;else break e}}function t(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var X=F[0],Y=F.pop();if(Y!==X){F[0]=Y;e:for(var te=0,ee=F.length,J=ee>>>1;te<J;){var ne=2*(te+1)-1,ue=F[ne],Ae=ne+1,Re=F[Ae];if(0>i(ue,Y))Ae<ee&&0>i(Re,ue)?(F[te]=Re,F[Ae]=Y,te=Ae):(F[te]=ue,F[ne]=Y,te=ne);else if(Ae<ee&&0>i(Re,Y))F[te]=Re,F[Ae]=Y,te=Ae;else break e}}return X}function i(F,X){var Y=F.sortIndex-X.sortIndex;return Y!==0?Y:F.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,p=3,m=!1,g=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(F){for(var X=t(c);X!==null;){if(X.callback===null)r(c);else if(X.startTime<=F)r(c),X.sortIndex=X.expirationTime,e(l,X);else break;X=t(c)}}function A(F){if(y=!1,b(F),!g)if(t(l)!==null)g=!0,V(M);else{var X=t(c);X!==null&&$(A,X.startTime-F)}}function M(F,X){g=!1,y&&(y=!1,v(I),I=-1),m=!0;var Y=p;try{for(b(X),f=t(l);f!==null&&(!(f.expirationTime>X)||F&&!B());){var te=f.callback;if(typeof te=="function"){f.callback=null,p=f.priorityLevel;var ee=te(f.expirationTime<=X);X=n.unstable_now(),typeof ee=="function"?f.callback=ee:f===t(l)&&r(l),b(X)}else r(l);f=t(l)}if(f!==null)var J=!0;else{var ne=t(c);ne!==null&&$(A,ne.startTime-X),J=!1}return J}finally{f=null,p=Y,m=!1}}var E=!1,R=null,I=-1,T=5,P=-1;function B(){return!(n.unstable_now()-P<T)}function U(){if(R!==null){var F=n.unstable_now();P=F;var X=!0;try{X=R(!0,F)}finally{X?j():(E=!1,R=null)}}else E=!1}var j;if(typeof x=="function")j=function(){x(U)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,G=N.port2;N.port1.onmessage=U,j=function(){G.postMessage(null)}}else j=function(){_(U,0)};function V(F){R=F,E||(E=!0,j())}function $(F,X){I=_(function(){F(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){g||m||(g=!0,V(M))},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return p},n.unstable_getFirstCallbackNode=function(){return t(l)},n.unstable_next=function(F){switch(p){case 1:case 2:case 3:var X=3;break;default:X=p}var Y=p;p=X;try{return F()}finally{p=Y}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,X){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Y=p;p=F;try{return X()}finally{p=Y}},n.unstable_scheduleCallback=function(F,X,Y){var te=n.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?te+Y:te):Y=te,F){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=Y+ee,F={id:u++,callback:X,priorityLevel:F,startTime:Y,expirationTime:ee,sortIndex:-1},Y>te?(F.sortIndex=Y,e(c,F),t(l)===null&&F===t(c)&&(y?(v(I),I=-1):y=!0,$(A,Y-te))):(F.sortIndex=ee,e(l,F),g||m||(g=!0,V(M))),F},n.unstable_shouldYield=B,n.unstable_wrapCallback=function(F){var X=p;return function(){var Y=p;p=X;try{return F.apply(this,arguments)}finally{p=Y}}}})(oz);sz.exports=oz;var IE=sz.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sJ=function(e){var t={},r=O,i=IE,s=Object.assign;function o(d){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+d,S=1;S<arguments.length;S++)h+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.offscreen"),M=Symbol.iterator;function E(d){return d===null||typeof d!="object"?null:(d=M&&d[M]||d["@@iterator"],typeof d=="function"?d:null)}function R(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case f:return"StrictMode";case _:return"Suspense";case v:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case g:return(d.displayName||"Context")+".Consumer";case m:return(d._context.displayName||"Context")+".Provider";case y:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case x:return h=d.displayName||null,h!==null?h:R(d.type)||"Memo";case b:h=d._payload,d=d._init;try{return R(d(h))}catch{}}return null}function I(d){var h=d.type;switch(d.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=h.render,d=d.displayName||d.name||"",h.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return R(h);case 8:return h===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function T(d){var h=d,S=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,h.flags&4098&&(S=h.return),d=h.return;while(d)}return h.tag===3?S:null}function P(d){if(T(d)!==d)throw Error(o(188))}function B(d){var h=d.alternate;if(!h){if(h=T(d),h===null)throw Error(o(188));return h!==d?null:d}for(var S=d,w=h;;){var C=S.return;if(C===null)break;var L=C.alternate;if(L===null){if(w=C.return,w!==null){S=w;continue}break}if(C.child===L.child){for(L=C.child;L;){if(L===S)return P(C),d;if(L===w)return P(C),h;L=L.sibling}throw Error(o(188))}if(S.return!==w.return)S=C,w=L;else{for(var W=!1,re=C.child;re;){if(re===S){W=!0,S=C,w=L;break}if(re===w){W=!0,w=C,S=L;break}re=re.sibling}if(!W){for(re=L.child;re;){if(re===S){W=!0,S=L,w=C;break}if(re===w){W=!0,w=L,S=C;break}re=re.sibling}if(!W)throw Error(o(189))}}if(S.alternate!==w)throw Error(o(190))}if(S.tag!==3)throw Error(o(188));return S.stateNode.current===S?d:h}function U(d){return d=B(d),d!==null?j(d):null}function j(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var h=j(d);if(h!==null)return h;d=d.sibling}return null}function N(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var h=N(d);if(h!==null)return h}d=d.sibling}return null}var G=Array.isArray,V=e.getPublicInstance,$=e.getRootHostContext,F=e.getChildHostContext,X=e.prepareForCommit,Y=e.resetAfterCommit,te=e.createInstance,ee=e.appendInitialChild,J=e.finalizeInitialChildren,ne=e.prepareUpdate,ue=e.shouldSetTextContent,Ae=e.createTextInstance,Re=e.scheduleTimeout,Qe=e.cancelTimeout,Ve=e.noTimeout,Fe=e.isPrimaryRenderer,Le=e.supportsMutation,K=e.supportsPersistence,_e=e.supportsHydration,me=e.getInstanceFromNode,we=e.preparePortalMount,ve=e.getCurrentEventPriority,Xe=e.detachDeletedInstance,Ue=e.supportsMicrotasks,k=e.scheduleMicrotask,D=e.supportsTestSelectors,ie=e.findFiberRoot,Ee=e.getBoundingRect,oe=e.getTextContent,le=e.isHiddenSubtree,ke=e.matchAccessibilityRole,Te=e.setFocusIfFocusable,Ie=e.setupIntersectionObserver,Ze=e.appendChild,Pe=e.appendChildToContainer,be=e.commitTextUpdate,Et=e.commitMount,pt=e.commitUpdate,dt=e.insertBefore,ot=e.insertInContainerBefore,He=e.removeChild,Q=e.removeChildFromContainer,Se=e.resetTextContent,$e=e.hideInstance,Ke=e.hideTextInstance,Ce=e.unhideInstance,Z=e.unhideTextInstance,ze=e.clearContainer,We=e.cloneInstance,ht=e.createContainerChildSet,nt=e.appendChildToContainerChildSet,Bt=e.finalizeContainerChildren,Ut=e.replaceContainerChildren,nn=e.cloneHiddenInstance,dn=e.cloneHiddenTextInstance,Wt=e.canHydrateInstance,gr=e.canHydrateTextInstance,Ri=e.canHydrateSuspenseInstance,Ac=e.isSuspenseInstancePending,al=e.isSuspenseInstanceFallback,ll=e.registerSuspenseInstanceRetry,so=e.getNextHydratableSibling,Je=e.getFirstHydratableChild,lt=e.getFirstHydratableChildWithinContainer,yt=e.getFirstHydratableChildWithinSuspenseInstance,An=e.hydrateInstance,er=e.hydrateTextInstance,Ku=e.hydrateSuspenseInstance,H=e.getNextHydratableInstanceAfterSuspenseInstance,ae=e.commitHydratedContainer,de=e.commitHydratedSuspenseInstance,he=e.clearSuspenseBoundary,fe=e.clearSuspenseBoundaryFromContainer,et=e.shouldDeleteUnhydratedTailInstances,ut=e.didNotMatchHydratedContainerTextInstance,_t=e.didNotMatchHydratedTextInstance,St;function Mt(d){if(St===void 0)try{throw Error()}catch(S){var h=S.stack.trim().match(/\n( *(at )?)/);St=h&&h[1]||""}return`
`+St+d}var wt=!1;function Tt(d,h){if(!d||wt)return"";wt=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(Ne){var w=Ne}Reflect.construct(d,[],h)}else{try{h.call()}catch(Ne){w=Ne}d.call(h.prototype)}else{try{throw Error()}catch(Ne){w=Ne}d()}}catch(Ne){if(Ne&&w&&typeof Ne.stack=="string"){for(var C=Ne.stack.split(`
`),L=w.stack.split(`
`),W=C.length-1,re=L.length-1;1<=W&&0<=re&&C[W]!==L[re];)re--;for(;1<=W&&0<=re;W--,re--)if(C[W]!==L[re]){if(W!==1||re!==1)do if(W--,re--,0>re||C[W]!==L[re]){var ye=`
`+C[W].replace(" at new "," at ");return d.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",d.displayName)),ye}while(1<=W&&0<=re);break}}}finally{wt=!1,Error.prepareStackTrace=S}return(d=d?d.displayName||d.name:"")?Mt(d):""}var Pn=Object.prototype.hasOwnProperty,Fr=[],yn=-1;function Ar(d){return{current:d}}function bt(d){0>yn||(d.current=Fr[yn],Fr[yn]=null,yn--)}function rt(d,h){yn++,Fr[yn]=d.current,d.current=h}var Es={},Nt=Ar(Es),Wn=Ar(!1),Po=Es;function Ms(d,h){var S=d.type.contextTypes;if(!S)return Es;var w=d.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===h)return w.__reactInternalMemoizedMaskedChildContext;var C={},L;for(L in S)C[L]=h[L];return w&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=h,d.__reactInternalMemoizedMaskedChildContext=C),C}function wr(d){return d=d.childContextTypes,d!=null}function tr(){bt(Wn),bt(Nt)}function Oo(d,h,S){if(Nt.current!==Es)throw Error(o(168));rt(Nt,h),rt(Wn,S)}function Yu(d,h,S){var w=d.stateNode;if(h=h.childContextTypes,typeof w.getChildContext!="function")return S;w=w.getChildContext();for(var C in w)if(!(C in h))throw Error(o(108,I(d)||"Unknown",C));return s({},S,w)}function Ur(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Es,Po=Nt.current,rt(Nt,d),rt(Wn,Wn.current),!0}function Ju(d,h,S){var w=d.stateNode;if(!w)throw Error(o(169));S?(d=Yu(d,h,Po),w.__reactInternalMemoizedMergedChildContext=d,bt(Wn),bt(Nt),rt(Nt,d)):bt(Wn),rt(Wn,S)}var Ji=Math.clz32?Math.clz32:t9,Fg=Math.log,e9=Math.LN2;function t9(d){return d>>>=0,d===0?32:31-(Fg(d)/e9|0)|0}var Ug=64,zg=4194304;function Dh(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Hg(d,h){var S=d.pendingLanes;if(S===0)return 0;var w=0,C=d.suspendedLanes,L=d.pingedLanes,W=S&268435455;if(W!==0){var re=W&~C;re!==0?w=Dh(re):(L&=W,L!==0&&(w=Dh(L)))}else W=S&~C,W!==0?w=Dh(W):L!==0&&(w=Dh(L));if(w===0)return 0;if(h!==0&&h!==w&&!(h&C)&&(C=w&-w,L=h&-h,C>=L||C===16&&(L&4194240)!==0))return h;if(w&4&&(w|=S&16),h=d.entangledLanes,h!==0)for(d=d.entanglements,h&=w;0<h;)S=31-Ji(h),C=1<<S,w|=d[S],h&=~C;return w}function n9(d,h){switch(d){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r9(d,h){for(var S=d.suspendedLanes,w=d.pingedLanes,C=d.expirationTimes,L=d.pendingLanes;0<L;){var W=31-Ji(L),re=1<<W,ye=C[W];ye===-1?(!(re&S)||re&w)&&(C[W]=n9(re,h)):ye<=h&&(d.expiredLanes|=re),L&=~re}}function V1(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function W1(d){for(var h=[],S=0;31>S;S++)h.push(d);return h}function kh(d,h,S){d.pendingLanes|=h,h!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,h=31-Ji(h),d[h]=S}function i9(d,h){var S=d.pendingLanes&~h;d.pendingLanes=h,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=h,d.mutableReadLanes&=h,d.entangledLanes&=h,h=d.entanglements;var w=d.eventTimes;for(d=d.expirationTimes;0<S;){var C=31-Ji(S),L=1<<C;h[C]=0,w[C]=-1,d[C]=-1,S&=~L}}function $1(d,h){var S=d.entangledLanes|=h;for(d=d.entanglements;S;){var w=31-Ji(S),C=1<<w;C&h|d[w]&h&&(d[w]|=h),S&=~C}}var qt=0;function iP(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var j1=i.unstable_scheduleCallback,sP=i.unstable_cancelCallback,s9=i.unstable_shouldYield,o9=i.unstable_requestPaint,Er=i.unstable_now,X1=i.unstable_ImmediatePriority,a9=i.unstable_UserBlockingPriority,K1=i.unstable_NormalPriority,l9=i.unstable_IdlePriority,Gg=null,Lo=null;function c9(d){if(Lo&&typeof Lo.onCommitFiberRoot=="function")try{Lo.onCommitFiberRoot(Gg,d,void 0,(d.current.flags&128)===128)}catch{}}function u9(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var Io=typeof Object.is=="function"?Object.is:u9,ha=null,Vg=!1,Y1=!1;function oP(d){ha===null?ha=[d]:ha.push(d)}function f9(d){Vg=!0,oP(d)}function Bo(){if(!Y1&&ha!==null){Y1=!0;var d=0,h=qt;try{var S=ha;for(qt=1;d<S.length;d++){var w=S[d];do w=w(!0);while(w!==null)}ha=null,Vg=!1}catch(C){throw ha!==null&&(ha=ha.slice(d+1)),j1(X1,Bo),C}finally{qt=h,Y1=!1}}return null}var d9=a.ReactCurrentBatchConfig;function Wg(d,h){if(Io(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var S=Object.keys(d),w=Object.keys(h);if(S.length!==w.length)return!1;for(w=0;w<S.length;w++){var C=S[w];if(!Pn.call(h,C)||!Io(d[C],h[C]))return!1}return!0}function h9(d){switch(d.tag){case 5:return Mt(d.type);case 16:return Mt("Lazy");case 13:return Mt("Suspense");case 19:return Mt("SuspenseList");case 0:case 2:case 15:return d=Tt(d.type,!1),d;case 11:return d=Tt(d.type.render,!1),d;case 1:return d=Tt(d.type,!0),d;default:return""}}function oo(d,h){if(d&&d.defaultProps){h=s({},h),d=d.defaultProps;for(var S in d)h[S]===void 0&&(h[S]=d[S]);return h}return h}var $g=Ar(null),jg=null,qu=null,J1=null;function q1(){J1=qu=jg=null}function aP(d,h,S){Fe?(rt($g,h._currentValue),h._currentValue=S):(rt($g,h._currentValue2),h._currentValue2=S)}function Q1(d){var h=$g.current;bt($g),Fe?d._currentValue=h:d._currentValue2=h}function Z1(d,h,S){for(;d!==null;){var w=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,w!==null&&(w.childLanes|=h)):w!==null&&(w.childLanes&h)!==h&&(w.childLanes|=h),d===S)break;d=d.return}}function Qu(d,h){jg=d,J1=qu=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&h&&(Zi=!0),d.firstContext=null)}function Ts(d){var h=Fe?d._currentValue:d._currentValue2;if(J1!==d)if(d={context:d,memoizedValue:h,next:null},qu===null){if(jg===null)throw Error(o(308));qu=d,jg.dependencies={lanes:0,firstContext:d}}else qu=qu.next=d;return h}var Do=null,cl=!1;function eS(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lP(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function pa(d,h){return{eventTime:d,lane:h,tag:0,payload:null,callback:null,next:null}}function ul(d,h){var S=d.updateQueue;S!==null&&(S=S.shared,lr!==null&&d.mode&1&&!(Ft&2)?(d=S.interleaved,d===null?(h.next=h,Do===null?Do=[S]:Do.push(S)):(h.next=d.next,d.next=h),S.interleaved=h):(d=S.pending,d===null?h.next=h:(h.next=d.next,d.next=h),S.pending=h))}function Xg(d,h,S){if(h=h.updateQueue,h!==null&&(h=h.shared,(S&4194240)!==0)){var w=h.lanes;w&=d.pendingLanes,S|=w,h.lanes=S,$1(d,S)}}function cP(d,h){var S=d.updateQueue,w=d.alternate;if(w!==null&&(w=w.updateQueue,S===w)){var C=null,L=null;if(S=S.firstBaseUpdate,S!==null){do{var W={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};L===null?C=L=W:L=L.next=W,S=S.next}while(S!==null);L===null?C=L=h:L=L.next=h}else C=L=h;S={baseState:w.baseState,firstBaseUpdate:C,lastBaseUpdate:L,shared:w.shared,effects:w.effects},d.updateQueue=S;return}d=S.lastBaseUpdate,d===null?S.firstBaseUpdate=h:d.next=h,S.lastBaseUpdate=h}function Kg(d,h,S,w){var C=d.updateQueue;cl=!1;var L=C.firstBaseUpdate,W=C.lastBaseUpdate,re=C.shared.pending;if(re!==null){C.shared.pending=null;var ye=re,Ne=ye.next;ye.next=null,W===null?L=Ne:W.next=Ne,W=ye;var it=d.alternate;it!==null&&(it=it.updateQueue,re=it.lastBaseUpdate,re!==W&&(re===null?it.firstBaseUpdate=Ne:re.next=Ne,it.lastBaseUpdate=ye))}if(L!==null){var Ct=C.baseState;W=0,it=Ne=ye=null,re=L;do{var mt=re.lane,cn=re.eventTime;if((w&mt)===mt){it!==null&&(it=it.next={eventTime:cn,lane:0,tag:re.tag,payload:re.payload,callback:re.callback,next:null});e:{var ft=d,Jr=re;switch(mt=h,cn=S,Jr.tag){case 1:if(ft=Jr.payload,typeof ft=="function"){Ct=ft.call(cn,Ct,mt);break e}Ct=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=Jr.payload,mt=typeof ft=="function"?ft.call(cn,Ct,mt):ft,mt==null)break e;Ct=s({},Ct,mt);break e;case 2:cl=!0}}re.callback!==null&&re.lane!==0&&(d.flags|=64,mt=C.effects,mt===null?C.effects=[re]:mt.push(re))}else cn={eventTime:cn,lane:mt,tag:re.tag,payload:re.payload,callback:re.callback,next:null},it===null?(Ne=it=cn,ye=Ct):it=it.next=cn,W|=mt;if(re=re.next,re===null){if(re=C.shared.pending,re===null)break;mt=re,re=mt.next,mt.next=null,C.lastBaseUpdate=mt,C.shared.pending=null}}while(1);if(it===null&&(ye=Ct),C.baseState=ye,C.firstBaseUpdate=Ne,C.lastBaseUpdate=it,h=C.shared.interleaved,h!==null){C=h;do W|=C.lane,C=C.next;while(C!==h)}else L===null&&(C.shared.lanes=0);lf|=W,d.lanes=W,d.memoizedState=Ct}}function uP(d,h,S){if(d=h.effects,h.effects=null,d!==null)for(h=0;h<d.length;h++){var w=d[h],C=w.callback;if(C!==null){if(w.callback=null,w=S,typeof C!="function")throw Error(o(191,C));C.call(w)}}}var fP=new r.Component().refs;function tS(d,h,S,w){h=d.memoizedState,S=S(w,h),S=S==null?h:s({},h,S),d.memoizedState=S,d.lanes===0&&(d.updateQueue.baseState=S)}var Yg={isMounted:function(d){return(d=d._reactInternals)?T(d)===d:!1},enqueueSetState:function(d,h,S){d=d._reactInternals;var w=mi(),C=hl(d),L=pa(w,C);L.payload=h,S!=null&&(L.callback=S),ul(d,L),h=Ls(d,C,w),h!==null&&Xg(h,d,C)},enqueueReplaceState:function(d,h,S){d=d._reactInternals;var w=mi(),C=hl(d),L=pa(w,C);L.tag=1,L.payload=h,S!=null&&(L.callback=S),ul(d,L),h=Ls(d,C,w),h!==null&&Xg(h,d,C)},enqueueForceUpdate:function(d,h){d=d._reactInternals;var S=mi(),w=hl(d),C=pa(S,w);C.tag=2,h!=null&&(C.callback=h),ul(d,C),h=Ls(d,w,S),h!==null&&Xg(h,d,w)}};function dP(d,h,S,w,C,L,W){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(w,L,W):h.prototype&&h.prototype.isPureReactComponent?!Wg(S,w)||!Wg(C,L):!0}function hP(d,h,S){var w=!1,C=Es,L=h.contextType;return typeof L=="object"&&L!==null?L=Ts(L):(C=wr(h)?Po:Nt.current,w=h.contextTypes,L=(w=w!=null)?Ms(d,C):Es),h=new h(S,L),d.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Yg,d.stateNode=h,h._reactInternals=d,w&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=C,d.__reactInternalMemoizedMaskedChildContext=L),h}function pP(d,h,S,w){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(S,w),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(S,w),h.state!==d&&Yg.enqueueReplaceState(h,h.state,null)}function nS(d,h,S,w){var C=d.stateNode;C.props=S,C.state=d.memoizedState,C.refs=fP,eS(d);var L=h.contextType;typeof L=="object"&&L!==null?C.context=Ts(L):(L=wr(h)?Po:Nt.current,C.context=Ms(d,L)),C.state=d.memoizedState,L=h.getDerivedStateFromProps,typeof L=="function"&&(tS(d,h,L,S),C.state=d.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(h=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),h!==C.state&&Yg.enqueueReplaceState(C,C.state,null),Kg(d,S,C,w),C.state=d.memoizedState),typeof C.componentDidMount=="function"&&(d.flags|=4194308)}var Zu=[],ef=0,Jg=null,qg=0,Cs=[],Rs=0,wc=null,ma=1,ga="";function Ec(d,h){Zu[ef++]=qg,Zu[ef++]=Jg,Jg=d,qg=h}function mP(d,h,S){Cs[Rs++]=ma,Cs[Rs++]=ga,Cs[Rs++]=wc,wc=d;var w=ma;d=ga;var C=32-Ji(w)-1;w&=~(1<<C),S+=1;var L=32-Ji(h)+C;if(30<L){var W=C-C%5;L=(w&(1<<W)-1).toString(32),w>>=W,C-=W,ma=1<<32-Ji(h)+C|S<<C|w,ga=L+d}else ma=1<<L|S<<C|w,ga=d}function rS(d){d.return!==null&&(Ec(d,1),mP(d,1,0))}function iS(d){for(;d===Jg;)Jg=Zu[--ef],Zu[ef]=null,qg=Zu[--ef],Zu[ef]=null;for(;d===wc;)wc=Cs[--Rs],Cs[Rs]=null,ga=Cs[--Rs],Cs[Rs]=null,ma=Cs[--Rs],Cs[Rs]=null}var qi=null,Qi=null,wn=!1,Nh=!1,ao=null;function gP(d,h){var S=Is(5,null,null,0);S.elementType="DELETED",S.stateNode=h,S.return=d,h=d.deletions,h===null?(d.deletions=[S],d.flags|=16):h.push(S)}function vP(d,h){switch(d.tag){case 5:return h=Wt(h,d.type,d.pendingProps),h!==null?(d.stateNode=h,qi=d,Qi=Je(h),!0):!1;case 6:return h=gr(h,d.pendingProps),h!==null?(d.stateNode=h,qi=d,Qi=null,!0):!1;case 13:if(h=Ri(h),h!==null){var S=wc!==null?{id:ma,overflow:ga}:null;return d.memoizedState={dehydrated:h,treeContext:S,retryLane:1073741824},S=Is(18,null,null,0),S.stateNode=h,S.return=d,d.child=S,qi=d,Qi=null,!0}return!1;default:return!1}}function sS(d){return(d.mode&1)!==0&&(d.flags&128)===0}function oS(d){if(wn){var h=Qi;if(h){var S=h;if(!vP(d,h)){if(sS(d))throw Error(o(418));h=so(S);var w=qi;h&&vP(d,h)?gP(w,S):(d.flags=d.flags&-4097|2,wn=!1,qi=d)}}else{if(sS(d))throw Error(o(418));d.flags=d.flags&-4097|2,wn=!1,qi=d}}}function yP(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;qi=d}function Fh(d){if(!_e||d!==qi)return!1;if(!wn)return yP(d),wn=!0,!1;if(d.tag!==3&&(d.tag!==5||et(d.type)&&!ue(d.type,d.memoizedProps))){var h=Qi;if(h){if(sS(d)){for(d=Qi;d;)d=so(d);throw Error(o(418))}for(;h;)gP(d,h),h=so(h)}}if(yP(d),d.tag===13){if(!_e)throw Error(o(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));Qi=H(d)}else Qi=qi?so(d.stateNode):null;return!0}function tf(){_e&&(Qi=qi=null,Nh=wn=!1)}function aS(d){ao===null?ao=[d]:ao.push(d)}function Uh(d,h,S){if(d=S.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(o(309));var w=S.stateNode}if(!w)throw Error(o(147,d));var C=w,L=""+d;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===L?h.ref:(h=function(W){var re=C.refs;re===fP&&(re=C.refs={}),W===null?delete re[L]:re[L]=W},h._stringRef=L,h)}if(typeof d!="string")throw Error(o(284));if(!S._owner)throw Error(o(290,d))}return d}function Qg(d,h){throw d=Object.prototype.toString.call(h),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d))}function _P(d){var h=d._init;return h(d._payload)}function xP(d){function h(ce,se){if(d){var pe=ce.deletions;pe===null?(ce.deletions=[se],ce.flags|=16):pe.push(se)}}function S(ce,se){if(!d)return null;for(;se!==null;)h(ce,se),se=se.sibling;return null}function w(ce,se){for(ce=new Map;se!==null;)se.key!==null?ce.set(se.key,se):ce.set(se.index,se),se=se.sibling;return ce}function C(ce,se){return ce=ml(ce,se),ce.index=0,ce.sibling=null,ce}function L(ce,se,pe){return ce.index=pe,d?(pe=ce.alternate,pe!==null?(pe=pe.index,pe<se?(ce.flags|=2,se):pe):(ce.flags|=2,se)):(ce.flags|=1048576,se)}function W(ce){return d&&ce.alternate===null&&(ce.flags|=2),ce}function re(ce,se,pe,qe){return se===null||se.tag!==6?(se=WS(pe,ce.mode,qe),se.return=ce,se):(se=C(se,pe),se.return=ce,se)}function ye(ce,se,pe,qe){var ct=pe.type;return ct===u?it(ce,se,pe.props.children,qe,pe.key):se!==null&&(se.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&_P(ct)===se.type)?(qe=C(se,pe.props),qe.ref=Uh(ce,se,pe),qe.return=ce,qe):(qe=R0(pe.type,pe.key,pe.props,null,ce.mode,qe),qe.ref=Uh(ce,se,pe),qe.return=ce,qe)}function Ne(ce,se,pe,qe){return se===null||se.tag!==4||se.stateNode.containerInfo!==pe.containerInfo||se.stateNode.implementation!==pe.implementation?(se=$S(pe,ce.mode,qe),se.return=ce,se):(se=C(se,pe.children||[]),se.return=ce,se)}function it(ce,se,pe,qe,ct){return se===null||se.tag!==7?(se=Lc(pe,ce.mode,qe,ct),se.return=ce,se):(se=C(se,pe),se.return=ce,se)}function Ct(ce,se,pe){if(typeof se=="string"&&se!==""||typeof se=="number")return se=WS(""+se,ce.mode,pe),se.return=ce,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case l:return pe=R0(se.type,se.key,se.props,null,ce.mode,pe),pe.ref=Uh(ce,null,se),pe.return=ce,pe;case c:return se=$S(se,ce.mode,pe),se.return=ce,se;case b:var qe=se._init;return Ct(ce,qe(se._payload),pe)}if(G(se)||E(se))return se=Lc(se,ce.mode,pe,null),se.return=ce,se;Qg(ce,se)}return null}function mt(ce,se,pe,qe){var ct=se!==null?se.key:null;if(typeof pe=="string"&&pe!==""||typeof pe=="number")return ct!==null?null:re(ce,se,""+pe,qe);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case l:return pe.key===ct?ye(ce,se,pe,qe):null;case c:return pe.key===ct?Ne(ce,se,pe,qe):null;case b:return ct=pe._init,mt(ce,se,ct(pe._payload),qe)}if(G(pe)||E(pe))return ct!==null?null:it(ce,se,pe,qe,null);Qg(ce,pe)}return null}function cn(ce,se,pe,qe,ct){if(typeof qe=="string"&&qe!==""||typeof qe=="number")return ce=ce.get(pe)||null,re(se,ce,""+qe,ct);if(typeof qe=="object"&&qe!==null){switch(qe.$$typeof){case l:return ce=ce.get(qe.key===null?pe:qe.key)||null,ye(se,ce,qe,ct);case c:return ce=ce.get(qe.key===null?pe:qe.key)||null,Ne(se,ce,qe,ct);case b:var Dt=qe._init;return cn(ce,se,pe,Dt(qe._payload),ct)}if(G(qe)||E(qe))return ce=ce.get(pe)||null,it(se,ce,qe,ct,null);Qg(se,qe)}return null}function ft(ce,se,pe,qe){for(var ct=null,Dt=null,Rt=se,Qt=se=0,Tr=null;Rt!==null&&Qt<pe.length;Qt++){Rt.index>Qt?(Tr=Rt,Rt=null):Tr=Rt.sibling;var Zt=mt(ce,Rt,pe[Qt],qe);if(Zt===null){Rt===null&&(Rt=Tr);break}d&&Rt&&Zt.alternate===null&&h(ce,Rt),se=L(Zt,se,Qt),Dt===null?ct=Zt:Dt.sibling=Zt,Dt=Zt,Rt=Tr}if(Qt===pe.length)return S(ce,Rt),wn&&Ec(ce,Qt),ct;if(Rt===null){for(;Qt<pe.length;Qt++)Rt=Ct(ce,pe[Qt],qe),Rt!==null&&(se=L(Rt,se,Qt),Dt===null?ct=Rt:Dt.sibling=Rt,Dt=Rt);return wn&&Ec(ce,Qt),ct}for(Rt=w(ce,Rt);Qt<pe.length;Qt++)Tr=cn(Rt,ce,Qt,pe[Qt],qe),Tr!==null&&(d&&Tr.alternate!==null&&Rt.delete(Tr.key===null?Qt:Tr.key),se=L(Tr,se,Qt),Dt===null?ct=Tr:Dt.sibling=Tr,Dt=Tr);return d&&Rt.forEach(function(gl){return h(ce,gl)}),wn&&Ec(ce,Qt),ct}function Jr(ce,se,pe,qe){var ct=E(pe);if(typeof ct!="function")throw Error(o(150));if(pe=ct.call(pe),pe==null)throw Error(o(151));for(var Dt=ct=null,Rt=se,Qt=se=0,Tr=null,Zt=pe.next();Rt!==null&&!Zt.done;Qt++,Zt=pe.next()){Rt.index>Qt?(Tr=Rt,Rt=null):Tr=Rt.sibling;var gl=mt(ce,Rt,Zt.value,qe);if(gl===null){Rt===null&&(Rt=Tr);break}d&&Rt&&gl.alternate===null&&h(ce,Rt),se=L(gl,se,Qt),Dt===null?ct=gl:Dt.sibling=gl,Dt=gl,Rt=Tr}if(Zt.done)return S(ce,Rt),wn&&Ec(ce,Qt),ct;if(Rt===null){for(;!Zt.done;Qt++,Zt=pe.next())Zt=Ct(ce,Zt.value,qe),Zt!==null&&(se=L(Zt,se,Qt),Dt===null?ct=Zt:Dt.sibling=Zt,Dt=Zt);return wn&&Ec(ce,Qt),ct}for(Rt=w(ce,Rt);!Zt.done;Qt++,Zt=pe.next())Zt=cn(Rt,ce,Qt,Zt.value,qe),Zt!==null&&(d&&Zt.alternate!==null&&Rt.delete(Zt.key===null?Qt:Zt.key),se=L(Zt,se,Qt),Dt===null?ct=Zt:Dt.sibling=Zt,Dt=Zt);return d&&Rt.forEach(function(V9){return h(ce,V9)}),wn&&Ec(ce,Qt),ct}function Bs(ce,se,pe,qe){if(typeof pe=="object"&&pe!==null&&pe.type===u&&pe.key===null&&(pe=pe.props.children),typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case l:e:{for(var ct=pe.key,Dt=se;Dt!==null;){if(Dt.key===ct){if(ct=pe.type,ct===u){if(Dt.tag===7){S(ce,Dt.sibling),se=C(Dt,pe.props.children),se.return=ce,ce=se;break e}}else if(Dt.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===b&&_P(ct)===Dt.type){S(ce,Dt.sibling),se=C(Dt,pe.props),se.ref=Uh(ce,Dt,pe),se.return=ce,ce=se;break e}S(ce,Dt);break}else h(ce,Dt);Dt=Dt.sibling}pe.type===u?(se=Lc(pe.props.children,ce.mode,qe,pe.key),se.return=ce,ce=se):(qe=R0(pe.type,pe.key,pe.props,null,ce.mode,qe),qe.ref=Uh(ce,se,pe),qe.return=ce,ce=qe)}return W(ce);case c:e:{for(Dt=pe.key;se!==null;){if(se.key===Dt)if(se.tag===4&&se.stateNode.containerInfo===pe.containerInfo&&se.stateNode.implementation===pe.implementation){S(ce,se.sibling),se=C(se,pe.children||[]),se.return=ce,ce=se;break e}else{S(ce,se);break}else h(ce,se);se=se.sibling}se=$S(pe,ce.mode,qe),se.return=ce,ce=se}return W(ce);case b:return Dt=pe._init,Bs(ce,se,Dt(pe._payload),qe)}if(G(pe))return ft(ce,se,pe,qe);if(E(pe))return Jr(ce,se,pe,qe);Qg(ce,pe)}return typeof pe=="string"&&pe!==""||typeof pe=="number"?(pe=""+pe,se!==null&&se.tag===6?(S(ce,se.sibling),se=C(se,pe),se.return=ce,ce=se):(S(ce,se),se=WS(pe,ce.mode,qe),se.return=ce,ce=se),W(ce)):S(ce,se)}return Bs}var nf=xP(!0),SP=xP(!1),zh={},Ps=Ar(zh),Hh=Ar(zh),rf=Ar(zh);function ko(d){if(d===zh)throw Error(o(174));return d}function lS(d,h){rt(rf,h),rt(Hh,d),rt(Ps,zh),d=$(h),bt(Ps),rt(Ps,d)}function sf(){bt(Ps),bt(Hh),bt(rf)}function bP(d){var h=ko(rf.current),S=ko(Ps.current);h=F(S,d.type,h),S!==h&&(rt(Hh,d),rt(Ps,h))}function cS(d){Hh.current===d&&(bt(Ps),bt(Hh))}var On=Ar(0);function Zg(d){for(var h=d;h!==null;){if(h.tag===13){var S=h.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||Ac(S)||al(S)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var uS=[];function fS(){for(var d=0;d<uS.length;d++){var h=uS[d];Fe?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}uS.length=0}var e0=a.ReactCurrentDispatcher,Os=a.ReactCurrentBatchConfig,of=0,$n=null,Xr=null,Mr=null,t0=!1,Gh=!1,Vh=0,p9=0;function Kr(){throw Error(o(321))}function dS(d,h){if(h===null)return!1;for(var S=0;S<h.length&&S<d.length;S++)if(!Io(d[S],h[S]))return!1;return!0}function hS(d,h,S,w,C,L){if(of=L,$n=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,e0.current=d===null||d.memoizedState===null?y9:_9,d=S(w,C),Gh){L=0;do{if(Gh=!1,Vh=0,25<=L)throw Error(o(301));L+=1,Mr=Xr=null,h.updateQueue=null,e0.current=x9,d=S(w,C)}while(Gh)}if(e0.current=o0,h=Xr!==null&&Xr.next!==null,of=0,Mr=Xr=$n=null,t0=!1,h)throw Error(o(300));return d}function pS(){var d=Vh!==0;return Vh=0,d}function va(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mr===null?$n.memoizedState=Mr=d:Mr=Mr.next=d,Mr}function No(){if(Xr===null){var d=$n.alternate;d=d!==null?d.memoizedState:null}else d=Xr.next;var h=Mr===null?$n.memoizedState:Mr.next;if(h!==null)Mr=h,Xr=d;else{if(d===null)throw Error(o(310));Xr=d,d={memoizedState:Xr.memoizedState,baseState:Xr.baseState,baseQueue:Xr.baseQueue,queue:Xr.queue,next:null},Mr===null?$n.memoizedState=Mr=d:Mr=Mr.next=d}return Mr}function Mc(d,h){return typeof h=="function"?h(d):h}function n0(d){var h=No(),S=h.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=d;var w=Xr,C=w.baseQueue,L=S.pending;if(L!==null){if(C!==null){var W=C.next;C.next=L.next,L.next=W}w.baseQueue=C=L,S.pending=null}if(C!==null){L=C.next,w=w.baseState;var re=W=null,ye=null,Ne=L;do{var it=Ne.lane;if((of&it)===it)ye!==null&&(ye=ye.next={lane:0,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null}),w=Ne.hasEagerState?Ne.eagerState:d(w,Ne.action);else{var Ct={lane:it,action:Ne.action,hasEagerState:Ne.hasEagerState,eagerState:Ne.eagerState,next:null};ye===null?(re=ye=Ct,W=w):ye=ye.next=Ct,$n.lanes|=it,lf|=it}Ne=Ne.next}while(Ne!==null&&Ne!==L);ye===null?W=w:ye.next=re,Io(w,h.memoizedState)||(Zi=!0),h.memoizedState=w,h.baseState=W,h.baseQueue=ye,S.lastRenderedState=w}if(d=S.interleaved,d!==null){C=d;do L=C.lane,$n.lanes|=L,lf|=L,C=C.next;while(C!==d)}else C===null&&(S.lanes=0);return[h.memoizedState,S.dispatch]}function r0(d){var h=No(),S=h.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=d;var w=S.dispatch,C=S.pending,L=h.memoizedState;if(C!==null){S.pending=null;var W=C=C.next;do L=d(L,W.action),W=W.next;while(W!==C);Io(L,h.memoizedState)||(Zi=!0),h.memoizedState=L,h.baseQueue===null&&(h.baseState=L),S.lastRenderedState=L}return[L,w]}function AP(){}function wP(d,h){var S=$n,w=No(),C=h(),L=!Io(w.memoizedState,C);if(L&&(w.memoizedState=C,Zi=!0),w=w.queue,$h(TP.bind(null,S,w,d),[d]),w.getSnapshot!==h||L||Mr!==null&&Mr.memoizedState.tag&1){if(S.flags|=2048,Wh(9,MP.bind(null,S,w,C,h),void 0,null),lr===null)throw Error(o(349));of&30||EP(S,h,C)}return C}function EP(d,h,S){d.flags|=16384,d={getSnapshot:h,value:S},h=$n.updateQueue,h===null?(h={lastEffect:null,stores:null},$n.updateQueue=h,h.stores=[d]):(S=h.stores,S===null?h.stores=[d]:S.push(d))}function MP(d,h,S,w){h.value=S,h.getSnapshot=w,CP(h)&&Ls(d,1,-1)}function TP(d,h,S){return S(function(){CP(h)&&Ls(d,1,-1)})}function CP(d){var h=d.getSnapshot;d=d.value;try{var S=h();return!Io(d,S)}catch{return!0}}function mS(d){var h=va();return typeof d=="function"&&(d=d()),h.memoizedState=h.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Mc,lastRenderedState:d},h.queue=d,d=d.dispatch=v9.bind(null,$n,d),[h.memoizedState,d]}function Wh(d,h,S,w){return d={tag:d,create:h,destroy:S,deps:w,next:null},h=$n.updateQueue,h===null?(h={lastEffect:null,stores:null},$n.updateQueue=h,h.lastEffect=d.next=d):(S=h.lastEffect,S===null?h.lastEffect=d.next=d:(w=S.next,S.next=d,d.next=w,h.lastEffect=d)),d}function RP(){return No().memoizedState}function i0(d,h,S,w){var C=va();$n.flags|=d,C.memoizedState=Wh(1|h,S,void 0,w===void 0?null:w)}function s0(d,h,S,w){var C=No();w=w===void 0?null:w;var L=void 0;if(Xr!==null){var W=Xr.memoizedState;if(L=W.destroy,w!==null&&dS(w,W.deps)){C.memoizedState=Wh(h,S,L,w);return}}$n.flags|=d,C.memoizedState=Wh(1|h,S,L,w)}function gS(d,h){return i0(8390656,8,d,h)}function $h(d,h){return s0(2048,8,d,h)}function PP(d,h){return s0(4,2,d,h)}function OP(d,h){return s0(4,4,d,h)}function LP(d,h){if(typeof h=="function")return d=d(),h(d),function(){h(null)};if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function IP(d,h,S){return S=S!=null?S.concat([d]):null,s0(4,4,LP.bind(null,h,d),S)}function vS(){}function BP(d,h){var S=No();h=h===void 0?null:h;var w=S.memoizedState;return w!==null&&h!==null&&dS(h,w[1])?w[0]:(S.memoizedState=[d,h],d)}function DP(d,h){var S=No();h=h===void 0?null:h;var w=S.memoizedState;return w!==null&&h!==null&&dS(h,w[1])?w[0]:(d=d(),S.memoizedState=[d,h],d)}function m9(d,h){var S=qt;qt=S!==0&&4>S?S:4,d(!0);var w=Os.transition;Os.transition={};try{d(!1),h()}finally{qt=S,Os.transition=w}}function kP(){return No().memoizedState}function g9(d,h,S){var w=hl(d);S={lane:w,action:S,hasEagerState:!1,eagerState:null,next:null},NP(d)?FP(h,S):(UP(d,h,S),S=mi(),d=Ls(d,w,S),d!==null&&zP(d,h,w))}function v9(d,h,S){var w=hl(d),C={lane:w,action:S,hasEagerState:!1,eagerState:null,next:null};if(NP(d))FP(h,C);else{UP(d,h,C);var L=d.alternate;if(d.lanes===0&&(L===null||L.lanes===0)&&(L=h.lastRenderedReducer,L!==null))try{var W=h.lastRenderedState,re=L(W,S);if(C.hasEagerState=!0,C.eagerState=re,Io(re,W))return}catch{}finally{}S=mi(),d=Ls(d,w,S),d!==null&&zP(d,h,w)}}function NP(d){var h=d.alternate;return d===$n||h!==null&&h===$n}function FP(d,h){Gh=t0=!0;var S=d.pending;S===null?h.next=h:(h.next=S.next,S.next=h),d.pending=h}function UP(d,h,S){lr!==null&&d.mode&1&&!(Ft&2)?(d=h.interleaved,d===null?(S.next=S,Do===null?Do=[h]:Do.push(h)):(S.next=d.next,d.next=S),h.interleaved=S):(d=h.pending,d===null?S.next=S:(S.next=d.next,d.next=S),h.pending=S)}function zP(d,h,S){if(S&4194240){var w=h.lanes;w&=d.pendingLanes,S|=w,h.lanes=S,$1(d,S)}}var o0={readContext:Ts,useCallback:Kr,useContext:Kr,useEffect:Kr,useImperativeHandle:Kr,useInsertionEffect:Kr,useLayoutEffect:Kr,useMemo:Kr,useReducer:Kr,useRef:Kr,useState:Kr,useDebugValue:Kr,useDeferredValue:Kr,useTransition:Kr,useMutableSource:Kr,useSyncExternalStore:Kr,useId:Kr,unstable_isNewReconciler:!1},y9={readContext:Ts,useCallback:function(d,h){return va().memoizedState=[d,h===void 0?null:h],d},useContext:Ts,useEffect:gS,useImperativeHandle:function(d,h,S){return S=S!=null?S.concat([d]):null,i0(4194308,4,LP.bind(null,h,d),S)},useLayoutEffect:function(d,h){return i0(4194308,4,d,h)},useInsertionEffect:function(d,h){return i0(4,2,d,h)},useMemo:function(d,h){var S=va();return h=h===void 0?null:h,d=d(),S.memoizedState=[d,h],d},useReducer:function(d,h,S){var w=va();return h=S!==void 0?S(h):h,w.memoizedState=w.baseState=h,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:h},w.queue=d,d=d.dispatch=g9.bind(null,$n,d),[w.memoizedState,d]},useRef:function(d){var h=va();return d={current:d},h.memoizedState=d},useState:mS,useDebugValue:vS,useDeferredValue:function(d){var h=mS(d),S=h[0],w=h[1];return gS(function(){var C=Os.transition;Os.transition={};try{w(d)}finally{Os.transition=C}},[d]),S},useTransition:function(){var d=mS(!1),h=d[0];return d=m9.bind(null,d[1]),va().memoizedState=d,[h,d]},useMutableSource:function(){},useSyncExternalStore:function(d,h,S){var w=$n,C=va();if(wn){if(S===void 0)throw Error(o(407));S=S()}else{if(S=h(),lr===null)throw Error(o(349));of&30||EP(w,h,S)}C.memoizedState=S;var L={value:S,getSnapshot:h};return C.queue=L,gS(TP.bind(null,w,L,d),[d]),w.flags|=2048,Wh(9,MP.bind(null,w,L,S,h),void 0,null),S},useId:function(){var d=va(),h=lr.identifierPrefix;if(wn){var S=ga,w=ma;S=(w&~(1<<32-Ji(w)-1)).toString(32)+S,h=":"+h+"R"+S,S=Vh++,0<S&&(h+="H"+S.toString(32)),h+=":"}else S=p9++,h=":"+h+"r"+S.toString(32)+":";return d.memoizedState=h},unstable_isNewReconciler:!1},_9={readContext:Ts,useCallback:BP,useContext:Ts,useEffect:$h,useImperativeHandle:IP,useInsertionEffect:PP,useLayoutEffect:OP,useMemo:DP,useReducer:n0,useRef:RP,useState:function(){return n0(Mc)},useDebugValue:vS,useDeferredValue:function(d){var h=n0(Mc),S=h[0],w=h[1];return $h(function(){var C=Os.transition;Os.transition={};try{w(d)}finally{Os.transition=C}},[d]),S},useTransition:function(){var d=n0(Mc)[0],h=No().memoizedState;return[d,h]},useMutableSource:AP,useSyncExternalStore:wP,useId:kP,unstable_isNewReconciler:!1},x9={readContext:Ts,useCallback:BP,useContext:Ts,useEffect:$h,useImperativeHandle:IP,useInsertionEffect:PP,useLayoutEffect:OP,useMemo:DP,useReducer:r0,useRef:RP,useState:function(){return r0(Mc)},useDebugValue:vS,useDeferredValue:function(d){var h=r0(Mc),S=h[0],w=h[1];return $h(function(){var C=Os.transition;Os.transition={};try{w(d)}finally{Os.transition=C}},[d]),S},useTransition:function(){var d=r0(Mc)[0],h=No().memoizedState;return[d,h]},useMutableSource:AP,useSyncExternalStore:wP,useId:kP,unstable_isNewReconciler:!1};function yS(d,h){try{var S="",w=h;do S+=h9(w),w=w.return;while(w);var C=S}catch(L){C=`
Error generating stack: `+L.message+`
`+L.stack}return{value:d,source:h,stack:C}}function _S(d,h){try{console.error(h.value)}catch(S){setTimeout(function(){throw S})}}var S9=typeof WeakMap=="function"?WeakMap:Map;function HP(d,h,S){S=pa(-1,S),S.tag=3,S.payload={element:null};var w=h.value;return S.callback=function(){b0||(b0=!0,NS=w),_S(d,h)},S}function GP(d,h,S){S=pa(-1,S),S.tag=3;var w=d.type.getDerivedStateFromError;if(typeof w=="function"){var C=h.value;S.payload=function(){return w(C)},S.callback=function(){_S(d,h)}}var L=d.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(S.callback=function(){_S(d,h),typeof w!="function"&&(fl===null?fl=new Set([this]):fl.add(this));var W=h.stack;this.componentDidCatch(h.value,{componentStack:W!==null?W:""})}),S}function VP(d,h,S){var w=d.pingCache;if(w===null){w=d.pingCache=new S9;var C=new Set;w.set(h,C)}else C=w.get(h),C===void 0&&(C=new Set,w.set(h,C));C.has(S)||(C.add(S),d=D9.bind(null,d,h,S),h.then(d,d))}function WP(d){do{var h;if((h=d.tag===13)&&(h=d.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return d;d=d.return}while(d!==null);return null}function $P(d,h,S,w,C){return d.mode&1?(d.flags|=65536,d.lanes=C,d):(d===h?d.flags|=65536:(d.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(h=pa(-1,1),h.tag=2,ul(S,h))),S.lanes|=1),d)}function Fo(d){d.flags|=4}function jP(d,h){if(d!==null&&d.child===h.child)return!0;if(h.flags&16)return!1;for(d=h.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var jh,Xh,a0,l0;if(Le)jh=function(d,h){for(var S=h.child;S!==null;){if(S.tag===5||S.tag===6)ee(d,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===h)break;for(;S.sibling===null;){if(S.return===null||S.return===h)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},Xh=function(){},a0=function(d,h,S,w,C){if(d=d.memoizedProps,d!==w){var L=h.stateNode,W=ko(Ps.current);S=ne(L,S,d,w,C,W),(h.updateQueue=S)&&Fo(h)}},l0=function(d,h,S,w){S!==w&&Fo(h)};else if(K){jh=function(d,h,S,w){for(var C=h.child;C!==null;){if(C.tag===5){var L=C.stateNode;S&&w&&(L=nn(L,C.type,C.memoizedProps,C)),ee(d,L)}else if(C.tag===6)L=C.stateNode,S&&w&&(L=dn(L,C.memoizedProps,C)),ee(d,L);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)L=C.child,L!==null&&(L.return=C),jh(d,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===h)break;for(;C.sibling===null;){if(C.return===null||C.return===h)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};var XP=function(d,h,S,w){for(var C=h.child;C!==null;){if(C.tag===5){var L=C.stateNode;S&&w&&(L=nn(L,C.type,C.memoizedProps,C)),nt(d,L)}else if(C.tag===6)L=C.stateNode,S&&w&&(L=dn(L,C.memoizedProps,C)),nt(d,L);else if(C.tag!==4){if(C.tag===22&&C.memoizedState!==null)L=C.child,L!==null&&(L.return=C),XP(d,C,!0,!0);else if(C.child!==null){C.child.return=C,C=C.child;continue}}if(C===h)break;for(;C.sibling===null;){if(C.return===null||C.return===h)return;C=C.return}C.sibling.return=C.return,C=C.sibling}};Xh=function(d,h){var S=h.stateNode;if(!jP(d,h)){d=S.containerInfo;var w=ht(d);XP(w,h,!1,!1),S.pendingChildren=w,Fo(h),Bt(d,w)}},a0=function(d,h,S,w,C){var L=d.stateNode,W=d.memoizedProps;if((d=jP(d,h))&&W===w)h.stateNode=L;else{var re=h.stateNode,ye=ko(Ps.current),Ne=null;W!==w&&(Ne=ne(re,S,W,w,C,ye)),d&&Ne===null?h.stateNode=L:(L=We(L,Ne,S,W,w,h,d,re),J(L,S,w,C,ye)&&Fo(h),h.stateNode=L,d?Fo(h):jh(L,h,!1,!1))}},l0=function(d,h,S,w){S!==w?(d=ko(rf.current),S=ko(Ps.current),h.stateNode=Ae(w,d,S,h),Fo(h)):h.stateNode=d.stateNode}}else Xh=function(){},a0=function(){},l0=function(){};function Kh(d,h){if(!wn)switch(d.tailMode){case"hidden":h=d.tail;for(var S=null;h!==null;)h.alternate!==null&&(S=h),h=h.sibling;S===null?d.tail=null:S.sibling=null;break;case"collapsed":S=d.tail;for(var w=null;S!==null;)S.alternate!==null&&(w=S),S=S.sibling;w===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:w.sibling=null}}function Yr(d){var h=d.alternate!==null&&d.alternate.child===d.child,S=0,w=0;if(h)for(var C=d.child;C!==null;)S|=C.lanes|C.childLanes,w|=C.subtreeFlags&14680064,w|=C.flags&14680064,C.return=d,C=C.sibling;else for(C=d.child;C!==null;)S|=C.lanes|C.childLanes,w|=C.subtreeFlags,w|=C.flags,C.return=d,C=C.sibling;return d.subtreeFlags|=w,d.childLanes=S,h}function b9(d,h,S){var w=h.pendingProps;switch(iS(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yr(h),null;case 1:return wr(h.type)&&tr(),Yr(h),null;case 3:return w=h.stateNode,sf(),bt(Wn),bt(Nt),fS(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(d===null||d.child===null)&&(Fh(h)?Fo(h):d===null||d.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,ao!==null&&(zS(ao),ao=null))),Xh(d,h),Yr(h),null;case 5:cS(h),S=ko(rf.current);var C=h.type;if(d!==null&&h.stateNode!=null)a0(d,h,C,w,S),d.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!w){if(h.stateNode===null)throw Error(o(166));return Yr(h),null}if(d=ko(Ps.current),Fh(h)){if(!_e)throw Error(o(175));d=An(h.stateNode,h.type,h.memoizedProps,S,d,h,!Nh),h.updateQueue=d,d!==null&&Fo(h)}else{var L=te(C,w,S,d,h);jh(L,h,!1,!1),h.stateNode=L,J(L,C,w,S,d)&&Fo(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Yr(h),null;case 6:if(d&&h.stateNode!=null)l0(d,h,d.memoizedProps,w);else{if(typeof w!="string"&&h.stateNode===null)throw Error(o(166));if(d=ko(rf.current),S=ko(Ps.current),Fh(h)){if(!_e)throw Error(o(176));if(d=h.stateNode,w=h.memoizedProps,(S=er(d,w,h,!Nh))&&(C=qi,C!==null))switch(L=(C.mode&1)!==0,C.tag){case 3:ut(C.stateNode.containerInfo,d,w,L);break;case 5:_t(C.type,C.memoizedProps,C.stateNode,d,w,L)}S&&Fo(h)}else h.stateNode=Ae(w,d,S,h)}return Yr(h),null;case 13:if(bt(On),w=h.memoizedState,wn&&Qi!==null&&h.mode&1&&!(h.flags&128)){for(d=Qi;d;)d=so(d);return tf(),h.flags|=98560,h}if(w!==null&&w.dehydrated!==null){if(w=Fh(h),d===null){if(!w)throw Error(o(318));if(!_e)throw Error(o(344));if(d=h.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));Ku(d,h)}else tf(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return Yr(h),null}return ao!==null&&(zS(ao),ao=null),h.flags&128?(h.lanes=S,h):(w=w!==null,S=!1,d===null?Fh(h):S=d.memoizedState!==null,w&&!S&&(h.child.flags|=8192,h.mode&1&&(d===null||On.current&1?vr===0&&(vr=3):GS())),h.updateQueue!==null&&(h.flags|=4),Yr(h),null);case 4:return sf(),Xh(d,h),d===null&&we(h.stateNode.containerInfo),Yr(h),null;case 10:return Q1(h.type._context),Yr(h),null;case 17:return wr(h.type)&&tr(),Yr(h),null;case 19:if(bt(On),C=h.memoizedState,C===null)return Yr(h),null;if(w=(h.flags&128)!==0,L=C.rendering,L===null)if(w)Kh(C,!1);else{if(vr!==0||d!==null&&d.flags&128)for(d=h.child;d!==null;){if(L=Zg(d),L!==null){for(h.flags|=128,Kh(C,!1),d=L.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),h.subtreeFlags=0,d=S,w=h.child;w!==null;)S=w,C=d,S.flags&=14680066,L=S.alternate,L===null?(S.childLanes=0,S.lanes=C,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=L.childLanes,S.lanes=L.lanes,S.child=L.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=L.memoizedProps,S.memoizedState=L.memoizedState,S.updateQueue=L.updateQueue,S.type=L.type,C=L.dependencies,S.dependencies=C===null?null:{lanes:C.lanes,firstContext:C.firstContext}),w=w.sibling;return rt(On,On.current&1|2),h.child}d=d.sibling}C.tail!==null&&Er()>kS&&(h.flags|=128,w=!0,Kh(C,!1),h.lanes=4194304)}else{if(!w)if(d=Zg(L),d!==null){if(h.flags|=128,w=!0,d=d.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),Kh(C,!0),C.tail===null&&C.tailMode==="hidden"&&!L.alternate&&!wn)return Yr(h),null}else 2*Er()-C.renderingStartTime>kS&&S!==1073741824&&(h.flags|=128,w=!0,Kh(C,!1),h.lanes=4194304);C.isBackwards?(L.sibling=h.child,h.child=L):(d=C.last,d!==null?d.sibling=L:h.child=L,C.last=L)}return C.tail!==null?(h=C.tail,C.rendering=h,C.tail=h.sibling,C.renderingStartTime=Er(),h.sibling=null,d=On.current,rt(On,w?d&1|2:d&1),h):(Yr(h),null);case 22:case 23:return HS(),w=h.memoizedState!==null,d!==null&&d.memoizedState!==null!==w&&(h.flags|=8192),w&&h.mode&1?es&1073741824&&(Yr(h),Le&&h.subtreeFlags&6&&(h.flags|=8192)):Yr(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}var A9=a.ReactCurrentOwner,Zi=!1;function pi(d,h,S,w){h.child=d===null?SP(h,null,S,w):nf(h,d.child,S,w)}function KP(d,h,S,w,C){S=S.render;var L=h.ref;return Qu(h,C),w=hS(d,h,S,w,L,C),S=pS(),d!==null&&!Zi?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~C,ya(d,h,C)):(wn&&S&&rS(h),h.flags|=1,pi(d,h,w,C),h.child)}function YP(d,h,S,w,C){if(d===null){var L=S.type;return typeof L=="function"&&!VS(L)&&L.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(h.tag=15,h.type=L,JP(d,h,L,w,C)):(d=R0(S.type,null,w,h,h.mode,C),d.ref=h.ref,d.return=h,h.child=d)}if(L=d.child,!(d.lanes&C)){var W=L.memoizedProps;if(S=S.compare,S=S!==null?S:Wg,S(W,w)&&d.ref===h.ref)return ya(d,h,C)}return h.flags|=1,d=ml(L,w),d.ref=h.ref,d.return=h,h.child=d}function JP(d,h,S,w,C){if(d!==null&&Wg(d.memoizedProps,w)&&d.ref===h.ref)if(Zi=!1,(d.lanes&C)!==0)d.flags&131072&&(Zi=!0);else return h.lanes=d.lanes,ya(d,h,C);return xS(d,h,S,w,C)}function qP(d,h,S){var w=h.pendingProps,C=w.children,L=d!==null?d.memoizedState:null;if(w.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},rt(af,es),es|=S;else if(S&1073741824)h.memoizedState={baseLanes:0,cachePool:null},w=L!==null?L.baseLanes:S,rt(af,es),es|=w;else return d=L!==null?L.baseLanes|S:S,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:d,cachePool:null},h.updateQueue=null,rt(af,es),es|=d,null;else L!==null?(w=L.baseLanes|S,h.memoizedState=null):w=S,rt(af,es),es|=w;return pi(d,h,C,S),h.child}function QP(d,h){var S=h.ref;(d===null&&S!==null||d!==null&&d.ref!==S)&&(h.flags|=512,h.flags|=2097152)}function xS(d,h,S,w,C){var L=wr(S)?Po:Nt.current;return L=Ms(h,L),Qu(h,C),S=hS(d,h,S,w,L,C),w=pS(),d!==null&&!Zi?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~C,ya(d,h,C)):(wn&&w&&rS(h),h.flags|=1,pi(d,h,S,C),h.child)}function ZP(d,h,S,w,C){if(wr(S)){var L=!0;Ur(h)}else L=!1;if(Qu(h,C),h.stateNode===null)d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),hP(h,S,w),nS(h,S,w,C),w=!0;else if(d===null){var W=h.stateNode,re=h.memoizedProps;W.props=re;var ye=W.context,Ne=S.contextType;typeof Ne=="object"&&Ne!==null?Ne=Ts(Ne):(Ne=wr(S)?Po:Nt.current,Ne=Ms(h,Ne));var it=S.getDerivedStateFromProps,Ct=typeof it=="function"||typeof W.getSnapshotBeforeUpdate=="function";Ct||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(re!==w||ye!==Ne)&&pP(h,W,w,Ne),cl=!1;var mt=h.memoizedState;W.state=mt,Kg(h,w,W,C),ye=h.memoizedState,re!==w||mt!==ye||Wn.current||cl?(typeof it=="function"&&(tS(h,S,it,w),ye=h.memoizedState),(re=cl||dP(h,S,re,w,mt,ye,Ne))?(Ct||typeof W.UNSAFE_componentWillMount!="function"&&typeof W.componentWillMount!="function"||(typeof W.componentWillMount=="function"&&W.componentWillMount(),typeof W.UNSAFE_componentWillMount=="function"&&W.UNSAFE_componentWillMount()),typeof W.componentDidMount=="function"&&(h.flags|=4194308)):(typeof W.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=w,h.memoizedState=ye),W.props=w,W.state=ye,W.context=Ne,w=re):(typeof W.componentDidMount=="function"&&(h.flags|=4194308),w=!1)}else{W=h.stateNode,lP(d,h),re=h.memoizedProps,Ne=h.type===h.elementType?re:oo(h.type,re),W.props=Ne,Ct=h.pendingProps,mt=W.context,ye=S.contextType,typeof ye=="object"&&ye!==null?ye=Ts(ye):(ye=wr(S)?Po:Nt.current,ye=Ms(h,ye));var cn=S.getDerivedStateFromProps;(it=typeof cn=="function"||typeof W.getSnapshotBeforeUpdate=="function")||typeof W.UNSAFE_componentWillReceiveProps!="function"&&typeof W.componentWillReceiveProps!="function"||(re!==Ct||mt!==ye)&&pP(h,W,w,ye),cl=!1,mt=h.memoizedState,W.state=mt,Kg(h,w,W,C);var ft=h.memoizedState;re!==Ct||mt!==ft||Wn.current||cl?(typeof cn=="function"&&(tS(h,S,cn,w),ft=h.memoizedState),(Ne=cl||dP(h,S,Ne,w,mt,ft,ye)||!1)?(it||typeof W.UNSAFE_componentWillUpdate!="function"&&typeof W.componentWillUpdate!="function"||(typeof W.componentWillUpdate=="function"&&W.componentWillUpdate(w,ft,ye),typeof W.UNSAFE_componentWillUpdate=="function"&&W.UNSAFE_componentWillUpdate(w,ft,ye)),typeof W.componentDidUpdate=="function"&&(h.flags|=4),typeof W.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof W.componentDidUpdate!="function"||re===d.memoizedProps&&mt===d.memoizedState||(h.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||re===d.memoizedProps&&mt===d.memoizedState||(h.flags|=1024),h.memoizedProps=w,h.memoizedState=ft),W.props=w,W.state=ft,W.context=ye,w=Ne):(typeof W.componentDidUpdate!="function"||re===d.memoizedProps&&mt===d.memoizedState||(h.flags|=4),typeof W.getSnapshotBeforeUpdate!="function"||re===d.memoizedProps&&mt===d.memoizedState||(h.flags|=1024),w=!1)}return SS(d,h,S,w,L,C)}function SS(d,h,S,w,C,L){QP(d,h);var W=(h.flags&128)!==0;if(!w&&!W)return C&&Ju(h,S,!1),ya(d,h,L);w=h.stateNode,A9.current=h;var re=W&&typeof S.getDerivedStateFromError!="function"?null:w.render();return h.flags|=1,d!==null&&W?(h.child=nf(h,d.child,null,L),h.child=nf(h,null,re,L)):pi(d,h,re,L),h.memoizedState=w.state,C&&Ju(h,S,!0),h.child}function e2(d){var h=d.stateNode;h.pendingContext?Oo(d,h.pendingContext,h.pendingContext!==h.context):h.context&&Oo(d,h.context,!1),lS(d,h.containerInfo)}function t2(d,h,S,w,C){return tf(),aS(C),h.flags|=256,pi(d,h,S,w),h.child}var c0={dehydrated:null,treeContext:null,retryLane:0};function u0(d){return{baseLanes:d,cachePool:null}}function n2(d,h,S){var w=h.pendingProps,C=On.current,L=!1,W=(h.flags&128)!==0,re;if((re=W)||(re=d!==null&&d.memoizedState===null?!1:(C&2)!==0),re?(L=!0,h.flags&=-129):(d===null||d.memoizedState!==null)&&(C|=1),rt(On,C&1),d===null)return oS(h),d=h.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(h.mode&1?al(d)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(C=w.children,d=w.fallback,L?(w=h.mode,L=h.child,C={mode:"hidden",children:C},!(w&1)&&L!==null?(L.childLanes=0,L.pendingProps=C):L=P0(C,w,0,null),d=Lc(d,w,S,null),L.return=h,d.return=h,L.sibling=d,h.child=L,h.child.memoizedState=u0(S),h.memoizedState=c0,d):bS(h,C));if(C=d.memoizedState,C!==null){if(re=C.dehydrated,re!==null){if(W)return h.flags&256?(h.flags&=-257,f0(d,h,S,Error(o(422)))):h.memoizedState!==null?(h.child=d.child,h.flags|=128,null):(L=w.fallback,C=h.mode,w=P0({mode:"visible",children:w.children},C,0,null),L=Lc(L,C,S,null),L.flags|=2,w.return=h,L.return=h,w.sibling=L,h.child=w,h.mode&1&&nf(h,d.child,null,S),h.child.memoizedState=u0(S),h.memoizedState=c0,L);if(!(h.mode&1))h=f0(d,h,S,null);else if(al(re))h=f0(d,h,S,Error(o(419)));else if(w=(S&d.childLanes)!==0,Zi||w){if(w=lr,w!==null){switch(S&-S){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}w=L&(w.suspendedLanes|S)?0:L,w!==0&&w!==C.retryLane&&(C.retryLane=w,Ls(d,w,-1))}GS(),h=f0(d,h,S,Error(o(421)))}else Ac(re)?(h.flags|=128,h.child=d.child,h=k9.bind(null,d),ll(re,h),h=null):(S=C.treeContext,_e&&(Qi=yt(re),qi=h,wn=!0,ao=null,Nh=!1,S!==null&&(Cs[Rs++]=ma,Cs[Rs++]=ga,Cs[Rs++]=wc,ma=S.id,ga=S.overflow,wc=h)),h=bS(h,h.pendingProps.children),h.flags|=4096);return h}return L?(w=i2(d,h,w.children,w.fallback,S),L=h.child,C=d.child.memoizedState,L.memoizedState=C===null?u0(S):{baseLanes:C.baseLanes|S,cachePool:null},L.childLanes=d.childLanes&~S,h.memoizedState=c0,w):(S=r2(d,h,w.children,S),h.memoizedState=null,S)}return L?(w=i2(d,h,w.children,w.fallback,S),L=h.child,C=d.child.memoizedState,L.memoizedState=C===null?u0(S):{baseLanes:C.baseLanes|S,cachePool:null},L.childLanes=d.childLanes&~S,h.memoizedState=c0,w):(S=r2(d,h,w.children,S),h.memoizedState=null,S)}function bS(d,h){return h=P0({mode:"visible",children:h},d.mode,0,null),h.return=d,d.child=h}function r2(d,h,S,w){var C=d.child;return d=C.sibling,S=ml(C,{mode:"visible",children:S}),!(h.mode&1)&&(S.lanes=w),S.return=h,S.sibling=null,d!==null&&(w=h.deletions,w===null?(h.deletions=[d],h.flags|=16):w.push(d)),h.child=S}function i2(d,h,S,w,C){var L=h.mode;d=d.child;var W=d.sibling,re={mode:"hidden",children:S};return!(L&1)&&h.child!==d?(S=h.child,S.childLanes=0,S.pendingProps=re,h.deletions=null):(S=ml(d,re),S.subtreeFlags=d.subtreeFlags&14680064),W!==null?w=ml(W,w):(w=Lc(w,L,C,null),w.flags|=2),w.return=h,S.return=h,S.sibling=w,h.child=S,w}function f0(d,h,S,w){return w!==null&&aS(w),nf(h,d.child,null,S),d=bS(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function s2(d,h,S){d.lanes|=h;var w=d.alternate;w!==null&&(w.lanes|=h),Z1(d.return,h,S)}function AS(d,h,S,w,C){var L=d.memoizedState;L===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:w,tail:S,tailMode:C}:(L.isBackwards=h,L.rendering=null,L.renderingStartTime=0,L.last=w,L.tail=S,L.tailMode=C)}function o2(d,h,S){var w=h.pendingProps,C=w.revealOrder,L=w.tail;if(pi(d,h,w.children,S),w=On.current,w&2)w=w&1|2,h.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&s2(d,S,h);else if(d.tag===19)s2(d,S,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}w&=1}if(rt(On,w),!(h.mode&1))h.memoizedState=null;else switch(C){case"forwards":for(S=h.child,C=null;S!==null;)d=S.alternate,d!==null&&Zg(d)===null&&(C=S),S=S.sibling;S=C,S===null?(C=h.child,h.child=null):(C=S.sibling,S.sibling=null),AS(h,!1,C,S,L);break;case"backwards":for(S=null,C=h.child,h.child=null;C!==null;){if(d=C.alternate,d!==null&&Zg(d)===null){h.child=C;break}d=C.sibling,C.sibling=S,S=C,C=d}AS(h,!0,S,null,L);break;case"together":AS(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function ya(d,h,S){if(d!==null&&(h.dependencies=d.dependencies),lf|=h.lanes,!(S&h.childLanes))return null;if(d!==null&&h.child!==d.child)throw Error(o(153));if(h.child!==null){for(d=h.child,S=ml(d,d.pendingProps),h.child=S,S.return=h;d.sibling!==null;)d=d.sibling,S=S.sibling=ml(d,d.pendingProps),S.return=h;S.sibling=null}return h.child}function w9(d,h,S){switch(h.tag){case 3:e2(h),tf();break;case 5:bP(h);break;case 1:wr(h.type)&&Ur(h);break;case 4:lS(h,h.stateNode.containerInfo);break;case 10:aP(h,h.type._context,h.memoizedProps.value);break;case 13:var w=h.memoizedState;if(w!==null)return w.dehydrated!==null?(rt(On,On.current&1),h.flags|=128,null):S&h.child.childLanes?n2(d,h,S):(rt(On,On.current&1),d=ya(d,h,S),d!==null?d.sibling:null);rt(On,On.current&1);break;case 19:if(w=(S&h.childLanes)!==0,d.flags&128){if(w)return o2(d,h,S);h.flags|=128}var C=h.memoizedState;if(C!==null&&(C.rendering=null,C.tail=null,C.lastEffect=null),rt(On,On.current),w)break;return null;case 22:case 23:return h.lanes=0,qP(d,h,S)}return ya(d,h,S)}function E9(d,h){switch(iS(h),h.tag){case 1:return wr(h.type)&&tr(),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return sf(),bt(Wn),bt(Nt),fS(),d=h.flags,d&65536&&!(d&128)?(h.flags=d&-65537|128,h):null;case 5:return cS(h),null;case 13:if(bt(On),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(o(340));tf()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return bt(On),null;case 4:return sf(),null;case 10:return Q1(h.type._context),null;case 22:case 23:return HS(),null;case 24:return null;default:return null}}var d0=!1,Tc=!1,M9=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function h0(d,h){var S=d.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(w){Li(d,h,w)}else S.current=null}function wS(d,h,S){try{S()}catch(w){Li(d,h,w)}}var a2=!1;function T9(d,h){for(X(d.containerInfo),Ye=h;Ye!==null;)if(d=Ye,h=d.child,(d.subtreeFlags&1028)!==0&&h!==null)h.return=d,Ye=h;else for(;Ye!==null;){d=Ye;try{var S=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var w=S.memoizedProps,C=S.memoizedState,L=d.stateNode,W=L.getSnapshotBeforeUpdate(d.elementType===d.type?w:oo(d.type,w),C);L.__reactInternalSnapshotBeforeUpdate=W}break;case 3:Le&&ze(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(re){Li(d,d.return,re)}if(h=d.sibling,h!==null){h.return=d.return,Ye=h;break}Ye=d.return}return S=a2,a2=!1,S}function Cc(d,h,S){var w=h.updateQueue;if(w=w!==null?w.lastEffect:null,w!==null){var C=w=w.next;do{if((C.tag&d)===d){var L=C.destroy;C.destroy=void 0,L!==void 0&&wS(h,S,L)}C=C.next}while(C!==w)}}function Yh(d,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var S=h=h.next;do{if((S.tag&d)===d){var w=S.create;S.destroy=w()}S=S.next}while(S!==h)}}function ES(d){var h=d.ref;if(h!==null){var S=d.stateNode;switch(d.tag){case 5:d=V(S);break;default:d=S}typeof h=="function"?h(d):h.current=d}}function l2(d,h,S){if(Lo&&typeof Lo.onCommitFiberUnmount=="function")try{Lo.onCommitFiberUnmount(Gg,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(d=h.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var w=d=d.next;do{var C=w,L=C.destroy;C=C.tag,L!==void 0&&(C&2||C&4)&&wS(h,S,L),w=w.next}while(w!==d)}break;case 1:if(h0(h,S),d=h.stateNode,typeof d.componentWillUnmount=="function")try{d.props=h.memoizedProps,d.state=h.memoizedState,d.componentWillUnmount()}catch(W){Li(h,S,W)}break;case 5:h0(h,S);break;case 4:Le?p2(d,h,S):K&&K&&(h=h.stateNode.containerInfo,S=ht(h),Ut(h,S))}}function c2(d,h,S){for(var w=h;;)if(l2(d,w,S),w.child===null||Le&&w.tag===4){if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return}w.sibling.return=w.return,w=w.sibling}else w.child.return=w,w=w.child}function u2(d){var h=d.alternate;h!==null&&(d.alternate=null,u2(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&Xe(h)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function f2(d){return d.tag===5||d.tag===3||d.tag===4}function d2(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||f2(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function h2(d){if(Le){e:{for(var h=d.return;h!==null;){if(f2(h))break e;h=h.return}throw Error(o(160))}var S=h;switch(S.tag){case 5:h=S.stateNode,S.flags&32&&(Se(h),S.flags&=-33),S=d2(d),TS(d,S,h);break;case 3:case 4:h=S.stateNode.containerInfo,S=d2(d),MS(d,S,h);break;default:throw Error(o(161))}}}function MS(d,h,S){var w=d.tag;if(w===5||w===6)d=d.stateNode,h?ot(S,d,h):Pe(S,d);else if(w!==4&&(d=d.child,d!==null))for(MS(d,h,S),d=d.sibling;d!==null;)MS(d,h,S),d=d.sibling}function TS(d,h,S){var w=d.tag;if(w===5||w===6)d=d.stateNode,h?dt(S,d,h):Ze(S,d);else if(w!==4&&(d=d.child,d!==null))for(TS(d,h,S),d=d.sibling;d!==null;)TS(d,h,S),d=d.sibling}function p2(d,h,S){for(var w=h,C=!1,L,W;;){if(!C){C=w.return;e:for(;;){if(C===null)throw Error(o(160));switch(L=C.stateNode,C.tag){case 5:W=!1;break e;case 3:L=L.containerInfo,W=!0;break e;case 4:L=L.containerInfo,W=!0;break e}C=C.return}C=!0}if(w.tag===5||w.tag===6)c2(d,w,S),W?Q(L,w.stateNode):He(L,w.stateNode);else if(w.tag===18)W?fe(L,w.stateNode):he(L,w.stateNode);else if(w.tag===4){if(w.child!==null){L=w.stateNode.containerInfo,W=!0,w.child.return=w,w=w.child;continue}}else if(l2(d,w,S),w.child!==null){w.child.return=w,w=w.child;continue}if(w===h)break;for(;w.sibling===null;){if(w.return===null||w.return===h)return;w=w.return,w.tag===4&&(C=!1)}w.sibling.return=w.return,w=w.sibling}}function CS(d,h){if(Le){switch(h.tag){case 0:case 11:case 14:case 15:Cc(3,h,h.return),Yh(3,h),Cc(5,h,h.return);return;case 1:return;case 5:var S=h.stateNode;if(S!=null){var w=h.memoizedProps;d=d!==null?d.memoizedProps:w;var C=h.type,L=h.updateQueue;h.updateQueue=null,L!==null&&pt(S,L,C,d,w,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));S=h.memoizedProps,be(h.stateNode,d!==null?d.memoizedProps:S,S);return;case 3:_e&&d!==null&&d.memoizedState.isDehydrated&&ae(h.stateNode.containerInfo);return;case 12:return;case 13:p0(h);return;case 19:p0(h);return;case 17:return}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:Cc(3,h,h.return),Yh(3,h),Cc(5,h,h.return);return;case 12:return;case 13:p0(h);return;case 19:p0(h);return;case 3:_e&&d!==null&&d.memoizedState.isDehydrated&&ae(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(K){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,Ut(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function p0(d){var h=d.updateQueue;if(h!==null){d.updateQueue=null;var S=d.stateNode;S===null&&(S=d.stateNode=new M9),h.forEach(function(w){var C=N9.bind(null,d,w);S.has(w)||(S.add(w),w.then(C,C))})}}function C9(d,h){for(Ye=h;Ye!==null;){h=Ye;var S=h.deletions;if(S!==null)for(var w=0;w<S.length;w++){var C=S[w];try{var L=d;Le?p2(L,C,h):c2(L,C,h);var W=C.alternate;W!==null&&(W.return=null),C.return=null}catch(ct){Li(C,h,ct)}}if(S=h.child,h.subtreeFlags&12854&&S!==null)S.return=h,Ye=S;else for(;Ye!==null;){h=Ye;try{var re=h.flags;if(re&32&&Le&&Se(h.stateNode),re&512){var ye=h.alternate;if(ye!==null){var Ne=ye.ref;Ne!==null&&(typeof Ne=="function"?Ne(null):Ne.current=null)}}if(re&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var it=h.alternate;(it===null||it.memoizedState===null)&&(DS=Er())}break;case 22:var Ct=h.memoizedState!==null,mt=h.alternate,cn=mt!==null&&mt.memoizedState!==null;if(S=h,Le){e:if(w=S,C=Ct,L=null,Le)for(var ft=w;;){if(ft.tag===5){if(L===null){L=ft;var Jr=ft.stateNode;C?$e(Jr):Ce(ft.stateNode,ft.memoizedProps)}}else if(ft.tag===6){if(L===null){var Bs=ft.stateNode;C?Ke(Bs):Z(Bs,ft.memoizedProps)}}else if((ft.tag!==22&&ft.tag!==23||ft.memoizedState===null||ft===w)&&ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===w)break;for(;ft.sibling===null;){if(ft.return===null||ft.return===w)break e;L===ft&&(L=null),ft=ft.return}L===ft&&(L=null),ft.sibling.return=ft.return,ft=ft.sibling}}if(Ct&&!cn&&S.mode&1){Ye=S;for(var ce=S.child;ce!==null;){for(S=Ye=ce;Ye!==null;){w=Ye;var se=w.child;switch(w.tag){case 0:case 11:case 14:case 15:Cc(4,w,w.return);break;case 1:h0(w,w.return);var pe=w.stateNode;if(typeof pe.componentWillUnmount=="function"){var qe=w.return;try{pe.props=w.memoizedProps,pe.state=w.memoizedState,pe.componentWillUnmount()}catch(ct){Li(w,qe,ct)}}break;case 5:h0(w,w.return);break;case 22:if(w.memoizedState!==null){v2(S);continue}}se!==null?(se.return=w,Ye=se):v2(S)}ce=ce.sibling}}}switch(re&4102){case 2:h2(h),h.flags&=-3;break;case 6:h2(h),h.flags&=-3,CS(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,CS(h.alternate,h);break;case 4:CS(h.alternate,h)}}catch(ct){Li(h,h.return,ct)}if(S=h.sibling,S!==null){S.return=h.return,Ye=S;break}Ye=h.return}}}function R9(d,h,S){Ye=d,m2(d)}function m2(d,h,S){for(var w=(d.mode&1)!==0;Ye!==null;){var C=Ye,L=C.child;if(C.tag===22&&w){var W=C.memoizedState!==null||d0;if(!W){var re=C.alternate,ye=re!==null&&re.memoizedState!==null||Tc;re=d0;var Ne=Tc;if(d0=W,(Tc=ye)&&!Ne)for(Ye=C;Ye!==null;)W=Ye,ye=W.child,W.tag===22&&W.memoizedState!==null?y2(C):ye!==null?(ye.return=W,Ye=ye):y2(C);for(;L!==null;)Ye=L,m2(L),L=L.sibling;Ye=C,d0=re,Tc=Ne}g2(d)}else C.subtreeFlags&8772&&L!==null?(L.return=C,Ye=L):g2(d)}}function g2(d){for(;Ye!==null;){var h=Ye;if(h.flags&8772){var S=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:Tc||Yh(5,h);break;case 1:var w=h.stateNode;if(h.flags&4&&!Tc)if(S===null)w.componentDidMount();else{var C=h.elementType===h.type?S.memoizedProps:oo(h.type,S.memoizedProps);w.componentDidUpdate(C,S.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var L=h.updateQueue;L!==null&&uP(h,L,w);break;case 3:var W=h.updateQueue;if(W!==null){if(S=null,h.child!==null)switch(h.child.tag){case 5:S=V(h.child.stateNode);break;case 1:S=h.child.stateNode}uP(h,W,S)}break;case 5:var re=h.stateNode;S===null&&h.flags&4&&Et(re,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(_e&&h.memoizedState===null){var ye=h.alternate;if(ye!==null){var Ne=ye.memoizedState;if(Ne!==null){var it=Ne.dehydrated;it!==null&&de(it)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Tc||h.flags&512&&ES(h)}catch(Ct){Li(h,h.return,Ct)}}if(h===d){Ye=null;break}if(S=h.sibling,S!==null){S.return=h.return,Ye=S;break}Ye=h.return}}function v2(d){for(;Ye!==null;){var h=Ye;if(h===d){Ye=null;break}var S=h.sibling;if(S!==null){S.return=h.return,Ye=S;break}Ye=h.return}}function y2(d){for(;Ye!==null;){var h=Ye;try{switch(h.tag){case 0:case 11:case 15:var S=h.return;try{Yh(4,h)}catch(ye){Li(h,S,ye)}break;case 1:var w=h.stateNode;if(typeof w.componentDidMount=="function"){var C=h.return;try{w.componentDidMount()}catch(ye){Li(h,C,ye)}}var L=h.return;try{ES(h)}catch(ye){Li(h,L,ye)}break;case 5:var W=h.return;try{ES(h)}catch(ye){Li(h,W,ye)}}}catch(ye){Li(h,h.return,ye)}if(h===d){Ye=null;break}var re=h.sibling;if(re!==null){re.return=h.return,Ye=re;break}Ye=h.return}}var m0=0,g0=1,v0=2,y0=3,_0=4;if(typeof Symbol=="function"&&Symbol.for){var Jh=Symbol.for;m0=Jh("selector.component"),g0=Jh("selector.has_pseudo_class"),v0=Jh("selector.role"),y0=Jh("selector.test_id"),_0=Jh("selector.text")}function RS(d){var h=me(d);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(d=ie(d),d===null)throw Error(o(362));return d.stateNode.current}function PS(d,h){switch(h.$$typeof){case m0:if(d.type===h.value)return!0;break;case g0:e:{h=h.value,d=[d,0];for(var S=0;S<d.length;){var w=d[S++],C=d[S++],L=h[C];if(w.tag!==5||!le(w)){for(;L!=null&&PS(w,L);)C++,L=h[C];if(C===h.length){h=!0;break e}else for(w=w.child;w!==null;)d.push(w,C),w=w.sibling}}h=!1}return h;case v0:if(d.tag===5&&ke(d.stateNode,h.value))return!0;break;case _0:if((d.tag===5||d.tag===6)&&(d=oe(d),d!==null&&0<=d.indexOf(h.value)))return!0;break;case y0:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function OS(d){switch(d.$$typeof){case m0:return"<"+(R(d.value)||"Unknown")+">";case g0:return":has("+(OS(d)||"")+")";case v0:return'[role="'+d.value+'"]';case _0:return'"'+d.value+'"';case y0:return'[data-testname="'+d.value+'"]';default:throw Error(o(365))}}function _2(d,h){var S=[];d=[d,0];for(var w=0;w<d.length;){var C=d[w++],L=d[w++],W=h[L];if(C.tag!==5||!le(C)){for(;W!=null&&PS(C,W);)L++,W=h[L];if(L===h.length)S.push(C);else for(C=C.child;C!==null;)d.push(C,L),C=C.sibling}}return S}function LS(d,h){if(!D)throw Error(o(363));d=RS(d),d=_2(d,h),h=[],d=Array.from(d);for(var S=0;S<d.length;){var w=d[S++];if(w.tag===5)le(w)||h.push(w.stateNode);else for(w=w.child;w!==null;)d.push(w),w=w.sibling}return h}var P9=Math.ceil,x0=a.ReactCurrentDispatcher,IS=a.ReactCurrentOwner,nr=a.ReactCurrentBatchConfig,Ft=0,lr=null,cr=null,zr=0,es=0,af=Ar(0),vr=0,qh=null,lf=0,S0=0,BS=0,Qh=null,Pi=null,DS=0,kS=1/0;function cf(){kS=Er()+500}var b0=!1,NS=null,fl=null,A0=!1,dl=null,w0=0,Zh=0,FS=null,E0=-1,M0=0;function mi(){return Ft&6?Er():E0!==-1?E0:E0=Er()}function hl(d){return d.mode&1?Ft&2&&zr!==0?zr&-zr:d9.transition!==null?(M0===0&&(d=Ug,Ug<<=1,!(Ug&4194240)&&(Ug=64),M0=d),M0):(d=qt,d!==0?d:ve()):1}function Ls(d,h,S){if(50<Zh)throw Zh=0,FS=null,Error(o(185));var w=T0(d,h);return w===null?null:(kh(w,h,S),(!(Ft&2)||w!==lr)&&(w===lr&&(!(Ft&2)&&(S0|=h),vr===4&&pl(w,zr)),Oi(w,S),h===1&&Ft===0&&!(d.mode&1)&&(cf(),Vg&&Bo())),w)}function T0(d,h){d.lanes|=h;var S=d.alternate;for(S!==null&&(S.lanes|=h),S=d,d=d.return;d!==null;)d.childLanes|=h,S=d.alternate,S!==null&&(S.childLanes|=h),S=d,d=d.return;return S.tag===3?S.stateNode:null}function Oi(d,h){var S=d.callbackNode;r9(d,h);var w=Hg(d,d===lr?zr:0);if(w===0)S!==null&&sP(S),d.callbackNode=null,d.callbackPriority=0;else if(h=w&-w,d.callbackPriority!==h){if(S!=null&&sP(S),h===1)d.tag===0?f9(S2.bind(null,d)):oP(S2.bind(null,d)),Ue?k(function(){Ft===0&&Bo()}):j1(X1,Bo),S=null;else{switch(iP(w)){case 1:S=X1;break;case 4:S=a9;break;case 16:S=K1;break;case 536870912:S=l9;break;default:S=K1}S=P2(S,x2.bind(null,d))}d.callbackPriority=h,d.callbackNode=S}}function x2(d,h){if(E0=-1,M0=0,Ft&6)throw Error(o(327));var S=d.callbackNode;if(Oc()&&d.callbackNode!==S)return null;var w=Hg(d,d===lr?zr:0);if(w===0)return null;if(w&30||w&d.expiredLanes||h)h=C0(d,w);else{h=w;var C=Ft;Ft|=2;var L=w2();(lr!==d||zr!==h)&&(cf(),Rc(d,h));do try{I9();break}catch(re){A2(d,re)}while(1);q1(),x0.current=L,Ft=C,cr!==null?h=0:(lr=null,zr=0,h=vr)}if(h!==0){if(h===2&&(C=V1(d),C!==0&&(w=C,h=US(d,C))),h===1)throw S=qh,Rc(d,0),pl(d,w),Oi(d,Er()),S;if(h===6)pl(d,w);else{if(C=d.current.alternate,!(w&30)&&!O9(C)&&(h=C0(d,w),h===2&&(L=V1(d),L!==0&&(w=L,h=US(d,L))),h===1))throw S=qh,Rc(d,0),pl(d,w),Oi(d,Er()),S;switch(d.finishedWork=C,d.finishedLanes=w,h){case 0:case 1:throw Error(o(345));case 2:Pc(d,Pi);break;case 3:if(pl(d,w),(w&130023424)===w&&(h=DS+500-Er(),10<h)){if(Hg(d,0)!==0)break;if(C=d.suspendedLanes,(C&w)!==w){mi(),d.pingedLanes|=d.suspendedLanes&C;break}d.timeoutHandle=Re(Pc.bind(null,d,Pi),h);break}Pc(d,Pi);break;case 4:if(pl(d,w),(w&4194240)===w)break;for(h=d.eventTimes,C=-1;0<w;){var W=31-Ji(w);L=1<<W,W=h[W],W>C&&(C=W),w&=~L}if(w=C,w=Er()-w,w=(120>w?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*P9(w/1960))-w,10<w){d.timeoutHandle=Re(Pc.bind(null,d,Pi),w);break}Pc(d,Pi);break;case 5:Pc(d,Pi);break;default:throw Error(o(329))}}}return Oi(d,Er()),d.callbackNode===S?x2.bind(null,d):null}function US(d,h){var S=Qh;return d.current.memoizedState.isDehydrated&&(Rc(d,h).flags|=256),d=C0(d,h),d!==2&&(h=Pi,Pi=S,h!==null&&zS(h)),d}function zS(d){Pi===null?Pi=d:Pi.push.apply(Pi,d)}function O9(d){for(var h=d;;){if(h.flags&16384){var S=h.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var w=0;w<S.length;w++){var C=S[w],L=C.getSnapshot;C=C.value;try{if(!Io(L(),C))return!1}catch{return!1}}}if(S=h.child,h.subtreeFlags&16384&&S!==null)S.return=h,h=S;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function pl(d,h){for(h&=~BS,h&=~S0,d.suspendedLanes|=h,d.pingedLanes&=~h,d=d.expirationTimes;0<h;){var S=31-Ji(h),w=1<<S;d[S]=-1,h&=~w}}function S2(d){if(Ft&6)throw Error(o(327));Oc();var h=Hg(d,0);if(!(h&1))return Oi(d,Er()),null;var S=C0(d,h);if(d.tag!==0&&S===2){var w=V1(d);w!==0&&(h=w,S=US(d,w))}if(S===1)throw S=qh,Rc(d,0),pl(d,h),Oi(d,Er()),S;if(S===6)throw Error(o(345));return d.finishedWork=d.current.alternate,d.finishedLanes=h,Pc(d,Pi),Oi(d,Er()),null}function b2(d){dl!==null&&dl.tag===0&&!(Ft&6)&&Oc();var h=Ft;Ft|=1;var S=nr.transition,w=qt;try{if(nr.transition=null,qt=1,d)return d()}finally{qt=w,nr.transition=S,Ft=h,!(Ft&6)&&Bo()}}function HS(){es=af.current,bt(af)}function Rc(d,h){d.finishedWork=null,d.finishedLanes=0;var S=d.timeoutHandle;if(S!==Ve&&(d.timeoutHandle=Ve,Qe(S)),cr!==null)for(S=cr.return;S!==null;){var w=S;switch(iS(w),w.tag){case 1:w=w.type.childContextTypes,w!=null&&tr();break;case 3:sf(),bt(Wn),bt(Nt),fS();break;case 5:cS(w);break;case 4:sf();break;case 13:bt(On);break;case 19:bt(On);break;case 10:Q1(w.type._context);break;case 22:case 23:HS()}S=S.return}if(lr=d,cr=d=ml(d.current,null),zr=es=h,vr=0,qh=null,BS=S0=lf=0,Pi=Qh=null,Do!==null){for(h=0;h<Do.length;h++)if(S=Do[h],w=S.interleaved,w!==null){S.interleaved=null;var C=w.next,L=S.pending;if(L!==null){var W=L.next;L.next=C,w.next=W}S.pending=w}Do=null}return d}function A2(d,h){do{var S=cr;try{if(q1(),e0.current=o0,t0){for(var w=$n.memoizedState;w!==null;){var C=w.queue;C!==null&&(C.pending=null),w=w.next}t0=!1}if(of=0,Mr=Xr=$n=null,Gh=!1,Vh=0,IS.current=null,S===null||S.return===null){vr=1,qh=h,cr=null;break}e:{var L=d,W=S.return,re=S,ye=h;if(h=zr,re.flags|=32768,ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var Ne=ye,it=re,Ct=it.tag;if(!(it.mode&1)&&(Ct===0||Ct===11||Ct===15)){var mt=it.alternate;mt?(it.updateQueue=mt.updateQueue,it.memoizedState=mt.memoizedState,it.lanes=mt.lanes):(it.updateQueue=null,it.memoizedState=null)}var cn=WP(W);if(cn!==null){cn.flags&=-257,$P(cn,W,re,L,h),cn.mode&1&&VP(L,Ne,h),h=cn,ye=Ne;var ft=h.updateQueue;if(ft===null){var Jr=new Set;Jr.add(ye),h.updateQueue=Jr}else ft.add(ye);break e}else{if(!(h&1)){VP(L,Ne,h),GS();break e}ye=Error(o(426))}}else if(wn&&re.mode&1){var Bs=WP(W);if(Bs!==null){!(Bs.flags&65536)&&(Bs.flags|=256),$P(Bs,W,re,L,h),aS(ye);break e}}L=ye,vr!==4&&(vr=2),Qh===null?Qh=[L]:Qh.push(L),ye=yS(ye,re),re=W;do{switch(re.tag){case 3:re.flags|=65536,h&=-h,re.lanes|=h;var ce=HP(re,ye,h);cP(re,ce);break e;case 1:L=ye;var se=re.type,pe=re.stateNode;if(!(re.flags&128)&&(typeof se.getDerivedStateFromError=="function"||pe!==null&&typeof pe.componentDidCatch=="function"&&(fl===null||!fl.has(pe)))){re.flags|=65536,h&=-h,re.lanes|=h;var qe=GP(re,L,h);cP(re,qe);break e}}re=re.return}while(re!==null)}M2(S)}catch(ct){h=ct,cr===S&&S!==null&&(cr=S=S.return);continue}break}while(1)}function w2(){var d=x0.current;return x0.current=o0,d===null?o0:d}function GS(){(vr===0||vr===3||vr===2)&&(vr=4),lr===null||!(lf&268435455)&&!(S0&268435455)||pl(lr,zr)}function C0(d,h){var S=Ft;Ft|=2;var w=w2();lr===d&&zr===h||Rc(d,h);do try{L9();break}catch(C){A2(d,C)}while(1);if(q1(),Ft=S,x0.current=w,cr!==null)throw Error(o(261));return lr=null,zr=0,vr}function L9(){for(;cr!==null;)E2(cr)}function I9(){for(;cr!==null&&!s9();)E2(cr)}function E2(d){var h=R2(d.alternate,d,es);d.memoizedProps=d.pendingProps,h===null?M2(d):cr=h,IS.current=null}function M2(d){var h=d;do{var S=h.alternate;if(d=h.return,h.flags&32768){if(S=E9(S,h),S!==null){S.flags&=32767,cr=S;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{vr=6,cr=null;return}}else if(S=b9(S,h,es),S!==null){cr=S;return}if(h=h.sibling,h!==null){cr=h;return}cr=h=d}while(h!==null);vr===0&&(vr=5)}function Pc(d,h){var S=qt,w=nr.transition;try{nr.transition=null,qt=1,B9(d,h,S)}finally{nr.transition=w,qt=S}return null}function B9(d,h,S){do Oc();while(dl!==null);if(Ft&6)throw Error(o(327));var w=d.finishedWork,C=d.finishedLanes;if(w===null)return null;if(d.finishedWork=null,d.finishedLanes=0,w===d.current)throw Error(o(177));d.callbackNode=null,d.callbackPriority=0;var L=w.lanes|w.childLanes;if(i9(d,L),d===lr&&(cr=lr=null,zr=0),!(w.subtreeFlags&2064)&&!(w.flags&2064)||A0||(A0=!0,P2(K1,function(){return Oc(),null})),L=(w.flags&15990)!==0,w.subtreeFlags&15990||L){L=nr.transition,nr.transition=null;var W=qt;qt=1;var re=Ft;Ft|=4,IS.current=null,T9(d,w),C9(d,w),Y(d.containerInfo),d.current=w,R9(w),o9(),Ft=re,qt=W,nr.transition=L}else d.current=w;if(A0&&(A0=!1,dl=d,w0=C),L=d.pendingLanes,L===0&&(fl=null),c9(w.stateNode),Oi(d,Er()),h!==null)for(S=d.onRecoverableError,w=0;w<h.length;w++)S(h[w]);if(b0)throw b0=!1,d=NS,NS=null,d;return w0&1&&d.tag!==0&&Oc(),L=d.pendingLanes,L&1?d===FS?Zh++:(Zh=0,FS=d):Zh=0,Bo(),null}function Oc(){if(dl!==null){var d=iP(w0),h=nr.transition,S=qt;try{if(nr.transition=null,qt=16>d?16:d,dl===null)var w=!1;else{if(d=dl,dl=null,w0=0,Ft&6)throw Error(o(331));var C=Ft;for(Ft|=4,Ye=d.current;Ye!==null;){var L=Ye,W=L.child;if(Ye.flags&16){var re=L.deletions;if(re!==null){for(var ye=0;ye<re.length;ye++){var Ne=re[ye];for(Ye=Ne;Ye!==null;){var it=Ye;switch(it.tag){case 0:case 11:case 15:Cc(8,it,L)}var Ct=it.child;if(Ct!==null)Ct.return=it,Ye=Ct;else for(;Ye!==null;){it=Ye;var mt=it.sibling,cn=it.return;if(u2(it),it===Ne){Ye=null;break}if(mt!==null){mt.return=cn,Ye=mt;break}Ye=cn}}}var ft=L.alternate;if(ft!==null){var Jr=ft.child;if(Jr!==null){ft.child=null;do{var Bs=Jr.sibling;Jr.sibling=null,Jr=Bs}while(Jr!==null)}}Ye=L}}if(L.subtreeFlags&2064&&W!==null)W.return=L,Ye=W;else e:for(;Ye!==null;){if(L=Ye,L.flags&2048)switch(L.tag){case 0:case 11:case 15:Cc(9,L,L.return)}var ce=L.sibling;if(ce!==null){ce.return=L.return,Ye=ce;break e}Ye=L.return}}var se=d.current;for(Ye=se;Ye!==null;){W=Ye;var pe=W.child;if(W.subtreeFlags&2064&&pe!==null)pe.return=W,Ye=pe;else e:for(W=se;Ye!==null;){if(re=Ye,re.flags&2048)try{switch(re.tag){case 0:case 11:case 15:Yh(9,re)}}catch(ct){Li(re,re.return,ct)}if(re===W){Ye=null;break e}var qe=re.sibling;if(qe!==null){qe.return=re.return,Ye=qe;break e}Ye=re.return}}if(Ft=C,Bo(),Lo&&typeof Lo.onPostCommitFiberRoot=="function")try{Lo.onPostCommitFiberRoot(Gg,d)}catch{}w=!0}return w}finally{qt=S,nr.transition=h}}return!1}function T2(d,h,S){h=yS(S,h),h=HP(d,h,1),ul(d,h),h=mi(),d=T0(d,1),d!==null&&(kh(d,1,h),Oi(d,h))}function Li(d,h,S){if(d.tag===3)T2(d,d,S);else for(;h!==null;){if(h.tag===3){T2(h,d,S);break}else if(h.tag===1){var w=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(fl===null||!fl.has(w))){d=yS(S,d),d=GP(h,d,1),ul(h,d),d=mi(),h=T0(h,1),h!==null&&(kh(h,1,d),Oi(h,d));break}}h=h.return}}function D9(d,h,S){var w=d.pingCache;w!==null&&w.delete(h),h=mi(),d.pingedLanes|=d.suspendedLanes&S,lr===d&&(zr&S)===S&&(vr===4||vr===3&&(zr&130023424)===zr&&500>Er()-DS?Rc(d,0):BS|=S),Oi(d,h)}function C2(d,h){h===0&&(d.mode&1?(h=zg,zg<<=1,!(zg&130023424)&&(zg=4194304)):h=1);var S=mi();d=T0(d,h),d!==null&&(kh(d,h,S),Oi(d,S))}function k9(d){var h=d.memoizedState,S=0;h!==null&&(S=h.retryLane),C2(d,S)}function N9(d,h){var S=0;switch(d.tag){case 13:var w=d.stateNode,C=d.memoizedState;C!==null&&(S=C.retryLane);break;case 19:w=d.stateNode;break;default:throw Error(o(314))}w!==null&&w.delete(h),C2(d,S)}var R2;R2=function(d,h,S){if(d!==null)if(d.memoizedProps!==h.pendingProps||Wn.current)Zi=!0;else{if(!(d.lanes&S)&&!(h.flags&128))return Zi=!1,w9(d,h,S);Zi=!!(d.flags&131072)}else Zi=!1,wn&&h.flags&1048576&&mP(h,qg,h.index);switch(h.lanes=0,h.tag){case 2:var w=h.type;d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),d=h.pendingProps;var C=Ms(h,Nt.current);Qu(h,S),C=hS(null,h,w,d,C,S);var L=pS();return h.flags|=1,typeof C=="object"&&C!==null&&typeof C.render=="function"&&C.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,wr(w)?(L=!0,Ur(h)):L=!1,h.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,eS(h),C.updater=Yg,h.stateNode=C,C._reactInternals=h,nS(h,w,d,S),h=SS(null,h,w,!0,L,S)):(h.tag=0,wn&&L&&rS(h),pi(null,h,C,S),h=h.child),h;case 16:w=h.elementType;e:{switch(d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),d=h.pendingProps,C=w._init,w=C(w._payload),h.type=w,C=h.tag=U9(w),d=oo(w,d),C){case 0:h=xS(null,h,w,d,S);break e;case 1:h=ZP(null,h,w,d,S);break e;case 11:h=KP(null,h,w,d,S);break e;case 14:h=YP(null,h,w,oo(w.type,d),S);break e}throw Error(o(306,w,""))}return h;case 0:return w=h.type,C=h.pendingProps,C=h.elementType===w?C:oo(w,C),xS(d,h,w,C,S);case 1:return w=h.type,C=h.pendingProps,C=h.elementType===w?C:oo(w,C),ZP(d,h,w,C,S);case 3:e:{if(e2(h),d===null)throw Error(o(387));w=h.pendingProps,L=h.memoizedState,C=L.element,lP(d,h),Kg(h,w,null,S);var W=h.memoizedState;if(w=W.element,_e&&L.isDehydrated)if(L={element:w,isDehydrated:!1,cache:W.cache,transitions:W.transitions},h.updateQueue.baseState=L,h.memoizedState=L,h.flags&256){C=Error(o(423)),h=t2(d,h,w,S,C);break e}else if(w!==C){C=Error(o(424)),h=t2(d,h,w,S,C);break e}else for(_e&&(Qi=lt(h.stateNode.containerInfo),qi=h,wn=!0,ao=null,Nh=!1),S=SP(h,null,w,S),h.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(tf(),w===C){h=ya(d,h,S);break e}pi(d,h,w,S)}h=h.child}return h;case 5:return bP(h),d===null&&oS(h),w=h.type,C=h.pendingProps,L=d!==null?d.memoizedProps:null,W=C.children,ue(w,C)?W=null:L!==null&&ue(w,L)&&(h.flags|=32),QP(d,h),pi(d,h,W,S),h.child;case 6:return d===null&&oS(h),null;case 13:return n2(d,h,S);case 4:return lS(h,h.stateNode.containerInfo),w=h.pendingProps,d===null?h.child=nf(h,null,w,S):pi(d,h,w,S),h.child;case 11:return w=h.type,C=h.pendingProps,C=h.elementType===w?C:oo(w,C),KP(d,h,w,C,S);case 7:return pi(d,h,h.pendingProps,S),h.child;case 8:return pi(d,h,h.pendingProps.children,S),h.child;case 12:return pi(d,h,h.pendingProps.children,S),h.child;case 10:e:{if(w=h.type._context,C=h.pendingProps,L=h.memoizedProps,W=C.value,aP(h,w,W),L!==null)if(Io(L.value,W)){if(L.children===C.children&&!Wn.current){h=ya(d,h,S);break e}}else for(L=h.child,L!==null&&(L.return=h);L!==null;){var re=L.dependencies;if(re!==null){W=L.child;for(var ye=re.firstContext;ye!==null;){if(ye.context===w){if(L.tag===1){ye=pa(-1,S&-S),ye.tag=2;var Ne=L.updateQueue;if(Ne!==null){Ne=Ne.shared;var it=Ne.pending;it===null?ye.next=ye:(ye.next=it.next,it.next=ye),Ne.pending=ye}}L.lanes|=S,ye=L.alternate,ye!==null&&(ye.lanes|=S),Z1(L.return,S,h),re.lanes|=S;break}ye=ye.next}}else if(L.tag===10)W=L.type===h.type?null:L.child;else if(L.tag===18){if(W=L.return,W===null)throw Error(o(341));W.lanes|=S,re=W.alternate,re!==null&&(re.lanes|=S),Z1(W,S,h),W=L.sibling}else W=L.child;if(W!==null)W.return=L;else for(W=L;W!==null;){if(W===h){W=null;break}if(L=W.sibling,L!==null){L.return=W.return,W=L;break}W=W.return}L=W}pi(d,h,C.children,S),h=h.child}return h;case 9:return C=h.type,w=h.pendingProps.children,Qu(h,S),C=Ts(C),w=w(C),h.flags|=1,pi(d,h,w,S),h.child;case 14:return w=h.type,C=oo(w,h.pendingProps),C=oo(w.type,C),YP(d,h,w,C,S);case 15:return JP(d,h,h.type,h.pendingProps,S);case 17:return w=h.type,C=h.pendingProps,C=h.elementType===w?C:oo(w,C),d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,wr(w)?(d=!0,Ur(h)):d=!1,Qu(h,S),hP(h,w,C),nS(h,w,C,S),SS(null,h,w,!0,d,S);case 19:return o2(d,h,S);case 22:return qP(d,h,S)}throw Error(o(156,h.tag))};function P2(d,h){return j1(d,h)}function F9(d,h,S,w){this.tag=d,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Is(d,h,S,w){return new F9(d,h,S,w)}function VS(d){return d=d.prototype,!(!d||!d.isReactComponent)}function U9(d){if(typeof d=="function")return VS(d)?1:0;if(d!=null){if(d=d.$$typeof,d===y)return 11;if(d===x)return 14}return 2}function ml(d,h){var S=d.alternate;return S===null?(S=Is(d.tag,h,d.key,d.mode),S.elementType=d.elementType,S.type=d.type,S.stateNode=d.stateNode,S.alternate=d,d.alternate=S):(S.pendingProps=h,S.type=d.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=d.flags&14680064,S.childLanes=d.childLanes,S.lanes=d.lanes,S.child=d.child,S.memoizedProps=d.memoizedProps,S.memoizedState=d.memoizedState,S.updateQueue=d.updateQueue,h=d.dependencies,S.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},S.sibling=d.sibling,S.index=d.index,S.ref=d.ref,S}function R0(d,h,S,w,C,L){var W=2;if(w=d,typeof d=="function")VS(d)&&(W=1);else if(typeof d=="string")W=5;else e:switch(d){case u:return Lc(S.children,C,L,h);case f:W=8,C|=8;break;case p:return d=Is(12,S,h,C|2),d.elementType=p,d.lanes=L,d;case _:return d=Is(13,S,h,C),d.elementType=_,d.lanes=L,d;case v:return d=Is(19,S,h,C),d.elementType=v,d.lanes=L,d;case A:return P0(S,C,L,h);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case m:W=10;break e;case g:W=9;break e;case y:W=11;break e;case x:W=14;break e;case b:W=16,w=null;break e}throw Error(o(130,d==null?d:typeof d,""))}return h=Is(W,S,h,C),h.elementType=d,h.type=w,h.lanes=L,h}function Lc(d,h,S,w){return d=Is(7,d,w,h),d.lanes=S,d}function P0(d,h,S,w){return d=Is(22,d,w,h),d.elementType=A,d.lanes=S,d.stateNode={},d}function WS(d,h,S){return d=Is(6,d,null,h),d.lanes=S,d}function $S(d,h,S){return h=Is(4,d.children!==null?d.children:[],d.key,h),h.lanes=S,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}function z9(d,h,S,w,C){this.tag=h,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ve,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=W1(0),this.expirationTimes=W1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=W1(0),this.identifierPrefix=w,this.onRecoverableError=C,_e&&(this.mutableSourceEagerHydrationData=null)}function O2(d,h,S,w,C,L,W,re,ye){return d=new z9(d,h,S,re,ye),h===1?(h=1,L===!0&&(h|=8)):h=0,L=Is(3,null,null,h),d.current=L,L.stateNode=d,L.memoizedState={element:w,isDehydrated:S,cache:null,transitions:null},eS(L),d}function L2(d){if(!d)return Es;d=d._reactInternals;e:{if(T(d)!==d||d.tag!==1)throw Error(o(170));var h=d;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(wr(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(d.tag===1){var S=d.type;if(wr(S))return Yu(d,S,h)}return h}function I2(d){var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=U(h),d===null?null:d.stateNode}function B2(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var S=d.retryLane;d.retryLane=S!==0&&S<h?S:h}}function jS(d,h){B2(d,h),(d=d.alternate)&&B2(d,h)}function H9(d){return d=U(d),d===null?null:d.stateNode}function G9(){return null}return t.attemptContinuousHydration=function(d){if(d.tag===13){var h=mi();Ls(d,134217728,h),jS(d,134217728)}},t.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var h=mi(),S=hl(d);Ls(d,S,h),jS(d,S)}},t.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var h=d.stateNode;if(h.current.memoizedState.isDehydrated){var S=Dh(h.pendingLanes);S!==0&&($1(h,S|1),Oi(h,Er()),!(Ft&6)&&(cf(),Bo()))}break;case 13:var w=mi();b2(function(){return Ls(d,1,w)}),jS(d,1)}},t.batchedUpdates=function(d,h){var S=Ft;Ft|=1;try{return d(h)}finally{Ft=S,Ft===0&&(cf(),Vg&&Bo())}},t.createComponentSelector=function(d){return{$$typeof:m0,value:d}},t.createContainer=function(d,h,S,w,C,L,W){return O2(d,h,!1,null,S,w,C,L,W)},t.createHasPseudoClassSelector=function(d){return{$$typeof:g0,value:d}},t.createHydrationContainer=function(d,h,S,w,C,L,W,re,ye){return d=O2(S,w,!0,d,C,L,W,re,ye),d.context=L2(null),S=d.current,w=mi(),C=hl(S),L=pa(w,C),L.callback=h??null,ul(S,L),d.current.lanes=C,kh(d,C,w),Oi(d,w),d},t.createPortal=function(d,h,S){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:w==null?null:""+w,children:d,containerInfo:h,implementation:S}},t.createRoleSelector=function(d){return{$$typeof:v0,value:d}},t.createTestNameSelector=function(d){return{$$typeof:y0,value:d}},t.createTextSelector=function(d){return{$$typeof:_0,value:d}},t.deferredUpdates=function(d){var h=qt,S=nr.transition;try{return nr.transition=null,qt=16,d()}finally{qt=h,nr.transition=S}},t.discreteUpdates=function(d,h,S,w,C){var L=qt,W=nr.transition;try{return nr.transition=null,qt=1,d(h,S,w,C)}finally{qt=L,nr.transition=W,Ft===0&&cf()}},t.findAllNodes=LS,t.findBoundingRects=function(d,h){if(!D)throw Error(o(363));h=LS(d,h),d=[];for(var S=0;S<h.length;S++)d.push(Ee(h[S]));for(h=d.length-1;0<h;h--){S=d[h];for(var w=S.x,C=w+S.width,L=S.y,W=L+S.height,re=h-1;0<=re;re--)if(h!==re){var ye=d[re],Ne=ye.x,it=Ne+ye.width,Ct=ye.y,mt=Ct+ye.height;if(w>=Ne&&L>=Ct&&C<=it&&W<=mt){d.splice(h,1);break}else if(w!==Ne||S.width!==ye.width||mt<L||Ct>W){if(!(L!==Ct||S.height!==ye.height||it<w||Ne>C)){Ne>w&&(ye.width+=Ne-w,ye.x=w),it<C&&(ye.width=C-Ne),d.splice(h,1);break}}else{Ct>L&&(ye.height+=Ct-L,ye.y=L),mt<W&&(ye.height=W-Ct),d.splice(h,1);break}}}return d},t.findHostInstance=I2,t.findHostInstanceWithNoPortals=function(d){return d=B(d),d=d!==null?N(d):null,d===null?null:d.stateNode},t.findHostInstanceWithWarning=function(d){return I2(d)},t.flushControlled=function(d){var h=Ft;Ft|=1;var S=nr.transition,w=qt;try{nr.transition=null,qt=1,d()}finally{qt=w,nr.transition=S,Ft=h,Ft===0&&(cf(),Bo())}},t.flushPassiveEffects=Oc,t.flushSync=b2,t.focusWithin=function(d,h){if(!D)throw Error(o(363));for(d=RS(d),h=_2(d,h),h=Array.from(h),d=0;d<h.length;){var S=h[d++];if(!le(S)){if(S.tag===5&&Te(S.stateNode))return!0;for(S=S.child;S!==null;)h.push(S),S=S.sibling}}return!1},t.getCurrentUpdatePriority=function(){return qt},t.getFindAllNodesFailureDescription=function(d,h){if(!D)throw Error(o(363));var S=0,w=[];d=[RS(d),0];for(var C=0;C<d.length;){var L=d[C++],W=d[C++],re=h[W];if((L.tag!==5||!le(L))&&(PS(L,re)&&(w.push(OS(re)),W++,W>S&&(S=W)),W<h.length))for(L=L.child;L!==null;)d.push(L,W),L=L.sibling}if(S<h.length){for(d=[];S<h.length;S++)d.push(OS(h[S]));return`findAllNodes was able to match part of the selector:
  `+(w.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},t.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return V(d.child.stateNode);default:return d.child.stateNode}},t.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:H9,findFiberByHostInstance:d.findFiberByHostInstance||G9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)d=!0;else{try{Gg=h.inject(d),Lo=h}catch{}d=!!h.checkDCE}}return d},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(d,h,S,w){if(!D)throw Error(o(363));d=LS(d,h);var C=Ie(d,S,w).disconnect;return{disconnect:function(){C()}}},t.registerMutableSourceForHydration=function(d,h){var S=h._getVersion;S=S(h._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[h,S]:d.mutableSourceEagerHydrationData.push(h,S)},t.runWithPriority=function(d,h){var S=qt;try{return qt=d,h()}finally{qt=S}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(d,h,S,w){var C=h.current,L=mi(),W=hl(C);return S=L2(S),h.context===null?h.context=S:h.pendingContext=S,h=pa(L,W),h.payload={element:d},w=w===void 0?null:w,w!==null&&(h.callback=w),ul(C,h),d=Ls(C,W,L),d!==null&&Xg(d,C,W),W},t};iz.exports=sJ;var oJ=iz.exports;const aJ=dc(oJ),lJ=n=>typeof n=="object"&&typeof n.then=="function",lu=[];function az(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function lz(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of lu)if(az(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=lu.indexOf(i);s!==-1&&lu.splice(s,1)},promise:(lJ(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(lu.push(i),!t)throw i.promise}const cJ=(n,e,t)=>lz(n,e,!1,t),uJ=(n,e,t)=>void lz(n,e,!0,t),fJ=n=>{if(n===void 0||n.length===0)lu.splice(0,lu.length);else{const e=lu.find(t=>az(n,t.keys,t.equal));e&&e.remove()}},FC={},dJ=n=>void Object.assign(FC,n);function hJ(n,e){function t(u,{args:f=[],attach:p,...m},g){let y=`${u[0].toUpperCase()}${u.slice(1)}`,_;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=m.object;_=Vf(v,{type:u,root:g,attach:p,primitive:!0})}else{const v=FC[y];if(!v)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");_=Vf(new v(...f),{type:u,root:g,attach:p,memoizedProps:{args:f}})}return _.__r3f.attach===void 0&&(_ instanceof Ot?_.__r3f.attach="geometry":_ instanceof pr&&(_.__r3f.attach="material")),y!=="inject"&&iA(_,m),_}function r(u,f){let p=!1;if(f){var m,g;(m=f.__r3f)!=null&&m.attach?rA(u,f,f.__r3f.attach):f.isObject3D&&u.isObject3D&&(u.add(f),p=!0),p||(g=u.__r3f)==null||g.objects.push(f),f.__r3f||Vf(f,{}),f.__r3f.parent=u,DE(f),Wf(f)}}function i(u,f,p){let m=!1;if(f){var g,y;if((g=f.__r3f)!=null&&g.attach)rA(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"});const _=u.children.filter(x=>x!==f),v=_.indexOf(p);u.children=[..._.slice(0,v),f,..._.slice(v)],m=!0}m||(y=u.__r3f)==null||y.objects.push(f),f.__r3f||Vf(f,{}),f.__r3f.parent=u,DE(f),Wf(f)}}function s(u,f,p=!1){u&&[...u].forEach(m=>o(f,m,p))}function o(u,f,p){if(f){var m,g,y;if(f.__r3f&&(f.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(A=>A!==f)),(g=f.__r3f)!=null&&g.attach)wI(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){var _;u.remove(f),(_=f.__r3f)!=null&&_.root&&bJ(Ey(f),f)}const x=(y=f.__r3f)==null?void 0:y.primitive,b=!x&&(p===void 0?f.dispose!==null:p);if(!x){var v;s((v=f.__r3f)==null?void 0:v.objects,f,b),s(f.children,f,b)}if(delete f.__r3f,b&&f.dispose&&f.type!=="Scene"){const A=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?IE.unstable_scheduleCallback(IE.unstable_IdlePriority,A):A()}Wf(u)}}function a(u,f,p,m){var g;const y=(g=u.__r3f)==null?void 0:g.parent;if(!y)return;const _=t(f,p,u.__r3f.root);if(u.children){for(const v of u.children)v.__r3f&&r(_,v);u.children=u.children.filter(v=>!v.__r3f)}u.__r3f.objects.forEach(v=>r(_,v)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(y,u),_.parent&&(_.__r3f.autoRemovedBeforeAppend=!0),r(y,_),_.raycast&&_.__r3f.eventCount&&Ey(_).getState().internal.interaction.push(_),[m,m.alternate].forEach(v=>{v!==null&&(v.stateNode=_,v.ref&&(typeof v.ref=="function"?v.ref(_):v.ref.current=_))})}const l=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:aJ({createInstance:t,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,f)=>{if(!f)return;const p=u.getState().scene;p.__r3f&&(p.__r3f.root=u,r(p,f))},removeChildFromContainer:(u,f)=>{f&&o(u.getState().scene,f)},insertInContainerBefore:(u,f,p)=>{if(!f||!p)return;const m=u.getState().scene;m.__r3f&&i(m,f,p)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var f;return!!((f=u==null?void 0:u.__r3f)!=null?f:{}).handlers},prepareUpdate(u,f,p,m){var g;if(((g=u==null?void 0:u.__r3f)!=null?g:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:_=[],children:v,...x}=m,{args:b=[],children:A,...M}=p;if(!Array.isArray(_))throw new Error("R3F: the args prop must be an array!");if(_.some((R,I)=>R!==b[I]))return[!0];const E=mz(u,x,M,!0);return E.changes.length?[!1,E]:null}},commitUpdate(u,[f,p],m,g,y,_){f?a(u,m,y,_):iA(u,p)},commitMount(u,f,p,m){var g;const y=(g=u.__r3f)!=null?g:{};u.raycast&&y.handlers&&y.eventCount&&Ey(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Vf(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var f;const{attach:p,parent:m}=(f=u.__r3f)!=null?f:{};p&&m&&wI(m,u,p),u.isObject3D&&(u.visible=!1),Wf(u)},unhideInstance(u,f){var p;const{attach:m,parent:g}=(p=u.__r3f)!=null?p:{};m&&g&&rA(g,u,m),(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0),Wf(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():cd.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&xn.fun(performance.now)?performance.now:xn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:xn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:xn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:iA}}var xI,SI;const nA=n=>"colorSpace"in n||"outputColorSpace"in n,cz=()=>{var n;return(n=FC.ColorManagement)!=null?n:null},uz=n=>n&&n.isOrthographicCamera,pJ=n=>n&&n.hasOwnProperty("current"),xg=typeof window<"u"&&((xI=window.document)!=null&&xI.createElement||((SI=window.navigator)==null?void 0:SI.product)==="ReactNative")?O.useLayoutEffect:O.useEffect;function fz(n){const e=O.useRef(n);return xg(()=>void(e.current=n),[n]),e}function mJ({set:n}){return xg(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}class dz extends O.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}dz.getDerivedStateFromError=()=>({error:!0});const hz="__default",bI=new Map,gJ=n=>n&&!!n.memoized&&!!n.changes;function pz(n){var e;const t=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],t),n[1]):n}const _p=n=>{var e;return(e=n.__r3f)==null?void 0:e.root.getState()};function Ey(n){let e=n.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const xn={obj:n=>n===Object(n)&&!xn.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,arr:n=>Array.isArray(n),equ(n,e,{arrays:t="shallow",objects:r="reference",strict:i=!0}={}){if(typeof n!=typeof e||!!n!=!!e)return!1;if(xn.str(n)||xn.num(n))return n===e;const s=xn.obj(n);if(s&&r==="reference")return n===e;const o=xn.arr(n);if(o&&t==="reference")return n===e;if((o||s)&&n===e)return!0;let a;for(a in n)if(!(a in e))return!1;if(s&&t==="shallow"&&r==="shallow"){for(a in i?e:n)if(!xn.equ(n[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:n)if(n[a]!==e[a])return!1;if(xn.und(a)){if(o&&n.length===0&&e.length===0||s&&Object.keys(n).length===0&&Object.keys(e).length===0)return!0;if(n!==e)return!1}return!0}};function vJ(n){const e={nodes:{},materials:{}};return n&&n.traverse(t=>{t.name&&(e.nodes[t.name]=t),t.material&&!e.materials[t.material.name]&&(e.materials[t.material.name]=t.material)}),e}function yJ(n){n.dispose&&n.type!=="Scene"&&n.dispose();for(const e in n)e.dispose==null||e.dispose(),delete n[e]}function Vf(n,e){const t=n;return t.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},n}function BE(n,e){let t=n;if(e.includes("-")){const r=e.split("-"),i=r.pop();return t=r.reduce((s,o)=>s[o],n),{target:t,key:i}}else return{target:t,key:e}}const AI=/-\d+$/;function rA(n,e,t){if(xn.str(t)){if(AI.test(t)){const s=t.replace(AI,""),{target:o,key:a}=BE(n,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=BE(n,t);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=t(n,e)}function wI(n,e,t){var r,i;if(xn.str(t)){const{target:s,key:o}=BE(n,t),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(n,e);(i=e.__r3f)==null||delete i.previousAttach}function mz(n,{children:e,key:t,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){var u;const f=(u=n==null?void 0:n.__r3f)!=null?u:{},p=Object.entries(i),m=[];if(c){const y=Object.keys(l);for(let _=0;_<y.length;_++)i.hasOwnProperty(y[_])||p.unshift([y[_],hz+"remove"])}p.forEach(([y,_])=>{var v;if((v=n.__r3f)!=null&&v.primitive&&y==="object"||xn.equ(_,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return m.push([y,_,!0,[]]);let x=[];y.includes("-")&&(x=y.split("-")),m.push([y,_,!1,x]);for(const b in i){const A=i[b];b.startsWith(`${y}-`)&&m.push([b,A,!1,b.split("-")])}});const g={...i};return f.memoizedProps&&f.memoizedProps.args&&(g.args=f.memoizedProps.args),f.memoizedProps&&f.memoizedProps.attach&&(g.attach=f.memoizedProps.attach),{memoized:g,changes:m}}const _J=typeof process<"u"&&!1;function iA(n,e){var t,r,i;const s=(t=n.__r3f)!=null?t:{},o=s.root,a=(r=o==null||o.getState==null?void 0:o.getState())!=null?r:{},{memoized:l,changes:c}=gJ(e)?e:mz(n,e),u=s.eventCount;n.__r3f&&(n.__r3f.memoizedProps=l);for(let p=0;p<c.length;p++){let[m,g,y,_]=c[p];if(nA(n)){const A="srgb",M="srgb-linear";m==="encoding"?(m="colorSpace",g=g===3001?A:M):m==="outputEncoding"&&(m="outputColorSpace",g=g===3001?A:M)}let v=n,x=v[m];if(_.length&&(x=_.reduce((b,A)=>b[A],n),!(x&&x.set))){const[b,...A]=_.reverse();v=A.reverse().reduce((M,E)=>M[E],n),m=b}if(g===hz+"remove")if(v.constructor){let b=bI.get(v.constructor);b||(b=new v.constructor,bI.set(v.constructor,b)),g=b[m]}else g=0;if(y)g?s.handlers[m]=g:delete s.handlers[m],s.eventCount=Object.keys(s.handlers).length;else if(x&&x.set&&(x.copy||x instanceof mu)){if(Array.isArray(g))x.fromArray?x.fromArray(g):x.set(...g);else if(x.copy&&g&&g.constructor&&(_J?x.constructor.name===g.constructor.name:x.constructor===g.constructor))x.copy(g);else if(g!==void 0){const b=x instanceof De;!b&&x.setScalar?x.setScalar(g):x instanceof mu&&g instanceof mu?x.mask=g.mask:x.set(g),!cz()&&!a.linear&&b&&x.convertSRGBToLinear()}}else if(v[m]=g,v[m]instanceof Rn&&v[m].format===Ai&&v[m].type===Zo){const b=v[m];nA(b)&&nA(a.gl)?b.colorSpace=a.gl.outputColorSpace:b.encoding=a.gl.outputEncoding}Wf(n)}if(s.parent&&n.raycast&&u!==s.eventCount){const p=Ey(n).getState().internal,m=p.interaction.indexOf(n);m>-1&&p.interaction.splice(m,1),s.eventCount&&p.interaction.push(n)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(i=n.__r3f)!=null&&i.parent&&DE(n),n}function Wf(n){var e,t;const r=(e=n.__r3f)==null||(t=e.root)==null||t.getState==null?void 0:t.getState();r&&r.internal.frames===0&&r.invalidate()}function DE(n){n.onUpdate==null||n.onUpdate(n)}function xJ(n,e){n.manual||(uz(n)?(n.left=e.width/-2,n.right=e.width/2,n.top=e.height/2,n.bottom=e.height/-2):n.aspect=e.width/e.height,n.updateProjectionMatrix(),n.updateMatrixWorld())}function Hv(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function SJ(){var n;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return cd.DefaultEventPriority;switch((n=e.event)==null?void 0:n.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return cd.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return cd.ContinuousEventPriority;default:return cd.DefaultEventPriority}}function gz(n,e,t,r){const i=t.get(e);i&&(t.delete(e),t.size===0&&(n.delete(r),i.target.releasePointerCapture(r)))}function bJ(n,e){const{internal:t}=n.getState();t.interaction=t.interaction.filter(r=>r!==e),t.initialHits=t.initialHits.filter(r=>r!==e),t.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&t.hovered.delete(i)}),t.capturedMap.forEach((r,i)=>{gz(t.capturedMap,e,r,i)})}function AJ(n){function e(l){const{internal:c}=n.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function t(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function r(l,c){const u=n.getState(),f=new Set,p=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let v=0;v<m.length;v++){const x=_p(m[v]);x&&(x.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function g(v){const x=_p(v);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var b;x.events.compute==null||x.events.compute(l,x,(b=x.previousRoot)==null?void 0:b.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(v,!0):[]}let y=m.flatMap(g).sort((v,x)=>{const b=_p(v.object),A=_p(x.object);return!b||!A?v.distance-x.distance:A.events.priority-b.events.priority||v.distance-x.distance}).filter(v=>{const x=Hv(v);return f.has(x)?!1:(f.add(x),!0)});u.events.filter&&(y=u.events.filter(y,u));for(const v of y){let x=v.object;for(;x;){var _;(_=x.__r3f)!=null&&_.eventCount&&p.push({...v,eventObject:x}),x=x.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let v of u.internal.capturedMap.get(l.pointerId).values())f.has(Hv(v.intersection))||p.push(v.intersection);return p}function i(l,c,u,f){const p=n.getState();if(l.length){const m={stopped:!1};for(const g of l){const y=_p(g.object)||p,{raycaster:_,pointer:v,camera:x,internal:b}=y,A=new z(v.x,v.y,0).unproject(x),M=P=>{var B,U;return(B=(U=b.capturedMap.get(P))==null?void 0:U.has(g.eventObject))!=null?B:!1},E=P=>{const B={intersection:g,target:c.target};b.capturedMap.has(P)?b.capturedMap.get(P).set(g.eventObject,B):b.capturedMap.set(P,new Map([[g.eventObject,B]])),c.target.setPointerCapture(P)},R=P=>{const B=b.capturedMap.get(P);B&&gz(b.capturedMap,g.eventObject,B,P)};let I={};for(let P in c){let B=c[P];typeof B!="function"&&(I[P]=B)}let T={...g,...I,pointer:v,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:A,ray:_.ray,camera:x,stopPropagation(){const P="pointerId"in c&&b.capturedMap.get(c.pointerId);if((!P||P.has(g.eventObject))&&(T.stopped=m.stopped=!0,b.hovered.size&&Array.from(b.hovered.values()).find(B=>B.eventObject===g.eventObject))){const B=l.slice(0,l.indexOf(g));s([...B,g])}},target:{hasPointerCapture:M,setPointerCapture:E,releasePointerCapture:R},currentTarget:{hasPointerCapture:M,setPointerCapture:E,releasePointerCapture:R},nativeEvent:c};if(f(T),m.stopped===!0)break}}return l}function s(l){const{internal:c}=n.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const p=u.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(Hv(u)),p!=null&&p.eventCount){const g={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=n.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:f,internal:p}=n.getState();p.lastEvent.current=u;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",_=r(u,m?t:void 0),v=g?e(u):0;l==="onPointerDown"&&(p.initialClick=[u.offsetX,u.offsetY],p.initialHits=_.map(b=>b.eventObject)),g&&!_.length&&v<=2&&(o(u,p.interaction),f&&f(u)),m&&s(_);function x(b){const A=b.eventObject,M=A.__r3f,E=M==null?void 0:M.handlers;if(M!=null&&M.eventCount)if(m){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const R=Hv(b),I=p.hovered.get(R);I?I.stopped&&b.stopPropagation():(p.hovered.set(R,b),E.onPointerOver==null||E.onPointerOver(b),E.onPointerEnter==null||E.onPointerEnter(b))}E.onPointerMove==null||E.onPointerMove(b)}else{const R=E[l];R?(!g||p.initialHits.includes(A))&&(o(u,p.interaction.filter(I=>!p.initialHits.includes(I))),R(b)):g&&p.initialHits.includes(A)&&o(u,p.interaction.filter(I=>!p.initialHits.includes(I)))}}i(_,u,v,x)}}return{handlePointer:a}}const vz=n=>!!(n!=null&&n.render),yz=O.createContext(null),wJ=(n,e)=>{const t=iJ((a,l)=>{const c=new z,u=new z,f=new z;function p(v=l().camera,x=u,b=l().size){const{width:A,height:M,top:E,left:R}=b,I=A/M;x instanceof z?f.copy(x):f.set(...x);const T=v.getWorldPosition(c).distanceTo(f);if(uz(v))return{width:A/v.zoom,height:M/v.zoom,top:E,left:R,factor:1,distance:T,aspect:I};{const P=v.fov*Math.PI/180,B=2*Math.tan(P/2)*T,U=B*(A/M);return{width:U,height:B,top:E,left:R,factor:A/U,distance:T,aspect:I}}}let m;const g=v=>a(x=>({performance:{...x.performance,current:v}})),y=new xe;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>n(l(),v),advance:(v,x)=>e(v,x,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new BC,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=l();m&&clearTimeout(m),v.performance.current!==v.performance.min&&g(v.performance.min),m=setTimeout(()=>g(l().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:v=>a(x=>({...x,events:{...x.events,...v}})),setSize:(v,x,b,A,M)=>{const E=l().camera,R={width:v,height:x,top:A||0,left:M||0,updateStyle:b};a(I=>({size:R,viewport:{...I.viewport,...p(E,u,R)}}))},setDpr:v=>a(x=>{const b=pz(v);return{viewport:{...x.viewport,dpr:b,initialDpr:x.viewport.initialDpr||b}}}),setFrameloop:(v="always")=>{const x=l().clock;x.stop(),x.elapsedTime=0,v!=="never"&&(x.start(),x.elapsedTime=0),a(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:O.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,x,b)=>{const A=l().internal;return A.priority=A.priority+(x>0?1:0),A.subscribers.push({ref:v,priority:x,store:b}),A.subscribers=A.subscribers.sort((M,E)=>M.priority-E.priority),()=>{const M=l().internal;M!=null&&M.subscribers&&(M.priority=M.priority-(x>0?1:0),M.subscribers=M.subscribers.filter(E=>E.ref!==v))}}}}}),r=t.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return t.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:f}=t.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var p;i=l,s=c.dpr,xJ(a,l),u.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),t.subscribe(a=>n(a)),t};let Gv,EJ=new Set,MJ=new Set,TJ=new Set;function sA(n,e){if(n.size)for(const{callback:t}of n.values())t(e)}function xp(n,e){switch(n){case"before":return sA(EJ,e);case"after":return sA(MJ,e);case"tail":return sA(TJ,e)}}let oA,aA;function lA(n,e,t){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof n=="number"&&(r=n-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=n),oA=e.internal.subscribers,Gv=0;Gv<oA.length;Gv++)aA=oA[Gv],aA.ref.current(aA.store.getState(),r,t);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function CJ(n){let e=!1,t,r,i;function s(l){r=requestAnimationFrame(s),e=!0,t=0,xp("before",l);for(const u of n.values()){var c;i=u.store.getState(),i.internal.active&&(i.frameloop==="always"||i.internal.frames>0)&&!((c=i.gl.xr)!=null&&c.isPresenting)&&(t+=lA(l,i))}if(xp("after",l),t===0)return xp("tail",l),e=!1,cancelAnimationFrame(r)}function o(l,c=1){var u;if(!l)return n.forEach(f=>o(f.store.getState()),c);(u=l.gl.xr)!=null&&u.isPresenting||!l.internal.active||l.frameloop==="never"||(l.internal.frames=Math.min(60,l.internal.frames+c),e||(e=!0,requestAnimationFrame(s)))}function a(l,c=!0,u,f){if(c&&xp("before",l),u)lA(l,u,f);else for(const p of n.values())lA(l,p.store.getState());c&&xp("after",l)}return{loop:s,invalidate:o,advance:a}}function _z(){const n=O.useContext(yz);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Go(n=t=>t,e){return _z()(n,e)}function Sg(n,e=0){const t=_z(),r=t.getState().internal.subscribe,i=fz(n);return xg(()=>r(i,e,t),[e,r,t]),null}const EI=new WeakMap;function xz(n,e){return function(t,...r){let i=EI.get(t);return i||(i=new t,EI.set(t,i)),n&&n(i),Promise.all(r.map(s=>new Promise((o,a)=>i.load(s,l=>{l.scene&&Object.assign(l,vJ(l.scene)),o(l)},e,l=>a(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`)))))).finally(()=>i.dispose==null?void 0:i.dispose())}}function xc(n,e,t,r){const i=Array.isArray(e)?e:[e],s=cJ(xz(t,r),[n,...i],{equal:xn.equ});return Array.isArray(e)?s:s[0]}xc.preload=function(n,e,t){const r=Array.isArray(e)?e:[e];return uJ(xz(t),[n,...r])};xc.clear=function(n,e){const t=Array.isArray(e)?e:[e];return fJ([n,...t])};const Jd=new Map,{invalidate:MI,advance:TI}=CJ(Jd),{reconciler:g_,applyProps:Lf}=hJ(Jd,SJ),If={objects:"shallow",strict:!1},RJ=(n,e)=>{const t=typeof n=="function"?n(e):n;return vz(t)?t:new dC({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...n})};function PJ(n,e){const t=typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=t}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:r,height:i,top:s,left:o}=n.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:t}}else if(typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0,updateStyle:t};return{width:0,height:0,top:0,left:0}}function OJ(n){const e=Jd.get(n),t=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||wJ(MI,TI),o=t||g_.createContainer(s,cd.ConcurrentRoot,null,!1,null,"",i,null);e||Jd.set(n,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:f,size:p,scene:m,events:g,onCreated:y,shadows:_=!1,linear:v=!1,flat:x=!1,legacy:b=!1,orthographic:A=!1,frameloop:M="always",dpr:E=[1,2],performance:R,raycaster:I,camera:T,onPointerMissed:P}=u,B=s.getState(),U=B.gl;B.gl||B.set({gl:U=RJ(f,n)});let j=B.raycaster;j||B.set({raycaster:j=new tz});const{params:N,...G}=I||{};if(xn.equ(G,j,If)||Lf(j,{...G}),xn.equ(N,j.params,If)||Lf(j,{params:{...j.params,...N}}),!B.camera||B.camera===c&&!xn.equ(c,T,If)){c=T;const ee=T instanceof ug,J=ee?T:A?new Xs(0,0,0,0,.1,1e3):new Sn(75,0,.1,1e3);ee||(J.position.z=5,T&&Lf(J,T),!B.camera&&!(T!=null&&T.rotation)&&J.lookAt(0,0,0)),B.set({camera:J}),j.camera=J}if(!B.scene){let ee;m instanceof p_?ee=m:(ee=new p_,m&&Lf(ee,m)),B.set({scene:Vf(ee)})}if(!B.xr){var V;const ee=(ue,Ae)=>{const Re=s.getState();Re.frameloop!=="never"&&TI(ue,!0,Re,Ae)},J=()=>{const ue=s.getState();ue.gl.xr.enabled=ue.gl.xr.isPresenting,ue.gl.xr.setAnimationLoop(ue.gl.xr.isPresenting?ee:null),ue.gl.xr.isPresenting||MI(ue)},ne={connect(){const ue=s.getState().gl;ue.xr.addEventListener("sessionstart",J),ue.xr.addEventListener("sessionend",J)},disconnect(){const ue=s.getState().gl;ue.xr.removeEventListener("sessionstart",J),ue.xr.removeEventListener("sessionend",J)}};typeof((V=U.xr)==null?void 0:V.addEventListener)=="function"&&ne.connect(),B.set({xr:ne})}if(U.shadowMap){const ee=U.shadowMap.enabled,J=U.shadowMap.type;if(U.shadowMap.enabled=!!_,xn.boo(_))U.shadowMap.type=xd;else if(xn.str(_)){var $;const ne={basic:tF,percentage:bx,soft:xd,variance:po};U.shadowMap.type=($=ne[_])!=null?$:xd}else xn.obj(_)&&Object.assign(U.shadowMap,_);(ee!==U.shadowMap.enabled||J!==U.shadowMap.type)&&(U.shadowMap.needsUpdate=!0)}const F=cz();F&&("enabled"in F?F.enabled=!b:"legacyMode"in F&&(F.legacyMode=b)),Lf(U,{outputEncoding:v?3e3:3001,toneMapping:x?Qo:WT}),B.legacy!==b&&B.set(()=>({legacy:b})),B.linear!==v&&B.set(()=>({linear:v})),B.flat!==x&&B.set(()=>({flat:x})),f&&!xn.fun(f)&&!vz(f)&&!xn.equ(f,U,If)&&Lf(U,f),g&&!B.events.handlers&&B.set({events:g(s)});const te=PJ(n,p);return xn.equ(te,B.size,If)||B.setSize(te.width,te.height,te.updateStyle,te.top,te.left),E&&B.viewport.dpr!==pz(E)&&B.setDpr(E),B.frameloop!==M&&B.setFrameloop(M),B.onPointerMissed||B.set({onPointerMissed:P}),R&&!xn.equ(R,B.performance,If)&&B.set(ee=>({performance:{...ee.performance,...R}})),a=y,l=!0,this},render(u){return l||this.configure(),g_.updateContainer(O.createElement(LJ,{store:s,children:u,onCreated:a,rootElement:n}),o,null,()=>{}),s},unmount(){Sz(n)}}}function LJ({store:n,children:e,onCreated:t,rootElement:r}){return xg(()=>{const i=n.getState();i.set(s=>({internal:{...s.internal,active:!0}})),t&&t(i),n.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),O.createElement(yz.Provider,{value:n},e)}function Sz(n,e){const t=Jd.get(n),r=t==null?void 0:t.fiber;if(r){const i=t==null?void 0:t.store.getState();i&&(i.internal.active=!1),g_.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),yJ(i),Jd.delete(n),e&&e(n)}catch{}},500)})}}g_.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:O.version});function Oe(){return Oe=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Oe.apply(this,arguments)}function kE(n,e,t){var r,i,s,o,a;e==null&&(e=100);function l(){var u=Date.now()-o;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,t||(a=n.apply(s,i),s=i=null))}var c=function(){s=this,i=arguments,o=Date.now();var u=t&&!r;return r||(r=setTimeout(l,e)),u&&(a=n.apply(s,i),s=i=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},c}kE.debounce=kE;var IJ=kE;const CI=dc(IJ);function BJ(n){let{debounce:e,scroll:t,polyfill:r,offsetSize:i}=n===void 0?{debounce:0,scroll:!1,offsetSize:!1}:n;const s=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!s)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,a]=O.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=O.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o}),c=e?typeof e=="number"?e:e.scroll:null,u=e?typeof e=="number"?e:e.resize:null,f=O.useRef(!1);O.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[p,m,g]=O.useMemo(()=>{const x=()=>{if(!l.current.element)return;const{left:b,top:A,width:M,height:E,bottom:R,right:I,x:T,y:P}=l.current.element.getBoundingClientRect(),B={left:b,top:A,width:M,height:E,bottom:R,right:I,x:T,y:P};l.current.element instanceof HTMLElement&&i&&(B.height=l.current.element.offsetHeight,B.width=l.current.element.offsetWidth),Object.freeze(B),f.current&&!FJ(l.current.lastBounds,B)&&a(l.current.lastBounds=B)};return[x,u?CI(x,u):x,c?CI(x,c):x]},[a,i,c,u]);function y(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(x=>x.removeEventListener("scroll",g,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function _(){l.current.element&&(l.current.resizeObserver=new s(g),l.current.resizeObserver.observe(l.current.element),t&&l.current.scrollContainers&&l.current.scrollContainers.forEach(x=>x.addEventListener("scroll",g,{capture:!0,passive:!0})))}const v=x=>{!x||x===l.current.element||(y(),l.current.element=x,l.current.scrollContainers=bz(x),_())};return kJ(g,!!t),DJ(m),O.useEffect(()=>{y(),_()},[t,g,m]),O.useEffect(()=>y,[]),[v,o,p]}function DJ(n){O.useEffect(()=>{const e=n;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[n])}function kJ(n,e){O.useEffect(()=>{if(e){const t=n;return window.addEventListener("scroll",t,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",t,!0)}},[n,e])}function bz(n){const e=[];if(!n||n===document.body)return e;const{overflow:t,overflowX:r,overflowY:i}=window.getComputedStyle(n);return[t,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(n),[...e,...bz(n.parentElement)]}const NJ=["x","y","top","bottom","left","right","width","height"],FJ=(n,e)=>NJ.every(t=>n[t]===e[t]);var UJ=Object.defineProperty,zJ=Object.defineProperties,HJ=Object.getOwnPropertyDescriptors,RI=Object.getOwnPropertySymbols,GJ=Object.prototype.hasOwnProperty,VJ=Object.prototype.propertyIsEnumerable,PI=(n,e,t)=>e in n?UJ(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,OI=(n,e)=>{for(var t in e||(e={}))GJ.call(e,t)&&PI(n,t,e[t]);if(RI)for(var t of RI(e))VJ.call(e,t)&&PI(n,t,e[t]);return n},WJ=(n,e)=>zJ(n,HJ(e));function Az(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=e?n.return:n.child;for(;r;){const i=Az(r,e,t);if(i)return i;r=e?null:r.sibling}}function wz(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const UC=wz(O.createContext(null));class Ez extends O.Component{render(){return O.createElement(UC.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner:LI,ReactCurrentDispatcher:II}=O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function $J(){const n=O.useContext(UC);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=O.useId();return O.useMemo(()=>{for(const r of[LI==null?void 0:LI.current,n,n==null?void 0:n.alternate]){if(!r)continue;const i=Az(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function jJ(){var n,e;const t=$J(),[r]=O.useState(()=>new Map);r.clear();let i=t;for(;i;){const s=(n=i.type)==null?void 0:n._context;s&&s!==UC&&!r.has(s)&&r.set(s,(e=II==null?void 0:II.current)==null?void 0:e.readContext(wz(s))),i=i.return}return r}function XJ(){const n=jJ();return O.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>O.createElement(e,null,O.createElement(t.Provider,WJ(OI({},r),{value:n.get(t)}))),e=>O.createElement(Ez,OI({},e))),[n])}const cA={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function KJ(n){const{handlePointer:e}=AJ(n);return{priority:1,enabled:!0,compute(t,r,i){r.pointer.set(t.offsetX/r.size.width*2-1,-(t.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(cA).reduce((t,r)=>({...t,[r]:e(r)}),{}),update:()=>{var t;const{events:r,internal:i}=n.getState();(t=i.lastEvent)!=null&&t.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:t=>{var r;const{set:i,events:s}=n.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:t}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=cA[o];t.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:t,events:r}=n.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=cA[s];r.connected.removeEventListener(a,o)}}),t(s=>({events:{...s.events,connected:void 0}}))}}}}const YJ=O.forwardRef(function({children:e,fallback:t,resize:r,style:i,gl:s,events:o=KJ,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:p,orthographic:m,frameloop:g,dpr:y,performance:_,raycaster:v,camera:x,scene:b,onPointerMissed:A,onCreated:M,...E},R){O.useMemo(()=>dJ(tJ),[]);const I=XJ(),[T,P]=BJ({scroll:!0,debounce:{scroll:50,resize:0},...r}),B=O.useRef(null),U=O.useRef(null);O.useImperativeHandle(R,()=>B.current);const j=fz(A),[N,G]=O.useState(!1),[V,$]=O.useState(!1);if(N)throw N;if(V)throw V;const F=O.useRef(null);xg(()=>{const Y=B.current;P.width>0&&P.height>0&&Y&&(F.current||(F.current=OJ(Y)),F.current.configure({gl:s,events:o,shadows:c,linear:u,flat:f,legacy:p,orthographic:m,frameloop:g,dpr:y,performance:_,raycaster:v,camera:x,scene:b,size:P,onPointerMissed:(...te)=>j.current==null?void 0:j.current(...te),onCreated:te=>{te.events.connect==null||te.events.connect(a?pJ(a)?a.current:a:U.current),l&&te.setEvents({compute:(ee,J)=>{const ne=ee[l+"X"],ue=ee[l+"Y"];J.pointer.set(ne/J.size.width*2-1,-(ue/J.size.height)*2+1),J.raycaster.setFromCamera(J.pointer,J.camera)}}),M==null||M(te)}}),F.current.render(O.createElement(I,null,O.createElement(dz,{set:$},O.createElement(O.Suspense,{fallback:O.createElement(mJ,{set:G})},e)))))}),O.useEffect(()=>{const Y=B.current;if(Y)return()=>Sz(Y)},[]);const X=a?"none":"auto";return O.createElement("div",Oe({ref:U,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:X,...i}},E),O.createElement("div",{ref:T,style:{width:"100%",height:"100%"}},O.createElement("canvas",{ref:B,style:{display:"block"}},t)))}),JJ=O.forwardRef(function(e,t){return O.createElement(Ez,null,O.createElement(YJ,Oe({},e,{ref:t})))});function qJ(n,e){typeof n=="function"?n(e):n!=null&&(n.current=e)}function Mz(...n){return e=>n.forEach(t=>qJ(t,e))}function wh(...n){return O.useCallback(Mz(...n),n)}const Tz=O.forwardRef((n,e)=>{const{children:t,...r}=n,i=O.Children.toArray(t),s=i.find(QJ);if(s){const o=s.props.children,a=i.map(l=>l===s?O.Children.count(o)>1?O.Children.only(null):O.isValidElement(o)?o.props.children:null:l);return O.createElement(NE,Oe({},r,{ref:e}),O.isValidElement(o)?O.cloneElement(o,void 0,a):null)}return O.createElement(NE,Oe({},r,{ref:e}),t)});Tz.displayName="Slot";const NE=O.forwardRef((n,e)=>{const{children:t,...r}=n;return O.isValidElement(t)?O.cloneElement(t,{...ZJ(r,t.props),ref:e?Mz(e,t.ref):t.ref}):O.Children.count(t)>1?O.Children.only(null):null});NE.displayName="SlotClone";const Cz=({children:n})=>O.createElement(O.Fragment,null,n);function QJ(n){return O.isValidElement(n)&&n.type===Cz}function ZJ(n,e){const t={...e};for(const r in e){const i=n[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?t[r]=(...a)=>{s(...a),i(...a)}:i&&(t[r]=i):r==="style"?t[r]={...i,...s}:r==="className"&&(t[r]=[i,s].filter(Boolean).join(" "))}return{...n,...t}}const eq=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ju=eq.reduce((n,e)=>{const t=O.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Tz:e;return O.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),O.createElement(a,Oe({},o,{ref:i}))});return t.displayName=`Primitive.${e}`,{...n,[e]:t}},{});function tq(n,e){n&&sg.flushSync(()=>n.dispatchEvent(e))}const nq=O.forwardRef((n,e)=>{var t;const{container:r=globalThis==null||(t=globalThis.document)===null||t===void 0?void 0:t.body,...i}=n;return r?mV.createPortal(O.createElement(ju.div,Oe({},i,{ref:e})),r):null}),rq=nq;var BI=Object.prototype.hasOwnProperty;function v_(n,e){var t,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((r=n.length)===e.length)for(;r--&&v_(n[r],e[r]););return r===-1}if(!t||typeof n=="object"){r=0;for(t in n)if(BI.call(n,t)&&++r&&!BI.call(e,t)||!(t in e)||!v_(n[t],e[t]))return!1;return Object.keys(e).length===r}}return n!==n&&e!==e}function Rz(n,e){if(Object.is(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;const t=Object.keys(n);if(t.length!==Object.keys(e).length)return!1;for(let r=0;r<t.length;r++)if(!Object.prototype.hasOwnProperty.call(e,t[r])||!Object.is(n[t[r]],e[t[r]]))return!1;return!0}var Jx=function(e,t,r,i){this.name=e,this.fn=t,this.args=r,this.modifiers=i};Jx.prototype._test=function(e){var t=this.fn;try{Ad(this.modifiers.slice(),t,this)(e)}catch{t=function(){return!1}}try{return Ad(this.modifiers.slice(),t,this)(e)}catch{return!1}};Jx.prototype._check=function(e){try{Ad(this.modifiers.slice(),this.fn,this)(e)}catch{if(Ad(this.modifiers.slice(),function(r){return r},this)(!1))return}if(!Ad(this.modifiers.slice(),this.fn,this)(e))throw null};Jx.prototype._testAsync=function(e){var t=this;return new Promise(function(r,i){Oz(t.modifiers.slice(),t.fn,t)(e).then(function(s){s?r(e):i(null)}).catch(function(s){return i(s)})})};function Pz(n,e){return e===void 0&&(e="simple"),typeof n=="object"?n[e]:n}function Ad(n,e,t){if(n.length){var r=n.shift(),i=Ad(n,e,t);return r.perform(i,t)}else return Pz(e)}function Oz(n,e,t){if(n.length){var r=n.shift(),i=Oz(n,e,t);return r.performAsync(i,t)}else return function(s){return Promise.resolve(Pz(e,"async")(s))}}var iq=function(e,t,r){this.name=e,this.perform=t,this.performAsync=r},zC=function(n){function e(t,r,i,s){for(var o=[],a=arguments.length-4;a-- >0;)o[a]=arguments[a+4];n.call(this,o),n.captureStackTrace&&n.captureStackTrace(this,e),this.rule=t,this.value=r,this.cause=i,this.target=s}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e}(Error),la=function(e,t){e===void 0&&(e=[]),t===void 0&&(t=[]),this.chain=e,this.nextRuleModifiers=t};la.prototype._applyRule=function(e,t){var r=this;return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];return r.chain.push(new Jx(t,e.apply(r,i),i,r.nextRuleModifiers)),r.nextRuleModifiers=[],r}};la.prototype._applyModifier=function(e,t){return this.nextRuleModifiers.push(new iq(t,e.simple,e.async)),this};la.prototype._clone=function(){return new la(this.chain.slice(),this.nextRuleModifiers.slice())};la.prototype.test=function(e){return this.chain.every(function(t){return t._test(e)})};la.prototype.testAll=function(e){var t=[];return this.chain.forEach(function(r){try{r._check(e)}catch(i){t.push(new zC(r,e,i))}}),t};la.prototype.check=function(e){this.chain.forEach(function(t){try{t._check(e)}catch(r){throw new zC(t,e,r)}})};la.prototype.testAsync=function(e){var t=this;return new Promise(function(r,i){Lz(e,t.chain.slice(),r,i)})};function Lz(n,e,t,r){if(e.length){var i=e.shift();i._testAsync(n).then(function(){Lz(n,e,t,r)},function(s){r(new zC(i,n,s))})}else t(n)}var DI=function(n,e){return e&&typeof n=="string"&&n.trim().length===0?!0:n==null};function sq(n,e){return e===void 0&&(e=!1),{simple:function(t){return DI(t,e)||n.check(t)===void 0},async:function(t){return DI(t,e)||n.testAsync(t)}}}function zi(){return typeof Proxy<"u"?Iz(new la):FE(new la)}var km={};zi.extend=function(n){Object.assign(km,n)};zi.clearCustomRules=function(){km={}};function Iz(n){return new Proxy(n,{get:function(t,r){if(r in t)return t[r];var i=Iz(n._clone());if(r in y_)return i._applyModifier(y_[r],r);if(r in km)return i._applyRule(km[r],r);if(r in UE)return i._applyRule(UE[r],r)}})}function FE(n){var e=function(i,s){return Object.keys(i).forEach(function(o){s[o]=function(){for(var a=[],l=arguments.length;l--;)a[l]=arguments[l];var c=FE(s._clone()),u=c._applyRule(i[o],o).apply(void 0,a);return u}}),s},t=e(UE,n),r=e(km,t);return Object.keys(y_).forEach(function(i){Object.defineProperty(r,i,{get:function(){var s=FE(r._clone());return s._applyModifier(y_[i],i)}})}),r}var y_={not:{simple:function(n){return function(e){return!n(e)}},async:function(n){return function(e){return Promise.resolve(n(e)).then(function(t){return!t}).catch(function(){return!0})}}},some:{simple:function(n){return function(e){return Vv(e).some(function(t){try{return n(t)}catch{return!1}})}},async:function(n){return function(e){return Promise.all(Vv(e).map(function(t){try{return n(t).catch(function(){return!1})}catch{return!1}})).then(function(t){return t.some(Boolean)})}}},every:{simple:function(n){return function(e){return e!==!1&&Vv(e).every(n)}},async:function(n){return function(e){return Promise.all(Vv(e).map(n)).then(function(t){return t.every(Boolean)})}}},strict:{simple:function(n,e){return function(t){return kI(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&n(t):n(t)}},async:function(n,e){return function(t){return Promise.resolve(n(t)).then(function(r){return kI(e)&&t&&typeof t=="object"?Object.keys(e.args[0]).length===Object.keys(t).length&&r:r}).catch(function(){return!1})}}}};function kI(n){return n&&n.name==="schema"&&n.args.length>0&&typeof n.args[0]=="object"}function Vv(n){return typeof n=="string"?n.split(""):n}var UE={equal:function(n){return function(e){return e==n}},exact:function(n){return function(e){return e===n}},number:function(n){return n===void 0&&(n=!0),function(e){return typeof e=="number"&&(n||isFinite(e))}},integer:function(){return function(n){var e=Number.isInteger||oq;return e(n)}},numeric:function(){return function(n){return!isNaN(parseFloat(n))&&isFinite(n)}},string:function(){return Bf("string")},boolean:function(){return Bf("boolean")},undefined:function(){return Bf("undefined")},null:function(){return Bf("null")},array:function(){return Bf("array")},object:function(){return Bf("object")},instanceOf:function(n){return function(e){return e instanceof n}},pattern:function(n){return function(e){return n.test(e)}},lowercase:function(){return function(n){return typeof n=="boolean"||n===n.toLowerCase()&&n.trim()!==""}},uppercase:function(){return function(n){return n===n.toUpperCase()&&n.trim()!==""}},vowel:function(){return function(n){return/^[aeiou]+$/i.test(n)}},consonant:function(){return function(n){return/^(?=[^aeiou])([a-z]+)$/i.test(n)}},first:function(n){return function(e){return e[0]==n}},last:function(n){return function(e){return e[e.length-1]==n}},empty:function(){return function(n){return n.length===0}},length:function(n,e){return function(t){return t.length>=n&&t.length<=(e||n)}},minLength:function(n){return function(e){return e.length>=n}},maxLength:function(n){return function(e){return e.length<=n}},negative:function(){return function(n){return n<0}},positive:function(){return function(n){return n>=0}},between:function(n,e){return function(t){return t>=n&&t<=e}},range:function(n,e){return function(t){return t>=n&&t<=e}},lessThan:function(n){return function(e){return e<n}},lessThanOrEqual:function(n){return function(e){return e<=n}},greaterThan:function(n){return function(e){return e>n}},greaterThanOrEqual:function(n){return function(e){return e>=n}},even:function(){return function(n){return n%2===0}},odd:function(){return function(n){return n%2!==0}},includes:function(n){return function(e){return~e.indexOf(n)}},schema:function(n){return aq(n)},passesAnyOf:function(){for(var n=[],e=arguments.length;e--;)n[e]=arguments[e];return function(t){return n.some(function(r){return r.test(t)})}},optional:sq};function Bf(n){return function(e){return Array.isArray(e)&&n==="array"||e===null&&n==="null"||typeof e===n}}function oq(n){return typeof n=="number"&&isFinite(n)&&Math.floor(n)===n}function aq(n){return{simple:function(e){var t=[];if(Object.keys(n).forEach(function(r){var i=n[r];try{i.check((e||{})[r])}catch(s){s.target=r,t.push(s)}}),t.length>0)throw t;return!0},async:function(e){var t=[],r=Object.keys(n).map(function(i){var s=n[i];return s.testAsync((e||{})[i]).catch(function(o){o.target=i,t.push(o)})});return Promise.all(r).then(function(){if(t.length>0)throw t;return!0})}}}var ln="colors",vi="sizes",st="space",lq={gap:st,gridGap:st,columnGap:st,gridColumnGap:st,rowGap:st,gridRowGap:st,inset:st,insetBlock:st,insetBlockEnd:st,insetBlockStart:st,insetInline:st,insetInlineEnd:st,insetInlineStart:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,marginBlock:st,marginBlockEnd:st,marginBlockStart:st,marginInline:st,marginInlineEnd:st,marginInlineStart:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,paddingBlock:st,paddingBlockEnd:st,paddingBlockStart:st,paddingInline:st,paddingInlineEnd:st,paddingInlineStart:st,top:st,right:st,bottom:st,left:st,scrollMargin:st,scrollMarginTop:st,scrollMarginRight:st,scrollMarginBottom:st,scrollMarginLeft:st,scrollMarginX:st,scrollMarginY:st,scrollMarginBlock:st,scrollMarginBlockEnd:st,scrollMarginBlockStart:st,scrollMarginInline:st,scrollMarginInlineEnd:st,scrollMarginInlineStart:st,scrollPadding:st,scrollPaddingTop:st,scrollPaddingRight:st,scrollPaddingBottom:st,scrollPaddingLeft:st,scrollPaddingX:st,scrollPaddingY:st,scrollPaddingBlock:st,scrollPaddingBlockEnd:st,scrollPaddingBlockStart:st,scrollPaddingInline:st,scrollPaddingInlineEnd:st,scrollPaddingInlineStart:st,fontSize:"fontSizes",background:ln,backgroundColor:ln,backgroundImage:ln,borderImage:ln,border:ln,borderBlock:ln,borderBlockEnd:ln,borderBlockStart:ln,borderBottom:ln,borderBottomColor:ln,borderColor:ln,borderInline:ln,borderInlineEnd:ln,borderInlineStart:ln,borderLeft:ln,borderLeftColor:ln,borderRight:ln,borderRightColor:ln,borderTop:ln,borderTopColor:ln,caretColor:ln,color:ln,columnRuleColor:ln,fill:ln,outline:ln,outlineColor:ln,stroke:ln,textDecorationColor:ln,fontFamily:"fonts",fontWeight:"fontWeights",lineHeight:"lineHeights",letterSpacing:"letterSpacings",blockSize:vi,minBlockSize:vi,maxBlockSize:vi,inlineSize:vi,minInlineSize:vi,maxInlineSize:vi,width:vi,minWidth:vi,maxWidth:vi,height:vi,minHeight:vi,maxHeight:vi,flexBasis:vi,gridTemplateColumns:vi,gridTemplateRows:vi,borderWidth:"borderWidths",borderTopWidth:"borderWidths",borderRightWidth:"borderWidths",borderBottomWidth:"borderWidths",borderLeftWidth:"borderWidths",borderStyle:"borderStyles",borderTopStyle:"borderStyles",borderRightStyle:"borderStyles",borderBottomStyle:"borderStyles",borderLeftStyle:"borderStyles",borderRadius:"radii",borderTopLeftRadius:"radii",borderTopRightRadius:"radii",borderBottomRightRadius:"radii",borderBottomLeftRadius:"radii",boxShadow:"shadows",textShadow:"shadows",transition:"transitions",zIndex:"zIndices"},cq=(n,e)=>typeof e=="function"?{"()":Function.prototype.toString.call(e)}:e,Eh=()=>{const n=Object.create(null);return(e,t,...r)=>{const i=(s=>JSON.stringify(s,cq))(e);return i in n?n[i]:n[i]=t(e,...r)}},yu=Symbol.for("sxs.internal"),HC=(n,e)=>Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)),NI=n=>{for(const e in n)return!0;return!1},{hasOwnProperty:uq}=Object.prototype,zE=n=>n.includes("-")?n:n.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),fq=/\s+(?![^()]*\))/,Df=n=>e=>n(...typeof e=="string"?String(e).split(fq):[e]),FI={appearance:n=>({WebkitAppearance:n,appearance:n}),backfaceVisibility:n=>({WebkitBackfaceVisibility:n,backfaceVisibility:n}),backdropFilter:n=>({WebkitBackdropFilter:n,backdropFilter:n}),backgroundClip:n=>({WebkitBackgroundClip:n,backgroundClip:n}),boxDecorationBreak:n=>({WebkitBoxDecorationBreak:n,boxDecorationBreak:n}),clipPath:n=>({WebkitClipPath:n,clipPath:n}),content:n=>({content:n.includes('"')||n.includes("'")||/^([A-Za-z]+\([^]*|[^]*-quote|inherit|initial|none|normal|revert|unset)$/.test(n)?n:`"${n}"`}),hyphens:n=>({WebkitHyphens:n,hyphens:n}),maskImage:n=>({WebkitMaskImage:n,maskImage:n}),maskSize:n=>({WebkitMaskSize:n,maskSize:n}),tabSize:n=>({MozTabSize:n,tabSize:n}),textSizeAdjust:n=>({WebkitTextSizeAdjust:n,textSizeAdjust:n}),userSelect:n=>({WebkitUserSelect:n,userSelect:n}),marginBlock:Df((n,e)=>({marginBlockStart:n,marginBlockEnd:e||n})),marginInline:Df((n,e)=>({marginInlineStart:n,marginInlineEnd:e||n})),maxSize:Df((n,e)=>({maxBlockSize:n,maxInlineSize:e||n})),minSize:Df((n,e)=>({minBlockSize:n,minInlineSize:e||n})),paddingBlock:Df((n,e)=>({paddingBlockStart:n,paddingBlockEnd:e||n})),paddingInline:Df((n,e)=>({paddingInlineStart:n,paddingInlineEnd:e||n}))},uA=/([\d.]+)([^]*)/,dq=(n,e)=>n.length?n.reduce((t,r)=>(t.push(...e.map(i=>i.includes("&")?i.replace(/&/g,/[ +>|~]/.test(r)&&/&.*&/.test(i)?`:is(${r})`:r):r+" "+i)),t),[]):e,hq=(n,e)=>n in pq&&typeof e=="string"?e.replace(/^((?:[^]*[^\w-])?)(fit-content|stretch)((?:[^\w-][^]*)?)$/,(t,r,i,s)=>r+(i==="stretch"?`-moz-available${s};${zE(n)}:${r}-webkit-fill-available`:`-moz-fit-content${s};${zE(n)}:${r}fit-content`)+s):String(e),pq={blockSize:1,height:1,inlineSize:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,width:1},Ja=n=>n?n+"-":"",Bz=(n,e,t)=>n.replace(/([+-])?((?:\d+(?:\.\d*)?|\.\d+)(?:[Ee][+-]?\d+)?)?(\$|--)([$\w-]+)/g,(r,i,s,o,a)=>o=="$"==!!s?r:(i||o=="--"?"calc(":"")+"var(--"+(o==="$"?Ja(e)+(a.includes("$")?"":Ja(t))+a.replace(/\$/g,"-"):a)+")"+(i||o=="--"?"*"+(i||"")+(s||"1")+")":"")),mq=/\s*,\s*(?![^()]*\))/,gq=Object.prototype.toString,ud=(n,e,t,r,i)=>{let s,o,a;const l=(c,u,f)=>{let p,m;const g=y=>{for(p in y){const x=p.charCodeAt(0)===64,b=x&&Array.isArray(y[p])?y[p]:[y[p]];for(m of b){const A=/[A-Z]/.test(v=p)?v:v.replace(/-[^]/g,E=>E[1].toUpperCase()),M=typeof m=="object"&&m&&m.toString===gq&&(!r.utils[A]||!u.length);if(A in r.utils&&!M){const E=r.utils[A];if(E!==o){o=E,g(E(m)),o=null;continue}}else if(A in FI){const E=FI[A];if(E!==a){a=E,g(E(m)),a=null;continue}}if(x&&(_=p.slice(1)in r.media?"@media "+r.media[p.slice(1)]:p,p=_.replace(/\(\s*([\w-]+)\s*(=|<|<=|>|>=)\s*([\w-]+)\s*(?:(<|<=|>|>=)\s*([\w-]+)\s*)?\)/g,(E,R,I,T,P,B)=>{const U=uA.test(R),j=.0625*(U?-1:1),[N,G]=U?[T,R]:[R,T];return"("+(I[0]==="="?"":I[0]===">"===U?"max-":"min-")+N+":"+(I[0]!=="="&&I.length===1?G.replace(uA,(V,$,F)=>Number($)+j*(I===">"?1:-1)+F):G)+(P?") and ("+(P[0]===">"?"min-":"max-")+N+":"+(P.length===1?B.replace(uA,(V,$,F)=>Number($)+j*(P===">"?-1:1)+F):B):"")+")"})),M){const E=x?f.concat(p):[...f],R=x?[...u]:dq(u,p.split(mq));s!==void 0&&i(UI(...s)),s=void 0,l(m,R,E)}else s===void 0&&(s=[[],u,f]),p=x||p.charCodeAt(0)!==36?p:`--${Ja(r.prefix)}${p.slice(1).replace(/\$/g,"-")}`,m=M?m:typeof m=="number"?m&&A in vq?String(m)+"px":String(m):Bz(hq(A,m??""),r.prefix,r.themeMap[A]),s[0].push(`${x?`${p} `:`${zE(p)}:`}${m}`)}}var _,v};g(c),s!==void 0&&i(UI(...s)),s=void 0};l(n,e,t)},UI=(n,e,t)=>`${t.map(r=>`${r}{`).join("")}${e.length?`${e.join(",")}{`:""}${n.join(";")}${e.length?"}":""}${Array(t.length?t.length+1:0).join("}")}`,vq={animationDelay:1,animationDuration:1,backgroundSize:1,blockSize:1,border:1,borderBlock:1,borderBlockEnd:1,borderBlockEndWidth:1,borderBlockStart:1,borderBlockStartWidth:1,borderBlockWidth:1,borderBottom:1,borderBottomLeftRadius:1,borderBottomRightRadius:1,borderBottomWidth:1,borderEndEndRadius:1,borderEndStartRadius:1,borderInlineEnd:1,borderInlineEndWidth:1,borderInlineStart:1,borderInlineStartWidth:1,borderInlineWidth:1,borderLeft:1,borderLeftWidth:1,borderRadius:1,borderRight:1,borderRightWidth:1,borderSpacing:1,borderStartEndRadius:1,borderStartStartRadius:1,borderTop:1,borderTopLeftRadius:1,borderTopRightRadius:1,borderTopWidth:1,borderWidth:1,bottom:1,columnGap:1,columnRule:1,columnRuleWidth:1,columnWidth:1,containIntrinsicSize:1,flexBasis:1,fontSize:1,gap:1,gridAutoColumns:1,gridAutoRows:1,gridTemplateColumns:1,gridTemplateRows:1,height:1,inlineSize:1,inset:1,insetBlock:1,insetBlockEnd:1,insetBlockStart:1,insetInline:1,insetInlineEnd:1,insetInlineStart:1,left:1,letterSpacing:1,margin:1,marginBlock:1,marginBlockEnd:1,marginBlockStart:1,marginBottom:1,marginInline:1,marginInlineEnd:1,marginInlineStart:1,marginLeft:1,marginRight:1,marginTop:1,maxBlockSize:1,maxHeight:1,maxInlineSize:1,maxWidth:1,minBlockSize:1,minHeight:1,minInlineSize:1,minWidth:1,offsetDistance:1,offsetRotate:1,outline:1,outlineOffset:1,outlineWidth:1,overflowClipMargin:1,padding:1,paddingBlock:1,paddingBlockEnd:1,paddingBlockStart:1,paddingBottom:1,paddingInline:1,paddingInlineEnd:1,paddingInlineStart:1,paddingLeft:1,paddingRight:1,paddingTop:1,perspective:1,right:1,rowGap:1,scrollMargin:1,scrollMarginBlock:1,scrollMarginBlockEnd:1,scrollMarginBlockStart:1,scrollMarginBottom:1,scrollMarginInline:1,scrollMarginInlineEnd:1,scrollMarginInlineStart:1,scrollMarginLeft:1,scrollMarginRight:1,scrollMarginTop:1,scrollPadding:1,scrollPaddingBlock:1,scrollPaddingBlockEnd:1,scrollPaddingBlockStart:1,scrollPaddingBottom:1,scrollPaddingInline:1,scrollPaddingInlineEnd:1,scrollPaddingInlineStart:1,scrollPaddingLeft:1,scrollPaddingRight:1,scrollPaddingTop:1,shapeMargin:1,textDecoration:1,textDecorationThickness:1,textIndent:1,textUnderlineOffset:1,top:1,transitionDelay:1,transitionDuration:1,verticalAlign:1,width:1,wordSpacing:1},zI=n=>String.fromCharCode(n+(n>25?39:97)),_u=n=>(e=>{let t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=zI(t%52)+r;return zI(t%52)+r})(((e,t)=>{let r=t.length;for(;r;)e=33*e^t.charCodeAt(--r);return e})(5381,JSON.stringify(n))>>>0),Bp=["themed","global","styled","onevar","resonevar","allvar","inline"],yq=n=>{if(n.href&&!n.href.startsWith(location.origin))return!1;try{return!!n.cssRules}catch{return!1}},_q=n=>{let e;const t=()=>{const{cssRules:i}=e.sheet;return[].map.call(i,(s,o)=>{const{cssText:a}=s;let l="";if(a.startsWith("--sxs"))return"";if(i[o-1]&&(l=i[o-1].cssText).startsWith("--sxs")){if(!s.cssRules.length)return"";for(const c in e.rules)if(e.rules[c].group===s)return`--sxs{--sxs:${[...e.rules[c].cache].join(" ")}}${a}`;return s.cssRules.length?`${l}${a}`:""}return a}).join("")},r=()=>{if(e){const{rules:a,sheet:l}=e;if(!l.deleteRule){for(;Object(Object(l.cssRules)[0]).type===3;)l.cssRules.splice(0,1);l.cssRules=[]}for(const c in a)delete a[c]}const i=Object(n).styleSheets||[];for(const a of i)if(yq(a)){for(let l=0,c=a.cssRules;c[l];++l){const u=Object(c[l]);if(u.type!==1)continue;const f=Object(c[l+1]);if(f.type!==4)continue;++l;const{cssText:p}=u;if(!p.startsWith("--sxs"))continue;const m=p.slice(14,-3).trim().split(/\s+/),g=Bp[m[0]];g&&(e||(e={sheet:a,reset:r,rules:{},toString:t}),e.rules[g]={group:f,index:l,cache:new Set(m)})}if(e)break}if(!e){const a=(l,c)=>({type:c,cssRules:[],insertRule(u,f){this.cssRules.splice(f,0,a(u,{import:3,undefined:1}[(u.toLowerCase().match(/^@([a-z]+)/)||[])[1]]||4))},get cssText(){return l==="@media{}"?`@media{${[].map.call(this.cssRules,u=>u.cssText).join("")}}`:l}});e={sheet:n?(n.head||n).appendChild(document.createElement("style")).sheet:a("","text/css"),rules:{},reset:r,toString:t}}const{sheet:s,rules:o}=e;for(let a=Bp.length-1;a>=0;--a){const l=Bp[a];if(!o[l]){const c=Bp[a+1],u=o[c]?o[c].index:s.cssRules.length;s.insertRule("@media{}",u),s.insertRule(`--sxs{--sxs:${a}}`,u),o[l]={group:s.cssRules[u+1],index:u,cache:new Set([a])}}xq(o[l])}};return r(),e},xq=n=>{const e=n.group;let t=e.cssRules.length;n.apply=r=>{try{e.insertRule(r,t),++t}catch{}}},Sp=Symbol(),Sq=Eh(),HI=(n,e)=>Sq(n,()=>(...t)=>{let r={type:null,composers:new Set};for(const i of t)if(i!=null)if(i[yu]){r.type==null&&(r.type=i[yu].type);for(const s of i[yu].composers)r.composers.add(s)}else i.constructor!==Object||i.$$typeof?r.type==null&&(r.type=i):r.composers.add(bq(i,n));return r.type==null&&(r.type="span"),r.composers.size||r.composers.add(["PJLV",{},[],[],{},[]]),Aq(n,r,e)}),bq=({variants:n,compoundVariants:e,defaultVariants:t,...r},i)=>{const s=`${Ja(i.prefix)}c-${_u(r)}`,o=[],a=[],l=Object.create(null),c=[];for(const p in t)l[p]=String(t[p]);if(typeof n=="object"&&n)for(const p in n){u=l,f=p,uq.call(u,f)||(l[p]="undefined");const m=n[p];for(const g in m){const y={[p]:String(g)};String(g)==="undefined"&&c.push(p);const _=m[g],v=[y,_,!NI(_)];o.push(v)}}var u,f;if(typeof e=="object"&&e)for(const p of e){let{css:m,...g}=p;m=typeof m=="object"&&m||{};for(const _ in g)g[_]=String(g[_]);const y=[g,m,!NI(m)];a.push(y)}return[s,r,o,a,l,c]},Aq=(n,e,t)=>{const[r,i,s,o]=wq(e.composers),a=typeof e.type=="function"||e.type.$$typeof?(f=>{function p(){for(let m=0;m<p[Sp].length;m++){const[g,y]=p[Sp][m];f.rules[g].apply(y)}return p[Sp]=[],null}return p[Sp]=[],p.rules={},Bp.forEach(m=>p.rules[m]={apply:g=>p[Sp].push([m,g])}),p})(t):null,l=(a||t).rules,c=`.${r}${i.length>1?`:where(.${i.slice(1).join(".")})`:""}`,u=f=>{f=typeof f=="object"&&f||Eq;const{css:p,...m}=f,g={};for(const v in s)if(delete m[v],v in f){let x=f[v];typeof x=="object"&&x?g[v]={"@initial":s[v],...x}:(x=String(x),g[v]=x!=="undefined"||o.has(v)?x:s[v])}else g[v]=s[v];const y=new Set([...i]);for(const[v,x,b,A]of e.composers){t.rules.styled.cache.has(v)||(t.rules.styled.cache.add(v),ud(x,[`.${v}`],[],n,R=>{l.styled.apply(R)}));const M=GI(b,g,n.media),E=GI(A,g,n.media,!0);for(const R of M)if(R!==void 0)for(const[I,T,P]of R){const B=`${v}-${_u(T)}-${I}`;y.add(B);const U=(P?t.rules.resonevar:t.rules.onevar).cache,j=P?l.resonevar:l.onevar;U.has(B)||(U.add(B),ud(T,[`.${B}`],[],n,N=>{j.apply(N)}))}for(const R of E)if(R!==void 0)for(const[I,T]of R){const P=`${v}-${_u(T)}-${I}`;y.add(P),t.rules.allvar.cache.has(P)||(t.rules.allvar.cache.add(P),ud(T,[`.${P}`],[],n,B=>{l.allvar.apply(B)}))}}if(typeof p=="object"&&p){const v=`${r}-i${_u(p)}-css`;y.add(v),t.rules.inline.cache.has(v)||(t.rules.inline.cache.add(v),ud(p,[`.${v}`],[],n,x=>{l.inline.apply(x)}))}for(const v of String(f.className||"").trim().split(/\s+/))v&&y.add(v);const _=m.className=[...y].join(" ");return{type:e.type,className:_,selector:c,props:m,toString:()=>_,deferredInjector:a}};return HC(u,{className:r,selector:c,[yu]:e,toString:()=>(t.rules.styled.cache.has(r)||u(),r)})},wq=n=>{let e="";const t=[],r={},i=[];for(const[s,,,,o,a]of n){e===""&&(e=s),t.push(s),i.push(...a);for(const l in o){const c=o[l];(r[l]===void 0||c!=="undefined"||a.includes(c))&&(r[l]=c)}}return[e,t,r,new Set(i)]},GI=(n,e,t,r)=>{const i=[];e:for(let[s,o,a]of n){if(a)continue;let l,c=0,u=!1;for(l in s){const f=s[l];let p=e[l];if(p!==f){if(typeof p!="object"||!p)continue e;{let m,g,y=0;for(const _ in p){if(f===String(p[_])){if(_!=="@initial"){const v=_.slice(1);(g=g||[]).push(v in t?t[v]:_.replace(/^@media ?/,"")),u=!0}c+=y,m=!0}++y}if(g&&g.length&&(o={["@media "+g.join(", ")]:o}),!m)continue e}}}(i[c]=i[c]||[]).push([r?"cv":`${l}-${s[l]}`,o,u])}return i},Eq={},Mq=Eh(),Tq=(n,e)=>Mq(n,()=>(...t)=>{const r=()=>{for(let i of t){i=typeof i=="object"&&i||{};let s=_u(i);if(!e.rules.global.cache.has(s)){if(e.rules.global.cache.add(s),"@import"in i){let o=[].indexOf.call(e.sheet.cssRules,e.rules.themed.group)-1;for(let a of[].concat(i["@import"]))a=a.includes('"')||a.includes("'")?a:`"${a}"`,e.sheet.insertRule(`@import ${a};`,o++);delete i["@import"]}ud(i,[],[],n,o=>{e.rules.global.apply(o)})}}return""};return HC(r,{toString:r})}),Cq=Eh(),Rq=(n,e)=>Cq(n,()=>t=>{const r=`${Ja(n.prefix)}k-${_u(t)}`,i=()=>{if(!e.rules.global.cache.has(r)){e.rules.global.cache.add(r);const s=[];ud(t,[],[],n,a=>s.push(a));const o=`@keyframes ${r}{${s.join("")}}`;e.rules.global.apply(o)}return r};return HC(i,{get name(){return i()},toString:i})}),Pq=class{constructor(n,e,t,r){this.token=n==null?"":String(n),this.value=e==null?"":String(e),this.scale=t==null?"":String(t),this.prefix=r==null?"":String(r)}get computedValue(){return"var("+this.variable+")"}get variable(){return"--"+Ja(this.prefix)+Ja(this.scale)+this.token}toString(){return this.computedValue}},Oq=Eh(),Lq=(n,e)=>Oq(n,()=>(t,r)=>{r=typeof t=="object"&&t||Object(r);const i=`.${t=(t=typeof t=="string"?t:"")||`${Ja(n.prefix)}t-${_u(r)}`}`,s={},o=[];for(const l in r){s[l]={};for(const c in r[l]){const u=`--${Ja(n.prefix)}${l}-${c}`,f=Bz(String(r[l][c]),n.prefix,l);s[l][c]=new Pq(c,f,l,n.prefix),o.push(`${u}:${f}`)}}const a=()=>{if(o.length&&!e.rules.themed.cache.has(t)){e.rules.themed.cache.add(t);const l=`${r===n.theme?":root,":""}.${t}{${o.join(";")}}`;e.rules.themed.apply(l)}return t};return{...s,get className(){return a()},selector:i,toString:a}}),Iq=Eh(),Bq=Eh(),Dq=n=>{const e=(t=>{let r=!1;const i=Iq(t,s=>{r=!0;const o="prefix"in(s=typeof s=="object"&&s||{})?String(s.prefix):"",a=typeof s.media=="object"&&s.media||{},l=typeof s.root=="object"?s.root||null:globalThis.document||null,c=typeof s.theme=="object"&&s.theme||{},u={prefix:o,media:a,theme:c,themeMap:typeof s.themeMap=="object"&&s.themeMap||{...lq},utils:typeof s.utils=="object"&&s.utils||{}},f=_q(l),p={css:HI(u,f),globalCss:Tq(u,f),keyframes:Rq(u,f),createTheme:Lq(u,f),reset(){f.reset(),p.theme.toString()},theme:{},sheet:f,config:u,prefix:o,getCssText:f.toString,toString:f.toString};return String(p.theme=p.createTheme(c)),p});return r||i.reset(),i})(n);return e.styled=(({config:t,sheet:r})=>Bq(t,()=>{const i=HI(t,r);return(...s)=>{const o=i(...s),a=o[yu].type,l=q.forwardRef((c,u)=>{const f=c&&c.as||a,{props:p,deferredInjector:m}=o(c);return delete p.as,p.ref=u,m?q.createElement(q.Fragment,null,q.createElement(f,p),q.createElement(m,null)):q.createElement(f,p)});return l.className=o.className,l.displayName=`Styled.${a.displayName||a.name||a}`,l.selector=o.selector,l.toString=()=>o.selector,l[yu]=o[yu],l}}))(e),e};function kq(n,e,t){return Math.max(e,Math.min(n,t))}const si={toVector(n,e){return n===void 0&&(n=e),Array.isArray(n)?n:[n,n]},add(n,e){return[n[0]+e[0],n[1]+e[1]]},sub(n,e){return[n[0]-e[0],n[1]-e[1]]},addTo(n,e){n[0]+=e[0],n[1]+=e[1]},subTo(n,e){n[0]-=e[0],n[1]-=e[1]}};function VI(n,e,t){return e===0||Math.abs(e)===1/0?Math.pow(n,t*5):n*e*t/(e+t*n)}function WI(n,e,t,r=.15){return r===0?kq(n,e,t):n<e?-VI(e-n,t-e,r)+e:n>t?+VI(n-t,t-e,r)+t:n}function Nq(n,[e,t],[r,i]){const[[s,o],[a,l]]=n;return[WI(e,s,o,r),WI(t,a,l,i)]}function Fq(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Uq(n){var e=Fq(n,"string");return typeof e=="symbol"?e:String(e)}function Di(n,e,t){return e=Uq(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $I(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Hn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$I(Object(t),!0).forEach(function(r){Di(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$I(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const Dz={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function jI(n){return n?n[0].toUpperCase()+n.slice(1):""}const zq=["enter","leave"];function Hq(n=!1,e){return n&&!zq.includes(e)}function Gq(n,e="",t=!1){const r=Dz[n],i=r&&r[e]||e;return"on"+jI(n)+jI(i)+(Hq(t,i)?"Capture":"")}const Vq=["gotpointercapture","lostpointercapture"];function Wq(n){let e=n.substring(2).toLowerCase();const t=!!~e.indexOf("passive");t&&(e=e.replace("passive",""));const r=Vq.includes(e)?"capturecapture":"capture",i=!!~e.indexOf(r);return i&&(e=e.replace("capture","")),{device:e,capture:i,passive:t}}function $q(n,e=""){const t=Dz[n],r=t&&t[e]||e;return n+r}function qx(n){return"touches"in n}function kz(n){return qx(n)?"touch":"pointerType"in n?n.pointerType:"mouse"}function jq(n){return Array.from(n.touches).filter(e=>{var t,r;return e.target===n.currentTarget||((t=n.currentTarget)===null||t===void 0||(r=t.contains)===null||r===void 0?void 0:r.call(t,e.target))})}function Xq(n){return n.type==="touchend"||n.type==="touchcancel"?n.changedTouches:n.targetTouches}function Nz(n){return qx(n)?Xq(n)[0]:n}function Kq(n){return jq(n).map(e=>e.identifier)}function fA(n){const e=Nz(n);return qx(n)?e.identifier:e.pointerId}function XI(n){const e=Nz(n);return[e.clientX,e.clientY]}function Yq(n){const e={};if("buttons"in n&&(e.buttons=n.buttons),"shiftKey"in n){const{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s}=n;Object.assign(e,{shiftKey:t,altKey:r,metaKey:i,ctrlKey:s})}return e}function __(n,...e){return typeof n=="function"?n(...e):n}function Jq(){}function qq(...n){return n.length===0?Jq:n.length===1?n[0]:function(){let e;for(const t of n)e=t.apply(this,arguments)||e;return e}}function KI(n,e){return Object.assign({},e,n||{})}const Qq=32;class Zq{constructor(e,t,r){this.ctrl=e,this.args=t,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(e){this.ctrl.state[this.key]=e}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:e,shared:t,ingKey:r,args:i}=this;t[r]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=i,e.axis=void 0,e.memo=void 0,e.elapsedTime=e.timeDelta=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}start(e){const t=this.state,r=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=r.from?__(r.from,t):t.offset,t.offset=t.lastOffset,t.startTime=t.timeStamp=e.timeStamp)}computeValues(e){const t=this.state;t._values=e,t.values=this.config.transform(e)}computeInitial(){const e=this.state;e._initial=e._values,e.initial=e.values}compute(e){const{state:t,config:r,shared:i}=this;t.args=this.args;let s=0;if(e&&(t.event=e,r.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,Yq(e)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){const E=t._delta.map(Math.abs);si.addTo(t._distance,E)}this.axisIntent&&this.axisIntent(e);const[o,a]=t._movement,[l,c]=r.threshold,{_step:u,values:f}=t;if(r.hasCustomTransform?(u[0]===!1&&(u[0]=Math.abs(o)>=l&&f[0]),u[1]===!1&&(u[1]=Math.abs(a)>=c&&f[1])):(u[0]===!1&&(u[0]=Math.abs(o)>=l&&Math.sign(o)*l),u[1]===!1&&(u[1]=Math.abs(a)>=c&&Math.sign(a)*c)),t.intentional=u[0]!==!1||u[1]!==!1,!t.intentional)return;const p=[0,0];if(r.hasCustomTransform){const[E,R]=f;p[0]=u[0]!==!1?E-u[0]:0,p[1]=u[1]!==!1?R-u[1]:0}else p[0]=u[0]!==!1?o-u[0]:0,p[1]=u[1]!==!1?a-u[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(p);const m=t.offset,g=t._active&&!t._blocked||t.active;g&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=i[this.ingKey]=t._active,e&&(t.first&&("bounds"in r&&(t._bounds=__(r.bounds,t)),this.setup&&this.setup()),t.movement=p,this.computeOffset()));const[y,_]=t.offset,[[v,x],[b,A]]=t._bounds;t.overflow=[y<v?-1:y>x?1:0,_<b?-1:_>A?1:0],t._movementBound[0]=t.overflow[0]?t._movementBound[0]===!1?t._movement[0]:t._movementBound[0]:!1,t._movementBound[1]=t.overflow[1]?t._movementBound[1]===!1?t._movement[1]:t._movementBound[1]:!1;const M=t._active?r.rubberband||[0,0]:[0,0];if(t.offset=Nq(t._bounds,t.offset,M),t.delta=si.sub(t.offset,m),this.computeMovement(),g&&(!t.last||s>Qq)){t.delta=si.sub(t.offset,m);const E=t.delta.map(Math.abs);si.addTo(t.distance,E),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&s>0&&(t.velocity=[E[0]/s,E[1]/s],t.timeDelta=s)}}emit(){const e=this.state,t=this.shared,r=this.config;if(e._active||this.clean(),(e._blocked||!e.intentional)&&!e._force&&!r.triggerAllEvents)return;const i=this.handler(Hn(Hn(Hn({},t),e),{},{[this.aliasKey]:e.values}));i!==void 0&&(e.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function eQ([n,e],t){const r=Math.abs(n),i=Math.abs(e);if(r>i&&r>t)return"x";if(i>r&&i>t)return"y"}class tQ extends Zq{constructor(...e){super(...e),Di(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=si.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=si.sub(this.state.offset,this.state.lastOffset)}axisIntent(e){const t=this.state,r=this.config;if(!t.axis&&e){const i=typeof r.axisThreshold=="object"?r.axisThreshold[kz(e)]:r.axisThreshold;t.axis=eQ(t._movement,i)}t._blocked=(r.lockDirection||!!r.axis)&&!t.axis||!!r.axis&&r.axis!==t.axis}restrictToAxis(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0;break}}}const nQ=n=>n,YI=.15,Fz={enabled(n=!0){return n},eventOptions(n,e,t){return Hn(Hn({},t.shared.eventOptions),n)},preventDefault(n=!1){return n},triggerAllEvents(n=!1){return n},rubberband(n=0){switch(n){case!0:return[YI,YI];case!1:return[0,0];default:return si.toVector(n)}},from(n){if(typeof n=="function")return n;if(n!=null)return si.toVector(n)},transform(n,e,t){const r=n||t.shared.transform;return this.hasCustomTransform=!!r,r||nQ},threshold(n){return si.toVector(n,0)}},rQ=0,bg=Hn(Hn({},Fz),{},{axis(n,e,{axis:t}){if(this.lockDirection=t==="lock",!this.lockDirection)return t},axisThreshold(n=rQ){return n},bounds(n={}){if(typeof n=="function")return s=>bg.bounds(n(s));if("current"in n)return()=>n.current;if(typeof HTMLElement=="function"&&n instanceof HTMLElement)return n;const{left:e=-1/0,right:t=1/0,top:r=-1/0,bottom:i=1/0}=n;return[[e,t],[r,i]]}}),JI={ArrowRight:(n,e=1)=>[n*e,0],ArrowLeft:(n,e=1)=>[-1*n*e,0],ArrowUp:(n,e=1)=>[0,-1*n*e],ArrowDown:(n,e=1)=>[0,n*e]};class iQ extends tQ{constructor(...e){super(...e),Di(this,"ingKey","dragging")}reset(){super.reset();const e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}setup(){const e=this.state;if(e._bounds instanceof HTMLElement){const t=e._bounds.getBoundingClientRect(),r=e.currentTarget.getBoundingClientRect(),i={left:t.left-r.left+e.offset[0],right:t.right-r.right+e.offset[0],top:t.top-r.top+e.offset[1],bottom:t.bottom-r.bottom+e.offset[1]};e._bounds=bg.bounds(i)}}cancel(){const e=this.state;e.canceled||(e.canceled=!0,e._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(e){const t=this.config,r=this.state;if(e.buttons!=null&&(Array.isArray(t.pointerButtons)?!t.pointerButtons.includes(e.buttons):t.pointerButtons!==-1&&t.pointerButtons!==e.buttons))return;const i=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(e),this.setupPointer(e),r._pointerId=fA(e),r._pointerActive=!0,this.computeValues(XI(e)),this.computeInitial(),t.preventScrollAxis&&kz(e)!=="mouse"?(r._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}startPointerDrag(e){const t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}pointerMove(e){const t=this.state,r=this.config;if(!t._pointerActive)return;const i=fA(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;const s=XI(e);if(document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=si.sub(s,t._values),this.computeValues(s)),si.addTo(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional){this.timeoutStore.remove("dragDelay"),t.active=!1,this.startPointerDrag(e);return}if(r.preventScrollAxis&&!t._preventScroll)if(t.axis)if(t.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){t._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(e);return}else return;this.emit()}pointerUp(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch{}const t=this.state,r=this.config;if(!t._active||!t._pointerActive)return;const i=fA(e);if(t._pointerId!==void 0&&i!==t._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(e);const[s,o]=t._distance;if(t.tap=s<=r.tapsThreshold&&o<=r.tapsThreshold,t.tap&&r.filterTaps)t._force=!0;else{const[a,l]=t._delta,[c,u]=t._movement,[f,p]=r.swipe.velocity,[m,g]=r.swipe.distance,y=r.swipe.duration;if(t.elapsedTime<y){const _=Math.abs(a/t.timeDelta),v=Math.abs(l/t.timeDelta);_>f&&Math.abs(c)>m&&(t.swipe[0]=Math.sign(a)),v>p&&Math.abs(u)>g&&(t.swipe[1]=Math.sign(l))}}this.emit()}pointerClick(e){!this.state.tap&&e.detail>0&&(e.preventDefault(),e.stopPropagation())}setupPointer(e){const t=this.config,r=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}setupScrollPrevention(e){this.state._preventScroll=!1,sQ(e);const t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}setupDelayTrigger(e){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(e)},this.config.delay)}keyDown(e){const t=JI[e.key];if(t){const r=this.state,i=e.shiftKey?10:e.altKey?.1:1;this.start(e),r._delta=t(this.config.keyboardDisplacement,i),r._keyboardActive=!0,si.addTo(r._movement,r._delta),this.compute(e),this.emit()}}keyUp(e){e.key in JI&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}bind(e){const t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function sQ(n){"persist"in n&&typeof n.persist=="function"&&n.persist()}const Ag=typeof window<"u"&&window.document&&window.document.createElement;function Uz(){return Ag&&"ontouchstart"in window}function oQ(){return Uz()||Ag&&window.navigator.maxTouchPoints>1}function aQ(){return Ag&&"onpointerdown"in window}function lQ(){return Ag&&"exitPointerLock"in window.document}function cQ(){try{return"constructor"in GestureEvent}catch{return!1}}const Gs={isBrowser:Ag,gesture:cQ(),touch:Uz(),touchscreen:oQ(),pointer:aQ(),pointerLock:lQ()},uQ=250,fQ=180,dQ=.5,hQ=50,pQ=250,mQ=10,qI={mouse:0,touch:0,pen:8},gQ=Hn(Hn({},bg),{},{device(n,e,{pointer:{touch:t=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&Gs.pointerLock,Gs.touch&&t?"touch":this.pointerLock?"mouse":Gs.pointer&&!i?"pointer":Gs.touch?"touch":"mouse"},preventScrollAxis(n,e,{preventScroll:t}){if(this.preventScrollDelay=typeof t=="number"?t:t||t===void 0&&n?uQ:void 0,!(!Gs.touchscreen||t===!1))return n||(t!==void 0?"y":void 0)},pointerCapture(n,e,{pointer:{capture:t=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&t},threshold(n,e,{filterTaps:t=!1,tapsThreshold:r=3,axis:i=void 0}){const s=si.toVector(n,t?r:i?1:0);return this.filterTaps=t,this.tapsThreshold=r,s},swipe({velocity:n=dQ,distance:e=hQ,duration:t=pQ}={}){return{velocity:this.transform(si.toVector(n)),distance:this.transform(si.toVector(e)),duration:t}},delay(n=0){switch(n){case!0:return fQ;case!1:return 0;default:return n}},axisThreshold(n){return n?Hn(Hn({},qI),n):qI},keyboardDisplacement(n=mQ){return n}});Hn(Hn({},Fz),{},{device(n,e,{shared:t,pointer:{touch:r=!1}={}}){if(t.target&&!Gs.touch&&Gs.gesture)return"gesture";if(Gs.touch&&r)return"touch";if(Gs.touchscreen){if(Gs.pointer)return"pointer";if(Gs.touch)return"touch"}},bounds(n,e,{scaleBounds:t={},angleBounds:r={}}){const i=o=>{const a=KI(__(t,o),{min:-1/0,max:1/0});return[a.min,a.max]},s=o=>{const a=KI(__(r,o),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof t!="function"&&typeof r!="function"?[i(),s()]:o=>[i(o),s(o)]},threshold(n,e,t){return this.lockDirection=t.axis==="lock",si.toVector(n,this.lockDirection?[.1,3]:0)},modifierKey(n){return n===void 0?"ctrlKey":n},pinchOnWheel(n=!0){return n}});Hn(Hn({},bg),{},{mouseOnly:(n=!0)=>n});Hn(Hn({},bg),{},{mouseOnly:(n=!0)=>n});const zz=new Map,HE=new Map;function vQ(n){zz.set(n.key,n.engine),HE.set(n.key,n.resolver)}const yQ={key:"drag",engine:iQ,resolver:gQ};function _Q(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function xQ(n,e){if(n==null)return{};var t=_Q(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}const SQ={target(n){if(n)return()=>"current"in n?n.current:n},enabled(n=!0){return n},window(n=Gs.isBrowser?window:void 0){return n},eventOptions({passive:n=!0,capture:e=!1}={}){return{passive:n,capture:e}},transform(n){return n}},bQ=["target","eventOptions","window","enabled","transform"];function My(n={},e){const t={};for(const[r,i]of Object.entries(e))switch(typeof i){case"function":t[r]=i.call(t,n[r],r,n);break;case"object":t[r]=My(n[r],i);break;case"boolean":i&&(t[r]=n[r]);break}return t}function AQ(n,e,t={}){const r=n,{target:i,eventOptions:s,window:o,enabled:a,transform:l}=r,c=xQ(r,bQ);if(t.shared=My({target:i,eventOptions:s,window:o,enabled:a,transform:l},SQ),e){const u=HE.get(e);t[e]=My(Hn({shared:t.shared},c),u)}else for(const u in c){const f=HE.get(u);f&&(t[u]=My(Hn({shared:t.shared},c[u]),f))}return t}class Hz{constructor(e,t){Di(this,"_listeners",new Set),this._ctrl=e,this._gestureKey=t}add(e,t,r,i,s){const o=this._listeners,a=$q(t,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},c=Hn(Hn({},l),s);e.addEventListener(a,i,c);const u=()=>{e.removeEventListener(a,i,c),o.delete(u)};return o.add(u),u}clean(){this._listeners.forEach(e=>e()),this._listeners.clear()}}class wQ{constructor(){Di(this,"_timeouts",new Map)}add(e,t,r=140,...i){this.remove(e),this._timeouts.set(e,window.setTimeout(t,r,...i))}remove(e){const t=this._timeouts.get(e);t&&window.clearTimeout(t)}clean(){this._timeouts.forEach(e=>void window.clearTimeout(e)),this._timeouts.clear()}}class EQ{constructor(e){Di(this,"gestures",new Set),Di(this,"_targetEventStore",new Hz(this)),Di(this,"gestureEventStores",{}),Di(this,"gestureTimeoutStores",{}),Di(this,"handlers",{}),Di(this,"config",{}),Di(this,"pointerIds",new Set),Di(this,"touchIds",new Set),Di(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),MQ(this,e)}setEventIds(e){if(qx(e))return this.touchIds=new Set(Kq(e)),this.touchIds;if("pointerId"in e)return e.type==="pointerup"||e.type==="pointercancel"?this.pointerIds.delete(e.pointerId):e.type==="pointerdown"&&this.pointerIds.add(e.pointerId),this.pointerIds}applyHandlers(e,t){this.handlers=e,this.nativeHandlers=t}applyConfig(e,t){this.config=AQ(e,t,this.config)}clean(){this._targetEventStore.clean();for(const e of this.gestures)this.gestureEventStores[e].clean(),this.gestureTimeoutStores[e].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...e){const t=this.config.shared,r={};let i;if(!(t.target&&(i=t.target(),!i))){if(t.enabled){for(const o of this.gestures){const a=this.config[o],l=QI(r,a.eventOptions,!!i);if(a.enabled){const c=zz.get(o);new c(this,e,o).bind(l)}}const s=QI(r,t.eventOptions,!!i);for(const o in this.nativeHandlers)s(o,"",a=>this.nativeHandlers[o](Hn(Hn({},this.state.shared),{},{event:a,args:e})),void 0,!0)}for(const s in r)r[s]=qq(...r[s]);if(!i)return r;for(const s in r){const{device:o,capture:a,passive:l}=Wq(s);this._targetEventStore.add(i,o,"",r[s],{capture:a,passive:l})}}}}function kf(n,e){n.gestures.add(e),n.gestureEventStores[e]=new Hz(n,e),n.gestureTimeoutStores[e]=new wQ}function MQ(n,e){e.drag&&kf(n,"drag"),e.wheel&&kf(n,"wheel"),e.scroll&&kf(n,"scroll"),e.move&&kf(n,"move"),e.pinch&&kf(n,"pinch"),e.hover&&kf(n,"hover")}const QI=(n,e,t)=>(r,i,s,o={},a=!1)=>{var l,c;const u=(l=o.capture)!==null&&l!==void 0?l:e.capture,f=(c=o.passive)!==null&&c!==void 0?c:e.passive;let p=a?r:Gq(r,i,u);t&&f&&(p+="Passive"),n[p]=n[p]||[],n[p].push(s)};function TQ(n,e={},t,r){const i=q.useMemo(()=>new EQ(n),[]);if(i.applyHandlers(n,r),i.applyConfig(e,t),q.useEffect(i.effect.bind(i)),q.useEffect(()=>i.clean.bind(i),[]),e.target===void 0)return i.bind.bind(i)}function CQ(n,e){return vQ(yQ),TQ({drag:n},e||{},"drag")}function Oa(n,e,{checkForDefaultPrevented:t=!0}={}){return function(i){if(n==null||n(i),t===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Gz(n,e=[]){let t=[];function r(s,o){const a=O.createContext(o),l=t.length;t=[...t,o];function c(f){const{scope:p,children:m,...g}=f,y=(p==null?void 0:p[n][l])||a,_=O.useMemo(()=>g,Object.values(g));return O.createElement(y.Provider,{value:_},m)}function u(f,p){const m=(p==null?void 0:p[n][l])||a,g=O.useContext(m);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=t.map(o=>O.createContext(o));return function(a){const l=(a==null?void 0:a[n])||s;return O.useMemo(()=>({[`__scope${n}`]:{...a,[n]:l}}),[a,l])}};return i.scopeName=n,[r,RQ(i,...e)]}function RQ(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return O.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return t.scopeName=e.scopeName,t}function Mh(n){const e=O.useRef(n);return O.useEffect(()=>{e.current=n}),O.useMemo(()=>(...t)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...t)},[])}function PQ(n,e=globalThis==null?void 0:globalThis.document){const t=Mh(n);O.useEffect(()=>{const r=i=>{i.key==="Escape"&&t(i)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[t,e])}const GE="dismissableLayer.update",OQ="dismissableLayer.pointerDownOutside",LQ="dismissableLayer.focusOutside";let ZI;const IQ=O.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),BQ=O.forwardRef((n,e)=>{var t;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:i,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=n,u=O.useContext(IQ),[f,p]=O.useState(null),m=(t=f==null?void 0:f.ownerDocument)!==null&&t!==void 0?t:globalThis==null?void 0:globalThis.document,[,g]=O.useState({}),y=wh(e,I=>p(I)),_=Array.from(u.layers),[v]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=_.indexOf(v),b=f?_.indexOf(f):-1,A=u.layersWithOutsidePointerEventsDisabled.size>0,M=b>=x,E=DQ(I=>{const T=I.target,P=[...u.branches].some(B=>B.contains(T));!M||P||(s==null||s(I),a==null||a(I),I.defaultPrevented||l==null||l())},m),R=kQ(I=>{const T=I.target;[...u.branches].some(B=>B.contains(T))||(o==null||o(I),a==null||a(I),I.defaultPrevented||l==null||l())},m);return PQ(I=>{b===u.layers.size-1&&(i==null||i(I),!I.defaultPrevented&&l&&(I.preventDefault(),l()))},m),O.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(ZI=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),eB(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=ZI)}},[f,m,r,u]),O.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),eB())},[f,u]),O.useEffect(()=>{const I=()=>g({});return document.addEventListener(GE,I),()=>document.removeEventListener(GE,I)},[]),O.createElement(ju.div,Oe({},c,{ref:y,style:{pointerEvents:A?M?"auto":"none":void 0,...n.style},onFocusCapture:Oa(n.onFocusCapture,R.onFocusCapture),onBlurCapture:Oa(n.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Oa(n.onPointerDownCapture,E.onPointerDownCapture)}))});function DQ(n,e=globalThis==null?void 0:globalThis.document){const t=Mh(n),r=O.useRef(!1),i=O.useRef(()=>{});return O.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let u=function(){Vz(OQ,t,c,{discrete:!0})};var l=u;const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function kQ(n,e=globalThis==null?void 0:globalThis.document){const t=Mh(n),r=O.useRef(!1);return O.useEffect(()=>{const i=s=>{s.target&&!r.current&&Vz(LQ,t,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function eB(){const n=new CustomEvent(GE);document.dispatchEvent(n)}function Vz(n,e,t,{discrete:r}){const i=t.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&i.addEventListener(n,e,{once:!0}),r?tq(i,s):i.dispatchEvent(s)}const qd=globalThis!=null&&globalThis.document?O.useLayoutEffect:()=>{},NQ=Fy["useId".toString()]||(()=>{});let FQ=0;function UQ(n){const[e,t]=O.useState(NQ());return qd(()=>{n||t(r=>r??String(FQ++))},[n]),n||(e?`radix-${e}`:"")}const zQ=["top","right","bottom","left"],sc=Math.min,ss=Math.max,x_=Math.round,Wv=Math.floor,oc=n=>({x:n,y:n}),HQ={left:"right",right:"left",bottom:"top",top:"bottom"},GQ={start:"end",end:"start"};function VE(n,e,t){return ss(n,sc(e,t))}function qa(n,e){return typeof n=="function"?n(e):n}function Qa(n){return n.split("-")[0]}function Th(n){return n.split("-")[1]}function GC(n){return n==="x"?"y":"x"}function VC(n){return n==="y"?"height":"width"}function Ch(n){return["top","bottom"].includes(Qa(n))?"y":"x"}function WC(n){return GC(Ch(n))}function VQ(n,e,t){t===void 0&&(t=!1);const r=Th(n),i=WC(n),s=VC(i);let o=i==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=S_(o)),[o,S_(o)]}function WQ(n){const e=S_(n);return[WE(n),e,WE(e)]}function WE(n){return n.replace(/start|end/g,e=>GQ[e])}function $Q(n,e,t){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(n){case"top":case"bottom":return t?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function jQ(n,e,t,r){const i=Th(n);let s=$Q(Qa(n),t==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(WE)))),s}function S_(n){return n.replace(/left|right|bottom|top/g,e=>HQ[e])}function XQ(n){return{top:0,right:0,bottom:0,left:0,...n}}function Wz(n){return typeof n!="number"?XQ(n):{top:n,right:n,bottom:n,left:n}}function b_(n){return{...n,top:n.y,left:n.x,right:n.x+n.width,bottom:n.y+n.height}}function tB(n,e,t){let{reference:r,floating:i}=n;const s=Ch(e),o=WC(e),a=VC(o),l=Qa(e),c=s==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-i.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Th(e)){case"start":m[o]-=p*(t&&c?-1:1);break;case"end":m[o]+=p*(t&&c?-1:1);break}return m}const KQ=async(n,e,t)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=t,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:n,floating:e,strategy:i}),{x:u,y:f}=tB(c,r,l),p=r,m={},g=0;for(let y=0;y<a.length;y++){const{name:_,fn:v}=a[y],{x,y:b,data:A,reset:M}=await v({x:u,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:n,floating:e}});u=x??u,f=b??f,m={...m,[_]:{...m[_],...A}},M&&g<=50&&(g++,typeof M=="object"&&(M.placement&&(p=M.placement),M.rects&&(c=M.rects===!0?await o.getElementRects({reference:n,floating:e,strategy:i}):M.rects),{x:u,y:f}=tB(c,p,l)),y=-1)}return{x:u,y:f,placement:p,strategy:i,middlewareData:m}};async function Nm(n,e){var t;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=n,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=qa(e,n),g=Wz(m),_=a[p?f==="floating"?"reference":"floating":f],v=b_(await s.getClippingRect({element:(t=await(s.isElement==null?void 0:s.isElement(_)))==null||t?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),x=f==="floating"?{...o.floating,x:r,y:i}:o.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),A=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},M=b_(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:b,strategy:l}):x);return{top:(v.top-M.top+g.top)/A.y,bottom:(M.bottom-v.bottom+g.bottom)/A.y,left:(v.left-M.left+g.left)/A.x,right:(M.right-v.right+g.right)/A.x}}const YQ=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=qa(n,e)||{};if(c==null)return{};const f=Wz(u),p={x:t,y:r},m=WC(i),g=VC(m),y=await o.getDimensions(c),_=m==="y",v=_?"top":"left",x=_?"bottom":"right",b=_?"clientHeight":"clientWidth",A=s.reference[g]+s.reference[m]-p[m]-s.floating[g],M=p[m]-s.reference[m],E=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let R=E?E[b]:0;(!R||!await(o.isElement==null?void 0:o.isElement(E)))&&(R=a.floating[b]||s.floating[g]);const I=A/2-M/2,T=R/2-y[g]/2-1,P=sc(f[v],T),B=sc(f[x],T),U=P,j=R-y[g]-B,N=R/2-y[g]/2+I,G=VE(U,N,j),V=!l.arrow&&Th(i)!=null&&N!==G&&s.reference[g]/2-(N<U?P:B)-y[g]/2<0,$=V?N<U?N-U:N-j:0;return{[m]:p[m]+$,data:{[m]:G,centerOffset:N-G-$,...V&&{alignmentOffset:$}},reset:V}}}),JQ=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,..._}=qa(n,e);if((t=s.arrow)!=null&&t.alignmentOffset)return{};const v=Qa(i),x=Qa(a)===a,b=await(l.isRTL==null?void 0:l.isRTL(c.floating)),A=p||(x||!y?[S_(a)]:WQ(a));!p&&g!=="none"&&A.push(...jQ(a,y,g,b));const M=[a,...A],E=await Nm(e,_),R=[];let I=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&R.push(E[v]),f){const U=VQ(i,o,b);R.push(E[U[0]],E[U[1]])}if(I=[...I,{placement:i,overflows:R}],!R.every(U=>U<=0)){var T,P;const U=(((T=s.flip)==null?void 0:T.index)||0)+1,j=M[U];if(j)return{data:{index:U,overflows:I},reset:{placement:j}};let N=(P=I.filter(G=>G.overflows[0]<=0).sort((G,V)=>G.overflows[1]-V.overflows[1])[0])==null?void 0:P.placement;if(!N)switch(m){case"bestFit":{var B;const G=(B=I.map(V=>[V.placement,V.overflows.filter($=>$>0).reduce(($,F)=>$+F,0)]).sort((V,$)=>V[1]-$[1])[0])==null?void 0:B[0];G&&(N=G);break}case"initialPlacement":N=a;break}if(i!==N)return{reset:{placement:N}}}return{}}}};function nB(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function rB(n){return zQ.some(e=>n[e]>=0)}const qQ=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...i}=qa(n,e);switch(r){case"referenceHidden":{const s=await Nm(e,{...i,elementContext:"reference"}),o=nB(s,t.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:rB(o)}}}case"escaped":{const s=await Nm(e,{...i,altBoundary:!0}),o=nB(s,t.floating);return{data:{escapedOffsets:o,escaped:rB(o)}}}default:return{}}}}};async function QQ(n,e){const{placement:t,platform:r,elements:i}=n,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Qa(t),a=Th(t),l=Ch(t)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,f=qa(e,n);let{mainAxis:p,crossAxis:m,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...f};return a&&typeof g=="number"&&(m=a==="end"?g*-1:g),l?{x:m*u,y:p*c}:{x:p*c,y:m*u}}const ZQ=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await QQ(e,n);return o===((t=a.offset)==null?void 0:t.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},eZ=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:_=>{let{x:v,y:x}=_;return{x:v,y:x}}},...l}=qa(n,e),c={x:t,y:r},u=await Nm(e,l),f=Ch(Qa(i)),p=GC(f);let m=c[p],g=c[f];if(s){const _=p==="y"?"top":"left",v=p==="y"?"bottom":"right",x=m+u[_],b=m-u[v];m=VE(x,m,b)}if(o){const _=f==="y"?"top":"left",v=f==="y"?"bottom":"right",x=g+u[_],b=g-u[v];g=VE(x,g,b)}const y=a.fn({...e,[p]:m,[f]:g});return{...y,data:{x:y.x-t,y:y.y-r}}}}},tZ=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=qa(n,e),u={x:t,y:r},f=Ch(i),p=GC(f);let m=u[p],g=u[f];const y=qa(a,e),_=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const b=p==="y"?"height":"width",A=s.reference[p]-s.floating[b]+_.mainAxis,M=s.reference[p]+s.reference[b]-_.mainAxis;m<A?m=A:m>M&&(m=M)}if(c){var v,x;const b=p==="y"?"width":"height",A=["top","left"].includes(Qa(i)),M=s.reference[f]-s.floating[b]+(A&&((v=o.offset)==null?void 0:v[f])||0)+(A?0:_.crossAxis),E=s.reference[f]+s.reference[b]+(A?0:((x=o.offset)==null?void 0:x[f])||0)-(A?_.crossAxis:0);g<M?g=M:g>E&&(g=E)}return{[p]:m,[f]:g}}}},nZ=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){const{placement:t,rects:r,platform:i,elements:s}=e,{apply:o=()=>{},...a}=qa(n,e),l=await Nm(e,a),c=Qa(t),u=Th(t),f=Ch(t)==="y",{width:p,height:m}=r.floating;let g,y;c==="top"||c==="bottom"?(g=c,y=u===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(y=c,g=u==="end"?"top":"bottom");const _=m-l[g],v=p-l[y],x=!e.middlewareData.shift;let b=_,A=v;if(f){const E=p-l.left-l.right;A=u||x?sc(v,E):E}else{const E=m-l.top-l.bottom;b=u||x?sc(_,E):E}if(x&&!u){const E=ss(l.left,0),R=ss(l.right,0),I=ss(l.top,0),T=ss(l.bottom,0);f?A=p-2*(E!==0||R!==0?E+R:ss(l.left,l.right)):b=m-2*(I!==0||T!==0?I+T:ss(l.top,l.bottom))}await o({...e,availableWidth:A,availableHeight:b});const M=await i.getDimensions(s.floating);return p!==M.width||m!==M.height?{reset:{rects:!0}}:{}}}};function ac(n){return $z(n)?(n.nodeName||"").toLowerCase():"#document"}function ps(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function il(n){var e;return(e=($z(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function $z(n){return n instanceof Node||n instanceof ps(n).Node}function Za(n){return n instanceof Element||n instanceof ps(n).Element}function ca(n){return n instanceof HTMLElement||n instanceof ps(n).HTMLElement}function iB(n){return typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof ps(n).ShadowRoot}function wg(n){const{overflow:e,overflowX:t,overflowY:r,display:i}=to(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(i)}function rZ(n){return["table","td","th"].includes(ac(n))}function $C(n){const e=jC(),t=to(n);return t.transform!=="none"||t.perspective!=="none"||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function jz(n){let e=Qd(n);for(;ca(e)&&!Qx(e);){if($C(e))return e;e=Qd(e)}return null}function jC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Qx(n){return["html","body","#document"].includes(ac(n))}function to(n){return ps(n).getComputedStyle(n)}function Zx(n){return Za(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.pageXOffset,scrollTop:n.pageYOffset}}function Qd(n){if(ac(n)==="html")return n;const e=n.assignedSlot||n.parentNode||iB(n)&&n.host||il(n);return iB(e)?e.host:e}function Xz(n){const e=Qd(n);return Qx(e)?n.ownerDocument?n.ownerDocument.body:n.body:ca(e)&&wg(e)?e:Xz(e)}function Fm(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const i=Xz(n),s=i===((r=n.ownerDocument)==null?void 0:r.body),o=ps(i);return s?e.concat(o,o.visualViewport||[],wg(i)?i:[],o.frameElement&&t?Fm(o.frameElement):[]):e.concat(i,Fm(i,[],t))}function Kz(n){const e=to(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=ca(n),s=i?n.offsetWidth:t,o=i?n.offsetHeight:r,a=x_(t)!==s||x_(r)!==o;return a&&(t=s,r=o),{width:t,height:r,$:a}}function XC(n){return Za(n)?n:n.contextElement}function wd(n){const e=XC(n);if(!ca(e))return oc(1);const t=e.getBoundingClientRect(),{width:r,height:i,$:s}=Kz(e);let o=(s?x_(t.width):t.width)/r,a=(s?x_(t.height):t.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const iZ=oc(0);function Yz(n){const e=ps(n);return!jC()||!e.visualViewport?iZ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function sZ(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==ps(n)?!1:e}function Lu(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const i=n.getBoundingClientRect(),s=XC(n);let o=oc(1);e&&(r?Za(r)&&(o=wd(r)):o=wd(n));const a=sZ(s,t,r)?Yz(s):oc(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(s){const p=ps(s),m=r&&Za(r)?ps(r):r;let g=p.frameElement;for(;g&&r&&m!==p;){const y=wd(g),_=g.getBoundingClientRect(),v=to(g),x=_.left+(g.clientLeft+parseFloat(v.paddingLeft))*y.x,b=_.top+(g.clientTop+parseFloat(v.paddingTop))*y.y;l*=y.x,c*=y.y,u*=y.x,f*=y.y,l+=x,c+=b,g=ps(g).frameElement}}return b_({width:u,height:f,x:l,y:c})}const oZ=[":popover-open",":modal"];function Jz(n){let e=!1,t=0,r=0;function i(s){try{e=e||n.matches(s)}catch{}}if(oZ.forEach(s=>{i(s)}),e){const s=jz(n);if(s){const o=s.getBoundingClientRect();t=o.x,r=o.y}}return[e,t,r]}function aZ(n){let{elements:e,rect:t,offsetParent:r,strategy:i}=n;const s=il(r),[o]=e?Jz(e.floating):[!1];if(r===s||o)return t;let a={scrollLeft:0,scrollTop:0},l=oc(1);const c=oc(0),u=ca(r);if((u||!u&&i!=="fixed")&&((ac(r)!=="body"||wg(s))&&(a=Zx(r)),ca(r))){const f=Lu(r);l=wd(r),c.x=f.x+r.clientLeft,c.y=f.y+r.clientTop}return{width:t.width*l.x,height:t.height*l.y,x:t.x*l.x-a.scrollLeft*l.x+c.x,y:t.y*l.y-a.scrollTop*l.y+c.y}}function lZ(n){return Array.from(n.getClientRects())}function qz(n){return Lu(il(n)).left+Zx(n).scrollLeft}function cZ(n){const e=il(n),t=Zx(n),r=n.ownerDocument.body,i=ss(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=ss(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-t.scrollLeft+qz(n);const a=-t.scrollTop;return to(r).direction==="rtl"&&(o+=ss(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function uZ(n,e){const t=ps(n),r=il(n),i=t.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=jC();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function fZ(n,e){const t=Lu(n,!0,e==="fixed"),r=t.top+n.clientTop,i=t.left+n.clientLeft,s=ca(n)?wd(n):oc(1),o=n.clientWidth*s.x,a=n.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function sB(n,e,t){let r;if(e==="viewport")r=uZ(n,t);else if(e==="document")r=cZ(il(n));else if(Za(e))r=fZ(e,t);else{const i=Yz(n);r={...e,x:e.x-i.x,y:e.y-i.y}}return b_(r)}function Qz(n,e){const t=Qd(n);return t===e||!Za(t)||Qx(t)?!1:to(t).position==="fixed"||Qz(t,e)}function dZ(n,e){const t=e.get(n);if(t)return t;let r=Fm(n,[],!1).filter(a=>Za(a)&&ac(a)!=="body"),i=null;const s=to(n).position==="fixed";let o=s?Qd(n):n;for(;Za(o)&&!Qx(o);){const a=to(o),l=$C(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||wg(o)&&!l&&Qz(n,o))?r=r.filter(u=>u!==o):i=a,o=Qd(o)}return e.set(n,r),r}function hZ(n){let{element:e,boundary:t,rootBoundary:r,strategy:i}=n;const o=[...t==="clippingAncestors"?dZ(e,this._c):[].concat(t),r],a=o[0],l=o.reduce((c,u)=>{const f=sB(e,u,i);return c.top=ss(f.top,c.top),c.right=sc(f.right,c.right),c.bottom=sc(f.bottom,c.bottom),c.left=ss(f.left,c.left),c},sB(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function pZ(n){const{width:e,height:t}=Kz(n);return{width:e,height:t}}function mZ(n,e,t,r){const i=ca(e),s=il(e),o=t==="fixed",a=Lu(n,!0,o,e);let l={scrollLeft:0,scrollTop:0};const c=oc(0);if(i||!i&&!o)if((ac(e)!=="body"||wg(s))&&(l=Zx(e)),i){const y=Lu(e,!0,o,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else s&&(c.x=qz(s));let u=a.left+l.scrollLeft-c.x,f=a.top+l.scrollTop-c.y;const[p,m,g]=Jz(r);return p&&(u+=m,f+=g,i&&(u+=e.clientLeft,f+=e.clientTop)),{x:u,y:f,width:a.width,height:a.height}}function oB(n,e){return!ca(n)||to(n).position==="fixed"?null:e?e(n):n.offsetParent}function Zz(n,e){const t=ps(n);if(!ca(n))return t;let r=oB(n,e);for(;r&&rZ(r)&&to(r).position==="static";)r=oB(r,e);return r&&(ac(r)==="html"||ac(r)==="body"&&to(r).position==="static"&&!$C(r))?t:r||jz(n)||t}const gZ=async function(n){const e=this.getOffsetParent||Zz,t=this.getDimensions;return{reference:mZ(n.reference,await e(n.floating),n.strategy,n.floating),floating:{x:0,y:0,...await t(n.floating)}}};function vZ(n){return to(n).direction==="rtl"}const yZ={convertOffsetParentRelativeRectToViewportRelativeRect:aZ,getDocumentElement:il,getClippingRect:hZ,getOffsetParent:Zz,getElementRects:gZ,getClientRects:lZ,getDimensions:pZ,getScale:wd,isElement:Za,isRTL:vZ};function _Z(n,e){let t=null,r;const i=il(n);function s(){var a;clearTimeout(r),(a=t)==null||a.disconnect(),t=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:f,height:p}=n.getBoundingClientRect();if(a||e(),!f||!p)return;const m=Wv(u),g=Wv(i.clientWidth-(c+f)),y=Wv(i.clientHeight-(u+p)),_=Wv(c),x={rootMargin:-m+"px "+-g+"px "+-y+"px "+-_+"px",threshold:ss(0,sc(1,l))||1};let b=!0;function A(M){const E=M[0].intersectionRatio;if(E!==l){if(!b)return o();E?o(!1,E):r=setTimeout(()=>{o(!1,1e-7)},100)}b=!1}try{t=new IntersectionObserver(A,{...x,root:i.ownerDocument})}catch{t=new IntersectionObserver(A,x)}t.observe(n)}return o(!0),s}function xZ(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=XC(n),u=i||s?[...c?Fm(c):[],...Fm(e)]:[];u.forEach(v=>{i&&v.addEventListener("scroll",t,{passive:!0}),s&&v.addEventListener("resize",t)});const f=c&&a?_Z(c,t):null;let p=-1,m=null;o&&(m=new ResizeObserver(v=>{let[x]=v;x&&x.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),t()}),c&&!l&&m.observe(c),m.observe(e));let g,y=l?Lu(n):null;l&&_();function _(){const v=Lu(n);y&&(v.x!==y.x||v.y!==y.y||v.width!==y.width||v.height!==y.height)&&t(),y=v,g=requestAnimationFrame(_)}return t(),()=>{var v;u.forEach(x=>{i&&x.removeEventListener("scroll",t),s&&x.removeEventListener("resize",t)}),f==null||f(),(v=m)==null||v.disconnect(),m=null,l&&cancelAnimationFrame(g)}}const SZ=eZ,bZ=JQ,AZ=nZ,wZ=qQ,aB=YQ,EZ=tZ,MZ=(n,e,t)=>{const r=new Map,i={platform:yZ,...t},s={...i.platform,_c:r};return KQ(n,e,{...i,platform:s})},TZ=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:i}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?aB({element:r.current,padding:i}).fn(t):{}:r?aB({element:r,padding:i}).fn(t):{}}}};var Ty=typeof document<"u"?O.useLayoutEffect:O.useEffect;function A_(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,i;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!A_(n[r],e[r]))return!1;return!0}if(i=Object.keys(n),t=i.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=t;r--!==0;){const s=i[r];if(!(s==="_owner"&&n.$$typeof)&&!A_(n[s],e[s]))return!1}return!0}return n!==n&&e!==e}function e4(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function lB(n,e){const t=e4(n);return Math.round(e*t)/t}function cB(n){const e=O.useRef(n);return Ty(()=>{e.current=n}),e}function CZ(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=n,[u,f]=O.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=O.useState(r);A_(p,r)||m(r);const[g,y]=O.useState(null),[_,v]=O.useState(null),x=O.useCallback($=>{$!==E.current&&(E.current=$,y($))},[]),b=O.useCallback($=>{$!==R.current&&(R.current=$,v($))},[]),A=s||g,M=o||_,E=O.useRef(null),R=O.useRef(null),I=O.useRef(u),T=l!=null,P=cB(l),B=cB(i),U=O.useCallback(()=>{if(!E.current||!R.current)return;const $={placement:e,strategy:t,middleware:p};B.current&&($.platform=B.current),MZ(E.current,R.current,$).then(F=>{const X={...F,isPositioned:!0};j.current&&!A_(I.current,X)&&(I.current=X,sg.flushSync(()=>{f(X)}))})},[p,e,t,B]);Ty(()=>{c===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f($=>({...$,isPositioned:!1})))},[c]);const j=O.useRef(!1);Ty(()=>(j.current=!0,()=>{j.current=!1}),[]),Ty(()=>{if(A&&(E.current=A),M&&(R.current=M),A&&M){if(P.current)return P.current(A,M,U);U()}},[A,M,U,P,T]);const N=O.useMemo(()=>({reference:E,floating:R,setReference:x,setFloating:b}),[x,b]),G=O.useMemo(()=>({reference:A,floating:M}),[A,M]),V=O.useMemo(()=>{const $={position:t,left:0,top:0};if(!G.floating)return $;const F=lB(G.floating,u.x),X=lB(G.floating,u.y);return a?{...$,transform:"translate("+F+"px, "+X+"px)",...e4(G.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:F,top:X}},[t,a,G.floating,u.x,u.y]);return O.useMemo(()=>({...u,update:U,refs:N,elements:G,floatingStyles:V}),[u,U,N,G,V])}const RZ=O.forwardRef((n,e)=>{const{children:t,width:r=10,height:i=5,...s}=n;return O.createElement(ju.svg,Oe({},s,{ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none"}),n.asChild?t:O.createElement("polygon",{points:"0,0 30,0 15,10"}))}),PZ=RZ;function OZ(n){const[e,t]=O.useState(void 0);return qd(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=n.offsetWidth,a=n.offsetHeight;t({width:o,height:a})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}const t4="Popper",[n4,r4]=Gz(t4),[LZ,i4]=n4(t4),IZ=n=>{const{__scopePopper:e,children:t}=n,[r,i]=O.useState(null);return O.createElement(LZ,{scope:e,anchor:r,onAnchorChange:i},t)},BZ="PopperAnchor",DZ=O.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...i}=n,s=i4(BZ,t),o=O.useRef(null),a=wh(e,o);return O.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:O.createElement(ju.div,Oe({},i,{ref:a}))}),s4="PopperContent",[kZ,NZ]=n4(s4),FZ=O.forwardRef((n,e)=>{var t,r,i,s,o,a,l,c;const{__scopePopper:u,side:f="bottom",sideOffset:p=0,align:m="center",alignOffset:g=0,arrowPadding:y=0,avoidCollisions:_=!0,collisionBoundary:v=[],collisionPadding:x=0,sticky:b="partial",hideWhenDetached:A=!1,updatePositionStrategy:M="optimized",onPlaced:E,...R}=n,I=i4(s4,u),[T,P]=O.useState(null),B=wh(e,we=>P(we)),[U,j]=O.useState(null),N=OZ(U),G=(t=N==null?void 0:N.width)!==null&&t!==void 0?t:0,V=(r=N==null?void 0:N.height)!==null&&r!==void 0?r:0,$=f+(m!=="center"?"-"+m:""),F=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},X=Array.isArray(v)?v:[v],Y=X.length>0,te={padding:F,boundary:X.filter(GZ),altBoundary:Y},{refs:ee,floatingStyles:J,placement:ne,isPositioned:ue,middlewareData:Ae}=CZ({strategy:"fixed",placement:$,whileElementsMounted:(...we)=>xZ(...we,{animationFrame:M==="always"}),elements:{reference:I.anchor},middleware:[ZQ({mainAxis:p+V,alignmentAxis:g}),_&&SZ({mainAxis:!0,crossAxis:!1,limiter:b==="partial"?EZ():void 0,...te}),_&&bZ({...te}),AZ({...te,apply:({elements:we,rects:ve,availableWidth:Xe,availableHeight:Ue})=>{const{width:k,height:D}=ve.reference,ie=we.floating.style;ie.setProperty("--radix-popper-available-width",`${Xe}px`),ie.setProperty("--radix-popper-available-height",`${Ue}px`),ie.setProperty("--radix-popper-anchor-width",`${k}px`),ie.setProperty("--radix-popper-anchor-height",`${D}px`)}}),U&&TZ({element:U,padding:y}),VZ({arrowWidth:G,arrowHeight:V}),A&&wZ({strategy:"referenceHidden",...te})]}),[Re,Qe]=o4(ne),Ve=Mh(E);qd(()=>{ue&&(Ve==null||Ve())},[ue,Ve]);const Fe=(i=Ae.arrow)===null||i===void 0?void 0:i.x,Le=(s=Ae.arrow)===null||s===void 0?void 0:s.y,K=((o=Ae.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[_e,me]=O.useState();return qd(()=>{T&&me(window.getComputedStyle(T).zIndex)},[T]),O.createElement("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:ue?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:_e,"--radix-popper-transform-origin":[(a=Ae.transformOrigin)===null||a===void 0?void 0:a.x,(l=Ae.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:n.dir},O.createElement(kZ,{scope:u,placedSide:Re,onArrowChange:j,arrowX:Fe,arrowY:Le,shouldHideArrow:K},O.createElement(ju.div,Oe({"data-side":Re,"data-align":Qe},R,{ref:B,style:{...R.style,animation:ue?void 0:"none",opacity:(c=Ae.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))}),UZ="PopperArrow",zZ={top:"bottom",right:"left",bottom:"top",left:"right"},HZ=O.forwardRef(function(e,t){const{__scopePopper:r,...i}=e,s=NZ(UZ,r),o=zZ[s.placedSide];return O.createElement("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0}},O.createElement(PZ,Oe({},i,{ref:t,style:{...i.style,display:"block"}})))});function GZ(n){return n!==null}const VZ=n=>({name:"transformOrigin",options:n,fn(e){var t,r,i,s,o;const{placement:a,rects:l,middlewareData:c}=e,f=((t=c.arrow)===null||t===void 0?void 0:t.centerOffset)!==0,p=f?0:n.arrowWidth,m=f?0:n.arrowHeight,[g,y]=o4(a),_={start:"0%",center:"50%",end:"100%"}[y],v=((r=(i=c.arrow)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:0)+p/2,x=((s=(o=c.arrow)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0)+m/2;let b="",A="";return g==="bottom"?(b=f?_:`${v}px`,A=`${-m}px`):g==="top"?(b=f?_:`${v}px`,A=`${l.floating.height+m}px`):g==="right"?(b=`${-m}px`,A=f?_:`${x}px`):g==="left"&&(b=`${l.floating.width+m}px`,A=f?_:`${x}px`),{data:{x:b,y:A}}}});function o4(n){const[e,t="center"]=n.split("-");return[e,t]}const WZ=IZ,$Z=DZ,jZ=FZ,XZ=HZ;function KZ(n,e){return O.useReducer((t,r)=>{const i=e[t][r];return i??t},n)}const a4=n=>{const{present:e,children:t}=n,r=YZ(e),i=typeof t=="function"?t({present:r.isPresent}):O.Children.only(t),s=wh(r.ref,i.ref);return typeof t=="function"||r.isPresent?O.cloneElement(i,{ref:s}):null};a4.displayName="Presence";function YZ(n){const[e,t]=O.useState(),r=O.useRef({}),i=O.useRef(n),s=O.useRef("none"),o=n?"mounted":"unmounted",[a,l]=KZ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return O.useEffect(()=>{const c=$v(r.current);s.current=a==="mounted"?c:"none"},[a]),qd(()=>{const c=r.current,u=i.current;if(u!==n){const p=s.current,m=$v(c);n?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=n}},[n,l]),qd(()=>{if(e){const c=f=>{const m=$v(r.current).includes(f.animationName);f.target===e&&m&&sg.flushSync(()=>l("ANIMATION_END"))},u=f=>{f.target===e&&(s.current=$v(r.current))};return e.addEventListener("animationstart",u),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",u),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:O.useCallback(c=>{c&&(r.current=getComputedStyle(c)),t(c)},[])}}function $v(n){return(n==null?void 0:n.animationName)||"none"}function JZ({prop:n,defaultProp:e,onChange:t=()=>{}}){const[r,i]=qZ({defaultProp:e,onChange:t}),s=n!==void 0,o=s?n:r,a=Mh(t),l=O.useCallback(c=>{if(s){const f=typeof c=="function"?c(n):c;f!==n&&a(f)}else i(c)},[s,n,i,a]);return[o,l]}function qZ({defaultProp:n,onChange:e}){const t=O.useState(n),[r]=t,i=O.useRef(r),s=Mh(e);return O.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),t}const QZ=O.forwardRef((n,e)=>O.createElement(ju.span,Oe({},n,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...n.style}}))),ZZ=QZ,[e1,lge]=Gz("Tooltip",[r4]),t1=r4(),eee="TooltipProvider",$E="tooltip.open",[cge,KC]=e1(eee),YC="Tooltip",[tee,n1]=e1(YC),nee=n=>{const{__scopeTooltip:e,children:t,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=n,l=KC(YC,n.__scopeTooltip),c=t1(e),[u,f]=O.useState(null),p=UQ(),m=O.useRef(0),g=o??l.disableHoverableContent,y=a??l.delayDuration,_=O.useRef(!1),[v=!1,x]=JZ({prop:r,defaultProp:i,onChange:R=>{R?(l.onOpen(),document.dispatchEvent(new CustomEvent($E))):l.onClose(),s==null||s(R)}}),b=O.useMemo(()=>v?_.current?"delayed-open":"instant-open":"closed",[v]),A=O.useCallback(()=>{window.clearTimeout(m.current),_.current=!1,x(!0)},[x]),M=O.useCallback(()=>{window.clearTimeout(m.current),x(!1)},[x]),E=O.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{_.current=!0,x(!0)},y)},[y,x]);return O.useEffect(()=>()=>window.clearTimeout(m.current),[]),O.createElement(WZ,c,O.createElement(tee,{scope:e,contentId:p,open:v,stateAttribute:b,trigger:u,onTriggerChange:f,onTriggerEnter:O.useCallback(()=>{l.isOpenDelayed?E():A()},[l.isOpenDelayed,E,A]),onTriggerLeave:O.useCallback(()=>{g?M():window.clearTimeout(m.current)},[M,g]),onOpen:A,onClose:M,disableHoverableContent:g},t))},uB="TooltipTrigger",ree=O.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=n1(uB,t),s=KC(uB,t),o=t1(t),a=O.useRef(null),l=wh(e,a,i.onTriggerChange),c=O.useRef(!1),u=O.useRef(!1),f=O.useCallback(()=>c.current=!1,[]);return O.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),O.createElement($Z,Oe({asChild:!0},o),O.createElement(ju.button,Oe({"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute},r,{ref:l,onPointerMove:Oa(n.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Oa(n.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Oa(n.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Oa(n.onFocus,()=>{c.current||i.onOpen()}),onBlur:Oa(n.onBlur,i.onClose),onClick:Oa(n.onClick,i.onClose)})))}),iee="TooltipPortal",[uge,see]=e1(iee,{forceMount:void 0}),Um="TooltipContent",oee=O.forwardRef((n,e)=>{const t=see(Um,n.__scopeTooltip),{forceMount:r=t.forceMount,side:i="top",...s}=n,o=n1(Um,n.__scopeTooltip);return O.createElement(a4,{present:r||o.open},o.disableHoverableContent?O.createElement(l4,Oe({side:i},s,{ref:e})):O.createElement(aee,Oe({side:i},s,{ref:e})))}),aee=O.forwardRef((n,e)=>{const t=n1(Um,n.__scopeTooltip),r=KC(Um,n.__scopeTooltip),i=O.useRef(null),s=wh(e,i),[o,a]=O.useState(null),{trigger:l,onClose:c}=t,u=i.current,{onPointerInTransitChange:f}=r,p=O.useCallback(()=>{a(null),f(!1)},[f]),m=O.useCallback((g,y)=>{const _=g.currentTarget,v={x:g.clientX,y:g.clientY},x=dee(v,_.getBoundingClientRect()),b=hee(v,x),A=pee(y.getBoundingClientRect()),M=gee([...b,...A]);a(M),f(!0)},[f]);return O.useEffect(()=>()=>p(),[p]),O.useEffect(()=>{if(l&&u){const g=_=>m(_,u),y=_=>m(_,l);return l.addEventListener("pointerleave",g),u.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",y)}}},[l,u,m,p]),O.useEffect(()=>{if(o){const g=y=>{const _=y.target,v={x:y.clientX,y:y.clientY},x=(l==null?void 0:l.contains(_))||(u==null?void 0:u.contains(_)),b=!mee(v,o);x?p():b&&(p(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,u,o,c,p]),O.createElement(l4,Oe({},n,{ref:s}))}),[lee,cee]=e1(YC,{isInside:!1}),l4=O.forwardRef((n,e)=>{const{__scopeTooltip:t,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=n,l=n1(Um,t),c=t1(t),{onClose:u}=l;return O.useEffect(()=>(document.addEventListener($E,u),()=>document.removeEventListener($E,u)),[u]),O.useEffect(()=>{if(l.trigger){const f=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),O.createElement(BQ,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u},O.createElement(jZ,Oe({"data-state":l.stateAttribute},c,a,{ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"}}),O.createElement(Cz,null,r),O.createElement(lee,{scope:t,isInside:!0},O.createElement(ZZ,{id:l.contentId,role:"tooltip"},i||r))))}),uee="TooltipArrow",fee=O.forwardRef((n,e)=>{const{__scopeTooltip:t,...r}=n,i=t1(t);return cee(uee,t).isInside?null:O.createElement(XZ,Oe({},i,r,{ref:e}))});function dee(n,e){const t=Math.abs(e.top-n.y),r=Math.abs(e.bottom-n.y),i=Math.abs(e.right-n.x),s=Math.abs(e.left-n.x);switch(Math.min(t,r,i,s)){case s:return"left";case i:return"right";case t:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function hee(n,e,t=5){const r=[];switch(e){case"top":r.push({x:n.x-t,y:n.y+t},{x:n.x+t,y:n.y+t});break;case"bottom":r.push({x:n.x-t,y:n.y-t},{x:n.x+t,y:n.y-t});break;case"left":r.push({x:n.x+t,y:n.y-t},{x:n.x+t,y:n.y+t});break;case"right":r.push({x:n.x-t,y:n.y-t},{x:n.x-t,y:n.y+t});break}return r}function pee(n){const{top:e,right:t,bottom:r,left:i}=n;return[{x:i,y:e},{x:t,y:e},{x:t,y:r},{x:i,y:r}]}function mee(n,e){const{x:t,y:r}=n;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>r!=u>r&&t<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function gee(n){const e=n.slice();return e.sort((t,r)=>t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0),vee(e)}function vee(n){if(n.length<=1)return n.slice();const e=[];for(let r=0;r<n.length;r++){const i=n[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const t=[];for(let r=n.length-1;r>=0;r--){const i=n[r];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}return t.pop(),e.length===1&&t.length===1&&e[0].x===t[0].x&&e[0].y===t[0].y?e:e.concat(t)}const yee=nee,_ee=ree,xee=oee,See=fee;function bee(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function vn(n,e){if(n==null)return{};var t=bee(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}let Bn;(function(n){n[n.UNSUPPORTED_INPUT=0]="UNSUPPORTED_INPUT",n[n.NO_COMPONENT_FOR_TYPE=1]="NO_COMPONENT_FOR_TYPE",n[n.UNKNOWN_INPUT=2]="UNKNOWN_INPUT",n[n.DUPLICATE_KEYS=3]="DUPLICATE_KEYS",n[n.ALREADY_REGISTERED_TYPE=4]="ALREADY_REGISTERED_TYPE",n[n.CLIPBOARD_ERROR=5]="CLIPBOARD_ERROR",n[n.THEME_ERROR=6]="THEME_ERROR",n[n.PATH_DOESNT_EXIST=7]="PATH_DOESNT_EXIST",n[n.INPUT_TYPE_OVERRIDE=8]="INPUT_TYPE_OVERRIDE",n[n.EMPTY_KEY=9]="EMPTY_KEY"})(Bn||(Bn={}));const Aee={[Bn.UNSUPPORTED_INPUT]:(n,e)=>[`An input with type \`${n}\` input was found at path \`${e}\` but it's not supported yet.`],[Bn.NO_COMPONENT_FOR_TYPE]:(n,e)=>[`Type \`${n}\` found at path \`${e}\` can't be displayed in panel because no component supports it yet.`],[Bn.UNKNOWN_INPUT]:(n,e)=>[`input at path \`${n}\` is not recognized.`,e],[Bn.DUPLICATE_KEYS]:(n,e,t)=>[`Key \`${n}\` of path \`${e}\` already exists at path \`${t}\`. Even nested keys need to be unique. Rename one of the keys.`],[Bn.ALREADY_REGISTERED_TYPE]:n=>[`Type ${n} has already been registered. You can't register a component with the same type.`],[Bn.CLIPBOARD_ERROR]:n=>["Error copying the value",n],[Bn.THEME_ERROR]:(n,e)=>[`Error accessing the theme \`${n}.${e}\` value.`],[Bn.PATH_DOESNT_EXIST]:n=>[`Error getting the value at path \`${n}\`. There is probably an error in your \`render\` function.`],[Bn.PATH_DOESNT_EXIST]:n=>[`Error accessing the value at path \`${n}\``],[Bn.INPUT_TYPE_OVERRIDE]:(n,e,t)=>[`Input at path \`${n}\` already exists with type: \`${e}\`. Its type cannot be overridden with type \`${t}\`.`],[Bn.EMPTY_KEY]:()=>["Keys can not be empty, if you want to hide a label use whitespace."]};function c4(n,e,...t){const[r,...i]=Aee[e](...t);console[n]("LEVA: "+r,...i)}const Ba=c4.bind(null,"warn"),wee=c4.bind(null,"log"),Eee=["value"],Mee=["schema"],Tee=["value"],u4=[],Iu={};function fB(n){let{value:e}=n,t=vn(n,Eee);for(let r of u4){const i=r(e,t);if(i)return i}}function sl(n,e){let{schema:t}=e,r=vn(e,Mee);if(n in Iu){Ba(Bn.ALREADY_REGISTERED_TYPE,n);return}u4.push((i,s)=>t(i,s)&&n),Iu[n]=r}function dA(n,e,t,r){const{normalize:i}=Iu[n];if(i)return i(e,t,r);if(typeof e!="object"||!("value"in e))return{value:e};const{value:s}=e,o=vn(e,Tee);return{value:s,settings:o}}function Cee(n,e,t,r,i,s){const{sanitize:o}=Iu[n];return o?o(e,t,r,i,s):e}function dB(n,e,t){const{format:r}=Iu[n];return r?r(e,t):e}function Ree(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function hB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Pt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?hB(Object(t),!0).forEach(function(r){Ree(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):hB(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const lc=(n,e,t)=>n>t?t:n<e?e:n,Pee=n=>{if(n===""||typeof n=="number")return n;try{const e=Ml(n);if(!isNaN(e))return e}catch{}return parseFloat(n)},Oee=Math.log(10);function pB(n){let e=Math.abs(+String(n).replace(".",""));if(e===0)return .01;for(;e!==0&&e%10===0;)e/=10;const t=Math.floor(Math.log(e)/Oee)+1,r=Math.floor(Math.log10(Math.abs(n))),i=Math.pow(10,r-t);return Math.max(i,.001)}const w_=(n,e,t)=>t===e?0:(lc(n,e,t)-e)/(t-e),E_=(n,e,t)=>n*(t-e)+e,Lee=()=>"_"+Math.random().toString(36).substr(2,9),mB=/\(([0-9+\-*/^ .]+)\)/,gB=/(\d+(?:\.\d+)?) ?\^ ?(\d+(?:\.\d+)?)/,vB=/(\d+(?:\.\d+)?) ?\* ?(\d+(?:\.\d+)?)/,yB=/(\d+(?:\.\d+)?) ?\/ ?(\d+(?:\.\d+)?)/,_B=/(\d+(?:\.\d+)?) ?\+ ?(\d+(?:\.\d+)?)/,xB=/(\d+(?:\.\d+)?) ?- ?(\d+(?:\.\d+)?)/;function Ml(n){if(isNaN(Number(n)))if(mB.test(n)){const e=n.replace(mB,(t,r)=>String(Ml(r)));return Ml(e)}else if(gB.test(n)){const e=n.replace(gB,(t,r,i)=>String(Math.pow(Number(r),Number(i))));return Ml(e)}else if(vB.test(n)){const e=n.replace(vB,(t,r,i)=>String(Number(r)*Number(i)));return Ml(e)}else if(yB.test(n)){const e=n.replace(yB,(t,r,i)=>{if(i!=0)return String(Number(r)/Number(i));throw new Error("Division by zero")});return Ml(e)}else if(_B.test(n)){const e=n.replace(_B,(t,r,i)=>String(Number(r)+Number(i)));return Ml(e)}else if(xB.test(n)){const e=n.replace(xB,(t,r,i)=>String(Number(r)-Number(i)));return Ml(e)}else return Number(n);return Number(n)}function Iee(n,e){const t=Pt({},n);return e.forEach(r=>r in n&&delete t[r]),t}function Bee(n,e){return n.reduce((t,r,i)=>Object.assign(t,{[e[i]]:r}),{})}function f4(n){return Object.prototype.toString.call(n)==="[object Object]"}const Dee=n=>f4(n)&&Object.keys(n).length===0;let na;(function(n){n.BUTTON="BUTTON",n.BUTTON_GROUP="BUTTON_GROUP",n.MONITOR="MONITOR",n.FOLDER="FOLDER"})(na||(na={}));let Eo;(function(n){n.SELECT="SELECT",n.IMAGE="IMAGE",n.NUMBER="NUMBER",n.COLOR="COLOR",n.STRING="STRING",n.BOOLEAN="BOOLEAN",n.INTERVAL="INTERVAL",n.VECTOR3D="VECTOR3D",n.VECTOR2D="VECTOR2D"})(Eo||(Eo={}));const kee=["type","__customInput"],Nee=["render","label","optional","order","disabled","hint","onChange","onEditStart","onEditEnd","transient"],Fee=["type"];function d4(n,e,t={},r){var i,s;if(typeof n!="object"||Array.isArray(n))return{type:r,input:n,options:Pt({key:e,label:e,optional:!1,disabled:!1,order:0},t)};if("__customInput"in n){const{type:M,__customInput:E}=n,R=vn(n,kee);return d4(E,e,R,M)}const{render:o,label:a,optional:l,order:c=0,disabled:u,hint:f,onChange:p,onEditStart:m,onEditEnd:g,transient:y}=n,_=vn(n,Nee),v=Pt({render:o,key:e,label:a??e,hint:f,transient:y??!!p,onEditStart:m,onEditEnd:g,disabled:u,optional:l,order:c},t);let{type:x}=_,b=vn(_,Fee);if(x=r??x,x in na)return{type:x,input:b,options:v};let A;return r&&f4(b)&&"value"in b?A=b.value:A=Dee(b)?void 0:b,{type:x,input:A,options:Pt(Pt({},v),{},{onChange:p,optional:(i=v.optional)!==null&&i!==void 0?i:!1,disabled:(s=v.disabled)!==null&&s!==void 0?s:!1})}}function Uee(n,e,t,r){const i=d4(n,e),{type:s,input:o,options:a}=i;if(s)return s in na?i:{type:s,input:dA(s,o,t,r),options:a};let l=fB(o);return l?{type:l,input:dA(l,o,t,r),options:a}:(l=fB({value:o}),l?{type:l,input:dA(l,{value:o},t,r),options:a}:!1)}function SB(n,e,t,r,i){const{value:s,type:o,settings:a}=n;n.value=h4({type:o,value:s,settings:a},e,t,r),n.fromPanel=i}const zee=function(e,t,r){this.type="LEVA_ERROR",this.message="LEVA: "+e,this.previousValue=t,this.error=r};function h4({type:n,value:e,settings:t},r,i,s){const o=n!=="SELECT"&&typeof r=="function"?r(e):r;let a;try{a=Cee(n,o,t,e,i,s)}catch(l){throw new zee(`The value \`${r}\` did not result in a correct value.`,e,l)}return v_(a,e)?e:a}const p4=(n,e,t=!1)=>{let r=0;return function(){const i=arguments,s=t&&!r,o=()=>n.apply(this,i);window.clearTimeout(r),r=window.setTimeout(o,e),s&&o()}},m4=n=>n.shiftKey?5:n.altKey?1/5:1,Hee=["value"],Gee=["min","max"],Vee=n=>{if(typeof n=="number")return!0;if(typeof n=="string"){const e=parseFloat(n);return isNaN(e)?!1:n.substring((""+e).length).trim().length<4}return!1},g4=(n,{min:e=-1/0,max:t=1/0,suffix:r})=>{const i=parseFloat(n);if(n===""||isNaN(i))throw Error("Invalid number");const s=lc(i,e,t);return r?s+r:s},Wee=(n,{pad:e=0,suffix:t})=>{const r=parseFloat(n).toFixed(e);return t?r+t:r},v4=n=>{let{value:e}=n,t=vn(n,Hee);const{min:r=-1/0,max:i=1/0}=t,s=vn(t,Gee);let o=parseFloat(e);const a=typeof e=="string"?e.substring((""+o).length):void 0;o=lc(o,r,i);let l=t.step;l||(Number.isFinite(r)?Number.isFinite(i)?l=+(Math.abs(i-r)/100).toPrecision(1):l=+(Math.abs(o-r)/100).toPrecision(1):Number.isFinite(i)&&(l=+(Math.abs(i-o)/100).toPrecision(1)));const c=l?pB(l)*10:pB(o);l=l||c/10;const u=Math.round(lc(Math.log10(1/c),0,2));return{value:a?o+a:o,settings:Pt({initialValue:o,step:l,pad:u,min:r,max:i,suffix:a},s)}},y4=(n,{step:e,initialValue:t})=>{const r=Math.round((n-t)/e);return t+r*e};var _4=Object.freeze({__proto__:null,schema:Vee,sanitize:g4,format:Wee,normalize:v4,sanitizeStep:y4});function mr(){return mr=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},mr.apply(this,arguments)}const x4=O.createContext({});function hi(){return O.useContext(x4)}const S4=O.createContext(null),b4=O.createContext(null),A4=O.createContext(null);function Eg(){return O.useContext(b4)}function $ee(){return O.useContext(A4)}const jee=()=>({colors:{elevation1:"#292d39",elevation2:"#181c20",elevation3:"#373c4b",accent1:"#0066dc",accent2:"#007bff",accent3:"#3c93ff",highlight1:"#535760",highlight2:"#8c92a4",highlight3:"#fefefe",vivid1:"#ffcc00",folderWidgetColor:"$highlight2",folderTextColor:"$highlight3",toolTipBackground:"$highlight3",toolTipText:"$elevation2"},radii:{xs:"2px",sm:"3px",lg:"10px"},space:{xs:"3px",sm:"6px",md:"10px",rowGap:"7px",colGap:"7px"},fonts:{mono:"ui-monospace, SFMono-Regular, Menlo, 'Roboto Mono', monospace",sans:"system-ui, sans-serif"},fontSizes:{root:"11px",toolTip:"$root"},sizes:{rootWidth:"280px",controlWidth:"160px",numberInputMinWidth:"38px",scrubberWidth:"8px",scrubberHeight:"16px",rowHeight:"24px",folderTitleHeight:"20px",checkboxSize:"16px",joystickWidth:"100px",joystickHeight:"100px",colorPickerWidth:"$controlWidth",colorPickerHeight:"100px",imagePreviewWidth:"$controlWidth",imagePreviewHeight:"100px",monitorHeight:"60px",titleBarHeight:"39px"},shadows:{level1:"0 0 9px 0 #00000088",level2:"0 4px 14px #00000033"},borderWidths:{root:"0px",input:"1px",focus:"1px",hover:"1px",active:"1px",folder:"1px"},fontWeights:{label:"normal",folder:"normal",button:"normal"}});function jv(n,e){const[t,r]=n.split(" "),i={};return t!=="none"&&(i.boxShadow=`${e.inset?"inset ":""}0 0 0 $borderWidths${[e.key]} $colors${t!=="default"&&t||e.borderColor}`),r&&(i.backgroundColor=r),i}const bp={$inputStyle:()=>n=>jv(n,{key:"$input",borderColor:"$highlight1",inset:!0}),$focusStyle:()=>n=>jv(n,{key:"$focus",borderColor:"$accent2"}),$hoverStyle:()=>n=>jv(n,{key:"$hover",borderColor:"$accent1",inset:!0}),$activeStyle:()=>n=>jv(n,{key:"$active",borderColor:"$accent1",inset:!0})},{styled:gt,css:fge,createTheme:dge,globalCss:Xee,keyframes:hge}=Dq({prefix:"leva",theme:jee(),utils:Pt(Pt({},bp),{},{$flex:()=>({display:"flex",alignItems:"center"}),$flexCenter:()=>({display:"flex",alignItems:"center",justifyContent:"center"}),$reset:()=>({outline:"none",fontSize:"inherit",fontWeight:"inherit",color:"inherit",fontFamily:"inherit",border:"none",backgroundColor:"transparent",appearance:"none"}),$draggable:()=>({touchAction:"none",WebkitUserDrag:"none",userSelect:"none"}),$focus:n=>({"&:focus":bp.$focusStyle()(n)}),$focusWithin:n=>({"&:focus-within":bp.$focusStyle()(n)}),$hover:n=>({"&:hover":bp.$hoverStyle()(n)}),$active:n=>({"&:active":bp.$activeStyle()(n)})})}),Kee=Xee({".leva__panel__dragged":{WebkitUserDrag:"none",userSelect:"none",input:{userSelect:"none"},"*":{cursor:"ew-resize !important"}}});function Ga(n,e){const{theme:t}=O.useContext(S4);if(!(n in t)||!(e in t[n]))return Ba(Bn.THEME_ERROR,n,e),"";let r=e;for(;;){let i=t[n][r];if(typeof i=="string"&&i.charAt(0)==="$")r=i.substr(1);else return i}}const w4=gt("input",{$reset:"",padding:"0 $sm",width:0,minWidth:0,flex:1,height:"100%",variants:{levaType:{number:{textAlign:"right"}},as:{textarea:{padding:"$sm"}}}}),E4=gt("div",{$draggable:"",height:"100%",$flexCenter:"",position:"relative",padding:"0 $xs",fontSize:"0.8em",opacity:.8,cursor:"default",touchAction:"none",[`& + ${w4}`]:{paddingLeft:0}}),Yee=gt(E4,{cursor:"ew-resize",marginRight:"-$xs",textTransform:"uppercase",opacity:.3,"&:hover":{opacity:1},variants:{dragging:{true:{backgroundColor:"$accent2",opacity:1}}}}),Jee=gt("div",{$flex:"",position:"relative",borderRadius:"$sm",overflow:"hidden",color:"inherit",height:"$rowHeight",backgroundColor:"$elevation3",$inputStyle:"$elevation1",$hover:"",$focusWithin:"",variants:{textArea:{true:{height:"auto"}}}}),qee=["innerLabel","value","onUpdate","onChange","onKeyDown","type","id","inputType","rows"],Qee=["onUpdate"];function JC(n){let{innerLabel:e,value:t,onUpdate:r,onChange:i,onKeyDown:s,type:o,id:a,inputType:l="text",rows:c=0}=n,u=vn(n,qee);const{id:f,emitOnEditStart:p,emitOnEditEnd:m,disabled:g}=hi(),y=a||f,_=O.useRef(null),v=c>0,x=v?"textarea":"input",b=O.useCallback(E=>R=>{const I=R.currentTarget.value;E(I)},[]);q.useEffect(()=>{const E=_.current,R=b(I=>{r(I),m()});return E==null||E.addEventListener("blur",R),()=>E==null?void 0:E.removeEventListener("blur",R)},[b,r,m]);const A=O.useCallback(E=>{E.key==="Enter"&&b(r)(E)},[b,r]),M=Object.assign({as:x},v?{rows:c}:{},u);return q.createElement(Jee,{textArea:v},e&&typeof e=="string"?q.createElement(E4,null,e):e,q.createElement(w4,mr({levaType:o,ref:_,id:y,type:l,autoComplete:"off",spellCheck:"false",value:t,onChange:b(i),onFocus:()=>p(),onKeyPress:A,onKeyDown:s,disabled:g},M)))}function Zee(n){let{onUpdate:e}=n,t=vn(n,Qee);const r=O.useCallback(s=>e(Pee(s)),[e]),i=O.useCallback(s=>{const o=s.key==="ArrowUp"?1:s.key==="ArrowDown"?-1:0;if(o){s.preventDefault();const a=s.altKey?.1:s.shiftKey?10:1;e(l=>parseFloat(l)+o*a)}},[e]);return q.createElement(JC,mr({},t,{onUpdate:r,onKeyDown:i,type:"number"}))}const M_=gt("div",{}),jE=gt("div",{position:"relative",background:"$elevation2",transition:"height 300ms ease",variants:{fill:{true:{},false:{}},flat:{false:{},true:{}},isRoot:{true:{},false:{paddingLeft:"$md","&::after":{content:'""',position:"absolute",left:0,top:0,width:"$borderWidths$folder",height:"100%",backgroundColor:"$folderWidgetColor",opacity:.4,transform:"translateX(-50%)"}}}},compoundVariants:[{isRoot:!0,fill:!1,css:{overflowY:"auto",maxHeight:"calc(100vh - 20px - $$titleBarHeight)"}},{isRoot:!0,flat:!1,css:{borderRadius:"$lg"}}]}),ete=gt("div",{$flex:"",color:"$folderTextColor",userSelect:"none",cursor:"pointer",height:"$folderTitleHeight",fontWeight:"$folder","> svg":{marginLeft:-4,marginRight:4,cursor:"pointer",fill:"$folderWidgetColor",opacity:.6},"&:hover > svg":{fill:"$folderWidgetColor"},[`&:hover + ${jE}::after`]:{opacity:.6},[`${M_}:hover > & + ${jE}::after`]:{opacity:.6},[`${M_}:hover > & > svg`]:{opacity:1}}),M4=gt("div",{position:"relative",display:"grid",gridTemplateColumns:"100%",rowGap:"$rowGap",transition:"opacity 250ms ease",variants:{toggled:{true:{opacity:1,transitionDelay:"250ms"},false:{opacity:0,transitionDelay:"0ms",pointerEvents:"none"}},isRoot:{true:{"& > div":{paddingLeft:"$md",paddingRight:"$md"},"& > div:first-of-type":{paddingTop:"$sm"},"& > div:last-of-type":{paddingBottom:"$sm"},[`> ${M_}:not(:first-of-type)`]:{paddingTop:"$sm",marginTop:"$md",borderTop:"$borderWidths$folder solid $colors$elevation1"}}}}}),T4=gt("div",{position:"relative",zIndex:100,display:"grid",rowGap:"$rowGap",gridTemplateRows:"minmax($sizes$rowHeight, max-content)",alignItems:"center",color:"$highlight2",[`${M4} > &`]:{"&:first-of-type":{marginTop:"$rowGap"},"&:last-of-type":{marginBottom:"$rowGap"}},variants:{disabled:{true:{pointerEvents:"none"},false:{"&:hover,&:focus-within":{color:"$highlight3"}}}}}),C4=gt(T4,{gridTemplateColumns:"auto $sizes$controlWidth",columnGap:"$colGap"}),tte=gt("div",{$flex:"",height:"100%",position:"relative",overflow:"hidden","& > div":{marginLeft:"$colGap",padding:"0 $xs",opacity:.4},"& > div:hover":{opacity:.8},"& > div > svg":{display:"none",cursor:"pointer",width:13,minWidth:13,height:13,backgroundColor:"$elevation2"},"&:hover > div > svg":{display:"block"},variants:{align:{top:{height:"100%",alignItems:"flex-start",paddingTop:"$sm"}}}}),nte=gt("input",{$reset:"",height:0,width:0,opacity:0,margin:0,"& + label":{position:"relative",$flexCenter:"",height:"100%",userSelect:"none",cursor:"pointer",paddingLeft:2,paddingRight:"$sm",pointerEvents:"auto"},"& + label:after":{content:'""',width:6,height:6,backgroundColor:"$elevation3",borderRadius:"50%",$activeStyle:""},"&:focus + label:after":{$focusStyle:""},"& + label:active:after":{backgroundColor:"$accent1",$focusStyle:""},"&:checked + label:after":{backgroundColor:"$accent1"}}),XE=gt("label",{fontWeight:"$label",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap","& > svg":{display:"block"}}),rte=gt("div",{opacity:1,variants:{disabled:{true:{opacity:.6,pointerEvents:"none",[`& ${XE}`]:{pointerEvents:"auto"}}}}}),R4=gt("div",{position:"fixed",top:0,bottom:0,right:0,left:0,zIndex:1e3,userSelect:"none"}),ite=gt("div",{background:"$toolTipBackground",fontFamily:"$sans",fontSize:"$toolTip",padding:"$xs $sm",color:"$toolTipText",borderRadius:"$xs",boxShadow:"$level2",maxWidth:260}),ste=gt(See,{fill:"$toolTipBackground"});function qC({children:n}){const{className:e}=O.useContext(S4);return q.createElement(rq,{className:e},n)}const ote=["align"];function ate(){const{id:n,disable:e,disabled:t}=hi();return q.createElement(q.Fragment,null,q.createElement(nte,{id:n+"__disable",type:"checkbox",checked:!t,onChange:()=>e(!t)}),q.createElement("label",{htmlFor:n+"__disable"}))}function lte(n){const{id:e,optional:t,hint:r}=hi(),i=n.htmlFor||(e?{htmlFor:e}:null),s=!r&&typeof n.children=="string"?{title:n.children}:null;return q.createElement(q.Fragment,null,t&&q.createElement(ate,null),r!==void 0?q.createElement(yee,null,q.createElement(_ee,{asChild:!0},q.createElement(XE,mr({},i,n))),q.createElement(xee,{side:"top",sideOffset:2},q.createElement(ite,null,r,q.createElement(ste,null)))):q.createElement(XE,mr({},i,s,n)))}function Ro(n){let{align:e}=n,t=vn(n,ote);const{value:r,label:i,key:s,disabled:o}=hi(),{hideCopyButton:a}=$ee(),l=!a&&s!==void 0,[c,u]=O.useState(!1),f=async()=>{try{await navigator.clipboard.writeText(JSON.stringify({[s]:r??""})),u(!0)}catch{Ba(Bn.CLIPBOARD_ERROR,{[s]:r})}};return q.createElement(tte,{align:e,onPointerLeave:()=>u(!1)},q.createElement(lte,t),l&&!o&&q.createElement("div",{title:`Click to copy ${typeof i=="string"?i:s} value`},c?q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},q.createElement("path",{d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z"}),q.createElement("path",{fillRule:"evenodd",d:"M4 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v11a2 2 0 01-2 2H6a2 2 0 01-2-2V5zm9.707 5.707a1 1 0 00-1.414-1.414L9 12.586l-1.293-1.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})):q.createElement("svg",{onClick:f,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},q.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),q.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))))}const cte=["toggled"],ute=gt("svg",{fill:"currentColor",transition:"transform 350ms ease, fill 250ms ease"});function QC(n){let{toggled:e}=n,t=vn(n,cte);return q.createElement(ute,mr({width:"9",height:"5",viewBox:"0 0 9 5",xmlns:"http://www.w3.org/2000/svg",style:{transform:`rotate(${e?0:-90}deg)`}},t),q.createElement("path",{d:"M3.8 4.4c.4.3 1 .3 1.4 0L8 1.7A1 1 0 007.4 0H1.6a1 1 0 00-.7 1.7l3 2.7z"}))}const fte=["input"];function ro(n){let{input:e}=n,t=vn(n,fte);return e?q.createElement(C4,t):q.createElement(T4,t)}function P4({value:n,type:e,settings:t,setValue:r}){const[i,s]=O.useState(dB(e,n,t)),o=O.useRef(n),a=O.useRef(t);a.current=t;const l=O.useCallback(u=>s(dB(e,u,a.current)),[e]),c=O.useCallback(u=>{try{r(u)}catch(f){const{type:p,previousValue:m}=f;if(p!=="LEVA_ERROR")throw f;l(m)}},[l,r]);return O.useEffect(()=>{v_(n,o.current)||l(n),o.current=n},[n,l]),{displayValue:i,onChange:s,onUpdate:c}}function Mg(n,e){const{emitOnEditStart:t,emitOnEditEnd:r}=hi();return CQ(i=>{i.first&&(document.body.classList.add("leva__panel__dragged"),t==null||t());const s=n(i);return i.last&&(document.body.classList.remove("leva__panel__dragged"),r==null||r()),s},e)}function dte(n){const e=O.useRef(null),t=O.useRef(null),r=O.useRef(!1);return O.useEffect(()=>{const i=p4(()=>{e.current.width=e.current.offsetWidth*window.devicePixelRatio,e.current.height=e.current.offsetHeight*window.devicePixelRatio,n(e.current,t.current)},250);return window.addEventListener("resize",i),r.current||(i(),r.current=!0),()=>window.removeEventListener("resize",i)},[n]),O.useEffect(()=>{t.current=e.current.getContext("2d")},[]),[e,t]}function O4(){const n=O.useRef(null),e=O.useRef({x:0,y:0}),t=O.useCallback(r=>{Object.assign(e.current,r),n.current&&(n.current.style.transform=`translate3d(${e.current.x}px, ${e.current.y}px, 0)`)},[]);return[n,t]}const hte=["__refCount"],hA=(n,e)=>{if(!n[e])return null;const t=n[e];return vn(t,hte)};function pte(n){const e=Eg(),[t,r]=O.useState(hA(e.getData(),n)),i=O.useCallback(c=>e.setValueAtPath(n,c,!0),[n,e]),s=O.useCallback(c=>e.setSettingsAtPath(n,c),[n,e]),o=O.useCallback(c=>e.disableInputAtPath(n,c),[n,e]),a=O.useCallback(()=>e.emitOnEditStart(n),[n,e]),l=O.useCallback(()=>e.emitOnEditEnd(n),[n,e]);return O.useEffect(()=>{r(hA(e.getData(),n));const c=e.useStore.subscribe(u=>hA(u.data,n),r,{equalityFn:Rz});return()=>c()},[e,n]),[t,{set:i,setSettings:s,disable:o,storeId:e.storeId,emitOnEditStart:a,emitOnEditEnd:l}]}const mte=gt("div",{variants:{hasRange:{true:{position:"relative",display:"grid",gridTemplateColumns:"auto $sizes$numberInputMinWidth",columnGap:"$colGap",alignItems:"center"}}}}),L4=gt("div",{position:"relative",width:"100%",height:2,borderRadius:"$xs",backgroundColor:"$elevation1"}),KE=gt("div",{position:"absolute",width:"$scrubberWidth",height:"$scrubberHeight",borderRadius:"$xs",boxShadow:"0 0 0 2px $colors$elevation2",backgroundColor:"$accent2",cursor:"pointer",$active:"none $accent1",$hover:"none $accent3",variants:{position:{left:{borderTopRightRadius:0,borderBottomRightRadius:0,transform:"translateX(calc(-0.5 * ($sizes$scrubberWidth + 4px)))"},right:{borderTopLeftRadius:0,borderBottomLeftRadius:0,transform:"translateX(calc(0.5 * ($sizes$scrubberWidth + 4px)))"}}}}),I4=gt("div",{position:"relative",$flex:"",height:"100%",cursor:"pointer",touchAction:"none"}),B4=gt("div",{position:"absolute",height:"100%",backgroundColor:"$accent2"});function gte({value:n,min:e,max:t,onDrag:r,step:i,initialValue:s}){const o=O.useRef(null),a=O.useRef(null),l=O.useRef(0),c=Ga("sizes","scrubberWidth"),u=Mg(({event:p,first:m,xy:[g],movement:[y],memo:_})=>{if(m){const{width:x,left:b}=o.current.getBoundingClientRect();l.current=x-parseFloat(c),_=(p==null?void 0:p.target)===a.current?n:E_((g-b)/x,e,t)}const v=_+E_(y/l.current,0,t-e);return r(y4(v,{step:i,initialValue:s})),_}),f=w_(n,e,t);return q.createElement(I4,mr({ref:o},u()),q.createElement(L4,null,q.createElement(B4,{style:{left:0,right:`${(1-f)*100}%`}})),q.createElement(KE,{ref:a,style:{left:`calc(${f} * (100% - ${c}))`}}))}const vte=q.memo(({label:n,onUpdate:e,step:t,innerLabelTrim:r})=>{const[i,s]=O.useState(!1),o=Mg(({active:a,delta:[l],event:c,memo:u=0})=>(s(a),u+=l/2,Math.abs(u)>=1&&(e(f=>parseFloat(f)+Math.floor(u)*t*m4(c)),u=0),u));return q.createElement(Yee,mr({dragging:i,title:n.length>1?n:""},o()),n.slice(0,r))});function D4({label:n,id:e,displayValue:t,onUpdate:r,onChange:i,settings:s,innerLabelTrim:o=1}){const a=o>0&&q.createElement(vte,{label:n,step:s.step,onUpdate:r,innerLabelTrim:o});return q.createElement(Zee,{id:e,value:String(t),onUpdate:r,onChange:i,innerLabel:a})}function yte(){const n=hi(),{label:e,value:t,onUpdate:r,settings:i,id:s}=n,{min:o,max:a}=i,l=a!==1/0&&o!==-1/0;return q.createElement(ro,{input:!0},q.createElement(Ro,null,e),q.createElement(mte,{hasRange:l},l&&q.createElement(gte,mr({value:parseFloat(t),onDrag:r},i)),q.createElement(D4,mr({},n,{id:s,label:"value",innerLabelTrim:l?0:1}))))}const{sanitizeStep:_te}=_4,xte=vn(_4,["sanitizeStep"]);var Ste=Pt({component:yte},xte);const bte=(n,e)=>zi().schema({options:zi().passesAnyOf(zi().object(),zi().array())}).test(e),Ate=(n,{values:e})=>{if(e.indexOf(n)<0)throw Error("Selected value doesn't match Select options");return n},wte=(n,{values:e})=>e.indexOf(n),Ete=n=>{let{value:e,options:t}=n,r,i;return Array.isArray(t)?(i=t,r=t.map(s=>String(s))):(i=Object.values(t),r=Object.keys(t)),"value"in n?i.includes(e)||(r.unshift(String(e)),i.unshift(e)):e=i[0],Object.values(t).includes(e)||(t[String(e)]=e),{value:e,settings:{keys:r,values:i}}};var Mte=Object.freeze({__proto__:null,schema:bte,sanitize:Ate,format:wte,normalize:Ete});const Tte=gt("div",{$flexCenter:"",position:"relative","> svg":{pointerEvents:"none",position:"absolute",right:"$md"}}),YE=gt("select",{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0}),Cte=gt("div",{display:"flex",alignItems:"center",width:"100%",height:"$rowHeight",backgroundColor:"$elevation3",borderRadius:"$sm",padding:"0 $sm",cursor:"pointer",[`${YE}:focus + &`]:{$focusStyle:""},[`${YE}:hover + &`]:{$hoverStyle:""}});function Rte({displayValue:n,value:e,onUpdate:t,id:r,settings:i,disabled:s}){const{keys:o,values:a}=i,l=O.useRef();return e===a[n]&&(l.current=o[n]),q.createElement(Tte,null,q.createElement(YE,{id:r,value:n,onChange:c=>t(a[Number(c.currentTarget.value)]),disabled:s},o.map((c,u)=>q.createElement("option",{key:c,value:u},c))),q.createElement(Cte,null,l.current),q.createElement(QC,{toggled:!0}))}function Pte(){const{label:n,value:e,displayValue:t,onUpdate:r,id:i,disabled:s,settings:o}=hi();return q.createElement(ro,{input:!0},q.createElement(Ro,null,n),q.createElement(Rte,{id:i,value:e,displayValue:t,onUpdate:r,settings:o,disabled:s}))}var Ote=Pt({component:Pte},Mte);const Lte=n=>zi().string().test(n),Ite=n=>{if(typeof n!="string")throw Error("Invalid string");return n},Bte=({value:n,editable:e=!0,rows:t=!1})=>({value:n,settings:{editable:e,rows:typeof t=="number"?t:t?5:0}});var Dte=Object.freeze({__proto__:null,schema:Lte,sanitize:Ite,normalize:Bte});const kte=["displayValue","onUpdate","onChange","editable"],Nte=gt("div",{whiteSpace:"pre-wrap"});function Fte(n){let{displayValue:e,onUpdate:t,onChange:r,editable:i=!0}=n,s=vn(n,kte);return i?q.createElement(JC,mr({value:e,onUpdate:t,onChange:r},s)):q.createElement(Nte,null,e)}function Ute(){const{label:n,settings:e,displayValue:t,onUpdate:r,onChange:i}=hi();return q.createElement(ro,{input:!0},q.createElement(Ro,null,n),q.createElement(Fte,mr({displayValue:t,onUpdate:r,onChange:i},e)))}var zte=Pt({component:Ute},Dte);const Hte=n=>zi().boolean().test(n),Gte=n=>{if(typeof n!="boolean")throw Error("Invalid boolean");return n};var Vte=Object.freeze({__proto__:null,schema:Hte,sanitize:Gte});const Wte=gt("div",{position:"relative",$flex:"",height:"$rowHeight",input:{$reset:"",height:0,width:0,opacity:0,margin:0},label:{position:"relative",$flexCenter:"",userSelect:"none",cursor:"pointer",height:"$checkboxSize",width:"$checkboxSize",backgroundColor:"$elevation3",borderRadius:"$sm",$hover:""},"input:focus + label":{$focusStyle:""},"input:focus:checked + label, input:checked + label:hover":{$hoverStyle:"$accent3"},"input + label:active":{backgroundColor:"$accent1"},"input:checked + label:active":{backgroundColor:"$accent1"},"label > svg":{display:"none",width:"90%",height:"90%",stroke:"$highlight3"},"input:checked + label":{backgroundColor:"$accent2"},"input:checked + label > svg":{display:"block"}});function $te({value:n,onUpdate:e,id:t,disabled:r}){return q.createElement(Wte,null,q.createElement("input",{id:t,type:"checkbox",checked:n,onChange:i=>e(i.currentTarget.checked),disabled:r}),q.createElement("label",{htmlFor:t},q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},q.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"}))))}function jte(){const{label:n,value:e,onUpdate:t,disabled:r,id:i}=hi();return q.createElement(ro,{input:!0},q.createElement(Ro,null,n),q.createElement($te,{value:e,onUpdate:t,id:i,disabled:r}))}var Xte=Pt({component:jte},Vte);const Kte=["locked"];function Yte({value:n,id:e,valueKey:t,settings:r,onUpdate:i,innerLabelTrim:s}){const o=O.useRef(n[t]);o.current=n[t];const a=O.useCallback(c=>i({[t]:h4({type:"NUMBER",value:o.current,settings:r},c)}),[i,r,t]),l=P4({type:"NUMBER",value:n[t],settings:r,setValue:a});return q.createElement(D4,{id:e,label:t,value:n[t],displayValue:l.displayValue,onUpdate:l.onUpdate,onChange:l.onChange,settings:r,innerLabelTrim:s})}const Jte=gt("div",{display:"grid",columnGap:"$colGap",gridAutoFlow:"column dense",alignItems:"center",variants:{withLock:{true:{gridTemplateColumns:"10px auto","> svg":{cursor:"pointer"}}}}});function qte(n){let{locked:e}=n,t=vn(n,Kte);return q.createElement("svg",mr({width:"10",height:"10",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),e?q.createElement("path",{d:"M5 4.63601C5 3.76031 5.24219 3.1054 5.64323 2.67357C6.03934 2.24705 6.64582 1.9783 7.5014 1.9783C8.35745 1.9783 8.96306 2.24652 9.35823 2.67208C9.75838 3.10299 10 3.75708 10 4.63325V5.99999H5V4.63601ZM4 5.99999V4.63601C4 3.58148 4.29339 2.65754 4.91049 1.99307C5.53252 1.32329 6.42675 0.978302 7.5014 0.978302C8.57583 0.978302 9.46952 1.32233 10.091 1.99162C10.7076 2.65557 11 3.57896 11 4.63325V5.99999H12C12.5523 5.99999 13 6.44771 13 6.99999V13C13 13.5523 12.5523 14 12 14H3C2.44772 14 2 13.5523 2 13V6.99999C2 6.44771 2.44772 5.99999 3 5.99999H4ZM3 6.99999H12V13H3V6.99999Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}):q.createElement("path",{d:"M9 3.63601C9 2.76044 9.24207 2.11211 9.64154 1.68623C10.0366 1.26502 10.6432 1 11.5014 1C12.4485 1 13.0839 1.30552 13.4722 1.80636C13.8031 2.23312 14 2.84313 14 3.63325H15C15 2.68242 14.7626 1.83856 14.2625 1.19361C13.6389 0.38943 12.6743 0 11.5014 0C10.4294 0 9.53523 0.337871 8.91218 1.0021C8.29351 1.66167 8 2.58135 8 3.63601V6H1C0.447715 6 0 6.44772 0 7V13C0 13.5523 0.447715 14 1 14H10C10.5523 14 11 13.5523 11 13V7C11 6.44772 10.5523 6 10 6H9V3.63601ZM1 7H10V13H1V7Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"}))}function ZC({value:n,onUpdate:e,settings:t,innerLabelTrim:r}){const{id:i,setSettings:s}=hi(),{lock:o,locked:a}=t;return q.createElement(Jte,{withLock:o},o&&q.createElement(qte,{locked:a,onClick:()=>s({locked:!a})}),Object.keys(n).map((l,c)=>q.createElement(Yte,{id:c===0?i:`${i}.${l}`,key:l,valueKey:l,value:n,settings:t[l],onUpdate:e,innerLabelTrim:r})))}const k4=(n,e)=>{const t={};let r=0,i=1/0;Object.entries(n).forEach(([s,o])=>{t[s]=v4(Pt({value:o},e[s])).settings,r=Math.max(r,t[s].step),i=Math.min(i,t[s].pad)});for(let s in t){const{step:o,min:a,max:l}=e[s]||{};!isFinite(o)&&(!isFinite(a)||!isFinite(l))&&(t[s].step=r,t[s].pad=i)}return t},Qte=["lock"],Zte=["value"];function ene(n){const e=zi().array().length(n).every.number(),t=r=>{if(!r||typeof r!="object")return!1;const i=Object.values(r);return i.length===n&&i.every(s=>isFinite(s))};return r=>e.test(r)||t(r)}function tne(n){return Array.isArray(n)?"array":"object"}function qp(n,e,t){return tne(n)===e?n:e==="array"?Object.values(n):Bee(n,t)}const nne=(n,e,t)=>{const r=qp(n,"object",e.keys);for(let o in r)r[o]=g4(r[o],e[o]);const i=Object.keys(r);let s={};if(i.length===e.keys.length)s=r;else{const o=qp(t,"object",e.keys);if(i.length===1&&e.locked){const a=i[0],l=r[a],c=o[a],u=c!==0?l/c:1;for(let f in o)f===a?s[a]=l:s[f]=o[f]*u}else s=Pt(Pt({},o),r)}return qp(s,e.format,e.keys)},rne=(n,e)=>qp(n,"object",e.keys),ine=n=>!!n&&("step"in n||"min"in n||"max"in n);function sne(n,e,t=[]){const{lock:r=!1}=e,i=vn(e,Qte),s=Array.isArray(n)?"array":"object",o=s==="object"?Object.keys(n):t,a=qp(n,"object",o),l=ine(i)?o.reduce((u,f)=>Object.assign(u,{[f]:i}),{}):i,c=k4(a,l);return{value:s==="array"?n:a,settings:Pt(Pt({},c),{},{format:s,keys:o,lock:r,locked:!1})}}function N4(n){return{schema:ene(n.length),normalize:e=>{let{value:t}=e,r=vn(e,Zte);return sne(t,r,n)},format:(e,t)=>rne(e,t),sanitize:(e,t,r)=>nne(e,t,r)}}var one={grad:.9,turn:360,rad:360/(2*Math.PI)},Ea=function(n){return typeof n=="string"?n.length>0:typeof n=="number"},Or=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t+0},Ks=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n>e?n:e},F4=function(n){return(n=isFinite(n)?n%360:0)>0?n:n+360},bB=function(n){return{r:Ks(n.r,0,255),g:Ks(n.g,0,255),b:Ks(n.b,0,255),a:Ks(n.a)}},pA=function(n){return{r:Or(n.r),g:Or(n.g),b:Or(n.b),a:Or(n.a,3)}},ane=/^#([0-9a-f]{3,8})$/i,Xv=function(n){var e=n.toString(16);return e.length<2?"0"+e:e},U4=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},z4=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),c=s%6;return{r:255*[r,a,o,o,l,r][c],g:255*[l,r,r,a,o,o][c],b:255*[o,o,l,r,r,a][c],a:i}},AB=function(n){return{h:F4(n.h),s:Ks(n.s,0,100),l:Ks(n.l,0,100),a:Ks(n.a)}},wB=function(n){return{h:Or(n.h),s:Or(n.s),l:Or(n.l),a:Or(n.a,3)}},EB=function(n){return z4((t=(e=n).s,{h:e.h,s:(t*=((r=e.l)<50?r:100-r)/100)>0?2*t/(r+t)*100:0,v:r+t,a:e.a}));var e,t,r},Qp=function(n){return{h:(e=U4(n)).h,s:(i=(200-(t=e.s))*(r=e.v)/100)>0&&i<200?t*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,t,r,i},lne=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,cne=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,une=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,fne=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,JE={string:[[function(n){var e=ane.exec(n);return e?(n=e[1]).length<=4?{r:parseInt(n[0]+n[0],16),g:parseInt(n[1]+n[1],16),b:parseInt(n[2]+n[2],16),a:n.length===4?Or(parseInt(n[3]+n[3],16)/255,2):1}:n.length===6||n.length===8?{r:parseInt(n.substr(0,2),16),g:parseInt(n.substr(2,2),16),b:parseInt(n.substr(4,2),16),a:n.length===8?Or(parseInt(n.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(n){var e=une.exec(n)||fne.exec(n);return e?e[2]!==e[4]||e[4]!==e[6]?null:bB({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(n){var e=lne.exec(n)||cne.exec(n);if(!e)return null;var t,r,i=AB({h:(t=e[1],r=e[2],r===void 0&&(r="deg"),Number(t)*(one[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return EB(i)},"hsl"]],object:[[function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=i===void 0?1:i;return Ea(e)&&Ea(t)&&Ea(r)?bB({r:Number(e),g:Number(t),b:Number(r),a:Number(s)}):null},"rgb"],[function(n){var e=n.h,t=n.s,r=n.l,i=n.a,s=i===void 0?1:i;if(!Ea(e)||!Ea(t)||!Ea(r))return null;var o=AB({h:Number(e),s:Number(t),l:Number(r),a:Number(s)});return EB(o)},"hsl"],[function(n){var e=n.h,t=n.s,r=n.v,i=n.a,s=i===void 0?1:i;if(!Ea(e)||!Ea(t)||!Ea(r))return null;var o=function(a){return{h:F4(a.h),s:Ks(a.s,0,100),v:Ks(a.v,0,100),a:Ks(a.a)}}({h:Number(e),s:Number(t),v:Number(r),a:Number(s)});return z4(o)},"hsv"]]},MB=function(n,e){for(var t=0;t<e.length;t++){var r=e[t][0](n);if(r)return[r,e[t][1]]}return[null,void 0]},H4=function(n){return typeof n=="string"?MB(n.trim(),JE.string):typeof n=="object"&&n!==null?MB(n,JE.object):[null,void 0]},dne=function(n){return H4(n)[1]},mA=function(n,e){var t=Qp(n);return{h:t.h,s:Ks(t.s+100*e,0,100),l:t.l,a:t.a}},gA=function(n){return(299*n.r+587*n.g+114*n.b)/1e3/255},TB=function(n,e){var t=Qp(n);return{h:t.h,s:t.s,l:Ks(t.l+100*e,0,100),a:t.a}},qE=function(){function n(e){this.parsed=H4(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return n.prototype.isValid=function(){return this.parsed!==null},n.prototype.brightness=function(){return Or(gA(this.rgba),2)},n.prototype.isDark=function(){return gA(this.rgba)<.5},n.prototype.isLight=function(){return gA(this.rgba)>=.5},n.prototype.toHex=function(){return e=pA(this.rgba),t=e.r,r=e.g,i=e.b,o=(s=e.a)<1?Xv(Or(255*s)):"","#"+Xv(t)+Xv(r)+Xv(i)+o;var e,t,r,i,s,o},n.prototype.toRgb=function(){return pA(this.rgba)},n.prototype.toRgbString=function(){return e=pA(this.rgba),t=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+t+", "+r+", "+i+", "+s+")":"rgb("+t+", "+r+", "+i+")";var e,t,r,i,s},n.prototype.toHsl=function(){return wB(Qp(this.rgba))},n.prototype.toHslString=function(){return e=wB(Qp(this.rgba)),t=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+t+", "+r+"%, "+i+"%, "+s+")":"hsl("+t+", "+r+"%, "+i+"%)";var e,t,r,i,s},n.prototype.toHsv=function(){return e=U4(this.rgba),{h:Or(e.h),s:Or(e.s),v:Or(e.v),a:Or(e.a,3)};var e},n.prototype.invert=function(){return Si({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},n.prototype.saturate=function(e){return e===void 0&&(e=.1),Si(mA(this.rgba,e))},n.prototype.desaturate=function(e){return e===void 0&&(e=.1),Si(mA(this.rgba,-e))},n.prototype.grayscale=function(){return Si(mA(this.rgba,-1))},n.prototype.lighten=function(e){return e===void 0&&(e=.1),Si(TB(this.rgba,e))},n.prototype.darken=function(e){return e===void 0&&(e=.1),Si(TB(this.rgba,-e))},n.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},n.prototype.alpha=function(e){return typeof e=="number"?Si({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Or(this.rgba.a,3);var t},n.prototype.hue=function(e){var t=Qp(this.rgba);return typeof e=="number"?Si({h:e,s:t.s,l:t.l,a:t.a}):Or(t.h)},n.prototype.isEqual=function(e){return this.toHex()===Si(e).toHex()},n}(),Si=function(n){return n instanceof qE?n:new qE(n)},CB=[],hne=function(n){n.forEach(function(e){CB.indexOf(e)<0&&(e(qE,JE),CB.push(e))})};function pne(n,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in t)r[t[i]]=i;var s={};n.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,c=r[this.toHex()];if(c)return c;if(o!=null&&o.closest){var u=this.toRgb(),f=1/0,p="black";if(!s.length)for(var m in t)s[m]=new n(t[m]).toRgb();for(var g in t){var y=(a=u,l=s[g],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));y<f&&(f=y,p=g)}return p}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":t[a];return l?new n(l).toRgb():null},"name"])}function Rh(){return(Rh=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}function eR(n,e){if(n==null)return{};var t,r,i={},s=Object.keys(n);for(r=0;r<s.length;r++)e.indexOf(t=s[r])>=0||(i[t]=n[t]);return i}function QE(n){var e=O.useRef(n),t=O.useRef(function(r){e.current&&e.current(r)});return e.current=n,t.current}var Zd=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),n>t?t:n<e?e:n},Zp=function(n){return"touches"in n},ZE=function(n){return n&&n.ownerDocument.defaultView||self},RB=function(n,e,t){var r=n.getBoundingClientRect(),i=Zp(e)?function(s,o){for(var a=0;a<s.length;a++)if(s[a].identifier===o)return s[a];return s[0]}(e.touches,t):e;return{left:Zd((i.pageX-(r.left+ZE(n).pageXOffset))/r.width),top:Zd((i.pageY-(r.top+ZE(n).pageYOffset))/r.height)}},PB=function(n){!Zp(n)&&n.preventDefault()},tR=q.memo(function(n){var e=n.onMove,t=n.onKey,r=eR(n,["onMove","onKey"]),i=O.useRef(null),s=QE(e),o=QE(t),a=O.useRef(null),l=O.useRef(!1),c=O.useMemo(function(){var m=function(_){PB(_),(Zp(_)?_.touches.length>0:_.buttons>0)&&i.current?s(RB(i.current,_,a.current)):y(!1)},g=function(){return y(!1)};function y(_){var v=l.current,x=ZE(i.current),b=_?x.addEventListener:x.removeEventListener;b(v?"touchmove":"mousemove",m),b(v?"touchend":"mouseup",g)}return[function(_){var v=_.nativeEvent,x=i.current;if(x&&(PB(v),!function(A,M){return M&&!Zp(A)}(v,l.current)&&x)){if(Zp(v)){l.current=!0;var b=v.changedTouches||[];b.length&&(a.current=b[0].identifier)}x.focus(),s(RB(x,v,a.current)),y(!0)}},function(_){var v=_.which||_.keyCode;v<37||v>40||(_.preventDefault(),o({left:v===39?.05:v===37?-.05:0,top:v===40?.05:v===38?-.05:0}))},y]},[o,s]),u=c[0],f=c[1],p=c[2];return O.useEffect(function(){return p},[p]),q.createElement("div",Rh({},r,{onTouchStart:u,onMouseDown:u,className:"react-colorful__interactive",ref:i,onKeyDown:f,tabIndex:0,role:"slider"}))}),Tg=function(n){return n.filter(Boolean).join(" ")},nR=function(n){var e=n.color,t=n.left,r=n.top,i=r===void 0?.5:r,s=Tg(["react-colorful__pointer",n.className]);return q.createElement("div",{className:s,style:{top:100*i+"%",left:100*t+"%"}},q.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:e}}))},Ei=function(n,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*n)/t},G4=function(n){var e=n.s,t=n.v,r=n.a,i=(200-e)*t/100;return{h:Ei(n.h),s:Ei(i>0&&i<200?e*t/100/(i<=100?i:200-i)*100:0),l:Ei(i/2),a:Ei(r,2)}},eM=function(n){var e=G4(n);return"hsl("+e.h+", "+e.s+"%, "+e.l+"%)"},vA=function(n){var e=G4(n);return"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"},V4=function(n){var e=n.h,t=n.s,r=n.v,i=n.a;e=e/360*6,t/=100,r/=100;var s=Math.floor(e),o=r*(1-t),a=r*(1-(e-s)*t),l=r*(1-(1-e+s)*t),c=s%6;return{r:Ei(255*[r,a,o,o,l,r][c]),g:Ei(255*[l,r,r,a,o,o][c]),b:Ei(255*[o,o,l,r,r,a][c]),a:Ei(i,2)}},W4=function(n){var e=n.r,t=n.g,r=n.b,i=n.a,s=Math.max(e,t,r),o=s-Math.min(e,t,r),a=o?s===e?(t-r)/o:s===t?2+(r-e)/o:4+(e-t)/o:0;return{h:Ei(60*(a<0?a+6:a)),s:Ei(s?o/s*100:0),v:Ei(s/255*100),a:i}},$4=q.memo(function(n){var e=n.hue,t=n.onChange,r=Tg(["react-colorful__hue",n.className]);return q.createElement("div",{className:r},q.createElement(tR,{onMove:function(i){t({h:360*i.left})},onKey:function(i){t({h:Zd(e+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":Ei(e),"aria-valuemax":"360","aria-valuemin":"0"},q.createElement(nR,{className:"react-colorful__hue-pointer",left:e/360,color:eM({h:e,s:100,v:100,a:1})})))}),j4=q.memo(function(n){var e=n.hsva,t=n.onChange,r={backgroundColor:eM({h:e.h,s:100,v:100,a:1})};return q.createElement("div",{className:"react-colorful__saturation",style:r},q.createElement(tR,{onMove:function(i){t({s:100*i.left,v:100-100*i.top})},onKey:function(i){t({s:Zd(e.s+100*i.left,0,100),v:Zd(e.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Ei(e.s)+"%, Brightness "+Ei(e.v)+"%"},q.createElement(nR,{className:"react-colorful__saturation-pointer",top:1-e.v/100,left:e.s/100,color:eM(e)})))}),rR=function(n,e){if(n===e)return!0;for(var t in n)if(n[t]!==e[t])return!1;return!0};function X4(n,e,t){var r=QE(t),i=O.useState(function(){return n.toHsva(e)}),s=i[0],o=i[1],a=O.useRef({color:e,hsva:s});O.useEffect(function(){if(!n.equal(e,a.current.color)){var c=n.toHsva(e);a.current={hsva:c,color:e},o(c)}},[e,n]),O.useEffect(function(){var c;rR(s,a.current.hsva)||n.equal(c=n.fromHsva(s),a.current.color)||(a.current={hsva:s,color:c},r(c))},[s,n,r]);var l=O.useCallback(function(c){o(function(u){return Object.assign({},u,c)})},[]);return[s,l]}var mne=typeof window<"u"?O.useLayoutEffect:O.useEffect,gne=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},OB=new Map,K4=function(n){mne(function(){var e=n.current?n.current.ownerDocument:document;if(e!==void 0&&!OB.has(e)){var t=e.createElement("style");t.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,OB.set(e,t);var r=gne();r&&t.setAttribute("nonce",r),e.head.appendChild(t)}},[])},vne=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=eR(n,["className","colorModel","color","onChange"]),a=O.useRef(null);K4(a);var l=X4(t,i,s),c=l[0],u=l[1],f=Tg(["react-colorful",e]);return q.createElement("div",Rh({},o,{ref:a,className:f}),q.createElement(j4,{hsva:c,onChange:u}),q.createElement($4,{hue:c.h,onChange:u,className:"react-colorful__last-control"}))},yne=function(n){var e=n.className,t=n.hsva,r=n.onChange,i={backgroundImage:"linear-gradient(90deg, "+vA(Object.assign({},t,{a:0}))+", "+vA(Object.assign({},t,{a:1}))+")"},s=Tg(["react-colorful__alpha",e]),o=Ei(100*t.a);return q.createElement("div",{className:s},q.createElement("div",{className:"react-colorful__alpha-gradient",style:i}),q.createElement(tR,{onMove:function(a){r({a:a.left})},onKey:function(a){r({a:Zd(t.a+a.left)})},"aria-label":"Alpha","aria-valuetext":o+"%","aria-valuenow":o,"aria-valuemin":"0","aria-valuemax":"100"},q.createElement(nR,{className:"react-colorful__alpha-pointer",left:t.a,color:vA(t)})))},_ne=function(n){var e=n.className,t=n.colorModel,r=n.color,i=r===void 0?t.defaultColor:r,s=n.onChange,o=eR(n,["className","colorModel","color","onChange"]),a=O.useRef(null);K4(a);var l=X4(t,i,s),c=l[0],u=l[1],f=Tg(["react-colorful",e]);return q.createElement("div",Rh({},o,{ref:a,className:f}),q.createElement(j4,{hsva:c,onChange:u}),q.createElement($4,{hue:c.h,onChange:u}),q.createElement(yne,{hsva:c,onChange:u,className:"react-colorful__last-control"}))},xne={defaultColor:{r:0,g:0,b:0,a:1},toHsva:W4,fromHsva:V4,equal:rR},Sne=function(n){return q.createElement(_ne,Rh({},n,{colorModel:xne}))},bne={defaultColor:{r:0,g:0,b:0},toHsva:function(n){return W4({r:n.r,g:n.g,b:n.b,a:1})},fromHsva:function(n){return{r:(e=V4(n)).r,g:e.g,b:e.b};var e},equal:rR},Ane=function(n){return q.createElement(vne,Rh({},n,{colorModel:bne}))},Y4={exports:{}},wne="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Ene=wne,Mne=Ene;function J4(){}function q4(){}q4.resetWarningCache=J4;var Tne=function(){function n(r,i,s,o,a,l){if(l!==Mne){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:q4,resetWarningCache:J4};return t.PropTypes=t,t};Y4.exports=Tne();var Cne=Y4.exports;const hn=dc(Cne);function Ph(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(f){o(f)}}function l(u){try{c(r.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):i(u.value).then(a,l)}c((r=r.apply(n,e||[])).next())})}function Oh(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,i=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Rne(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(o)throw o.error}}return s}function Pne(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Rne(arguments[e]));return n}var One=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function Cg(n,e){var t=Lne(n);if(typeof t.path!="string"){var r=n.webkitRelativePath;Object.defineProperty(t,"path",{value:typeof e=="string"?e:typeof r=="string"&&r.length>0?r:n.name,writable:!1,configurable:!1,enumerable:!0})}return t}function Lne(n){var e=n.name,t=e&&e.lastIndexOf(".")!==-1;if(t&&!n.type){var r=e.split(".").pop().toLowerCase(),i=One.get(r);i&&Object.defineProperty(n,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return n}var Ine=[".DS_Store","Thumbs.db"];function Bne(n){return Ph(this,void 0,void 0,function(){return Oh(this,function(e){return T_(n)&&Dne(n)?[2,Une(n.dataTransfer,n.type)]:kne(n)?[2,Nne(n)]:Array.isArray(n)&&n.every(function(t){return"getFile"in t&&typeof t.getFile=="function"})?[2,Fne(n)]:[2,[]]})})}function Dne(n){return T_(n.dataTransfer)}function kne(n){return T_(n)&&T_(n.target)}function T_(n){return typeof n=="object"&&n!==null}function Nne(n){return tM(n.target.files).map(function(e){return Cg(e)})}function Fne(n){return Ph(this,void 0,void 0,function(){var e;return Oh(this,function(t){switch(t.label){case 0:return[4,Promise.all(n.map(function(r){return r.getFile()}))];case 1:return e=t.sent(),[2,e.map(function(r){return Cg(r)})]}})})}function Une(n,e){return Ph(this,void 0,void 0,function(){var t,r;return Oh(this,function(i){switch(i.label){case 0:return n===null?[2,[]]:n.items?(t=tM(n.items).filter(function(s){return s.kind==="file"}),e!=="drop"?[2,t]:[4,Promise.all(t.map(zne))]):[3,2];case 1:return r=i.sent(),[2,LB(Q4(r))];case 2:return[2,LB(tM(n.files).map(function(s){return Cg(s)}))]}})})}function LB(n){return n.filter(function(e){return Ine.indexOf(e.name)===-1})}function tM(n){if(n===null)return[];for(var e=[],t=0;t<n.length;t++){var r=n[t];e.push(r)}return e}function zne(n){if(typeof n.webkitGetAsEntry!="function")return IB(n);var e=n.webkitGetAsEntry();return e&&e.isDirectory?Z4(e):IB(n)}function Q4(n){return n.reduce(function(e,t){return Pne(e,Array.isArray(t)?Q4(t):[t])},[])}function IB(n){var e=n.getAsFile();if(!e)return Promise.reject(n+" is not a File");var t=Cg(e);return Promise.resolve(t)}function Hne(n){return Ph(this,void 0,void 0,function(){return Oh(this,function(e){return[2,n.isDirectory?Z4(n):Gne(n)]})})}function Z4(n){var e=n.createReader();return new Promise(function(t,r){var i=[];function s(){var o=this;e.readEntries(function(a){return Ph(o,void 0,void 0,function(){var l,c,u;return Oh(this,function(f){switch(f.label){case 0:if(a.length)return[3,5];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return l=f.sent(),t(l),[3,4];case 3:return c=f.sent(),r(c),[3,4];case 4:return[3,6];case 5:u=Promise.all(a.map(Hne)),i.push(u),s(),f.label=6;case 6:return[2]}})})},function(a){r(a)})}s()})}function Gne(n){return Ph(this,void 0,void 0,function(){return Oh(this,function(e){return[2,new Promise(function(t,r){n.file(function(i){var s=Cg(i,n.fullPath);t(s)},function(i){r(i)})})]})})}var Vne=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(","),r=n.name||"",i=(n.type||"").toLowerCase(),s=i.replace(/\/.*$/,"");return t.some(function(o){var a=o.trim().toLowerCase();return a.charAt(0)==="."?r.toLowerCase().endsWith(a):a.endsWith("/*")?s===a.replace(/\/.*$/,""):i===a})}return!0};function BB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function DB(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?BB(Object(t),!0).forEach(function(r){e5(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):BB(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function e5(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function kB(n,e){return Xne(n)||jne(n,e)||$ne(n,e)||Wne()}function Wne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ne(n,e){if(n){if(typeof n=="string")return NB(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return NB(n,e)}}function NB(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function jne(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function Xne(n){if(Array.isArray(n))return n}var Kne="file-invalid-type",Yne="file-too-large",Jne="file-too-small",qne="too-many-files",Qne=function(e){e=Array.isArray(e)&&e.length===1?e[0]:e;var t=Array.isArray(e)?"one of ".concat(e.join(", ")):e;return{code:Kne,message:"File type must be ".concat(t)}},FB=function(e){return{code:Yne,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},UB=function(e){return{code:Jne,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Zne={code:qne,message:"Too many files"};function t5(n,e){var t=n.type==="application/x-moz-file"||Vne(n,e);return[t,t?null:Qne(e)]}function n5(n,e,t){if(Ap(n.size))if(Ap(e)&&Ap(t)){if(n.size>t)return[!1,FB(t)];if(n.size<e)return[!1,UB(e)]}else{if(Ap(e)&&n.size<e)return[!1,UB(e)];if(Ap(t)&&n.size>t)return[!1,FB(t)]}return[!0,null]}function Ap(n){return n!=null}function ere(n){var e=n.files,t=n.accept,r=n.minSize,i=n.maxSize,s=n.multiple,o=n.maxFiles;return!s&&e.length>1||s&&o>=1&&e.length>o?!1:e.every(function(a){var l=t5(a,t),c=kB(l,1),u=c[0],f=n5(a,r,i),p=kB(f,1),m=p[0];return u&&m})}function C_(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function Kv(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function zB(n){n.preventDefault()}function tre(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function nre(n){return n.indexOf("Edge/")!==-1}function rre(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return tre(n)||nre(n)}function zo(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];return e.some(function(a){return!C_(r)&&a&&a.apply(void 0,[r].concat(s)),C_(r)})}}function ire(){return"showOpenFilePicker"in window}function sre(n){return n=typeof n=="string"?n.split(","):n,[{description:"everything",accept:Array.isArray(n)?n.filter(function(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}).reduce(function(e,t){return DB(DB({},e),{},e5({},t,[]))},{}):{}}]}function ore(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function are(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}var lre=["children"],cre=["open"],ure=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],fre=["refKey","onChange","onClick"];function dre(n){return mre(n)||pre(n)||r5(n)||hre()}function hre(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pre(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function mre(n){if(Array.isArray(n))return nM(n)}function yA(n,e){return yre(n)||vre(n,e)||r5(n,e)||gre()}function gre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r5(n,e){if(n){if(typeof n=="string")return nM(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return nM(n,e)}}function nM(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function vre(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function yre(n){if(Array.isArray(n))return n}function HB(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function In(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HB(Object(t),!0).forEach(function(r){rM(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):HB(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function rM(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function R_(n,e){if(n==null)return{};var t=_re(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function _re(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var iR=O.forwardRef(function(n,e){var t=n.children,r=R_(n,lre),i=s5(r),s=i.open,o=R_(i,cre);return O.useImperativeHandle(e,function(){return{open:s}},[s]),q.createElement(O.Fragment,null,t(In(In({},o),{},{open:s})))});iR.displayName="Dropzone";var i5={disabled:!1,getFilesFromEvent:Bne,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0};iR.defaultProps=i5;iR.propTypes={children:hn.func,accept:hn.oneOfType([hn.string,hn.arrayOf(hn.string)]),multiple:hn.bool,preventDropOnDocument:hn.bool,noClick:hn.bool,noKeyboard:hn.bool,noDrag:hn.bool,noDragEventsBubbling:hn.bool,minSize:hn.number,maxSize:hn.number,maxFiles:hn.number,disabled:hn.bool,getFilesFromEvent:hn.func,onFileDialogCancel:hn.func,onFileDialogOpen:hn.func,useFsAccessApi:hn.bool,onDragEnter:hn.func,onDragLeave:hn.func,onDragOver:hn.func,onDrop:hn.func,onDropAccepted:hn.func,onDropRejected:hn.func,validator:hn.func};var iM={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function s5(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=In(In({},i5),n),t=e.accept,r=e.disabled,i=e.getFilesFromEvent,s=e.maxSize,o=e.minSize,a=e.multiple,l=e.maxFiles,c=e.onDragEnter,u=e.onDragLeave,f=e.onDragOver,p=e.onDrop,m=e.onDropAccepted,g=e.onDropRejected,y=e.onFileDialogCancel,_=e.onFileDialogOpen,v=e.useFsAccessApi,x=e.preventDropOnDocument,b=e.noClick,A=e.noKeyboard,M=e.noDrag,E=e.noDragEventsBubbling,R=e.validator,I=O.useMemo(function(){return typeof _=="function"?_:GB},[_]),T=O.useMemo(function(){return typeof y=="function"?y:GB},[y]),P=O.useRef(null),B=O.useRef(null),U=O.useReducer(xre,iM),j=yA(U,2),N=j[0],G=j[1],V=N.isFocused,$=N.isFileDialogActive,F=N.draggedFiles,X=O.useRef(typeof window<"u"&&window.isSecureContext&&v&&ire()),Y=function(){!X.current&&$&&setTimeout(function(){if(B.current){var le=B.current.files;le.length||(G({type:"closeDialog"}),T())}},300)};O.useEffect(function(){return window.addEventListener("focus",Y,!1),function(){window.removeEventListener("focus",Y,!1)}},[B,$,T,X]);var te=O.useRef([]),ee=function(le){P.current&&P.current.contains(le.target)||(le.preventDefault(),te.current=[])};O.useEffect(function(){return x&&(document.addEventListener("dragover",zB,!1),document.addEventListener("drop",ee,!1)),function(){x&&(document.removeEventListener("dragover",zB),document.removeEventListener("drop",ee))}},[P,x]);var J=O.useCallback(function(oe){oe.preventDefault(),oe.persist(),ve(oe),te.current=[].concat(dre(te.current),[oe.target]),Kv(oe)&&Promise.resolve(i(oe)).then(function(le){C_(oe)&&!E||(G({draggedFiles:le,isDragActive:!0,type:"setDraggedFiles"}),c&&c(oe))})},[i,c,E]),ne=O.useCallback(function(oe){oe.preventDefault(),oe.persist(),ve(oe);var le=Kv(oe);if(le&&oe.dataTransfer)try{oe.dataTransfer.dropEffect="copy"}catch{}return le&&f&&f(oe),!1},[f,E]),ue=O.useCallback(function(oe){oe.preventDefault(),oe.persist(),ve(oe);var le=te.current.filter(function(Te){return P.current&&P.current.contains(Te)}),ke=le.indexOf(oe.target);ke!==-1&&le.splice(ke,1),te.current=le,!(le.length>0)&&(G({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),Kv(oe)&&u&&u(oe))},[P,u,E]),Ae=O.useCallback(function(oe,le){var ke=[],Te=[];oe.forEach(function(Ie){var Ze=t5(Ie,t),Pe=yA(Ze,2),be=Pe[0],Et=Pe[1],pt=n5(Ie,o,s),dt=yA(pt,2),ot=dt[0],He=dt[1],Q=R?R(Ie):null;if(be&&ot&&!Q)ke.push(Ie);else{var Se=[Et,He];Q&&(Se=Se.concat(Q)),Te.push({file:Ie,errors:Se.filter(function($e){return $e})})}}),(!a&&ke.length>1||a&&l>=1&&ke.length>l)&&(ke.forEach(function(Ie){Te.push({file:Ie,errors:[Zne]})}),ke.splice(0)),G({acceptedFiles:ke,fileRejections:Te,type:"setFiles"}),p&&p(ke,Te,le),Te.length>0&&g&&g(Te,le),ke.length>0&&m&&m(ke,le)},[G,a,t,o,s,l,p,m,g,R]),Re=O.useCallback(function(oe){oe.preventDefault(),oe.persist(),ve(oe),te.current=[],Kv(oe)&&Promise.resolve(i(oe)).then(function(le){C_(oe)&&!E||Ae(le,oe)}),G({type:"reset"})},[i,Ae,E]),Qe=O.useCallback(function(){if(X.current){G({type:"openDialog"}),I();var oe={multiple:a,types:sre(t)};window.showOpenFilePicker(oe).then(function(le){return i(le)}).then(function(le){Ae(le,null),G({type:"closeDialog"})}).catch(function(le){ore(le)?(T(le),G({type:"closeDialog"})):are(le)&&(X.current=!1,B.current&&(B.current.value=null,B.current.click()))});return}B.current&&(G({type:"openDialog"}),I(),B.current.value=null,B.current.click())},[G,I,T,v,Ae,t,a]),Ve=O.useCallback(function(oe){!P.current||!P.current.isEqualNode(oe.target)||(oe.key===" "||oe.key==="Enter"||oe.keyCode===32||oe.keyCode===13)&&(oe.preventDefault(),Qe())},[P,Qe]),Fe=O.useCallback(function(){G({type:"focus"})},[]),Le=O.useCallback(function(){G({type:"blur"})},[]),K=O.useCallback(function(){b||(rre()?setTimeout(Qe,0):Qe())},[b,Qe]),_e=function(le){return r?null:le},me=function(le){return A?null:_e(le)},we=function(le){return M?null:_e(le)},ve=function(le){E&&le.stopPropagation()},Xe=O.useMemo(function(){return function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},le=oe.refKey,ke=le===void 0?"ref":le,Te=oe.role,Ie=oe.onKeyDown,Ze=oe.onFocus,Pe=oe.onBlur,be=oe.onClick,Et=oe.onDragEnter,pt=oe.onDragOver,dt=oe.onDragLeave,ot=oe.onDrop,He=R_(oe,ure);return In(In(rM({onKeyDown:me(zo(Ie,Ve)),onFocus:me(zo(Ze,Fe)),onBlur:me(zo(Pe,Le)),onClick:_e(zo(be,K)),onDragEnter:we(zo(Et,J)),onDragOver:we(zo(pt,ne)),onDragLeave:we(zo(dt,ue)),onDrop:we(zo(ot,Re)),role:typeof Te=="string"&&Te!==""?Te:"button"},ke,P),!r&&!A?{tabIndex:0}:{}),He)}},[P,Ve,Fe,Le,K,J,ne,ue,Re,A,M,r]),Ue=O.useCallback(function(oe){oe.stopPropagation()},[]),k=O.useMemo(function(){return function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},le=oe.refKey,ke=le===void 0?"ref":le,Te=oe.onChange,Ie=oe.onClick,Ze=R_(oe,fre),Pe=rM({accept:t,multiple:a,type:"file",style:{display:"none"},onChange:_e(zo(Te,Re)),onClick:_e(zo(Ie,Ue)),tabIndex:-1},ke,B);return In(In({},Pe),Ze)}},[B,t,a,Re,r]),D=F.length,ie=D>0&&ere({files:F,accept:t,minSize:o,maxSize:s,multiple:a,maxFiles:l}),Ee=D>0&&!ie;return In(In({},N),{},{isDragAccept:ie,isDragReject:Ee,isFocused:V&&!r,getRootProps:Xe,getInputProps:k,rootRef:P,inputRef:B,open:_e(Qe)})}function xre(n,e){switch(e.type){case"focus":return In(In({},n),{},{isFocused:!0});case"blur":return In(In({},n),{},{isFocused:!1});case"openDialog":return In(In({},iM),{},{isFileDialogActive:!0});case"closeDialog":return In(In({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":var t=e.isDragActive,r=e.draggedFiles;return In(In({},n),{},{draggedFiles:r,isDragActive:t});case"setFiles":return In(In({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return In({},iM);default:return n}}function GB(){}function Sre(n){let e;const t=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const p=e;e=u?f:Object.assign({},e,f),t.forEach(m=>m(e,p))}},i=()=>e,s=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function m(){const g=u(e);if(!f(p,g)){const y=p;c(p=g,y)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(c,u,f)=>u||f?s(c,u,f):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const bre=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),VB=bre?O.useEffect:O.useLayoutEffect;function Are(n){const e=typeof n=="function"?Sre(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=O.useReducer(_=>_+1,0),o=e.getState(),a=O.useRef(o),l=O.useRef(r),c=O.useRef(i),u=O.useRef(!1),f=O.useRef();f.current===void 0&&(f.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(p=r(o),m=!i(f.current,p)),VB(()=>{m&&(f.current=p),a.current=o,l.current=r,c.current=i,u.current=!1});const g=O.useRef(o);VB(()=>{const _=()=>{try{const x=e.getState(),b=l.current(x);c.current(f.current,b)||(a.current=x,f.current=b,s())}catch{u.current=!0,s()}},v=e.subscribe(_);return e.getState()!==g.current&&_(),v},[]);const y=m?p:f.current;return O.useDebugValue(y),y};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}const wre=n=>(e,t,r)=>{const i=r.subscribe;return r.subscribe=(o,a,l)=>{let c=o;if(a){const u=(l==null?void 0:l.equalityFn)||Object.is;let f=o(r.getState());c=p=>{const m=o(p);if(!u(f,m)){const g=f;a(f=m,g)}},l!=null&&l.fireImmediately&&a(f,f)}return i(c)},n(e,t,r)};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Ere=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Mre=Ere;function WB(n){return Mre(n)===!0&&Object.prototype.toString.call(n)==="[object Object]"}var o5=function(e){var t,r;return!(WB(e)===!1||(t=e.constructor,typeof t!="function")||(r=t.prototype,WB(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Tre=o5,sR=function(e){return Tre(e)||typeof e=="function"||Array.isArray(e)};/*!
 * for-in <https://github.com/jonschlinkert/for-in>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Cre=function(e,t,r){for(var i in e)if(t.call(r,e[i],i,e)===!1)break},Rre=sR,Pre=Cre;function a5(n,e){for(var t=arguments.length,r=0;++r<t;){var i=arguments[r];sM(i)&&Pre(i,Ore,n)}return n}function Ore(n,e){if(Lre(e)){var t=this[e];sM(n)&&sM(t)?a5(t,n):this[e]=n}}function sM(n){return Rre(n)&&!Array.isArray(n)}function Lre(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var Ire=a5;/*!
 * get-value <https://github.com/jonschlinkert/get-value>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Bre=function(n,e,t,r,i){if(!Dre(n)||!e)return n;if(e=Yv(e),t&&(e+="."+Yv(t)),r&&(e+="."+Yv(r)),i&&(e+="."+Yv(i)),e in n)return n[e];for(var s=e.split("."),o=s.length,a=-1;n&&++a<o;){for(var l=s[a];l[l.length-1]==="\\";)l=l.slice(0,-1)+"."+s[++a];n=n[l]}return n};function Dre(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function Yv(n){return n?Array.isArray(n)?n.join("."):n:""}/*!
 * assign-symbols <https://github.com/jonschlinkert/assign-symbols>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var kre=function(n,e){if(n===null||typeof n>"u")throw new TypeError("expected first argument to be an object.");if(typeof e>"u"||typeof Symbol>"u"||typeof Object.getOwnPropertySymbols!="function")return n;for(var t=Object.prototype.propertyIsEnumerable,r=Object(n),i=arguments.length,s=0;++s<i;)for(var o=Object(arguments[s]),a=Object.getOwnPropertySymbols(o),l=0;l<a.length;l++){var c=a[l];t.call(o,c)&&(r[c]=o[c])}return r},Nre=sR,Fre=kre,Ure=Object.assign||function(n){if(n===null||typeof n>"u")throw new TypeError("Cannot convert undefined or null to object");$B(n)||(n={});for(var e=1;e<arguments.length;e++){var t=arguments[e];Hre(t)&&(t=Gre(t)),$B(t)&&(zre(n,t),Fre(n,t))}return n};function zre(n,e){for(var t in e)Vre(e,t)&&(n[t]=e[t])}function Hre(n){return n&&typeof n=="string"}function Gre(n){var e={};for(var t in n)e[t]=n[t];return e}function $B(n){return n&&typeof n=="object"||Nre(n)}function Vre(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * split-string <https://github.com/jonschlinkert/split-string>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Wre=Ure,$re=function(n,e,t){if(typeof n!="string")throw new TypeError("expected a string");typeof e=="function"&&(t=e,e=null),typeof e=="string"&&(e={sep:e});var r=Wre({sep:"."},e),i=r.quotes||['"',"'","`"],s;r.brackets===!0?s={"<":">","(":")","[":"]","{":"}"}:r.brackets&&(s=r.brackets);var o=[],a=[],l=[""],c=r.sep,u=n.length,f=-1,p;function m(){if(s&&a.length)return s[a[a.length-1]]}for(;++f<u;){var g=n[f],y=n[f+1],_={val:g,idx:f,arr:l,str:n};if(o.push(_),g==="\\"){_.val=Xre(r,n,f)===!0?g+y:y,_.escaped=!0,typeof t=="function"&&t(_),l[l.length-1]+=_.val,f++;continue}if(s&&s[g]){a.push(g);var v=m(),x=f+1;if(n.indexOf(v,x+1)!==-1)for(;a.length&&x<u;){var b=n[++x];if(b==="\\"){b++;continue}if(i.indexOf(b)!==-1){x=oM(n,b,x+1);continue}if(v=m(),a.length&&n.indexOf(v,x+1)===-1)break;if(s[b]){a.push(b);continue}v===b&&a.pop()}if(p=x,p===-1){l[l.length-1]+=g;continue}g=n.slice(f,p+1),_.val=g,_.idx=f=p}if(i.indexOf(g)!==-1){if(p=oM(n,g,f+1),p===-1){l[l.length-1]+=g;continue}jre(g,r)===!0?g=n.slice(f,p+1):g=n.slice(f+1,p),_.val=g,_.idx=f=p}if(typeof t=="function"&&(t(_,o),g=_.val,f=_.idx),_.val===c&&_.split!==!1){l.push("");continue}l[l.length-1]+=_.val}return l};function oM(n,e,t,r){var i=n.indexOf(e,t);return n.charAt(i-1)==="\\"?oM(n,e,i+1):i}function jre(n,e){return e.keepDoubleQuotes===!0&&n==='"'||e.keepSingleQuotes===!0&&n==="'"?!0:e.keepQuotes}function Xre(n,e,t){return typeof n.keepEscaping=="function"?n.keepEscaping(e,t):n.keepEscaping===!0||e[t+1]==="\\"}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Kre=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")},jB=Kre,Yre=function(e){jB(e)||(e={});for(var t=arguments.length,r=1;r<t;r++){var i=arguments[r];jB(i)&&Jre(e,i)}return e};function Jre(n,e){for(var t in e)qre(e,t)&&(n[t]=e[t])}function qre(n,e){return Object.prototype.hasOwnProperty.call(n,e)}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var Qre=function(e){return typeof e<"u"&&e!==null&&(typeof e=="object"||typeof e=="function")};/*!
 * set-value <https://github.com/jonschlinkert/set-value>
 *
 * Copyright (c) 2014-2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Zre=$re,eie=Yre,XB=o5,KB=Qre,tie=function(n,e,t){if(!KB(n)||(Array.isArray(e)&&(e=[].concat.apply([],e).join(".")),typeof e!="string"))return n;for(var r=Zre(e,{sep:".",brackets:!0}).filter(nie),i=r.length,s=-1,o=n;++s<i;){var a=r[s];if(s!==i-1){KB(o[a])||(o[a]={}),o=o[a];continue}XB(o[a])&&XB(t)?o[a]=eie({},o[a],t):o[a]=t}return n};function nie(n){return n!=="__proto__"&&n!=="constructor"&&n!=="prototype"}var _A=sR,YB=Ire,rie=Bre,JB=tie,iie=function(e,t,r){if(!_A(e))throw new TypeError("expected an object");if(typeof t!="string"||r==null)return YB.apply(null,arguments);if(typeof r=="string")return JB(e,t,r),e;var i=rie(e,t);return _A(r)&&_A(i)&&(r=YB({},i,r)),JB(e,t,r),e};const sie=dc(iie),oR=(...n)=>n.filter(Boolean).join(".");function oie(n){const e=n.split(".");return[e.pop(),e.join(".")||void 0]}function aie(n){const e=O.useRef(null),t=O.useRef(null),r=O.useRef(!0);return O.useLayoutEffect(()=>{n||(e.current.style.height="0px",e.current.style.overflow="hidden")},[]),O.useEffect(()=>{if(r.current){r.current=!1;return}let i;const s=e.current,o=()=>{n&&(s.style.removeProperty("height"),s.style.removeProperty("overflow"),t.current.scrollIntoView({behavior:"smooth",block:"nearest"}))};s.addEventListener("transitionend",o,{once:!0});const{height:a}=t.current.getBoundingClientRect();return s.style.height=a+"px",n||(s.style.overflow="hidden",i=window.setTimeout(()=>s.style.height="0px",50)),()=>{s.removeEventListener("transitionend",o),clearTimeout(i)}},[n]),{wrapperRef:e,contentRef:t}}const lie=n=>{const[e,t]=O.useState(n.getVisiblePaths());return O.useEffect(()=>{t(n.getVisiblePaths());const r=n.useStore.subscribe(n.getVisiblePaths,t,{equalityFn:Rz});return()=>r()},[n]),e};function l5(n=3){const e=O.useRef(null),t=O.useRef(null),[r,i]=O.useState(!1),s=O.useCallback(()=>i(!0),[]),o=O.useCallback(()=>i(!1),[]);return O.useLayoutEffect(()=>{if(r){const{bottom:a,top:l,left:c}=e.current.getBoundingClientRect(),{height:u}=t.current.getBoundingClientRect(),f=a+u>window.innerHeight-40?"up":"down";t.current.style.position="fixed",t.current.style.zIndex="10000",t.current.style.left=c+"px",f==="down"?t.current.style.top=a+n+"px":t.current.style.bottom=window.innerHeight-l+n+"px"}},[n,r]),{popinRef:e,wrapperRef:t,shown:r,show:s,hide:o}}hne([pne]);const cie={rgb:"toRgb",hsl:"toHsl",hsv:"toHsv",hex:"toHex"};zi.extend({color:()=>n=>Si(n).isValid()});const uie=n=>zi().color().test(n);function c5(n,{format:e,hasAlpha:t,isString:r}){const i=cie[e]+(r&&e!=="hex"?"String":""),s=n[i]();return typeof s=="object"&&!t?Iee(s,["a"]):s}const u5=(n,e)=>{const t=Si(n);if(!t.isValid())throw Error("Invalid color");return c5(t,e)},fie=(n,e)=>c5(Si(n),Pt(Pt({},e),{},{isString:!0,format:"hex"})),die=({value:n})=>{const e=dne(n),t=e==="name"?"hex":e,r=typeof n=="object"?"a"in n:e==="hex"&&n.length===8||/^(rgba)|(hsla)|(hsva)/.test(n),i={format:t,hasAlpha:r,isString:typeof n=="string"};return{value:u5(n,i),settings:i}};var hie=Object.freeze({__proto__:null,schema:uie,sanitize:u5,format:fie,normalize:die});const pie=gt("div",{position:"relative",boxSizing:"border-box",borderRadius:"$sm",overflow:"hidden",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",backgroundColor:"#fff",backgroundImage:`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,$inputStyle:"",$hover:"",zIndex:1,variants:{active:{true:{$inputStyle:"$accent1"}}},"&::before":{content:'""',position:"absolute",top:0,bottom:0,right:0,left:0,backgroundColor:"currentColor",zIndex:1}}),mie=gt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto",columnGap:"$colGap",alignItems:"center"}),gie=gt("div",{width:"$colorPickerWidth",height:"$colorPickerHeight",".react-colorful":{width:"100%",height:"100%",boxShadow:"$level2",cursor:"crosshair"},".react-colorful__saturation":{borderRadius:"$sm $sm 0 0"},".react-colorful__alpha, .react-colorful__hue":{height:10},".react-colorful__last-control":{borderRadius:"0 0 $sm $sm"},".react-colorful__pointer":{height:12,width:12}});function qB(n,e){return e!=="rgb"?Si(n).toRgb():n}function vie({value:n,displayValue:e,settings:t,onUpdate:r}){const{emitOnEditStart:i,emitOnEditEnd:s}=hi(),{format:o,hasAlpha:a}=t,{popinRef:l,wrapperRef:c,shown:u,show:f,hide:p}=l5(),m=O.useRef(0),[g,y]=O.useState(()=>qB(n,o)),_=a?Sne:Ane,v=()=>{y(qB(n,o)),f(),i()},x=()=>{p(),s(),window.clearTimeout(m.current)},b=()=>{m.current=window.setTimeout(x,500)};return O.useEffect(()=>()=>window.clearTimeout(m.current),[]),q.createElement(q.Fragment,null,q.createElement(pie,{ref:l,active:u,onClick:()=>v(),style:{color:e}}),u&&q.createElement(qC,null,q.createElement(R4,{onPointerUp:x}),q.createElement(gie,{ref:c,onMouseEnter:()=>window.clearTimeout(m.current),onMouseLeave:A=>A.buttons===0&&b()},q.createElement(_,{color:g,onChange:r}))))}function yie(){const{value:n,displayValue:e,label:t,onChange:r,onUpdate:i,settings:s}=hi();return q.createElement(ro,{input:!0},q.createElement(Ro,null,t),q.createElement(mie,null,q.createElement(vie,{value:n,displayValue:e,onChange:r,onUpdate:i,settings:s}),q.createElement(JC,{value:e,onChange:r,onUpdate:i})))}var _ie=Pt({component:yie},hie);function xie(){const{label:n,displayValue:e,onUpdate:t,settings:r}=hi();return q.createElement(ro,{input:!0},q.createElement(Ro,null,n),q.createElement(ZC,{value:e,settings:r,onUpdate:t}))}var Sie=Pt({component:xie},N4(["x","y","z"]));const bie=gt("div",{$flexCenter:"",position:"relative",backgroundColor:"$elevation3",borderRadius:"$sm",cursor:"pointer",height:"$rowHeight",width:"$rowHeight",touchAction:"none",$draggable:"",$hover:"","&:active":{cursor:"none"},"&::after":{content:'""',backgroundColor:"$accent2",height:4,width:4,borderRadius:2}}),Aie=gt("div",{$flexCenter:"",width:"$joystickWidth",height:"$joystickHeight",borderRadius:"$sm",boxShadow:"$level2",position:"fixed",zIndex:1e4,overflow:"hidden",$draggable:"",transform:"translate(-50%, -50%)",variants:{isOutOfBounds:{true:{backgroundColor:"$elevation1"},false:{backgroundColor:"$elevation3"}}},"> div":{position:"absolute",$flexCenter:"",borderStyle:"solid",borderWidth:1,borderColor:"$highlight1",backgroundColor:"$elevation3",width:"80%",height:"80%","&::after,&::before":{content:'""',position:"absolute",zindex:10,backgroundColor:"$highlight1"},"&::before":{width:"100%",height:1},"&::after":{height:"100%",width:1}},"> span":{position:"relative",zindex:100,width:10,height:10,backgroundColor:"$accent2",borderRadius:"50%"}});function wie({value:n,settings:e,onUpdate:t}){const r=O.useRef(),i=O.useRef(0),s=O.useRef(0),o=O.useRef(1),[a,l]=O.useState(!1),[c,u]=O.useState(!1),[f,p]=O4(),m=O.useRef(null),g=O.useRef(null);O.useLayoutEffect(()=>{if(a){const{top:U,left:j,width:N,height:G}=m.current.getBoundingClientRect();g.current.style.left=j+N/2+"px",g.current.style.top=U+G/2+"px"}},[a]);const{keys:[y,_],joystick:v}=e,x=v==="invertY"?1:-1,{[y]:{step:b},[_]:{step:A}}=e,M=Ga("sizes","joystickWidth"),E=Ga("sizes","joystickHeight"),R=parseFloat(M)*.8/2,I=parseFloat(E)*.8/2,T=O.useCallback(()=>{r.current||(u(!0),i.current&&p({x:i.current*R}),s.current&&p({y:s.current*-I}),r.current=window.setInterval(()=>{t(U=>{const j=b*i.current*o.current,N=x*A*s.current*o.current;return Array.isArray(U)?{[y]:U[0]+j,[_]:U[1]+N}:{[y]:U[y]+j,[_]:U[_]+N}})},16))},[R,I,t,p,b,A,y,_,x]),P=O.useCallback(()=>{window.clearTimeout(r.current),r.current=void 0,u(!1)},[]);O.useEffect(()=>{function U(j){o.current=m4(j)}return window.addEventListener("keydown",U),window.addEventListener("keyup",U),()=>{window.clearTimeout(r.current),window.removeEventListener("keydown",U),window.removeEventListener("keyup",U)}},[]);const B=Mg(({first:U,active:j,delta:[N,G],movement:[V,$]})=>{U&&l(!0);const F=lc(V,-R,R),X=lc($,-I,I);i.current=Math.abs(V)>Math.abs(F)?Math.sign(V-F):0,s.current=Math.abs($)>Math.abs(X)?Math.sign(X-$):0;let Y=n[y],te=n[_];j?(i.current||(Y+=N*b*o.current,p({x:F})),s.current||(te-=x*G*A*o.current,p({y:X})),i.current||s.current?T():P(),t({[y]:Y,[_]:te})):(l(!1),i.current=0,s.current=0,p({x:0,y:0}),P())});return q.createElement(bie,mr({ref:m},B()),a&&q.createElement(qC,null,q.createElement(Aie,{ref:g,isOutOfBounds:c},q.createElement("div",null),q.createElement("span",{ref:f}))))}const Eie=gt("div",{display:"grid",columnGap:"$colGap",variants:{withJoystick:{true:{gridTemplateColumns:"$sizes$rowHeight auto"},false:{gridTemplateColumns:"auto"}}}});function Mie(){const{label:n,displayValue:e,onUpdate:t,settings:r}=hi();return q.createElement(ro,{input:!0},q.createElement(Ro,null,n),q.createElement(Eie,{withJoystick:!!r.joystick},r.joystick&&q.createElement(wie,{value:e,settings:r,onUpdate:t}),q.createElement(ZC,{value:e,settings:r,onUpdate:t})))}const Tie=["joystick"],f5=N4(["x","y"]),Cie=n=>{let{joystick:e=!0}=n,t=vn(n,Tie);const{value:r,settings:i}=f5.normalize(t);return{value:r,settings:Pt(Pt({},i),{},{joystick:e})}};var Rie=Pt(Pt({component:Mie},f5),{},{normalize:Cie});const Pie=n=>{if(n!==void 0){if(n instanceof File)try{return URL.createObjectURL(n)}catch{return}if(typeof n=="string"&&n.indexOf("blob:")===0)return n;throw Error("Invalid image format [undefined | blob | File].")}},Oie=(n,e)=>typeof e=="object"&&"image"in e,Lie=({image:n})=>({value:n});var Iie=Object.freeze({__proto__:null,sanitize:Pie,schema:Oie,normalize:Lie});const Bie=gt("div",{position:"relative",display:"grid",gridTemplateColumns:"$sizes$rowHeight auto 20px",columnGap:"$colGap",alignItems:"center"}),Die=gt("div",{$flexCenter:"",overflow:"hidden",height:"$rowHeight",background:"$elevation3",textAlign:"center",color:"inherit",borderRadius:"$sm",outline:"none",userSelect:"none",cursor:"pointer",$inputStyle:"",$hover:"",$focusWithin:"",$active:"$accent1 $elevation1",variants:{isDragAccept:{true:{$inputStyle:"$accent1",backgroundColor:"$elevation1"}}}}),kie=gt("div",{boxSizing:"border-box",borderRadius:"$sm",height:"$rowHeight",width:"$rowHeight",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center",variants:{hasImage:{true:{cursor:"pointer",$hover:"",$active:""}}}}),Nie=gt("div",{$flexCenter:"",width:"$imagePreviewWidth",height:"$imagePreviewHeight",borderRadius:"$sm",boxShadow:"$level2",pointerEvents:"none",$inputStyle:"",backgroundSize:"cover",backgroundPosition:"center"}),Fie=gt("div",{fontSize:"0.8em",height:"100%",padding:"$rowGap $md"}),Uie=gt("div",{$flexCenter:"",top:"0",right:"0",marginRight:"$sm",height:"100%",cursor:"pointer",variants:{disabled:{true:{color:"$elevation3",cursor:"default"}}},"&::after,&::before":{content:'""',position:"absolute",height:2,width:10,borderRadius:1,backgroundColor:"currentColor"},"&::after":{transform:"rotate(45deg)"},"&::before":{transform:"rotate(-45deg)"}});function zie(){const{label:n,value:e,onUpdate:t,disabled:r}=hi(),{popinRef:i,wrapperRef:s,shown:o,show:a,hide:l}=l5(),c=O.useCallback(g=>{g.length&&t(g[0])},[t]),u=O.useCallback(g=>{g.stopPropagation(),t(void 0)},[t]),{getRootProps:f,getInputProps:p,isDragAccept:m}=s5({maxFiles:1,accept:"image/*",onDrop:c,disabled:r});return q.createElement(ro,{input:!0},q.createElement(Ro,null,n),q.createElement(Bie,null,q.createElement(kie,{ref:i,hasImage:!!e,onPointerDown:()=>!!e&&a(),onPointerUp:l,style:{backgroundImage:e?`url(${e})`:"none"}}),o&&!!e&&q.createElement(qC,null,q.createElement(R4,{onPointerUp:l,style:{cursor:"pointer"}}),q.createElement(Nie,{ref:s,style:{backgroundImage:`url(${e})`}})),q.createElement(Die,f({isDragAccept:m}),q.createElement("input",p()),q.createElement(Fie,null,m?"drop image":"click or drop")),q.createElement(Uie,{onClick:u,disabled:!e})))}var Hie=Pt({component:zie},Iie);const QB=zi().number(),Gie=(n,e)=>zi().array().length(2).every.number().test(n)&&zi().schema({min:QB,max:QB}).test(e),P_=n=>({min:n[0],max:n[1]}),d5=(n,{bounds:[e,t]},r)=>{const i=Array.isArray(n)?P_(n):n,s={min:r[0],max:r[1]},{min:o,max:a}=Pt(Pt({},s),i);return[lc(Number(o),e,Math.max(e,a)),lc(Number(a),Math.min(t,o),t)]},Vie=({value:n,min:e,max:t})=>{const r={min:e,max:t},i=k4(P_(n),{min:r,max:r}),s=[e,t],o=Pt(Pt({},i),{},{bounds:s});return{value:d5(P_(n),o,n),settings:o}};var Wie=Object.freeze({__proto__:null,schema:Gie,format:P_,sanitize:d5,normalize:Vie});const $ie=["value","bounds","onDrag"],jie=["bounds"],Xie=gt("div",{display:"grid",columnGap:"$colGap",gridTemplateColumns:"auto calc($sizes$numberInputMinWidth * 2 + $space$rowGap)"});function Kie(n){let{value:e,bounds:[t,r],onDrag:i}=n,s=vn(n,$ie);const o=O.useRef(null),a=O.useRef(null),l=O.useRef(null),c=O.useRef(0),u=Ga("sizes","scrubberWidth"),f=Mg(({event:g,first:y,xy:[_],movement:[v],memo:x={}})=>{if(y){const{width:A,left:M}=o.current.getBoundingClientRect();c.current=A-parseFloat(u);const E=(g==null?void 0:g.target)===a.current||(g==null?void 0:g.target)===l.current;x.pos=E_((_-M)/A,t,r);const R=Math.abs(x.pos-e.min)-Math.abs(x.pos-e.max);x.key=R<0||R===0&&x.pos<=e.min?"min":"max",E&&(x.pos=e[x.key])}const b=x.pos+E_(v/c.current,0,r-t);return i({[x.key]:_te(b,s[x.key])}),x}),p=`calc(${w_(e.min,t,r)} * (100% - ${u} - 8px) + 4px)`,m=`calc(${1-w_(e.max,t,r)} * (100% - ${u} - 8px) + 4px)`;return q.createElement(I4,mr({ref:o},f()),q.createElement(L4,null,q.createElement(B4,{style:{left:p,right:m}})),q.createElement(KE,{position:"left",ref:a,style:{left:p}}),q.createElement(KE,{position:"right",ref:l,style:{right:m}}))}function Yie(){const{label:n,displayValue:e,onUpdate:t,settings:r}=hi(),i=vn(r,jie);return q.createElement(q.Fragment,null,q.createElement(ro,{input:!0},q.createElement(Ro,null,n),q.createElement(Xie,null,q.createElement(Kie,mr({value:e},r,{onDrag:t})),q.createElement(ZC,{value:e,settings:i,onUpdate:t,innerLabelTrim:0}))))}var Jie=Pt({component:Yie},Wie);const qie=()=>{const n=new Map;return{on:(e,t)=>{let r=n.get(e);r===void 0&&(r=new Set,n.set(e,r)),r.add(t)},off:(e,t)=>{const r=n.get(e);r!==void 0&&(r.delete(t),r.size===0&&n.delete(e))},emit:(e,...t)=>{const r=n.get(e);if(r!==void 0)for(const i of r)i(...t)}}},Qie=["type","value"],Zie=["onChange","transient","onEditStart","onEditEnd"],ese=function(){const e=Are(wre(()=>({data:{}}))),t=qie();this.storeId=Lee(),this.useStore=e;const r={},i=new Set;this.getVisiblePaths=()=>{const o=this.getData(),a=Object.keys(o),l=[];Object.entries(r).forEach(([u,f])=>{f.render&&a.some(p=>p.indexOf(u)===0)&&!f.render(this.get)&&l.push(u+".")});const c=[];return i.forEach(u=>{u in o&&o[u].__refCount>0&&l.every(f=>u.indexOf(f)===-1)&&(!o[u].render||o[u].render(this.get))&&c.push(u)}),c},this.setOrderedPaths=o=>{o.forEach(a=>i.add(a))},this.orderPaths=o=>(this.setOrderedPaths(o),o),this.disposePaths=o=>{e.setState(a=>{const l=a.data;return o.forEach(c=>{if(c in l){const u=l[c];u.__refCount--,u.__refCount===0&&u.type in na&&delete l[c]}}),{data:l}})},this.dispose=()=>{e.setState(()=>({data:{}}))},this.getFolderSettings=o=>r[o]||{},this.getData=()=>e.getState().data,this.addData=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([u,f])=>{let p=c[u];if(p){const{type:m,value:g}=f,y=vn(f,Qie);m!==p.type?Ba(Bn.INPUT_TYPE_OVERRIDE,m):((p.__refCount===0||a)&&Object.assign(p,y),p.__refCount++)}else c[u]=Pt(Pt({},f),{},{__refCount:1})}),{data:c}})},this.setValueAtPath=(o,a,l)=>{e.setState(c=>{const u=c.data;return SB(u[o],a,o,this,l),{data:u}})},this.setSettingsAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].settings=Pt(Pt({},c[o].settings),a),{data:c}})},this.disableInputAtPath=(o,a)=>{e.setState(l=>{const c=l.data;return c[o].disabled=a,{data:c}})},this.set=(o,a)=>{e.setState(l=>{const c=l.data;return Object.entries(o).forEach(([u,f])=>{try{SB(c[u],f,void 0,void 0,a)}catch{}}),{data:c}})},this.getInput=o=>{try{return this.getData()[o]}catch{Ba(Bn.PATH_DOESNT_EXIST,o)}},this.get=o=>{var a;return(a=this.getInput(o))===null||a===void 0?void 0:a.value},this.emitOnEditStart=o=>{t.emit(`onEditStart:${o}`,this.get(o),o,Pt(Pt({},this.getInput(o)),{},{get:this.get}))},this.emitOnEditEnd=o=>{t.emit(`onEditEnd:${o}`,this.get(o),o,Pt(Pt({},this.getInput(o)),{},{get:this.get}))},this.subscribeToEditStart=(o,a)=>{const l=`onEditStart:${o}`;return t.on(l,a),()=>t.off(l,a)},this.subscribeToEditEnd=(o,a)=>{const l=`onEditEnd:${o}`;return t.on(l,a),()=>t.off(l,a)};const s=(o,a,l)=>{const c={};return Object.entries(o).forEach(([u,f])=>{if(u==="")return Ba(Bn.EMPTY_KEY);let p=oR(a,u);if(f.type===na.FOLDER){const m=s(f.schema,p,l);Object.assign(c,m),p in r||(r[p]=f.settings)}else if(u in l)Ba(Bn.DUPLICATE_KEYS,u,p,l[u].path);else{const m=Uee(f,u,p,c);if(m){const{type:g,options:y,input:_}=m,{onChange:v,transient:x,onEditStart:b,onEditEnd:A}=y,M=vn(y,Zie);c[p]=Pt(Pt(Pt({type:g},M),_),{},{fromPanel:!0}),l[u]={path:p,onChange:v,transient:x,onEditStart:b,onEditEnd:A}}else Ba(Bn.UNKNOWN_INPUT,p,f)}}),c};this.getDataFromSchema=o=>{const a={};return[s(o,"",a),a]}};new ese;const ZB=n=>"__levaInput"in n,tse=(n,e)=>{const t={},r=e?e.toLowerCase():null;return n.forEach(i=>{const[s,o]=oie(i);(!r||s.toLowerCase().indexOf(r)>-1)&&sie(t,o,{[s]:{__levaInput:!0,path:i}})}),t},nse=["type","label","path","valueKey","value","settings","setValue","disabled"];function rse(n){let{type:e,label:t,path:r,valueKey:i,value:s,settings:o,setValue:a,disabled:l}=n,c=vn(n,nse);const{displayValue:u,onChange:f,onUpdate:p}=P4({type:e,value:s,settings:o,setValue:a}),m=Iu[e].component;return m?q.createElement(x4.Provider,{value:Pt({key:i,path:r,id:""+r,label:t,displayValue:u,value:s,onChange:f,onUpdate:p,settings:o,setValue:a,disabled:l},c)},q.createElement(rte,{disabled:l},q.createElement(m,null))):(Ba(Bn.NO_COMPONENT_FOR_TYPE,e,r),null)}const ise=gt("button",{display:"block",$reset:"",fontWeight:"$button",height:"$rowHeight",borderStyle:"none",borderRadius:"$sm",backgroundColor:"$elevation1",color:"$highlight1","&:not(:disabled)":{color:"$highlight3",backgroundColor:"$accent2",cursor:"pointer",$hover:"$accent3",$active:"$accent3 $accent1",$focus:""}});function sse({onClick:n,settings:e,label:t}){const r=Eg();return q.createElement(ro,null,q.createElement(ise,{disabled:e.disabled,onClick:()=>n(r.get)},t))}const ose=gt("div",{$flex:"",justifyContent:"flex-end",gap:"$colGap"}),ase=gt("button",{$reset:"",cursor:"pointer",borderRadius:"$xs","&:hover":{backgroundColor:"$elevation3"}}),lse=({label:n,opts:e})=>{let t=typeof n=="string"&&n.trim()===""?null:n,r=e;return typeof e.opts=="object"&&(r.label!==void 0&&(t=e.label),r=e.opts),{label:t,opts:r}};function cse(n){const{label:e,opts:t}=lse(n),r=Eg();return q.createElement(ro,{input:!!e},e&&q.createElement(Ro,null,e),q.createElement(ose,null,Object.entries(t).map(([i,s])=>q.createElement(ase,{key:i,onClick:()=>s(r.get)},i))))}const use=gt("canvas",{height:"$monitorHeight",width:"100%",display:"block",borderRadius:"$sm"}),h5=100;function fse(n,e){n.push(e),n.length>h5&&n.shift()}const dse=O.forwardRef(function({initialValue:n},e){const t=Ga("colors","highlight3"),r=Ga("colors","elevation2"),i=Ga("colors","highlight1"),[s,o]=O.useMemo(()=>[Si(i).alpha(.4).toRgbString(),Si(i).alpha(.1).toRgbString()],[i]),a=O.useRef([n]),l=O.useRef(n),c=O.useRef(n),u=O.useRef(),f=O.useCallback((g,y)=>{if(!g)return;const{width:_,height:v}=g,x=new Path2D,b=_/h5,A=v*.05;for(let R=0;R<a.current.length;R++){const I=w_(a.current[R],l.current,c.current),T=b*R,P=v-I*(v-A*2)-A;x.lineTo(T,P)}y.clearRect(0,0,_,v);const M=new Path2D(x);M.lineTo(b*(a.current.length+1),v),M.lineTo(0,v),M.lineTo(0,0);const E=y.createLinearGradient(0,0,0,v);E.addColorStop(0,s),E.addColorStop(1,o),y.fillStyle=E,y.fill(M),y.strokeStyle=r,y.lineJoin="round",y.lineWidth=14,y.stroke(x),y.strokeStyle=t,y.lineWidth=2,y.stroke(x)},[t,r,s,o]),[p,m]=dte(f);return O.useImperativeHandle(e,()=>({frame:g=>{(l.current===void 0||g<l.current)&&(l.current=g),(c.current===void 0||g>c.current)&&(c.current=g),fse(a.current,g),u.current=requestAnimationFrame(()=>f(p.current,m.current))}}),[p,m,f]),O.useEffect(()=>()=>cancelAnimationFrame(u.current),[]),q.createElement(use,{ref:p})}),eD=n=>Number.isFinite(n)?n.toPrecision(2):n.toString(),hse=O.forwardRef(function({initialValue:n},e){const[t,r]=O.useState(eD(n));return O.useImperativeHandle(e,()=>({frame:i=>r(eD(i))}),[]),q.createElement("div",null,t)});function tD(n){return typeof n=="function"?n():n.current}function pse({label:n,objectOrFn:e,settings:t}){const r=O.useRef(),i=O.useRef(tD(e));return O.useEffect(()=>{const s=window.setInterval(()=>{var o;document.hidden||(o=r.current)===null||o===void 0||o.frame(tD(e))},t.interval);return()=>window.clearInterval(s)},[e,t.interval]),q.createElement(ro,{input:!0},q.createElement(Ro,{align:"top"},n),t.graph?q.createElement(dse,{ref:r,initialValue:i.current}):q.createElement(hse,{ref:r,initialValue:i.current}))}const mse=["type","label","key"],gse={[na.BUTTON]:sse,[na.BUTTON_GROUP]:cse,[na.MONITOR]:pse},vse=q.memo(({path:n})=>{const[e,{set:t,setSettings:r,disable:i,storeId:s,emitOnEditStart:o,emitOnEditEnd:a}]=pte(n);if(!e)return null;const{type:l,label:c,key:u}=e,f=vn(e,mse);if(l in na){const p=gse[l];return q.createElement(p,mr({label:c,path:n},f))}return l in Iu?q.createElement(rse,mr({key:s+n,type:l,label:c,storeId:s,path:n,valueKey:u,setValue:t,setSettings:r,disable:i,emitOnEditStart:o,emitOnEditEnd:a},f)):(wee(Bn.UNSUPPORTED_INPUT,l,n),null)});function yse({toggle:n,toggled:e,name:t}){return q.createElement(ete,{onClick:()=>n()},q.createElement(QC,{toggled:e}),q.createElement("div",null,t))}const _se=({name:n,path:e,tree:t})=>{const r=Eg(),i=oR(e,n),{collapsed:s,color:o}=r.getFolderSettings(i),[a,l]=O.useState(!s),c=O.useRef(null),u=Ga("colors","folderWidgetColor"),f=Ga("colors","folderTextColor");return O.useLayoutEffect(()=>{c.current.style.setProperty("--leva-colors-folderWidgetColor",o||u),c.current.style.setProperty("--leva-colors-folderTextColor",o||f)},[o,u,f]),q.createElement(M_,{ref:c},q.createElement(yse,{name:n,toggled:a,toggle:()=>l(p=>!p)}),q.createElement(p5,{parent:i,tree:t,toggled:a}))},p5=q.memo(({isRoot:n=!1,fill:e=!1,flat:t=!1,parent:r,tree:i,toggled:s})=>{const{wrapperRef:o,contentRef:a}=aie(s),l=Eg(),c=([f,p])=>{var m;return(ZB(p)?(m=l.getInput(p.path))===null||m===void 0?void 0:m.order:l.getFolderSettings(oR(r,f)).order)||0},u=Object.entries(i).sort((f,p)=>c(f)-c(p));return q.createElement(jE,{ref:o,isRoot:n,fill:e,flat:t},q.createElement(M4,{ref:a,isRoot:n,toggled:s},u.map(([f,p])=>ZB(p)?q.createElement(vse,{key:p.path,valueKey:p.valueKey,path:p.path}):q.createElement(_se,{key:f,name:f,path:r,tree:p}))))}),xse=gt("div",{position:"relative",fontFamily:"$mono",fontSize:"$root",color:"$rootText",backgroundColor:"$elevation1",variants:{fill:{false:{position:"fixed",top:"10px",right:"10px",zIndex:1e3,width:"$rootWidth"},true:{position:"relative",width:"100%"}},flat:{false:{borderRadius:"$lg",boxShadow:"$level1"}},oneLineLabels:{true:{[`${C4}`]:{gridTemplateColumns:"auto",gridAutoColumns:"minmax(max-content, 1fr)",gridAutoRows:"minmax($sizes$rowHeight), auto)",rowGap:0,columnGap:0,marginTop:"$rowGap"}}},hideTitleBar:{true:{$$titleBarHeight:"0px"},false:{$$titleBarHeight:"$sizes$titleBarHeight"}}},"&,*,*:after,*:before":{boxSizing:"border-box"},"*::selection":{backgroundColor:"$accent2"}}),m5=40,O_=gt("i",{$flexCenter:"",width:m5,userSelect:"none",cursor:"pointer","> svg":{fill:"$highlight1",transition:"transform 350ms ease, fill 250ms ease"},"&:hover > svg":{fill:"$highlight3"},variants:{active:{true:{"> svg":{fill:"$highlight2"}}}}}),Sse=gt("div",{display:"flex",alignItems:"stretch",justifyContent:"space-between",height:"$titleBarHeight",variants:{mode:{drag:{cursor:"grab"}}}}),bse=gt("div",{$flex:"",position:"relative",width:"100%",overflow:"hidden",transition:"height 250ms ease",color:"$highlight3",paddingLeft:"$md",[`> ${O_}`]:{height:30},variants:{toggled:{true:{height:30},false:{height:0}}}}),Ase=gt("input",{$reset:"",flex:1,position:"relative",height:30,width:"100%",backgroundColor:"transparent",fontSize:"10px",borderRadius:"$root","&:focus":{},"&::placeholder":{color:"$highlight2"}}),wse=gt("div",{touchAction:"none",$flexCenter:"",flex:1,"> svg":{fill:"$highlight1"},color:"$highlight1",variants:{drag:{true:{$draggable:"","> svg":{transition:"fill 250ms ease"},"&:hover":{color:"$highlight3"},"&:hover > svg":{fill:"$highlight3"}}},filterEnabled:{false:{paddingRight:m5}}}}),Ese=q.forwardRef(({setFilter:n,toggle:e},t)=>{const[r,i]=O.useState(""),s=O.useMemo(()=>p4(n,250),[n]),o=()=>{n(""),i("")},a=l=>{const c=l.currentTarget.value;e(!0),i(c)};return O.useEffect(()=>{s(r)},[r,s]),q.createElement(q.Fragment,null,q.createElement(Ase,{ref:t,value:r,placeholder:"[Open filter with CMD+SHIFT+L]",onPointerDown:l=>l.stopPropagation(),onChange:a}),q.createElement(O_,{onClick:()=>o(),style:{visibility:r?"visible":"hidden"}},q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"14",width:"14",viewBox:"0 0 20 20",fill:"currentColor"},q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))))});function Mse({setFilter:n,onDrag:e,onDragStart:t,onDragEnd:r,toggle:i,toggled:s,title:o,drag:a,filterEnabled:l,from:c}){const[u,f]=O.useState(!1),p=O.useRef(null);O.useEffect(()=>{var g,y;u?(g=p.current)===null||g===void 0||g.focus():(y=p.current)===null||y===void 0||y.blur()},[u]);const m=Mg(({offset:[g,y],first:_,last:v})=>{e({x:g,y}),_&&t({x:g,y}),v&&r({x:g,y})},{filterTaps:!0,from:({offset:[g,y]})=>[(c==null?void 0:c.x)||g,(c==null?void 0:c.y)||y]});return O.useEffect(()=>{const g=y=>{y.key==="L"&&y.shiftKey&&y.metaKey&&f(_=>!_)};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[]),q.createElement(q.Fragment,null,q.createElement(Sse,{mode:a?"drag":void 0},q.createElement(O_,{active:!s,onClick:()=>i()},q.createElement(QC,{toggled:s,width:12,height:8})),q.createElement(wse,mr({},a?m():{},{drag:a,filterEnabled:l}),o===void 0&&a?q.createElement("svg",{width:"20",height:"10",viewBox:"0 0 28 14",xmlns:"http://www.w3.org/2000/svg"},q.createElement("circle",{cx:"2",cy:"2",r:"2"}),q.createElement("circle",{cx:"14",cy:"2",r:"2"}),q.createElement("circle",{cx:"26",cy:"2",r:"2"}),q.createElement("circle",{cx:"2",cy:"12",r:"2"}),q.createElement("circle",{cx:"14",cy:"12",r:"2"}),q.createElement("circle",{cx:"26",cy:"12",r:"2"})):o),l&&q.createElement(O_,{active:u,onClick:()=>f(g=>!g)},q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 20 20"},q.createElement("path",{d:"M9 9a2 2 0 114 0 2 2 0 01-4 0z"}),q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z",clipRule:"evenodd"})))),q.createElement(bse,{toggled:u},q.createElement(Ese,{ref:p,setFilter:n,toggle:i})))}q.memo(({store:n,rootClass:e,fill:t=!1,flat:r=!1,neverHide:i=!1,oneLineLabels:s=!1,titleBar:o={title:void 0,drag:!0,filter:!0,position:void 0,onDrag:void 0,onDragStart:void 0,onDragEnd:void 0},hideCopyButton:a=!1,toggled:l,setToggle:c})=>{var u,f;const p=lie(n),[m,g]=O.useState(""),y=O.useMemo(()=>tse(p,m),[p,m]),[_,v]=O4(),x=i||p.length>0,b=typeof o=="object"&&o.title||void 0,A=typeof o=="object"&&(u=o.drag)!==null&&u!==void 0?u:!0,M=typeof o=="object"&&(f=o.filter)!==null&&f!==void 0?f:!0,E=typeof o=="object"&&o.position||void 0,R=typeof o=="object"&&o.onDrag||void 0,I=typeof o=="object"&&o.onDragStart||void 0,T=typeof o=="object"&&o.onDragEnd||void 0;return q.useEffect(()=>{v({x:E==null?void 0:E.x,y:E==null?void 0:E.y})},[E,v]),Kee(),q.createElement(A4.Provider,{value:{hideCopyButton:a}},q.createElement(xse,{ref:_,className:e,fill:t,flat:r,oneLineLabels:s,hideTitleBar:!o,style:{display:x?"block":"none"}},o&&q.createElement(Mse,{onDrag:P=>{v(P),R==null||R(P)},onDragStart:P=>I==null?void 0:I(P),onDragEnd:P=>T==null?void 0:T(P),setFilter:g,toggle:P=>c(B=>P??!B),toggled:l,title:b,drag:A,filterEnabled:M,from:E}),x&&q.createElement(b4.Provider,{value:n},q.createElement(p5,{isRoot:!0,fill:t,flat:r,tree:y,toggled:l}))))});sl(Eo.SELECT,Ote);sl(Eo.IMAGE,Hie);sl(Eo.NUMBER,Ste);sl(Eo.COLOR,_ie);sl(Eo.STRING,zte);sl(Eo.BOOLEAN,Xte);sl(Eo.INTERVAL,Jie);sl(Eo.VECTOR3D,Sie);sl(Eo.VECTOR2D,Rie);const Rg=new z,aR=new z,Tse=new z;function Cse(n,e,t){const r=Rg.setFromMatrixPosition(n.matrixWorld);r.project(e);const i=t.width/2,s=t.height/2;return[r.x*i+i,-(r.y*s)+s]}function Rse(n,e){const t=Rg.setFromMatrixPosition(n.matrixWorld),r=aR.setFromMatrixPosition(e.matrixWorld),i=t.sub(r),s=e.getWorldDirection(Tse);return i.angleTo(s)>Math.PI/2}function Pse(n,e,t,r){const i=Rg.setFromMatrixPosition(n.matrixWorld),s=i.clone();s.project(e),t.setFromCamera(s,e);const o=t.intersectObjects(r,!0);if(o.length){const a=o[0].distance;return i.distanceTo(t.ray.origin)<a}return!0}function Ose(n,e){if(e instanceof Xs)return e.zoom;if(e instanceof Sn){const t=Rg.setFromMatrixPosition(n.matrixWorld),r=aR.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=t.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function Lse(n,e,t){if(e instanceof Sn||e instanceof Xs){const r=Rg.setFromMatrixPosition(n.matrixWorld),i=aR.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),o=(t[1]-t[0])/(e.far-e.near),a=t[1]-o*e.far;return Math.round(o*s+a)}}const aM=n=>Math.abs(n)<1e-10?0:n;function g5(n,e,t=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=aM(e[i]*n.elements[i])+(i!==15?",":")");return t+r}const Ise=(n=>e=>g5(e,n))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),Bse=(n=>(e,t)=>g5(e,n(t),"translate(-50%,-50%)"))(n=>[1/n,1/n,1/n,1,-1/n,-1/n,-1/n,-1,1/n,1/n,1/n,1,1,1,1,1]);function Dse(n){return n&&typeof n=="object"&&"current"in n}const L_=O.forwardRef(({children:n,eps:e=.001,style:t,className:r,prepend:i,center:s,fullscreen:o,portal:a,distanceFactor:l,sprite:c=!1,transform:u=!1,occlude:f,onOcclude:p,castShadow:m,receiveShadow:g,material:y,geometry:_,zIndexRange:v=[16777271,0],calculatePosition:x=Cse,as:b="div",wrapperClass:A,pointerEvents:M="auto",...E},R)=>{const{gl:I,camera:T,scene:P,size:B,raycaster:U,events:j,viewport:N}=Go(),[G]=O.useState(()=>document.createElement(b)),V=O.useRef(),$=O.useRef(null),F=O.useRef(0),X=O.useRef([0,0]),Y=O.useRef(null),te=O.useRef(null),ee=(a==null?void 0:a.current)||j.connected||I.domElement.parentNode,J=O.useRef(null),ne=O.useRef(!1),ue=O.useMemo(()=>f&&f!=="blending"||Array.isArray(f)&&f.length&&Dse(f[0]),[f]);O.useLayoutEffect(()=>{const Fe=I.domElement;f&&f==="blending"?(Fe.style.zIndex=`${Math.floor(v[0]/2)}`,Fe.style.position="absolute",Fe.style.pointerEvents="none"):(Fe.style.zIndex=null,Fe.style.position=null,Fe.style.pointerEvents=null)},[f]),O.useLayoutEffect(()=>{if($.current){const Fe=V.current=QN(G);if(P.updateMatrixWorld(),u)G.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const Le=x($.current,T,B);G.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${Le[0]}px,${Le[1]}px,0);transform-origin:0 0;`}return ee&&(i?ee.prepend(G):ee.appendChild(G)),()=>{ee&&ee.removeChild(G),Fe.unmount()}}},[ee,u]),O.useLayoutEffect(()=>{A&&(G.className=A)},[A]);const Ae=O.useMemo(()=>u?{position:"absolute",top:0,left:0,width:B.width,height:B.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...o&&{top:-B.height/2,left:-B.width/2,width:B.width,height:B.height},...t},[t,s,o,B,u]),Re=O.useMemo(()=>({position:"absolute",pointerEvents:M}),[M]);O.useLayoutEffect(()=>{if(ne.current=!1,u){var Fe;(Fe=V.current)==null||Fe.render(O.createElement("div",{ref:Y,style:Ae},O.createElement("div",{ref:te,style:Re},O.createElement("div",{ref:R,className:r,style:t,children:n}))))}else{var Le;(Le=V.current)==null||Le.render(O.createElement("div",{ref:R,style:Ae,className:r,children:n}))}});const Qe=O.useRef(!0);Sg(Fe=>{if($.current){T.updateMatrixWorld(),$.current.updateWorldMatrix(!0,!1);const Le=u?X.current:x($.current,T,B);if(u||Math.abs(F.current-T.zoom)>e||Math.abs(X.current[0]-Le[0])>e||Math.abs(X.current[1]-Le[1])>e){const K=Rse($.current,T);let _e=!1;ue&&(Array.isArray(f)?_e=f.map(Xe=>Xe.current):f!=="blending"&&(_e=[P]));const me=Qe.current;if(_e){const Xe=Pse($.current,T,U,_e);Qe.current=Xe&&!K}else Qe.current=!K;me!==Qe.current&&(p?p(!Qe.current):G.style.display=Qe.current?"block":"none");const we=Math.floor(v[0]/2),ve=f?ue?[v[0],we]:[we-1,0]:v;if(G.style.zIndex=`${Lse($.current,T,ve)}`,u){const[Xe,Ue]=[B.width/2,B.height/2],k=T.projectionMatrix.elements[5]*Ue,{isOrthographicCamera:D,top:ie,left:Ee,bottom:oe,right:le}=T,ke=Ise(T.matrixWorldInverse),Te=D?`scale(${k})translate(${aM(-(le+Ee)/2)}px,${aM((ie+oe)/2)}px)`:`translateZ(${k}px)`;let Ie=$.current.matrixWorld;c&&(Ie=T.matrixWorldInverse.clone().transpose().copyPosition(Ie).scale($.current.scale),Ie.elements[3]=Ie.elements[7]=Ie.elements[11]=0,Ie.elements[15]=1),G.style.width=B.width+"px",G.style.height=B.height+"px",G.style.perspective=D?"":`${k}px`,Y.current&&te.current&&(Y.current.style.transform=`${Te}${ke}translate(${Xe}px,${Ue}px)`,te.current.style.transform=Bse(Ie,1/((l||10)/400)))}else{const Xe=l===void 0?1:Ose($.current,T)*l;G.style.transform=`translate3d(${Le[0]}px,${Le[1]}px,0) scale(${Xe})`}X.current=Le,F.current=T.zoom}}if(!ue&&J.current&&!ne.current)if(u){if(Y.current){const Le=Y.current.children[0];if(Le!=null&&Le.clientWidth&&Le!=null&&Le.clientHeight){const{isOrthographicCamera:K}=T;if(K||_)E.scale&&(Array.isArray(E.scale)?E.scale instanceof z?J.current.scale.copy(E.scale.clone().divideScalar(1)):J.current.scale.set(1/E.scale[0],1/E.scale[1],1/E.scale[2]):J.current.scale.setScalar(1/E.scale));else{const _e=(l||10)/400,me=Le.clientWidth*_e,we=Le.clientHeight*_e;J.current.scale.set(me,we,1)}ne.current=!0}}}else{const Le=G.children[0];if(Le!=null&&Le.clientWidth&&Le!=null&&Le.clientHeight){const K=1/N.factor,_e=Le.clientWidth*K,me=Le.clientHeight*K;J.current.scale.set(_e,me,1),ne.current=!0}J.current.lookAt(Fe.camera.position)}});const Ve=O.useMemo(()=>({vertexShader:u?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom" 
            is false. 
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;
            
            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[u]);return O.createElement("group",Oe({},E,{ref:$}),f&&!ue&&O.createElement("mesh",{castShadow:m,receiveShadow:g,ref:J},_||O.createElement("planeGeometry",null),y||O.createElement("shaderMaterial",{side:Ws,vertexShader:Ve.vertexShader,fragmentShader:Ve.fragmentShader})))});function kse(n,e="pointer",t="auto",r=document.body){O.useEffect(()=>{if(n)return r.style.cursor=e,()=>void(r.style.cursor=t)},[n])}function Nse(n){let e;const t=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const p=e;e=u?f:Object.assign({},e,f),t.forEach(m=>m(e,p))}},i=()=>e,s=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function m(){const g=u(e);if(!f(p,g)){const y=p;c(p=g,y)}}return t.add(m),()=>t.delete(m)},l={setState:r,getState:i,subscribe:(c,u,f)=>u||f?s(c,u,f):(t.add(c),()=>t.delete(c)),destroy:()=>t.clear()};return e=n(r,i,l),l}const Fse=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),nD=Fse?O.useEffect:O.useLayoutEffect;function Use(n){const e=typeof n=="function"?Nse(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=O.useReducer(_=>_+1,0),o=e.getState(),a=O.useRef(o),l=O.useRef(r),c=O.useRef(i),u=O.useRef(!1),f=O.useRef();f.current===void 0&&(f.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(p=r(o),m=!i(f.current,p)),nD(()=>{m&&(f.current=p),a.current=o,l.current=r,c.current=i,u.current=!1});const g=O.useRef(o);nD(()=>{const _=()=>{try{const x=e.getState(),b=l.current(x);c.current(f.current,b)||(a.current=x,f.current=b,s())}catch{u.current=!0,s()}},v=e.subscribe(_);return e.getState()!==g.current&&_(),v},[]);const y=m?p:f.current;return O.useDebugValue(y),y};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}let wp=0;const zse=Use(n=>(ld.onStart=(e,t,r)=>{n({active:!0,item:e,loaded:t,total:r,progress:(t-wp)/(r-wp)*100})},ld.onLoad=()=>{n({active:!1})},ld.onError=e=>n(t=>({errors:[...t.errors,e]})),ld.onProgress=(e,t,r)=>{t===r&&(wp=r),n({active:!0,item:e,loaded:t,total:r,progress:(t-wp)/(r-wp)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function Hse(n){return function(e){n.forEach(function(t){typeof t=="function"?t(e):t!=null&&(t.current=e)})}}function rD(n,e){if(e===WF)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===f_||e===ZT){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const r=t.count-2,i=[];if(t)if(e===f_)for(let o=1;o<=r;o++)i.push(t.getX(0)),i.push(t.getX(o)),i.push(t.getX(o+1));else for(let o=0;o<r;o++)o%2===0?(i.push(t.getX(o)),i.push(t.getX(o+1)),i.push(t.getX(o+2))):(i.push(t.getX(o+2)),i.push(t.getX(o+1)),i.push(t.getX(o)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}const v5=parseInt(og.replace(/\D+/g,""));var Gse=Object.defineProperty,Vse=(n,e,t)=>e in n?Gse(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,y5=(n,e,t)=>(Vse(n,typeof e!="symbol"?e+"":e,t),t);const Cy={uniforms:{turbidity:{value:2},rayleigh:{value:1},mieCoefficient:{value:.005},mieDirectionalG:{value:.8},sunPosition:{value:new z},up:{value:new z(0,1,0)}},vertexShader:`
      uniform vec3 sunPosition;
      uniform float rayleigh;
      uniform float turbidity;
      uniform float mieCoefficient;
      uniform vec3 up;

      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      // constants for atmospheric scattering
      const float e = 2.71828182845904523536028747135266249775724709369995957;
      const float pi = 3.141592653589793238462643383279502884197169;

      // wavelength of used primaries, according to preetham
      const vec3 lambda = vec3( 680E-9, 550E-9, 450E-9 );
      // this pre-calcuation replaces older TotalRayleigh(vec3 lambda) function:
      // (8.0 * pow(pi, 3.0) * pow(pow(n, 2.0) - 1.0, 2.0) * (6.0 + 3.0 * pn)) / (3.0 * N * pow(lambda, vec3(4.0)) * (6.0 - 7.0 * pn))
      const vec3 totalRayleigh = vec3( 5.804542996261093E-6, 1.3562911419845635E-5, 3.0265902468824876E-5 );

      // mie stuff
      // K coefficient for the primaries
      const float v = 4.0;
      const vec3 K = vec3( 0.686, 0.678, 0.666 );
      // MieConst = pi * pow( ( 2.0 * pi ) / lambda, vec3( v - 2.0 ) ) * K
      const vec3 MieConst = vec3( 1.8399918514433978E14, 2.7798023919660528E14, 4.0790479543861094E14 );

      // earth shadow hack
      // cutoffAngle = pi / 1.95;
      const float cutoffAngle = 1.6110731556870734;
      const float steepness = 1.5;
      const float EE = 1000.0;

      float sunIntensity( float zenithAngleCos ) {
        zenithAngleCos = clamp( zenithAngleCos, -1.0, 1.0 );
        return EE * max( 0.0, 1.0 - pow( e, -( ( cutoffAngle - acos( zenithAngleCos ) ) / steepness ) ) );
      }

      vec3 totalMie( float T ) {
        float c = ( 0.2 * T ) * 10E-18;
        return 0.434 * c * MieConst;
      }

      void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        gl_Position.z = gl_Position.w; // set z to camera.far

        vSunDirection = normalize( sunPosition );

        vSunE = sunIntensity( dot( vSunDirection, up ) );

        vSunfade = 1.0 - clamp( 1.0 - exp( ( sunPosition.y / 450000.0 ) ), 0.0, 1.0 );

        float rayleighCoefficient = rayleigh - ( 1.0 * ( 1.0 - vSunfade ) );

      // extinction (absorbtion + out scattering)
      // rayleigh coefficients
        vBetaR = totalRayleigh * rayleighCoefficient;

      // mie coefficients
        vBetaM = totalMie( turbidity ) * mieCoefficient;

      }
    `,fragmentShader:`
      varying vec3 vWorldPosition;
      varying vec3 vSunDirection;
      varying float vSunfade;
      varying vec3 vBetaR;
      varying vec3 vBetaM;
      varying float vSunE;

      uniform float mieDirectionalG;
      uniform vec3 up;

      const vec3 cameraPos = vec3( 0.0, 0.0, 0.0 );

      // constants for atmospheric scattering
      const float pi = 3.141592653589793238462643383279502884197169;

      const float n = 1.0003; // refractive index of air
      const float N = 2.545E25; // number of molecules per unit volume for air at 288.15K and 1013mb (sea level -45 celsius)

      // optical length at zenith for molecules
      const float rayleighZenithLength = 8.4E3;
      const float mieZenithLength = 1.25E3;
      // 66 arc seconds -> degrees, and the cosine of that
      const float sunAngularDiameterCos = 0.999956676946448443553574619906976478926848692873900859324;

      // 3.0 / ( 16.0 * pi )
      const float THREE_OVER_SIXTEENPI = 0.05968310365946075;
      // 1.0 / ( 4.0 * pi )
      const float ONE_OVER_FOURPI = 0.07957747154594767;

      float rayleighPhase( float cosTheta ) {
        return THREE_OVER_SIXTEENPI * ( 1.0 + pow( cosTheta, 2.0 ) );
      }

      float hgPhase( float cosTheta, float g ) {
        float g2 = pow( g, 2.0 );
        float inverse = 1.0 / pow( 1.0 - 2.0 * g * cosTheta + g2, 1.5 );
        return ONE_OVER_FOURPI * ( ( 1.0 - g2 ) * inverse );
      }

      void main() {

        vec3 direction = normalize( vWorldPosition - cameraPos );

      // optical length
      // cutoff angle at 90 to avoid singularity in next formula.
        float zenithAngle = acos( max( 0.0, dot( up, direction ) ) );
        float inverse = 1.0 / ( cos( zenithAngle ) + 0.15 * pow( 93.885 - ( ( zenithAngle * 180.0 ) / pi ), -1.253 ) );
        float sR = rayleighZenithLength * inverse;
        float sM = mieZenithLength * inverse;

      // combined extinction factor
        vec3 Fex = exp( -( vBetaR * sR + vBetaM * sM ) );

      // in scattering
        float cosTheta = dot( direction, vSunDirection );

        float rPhase = rayleighPhase( cosTheta * 0.5 + 0.5 );
        vec3 betaRTheta = vBetaR * rPhase;

        float mPhase = hgPhase( cosTheta, mieDirectionalG );
        vec3 betaMTheta = vBetaM * mPhase;

        vec3 Lin = pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * ( 1.0 - Fex ), vec3( 1.5 ) );
        Lin *= mix( vec3( 1.0 ), pow( vSunE * ( ( betaRTheta + betaMTheta ) / ( vBetaR + vBetaM ) ) * Fex, vec3( 1.0 / 2.0 ) ), clamp( pow( 1.0 - dot( up, vSunDirection ), 5.0 ), 0.0, 1.0 ) );

      // nightsky
        float theta = acos( direction.y ); // elevation --> y-axis, [-pi/2, pi/2]
        float phi = atan( direction.z, direction.x ); // azimuth --> x-axis [-pi/2, pi/2]
        vec2 uv = vec2( phi, theta ) / vec2( 2.0 * pi, pi ) + vec2( 0.5, 0.0 );
        vec3 L0 = vec3( 0.1 ) * Fex;

      // composition + solar disc
        float sundisk = smoothstep( sunAngularDiameterCos, sunAngularDiameterCos + 0.00002, cosTheta );
        L0 += ( vSunE * 19000.0 * Fex ) * sundisk;

        vec3 texColor = ( Lin + L0 ) * 0.04 + vec3( 0.0, 0.0003, 0.00075 );

        vec3 retColor = pow( texColor, vec3( 1.0 / ( 1.2 + ( 1.2 * vSunfade ) ) ) );

        gl_FragColor = vec4( retColor, 1.0 );

      #include <tonemapping_fragment>
      #include <${v5>=154?"colorspace_fragment":"encodings_fragment"}>

      }
    `},_5=new eo({name:"SkyShader",fragmentShader:Cy.fragmentShader,vertexShader:Cy.vertexShader,uniforms:aC.clone(Cy.uniforms),side:oi,depthWrite:!1});let lR=class extends or{constructor(){super(new vc(1,1,1),_5)}};y5(lR,"SkyShader",Cy);y5(lR,"material",_5);var Wse=Object.defineProperty,$se=(n,e,t)=>e in n?Wse(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,At=(n,e,t)=>($se(n,typeof e!="symbol"?e+"":e,t),t);const Jv=new Gu,iD=new Pa,jse=Math.cos(70*(Math.PI/180)),sD=(n,e)=>(n%e+e)%e;let Xse=class extends fa{constructor(e,t){super(),At(this,"object"),At(this,"domElement"),At(this,"enabled",!0),At(this,"target",new z),At(this,"minDistance",0),At(this,"maxDistance",1/0),At(this,"minZoom",0),At(this,"maxZoom",1/0),At(this,"minPolarAngle",0),At(this,"maxPolarAngle",Math.PI),At(this,"minAzimuthAngle",-1/0),At(this,"maxAzimuthAngle",1/0),At(this,"enableDamping",!1),At(this,"dampingFactor",.05),At(this,"enableZoom",!0),At(this,"zoomSpeed",1),At(this,"enableRotate",!0),At(this,"rotateSpeed",1),At(this,"enablePan",!0),At(this,"panSpeed",1),At(this,"screenSpacePanning",!0),At(this,"keyPanSpeed",7),At(this,"zoomToCursor",!1),At(this,"autoRotate",!1),At(this,"autoRotateSpeed",2),At(this,"reverseOrbit",!1),At(this,"reverseHorizontalOrbit",!1),At(this,"reverseVerticalOrbit",!1),At(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),At(this,"mouseButtons",{LEFT:Kc.ROTATE,MIDDLE:Kc.DOLLY,RIGHT:Kc.PAN}),At(this,"touches",{ONE:Yc.ROTATE,TWO:Yc.DOLLY_PAN}),At(this,"target0"),At(this,"position0"),At(this,"zoom0"),At(this,"_domElementKeyEvents",null),At(this,"getPolarAngle"),At(this,"getAzimuthalAngle"),At(this,"setPolarAngle"),At(this,"setAzimuthalAngle"),At(this,"getDistance"),At(this,"listenToKeyEvents"),At(this,"stopListenToKeyEvents"),At(this,"saveState"),At(this,"reset"),At(this,"update"),At(this,"connect"),At(this,"dispose"),this.object=e,this.domElement=t,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=Q=>{let Se=sD(Q,2*Math.PI),$e=u.phi;$e<0&&($e+=2*Math.PI),Se<0&&(Se+=2*Math.PI);let Ke=Math.abs(Se-$e);2*Math.PI-Ke<Ke&&(Se<$e?Se+=2*Math.PI:$e+=2*Math.PI),f.phi=Se-$e,r.update()},this.setAzimuthalAngle=Q=>{let Se=sD(Q,2*Math.PI),$e=u.theta;$e<0&&($e+=2*Math.PI),Se<0&&(Se+=2*Math.PI);let Ke=Math.abs(Se-$e);2*Math.PI-Ke<Ke&&(Se<$e?Se+=2*Math.PI:$e+=2*Math.PI),f.theta=Se-$e,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=Q=>{Q.addEventListener("keydown",Ze),this._domElementKeyEvents=Q},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ze),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=a.NONE},this.update=(()=>{const Q=new z,Se=new z(0,1,0),$e=new Br().setFromUnitVectors(e.up,Se),Ke=$e.clone().invert(),Ce=new z,Z=new Br,ze=2*Math.PI;return function(){const ht=r.object.position;$e.setFromUnitVectors(e.up,Se),Ke.copy($e).invert(),Q.copy(ht).sub(r.target),Q.applyQuaternion($e),u.setFromVector3(Q),r.autoRotate&&l===a.NONE&&N(U()),r.enableDamping?(u.theta+=f.theta*r.dampingFactor,u.phi+=f.phi*r.dampingFactor):(u.theta+=f.theta,u.phi+=f.phi);let nt=r.minAzimuthAngle,Bt=r.maxAzimuthAngle;isFinite(nt)&&isFinite(Bt)&&(nt<-Math.PI?nt+=ze:nt>Math.PI&&(nt-=ze),Bt<-Math.PI?Bt+=ze:Bt>Math.PI&&(Bt-=ze),nt<=Bt?u.theta=Math.max(nt,Math.min(Bt,u.theta)):u.theta=u.theta>(nt+Bt)/2?Math.max(nt,u.theta):Math.min(Bt,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),r.zoomToCursor&&T||r.object.isOrthographicCamera?u.radius=ee(u.radius):u.radius=ee(u.radius*p),Q.setFromSpherical(u),Q.applyQuaternion(Ke),ht.copy(r.target).add(Q),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),m.set(0,0,0));let Ut=!1;if(r.zoomToCursor&&T){let nn=null;if(r.object instanceof Sn&&r.object.isPerspectiveCamera){const dn=Q.length();nn=ee(dn*p);const Wt=dn-nn;r.object.position.addScaledVector(R,Wt),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const dn=new z(I.x,I.y,0);dn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix(),Ut=!0;const Wt=new z(I.x,I.y,0);Wt.unproject(r.object),r.object.position.sub(Wt).add(dn),r.object.updateMatrixWorld(),nn=Q.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;nn!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(nn).add(r.object.position):(Jv.origin.copy(r.object.position),Jv.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(Jv.direction))<jse?e.lookAt(r.target):(iD.setFromNormalAndCoplanarPoint(r.object.up,r.target),Jv.intersectPlane(iD,r.target))))}else r.object instanceof Xs&&r.object.isOrthographicCamera&&(Ut=p!==1,Ut&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/p)),r.object.updateProjectionMatrix()));return p=1,T=!1,Ut||Ce.distanceToSquared(r.object.position)>c||8*(1-Z.dot(r.object.quaternion))>c?(r.dispatchEvent(i),Ce.copy(r.object.position),Z.copy(r.object.quaternion),Ut=!1,!0):!1}})(),this.connect=Q=>{Q===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),r.domElement=Q,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Et),r.domElement.addEventListener("pointerdown",ie),r.domElement.addEventListener("pointercancel",le),r.domElement.addEventListener("wheel",Ie)},this.dispose=()=>{var Q,Se,$e,Ke,Ce,Z;(Q=r.domElement)==null||Q.removeEventListener("contextmenu",Et),(Se=r.domElement)==null||Se.removeEventListener("pointerdown",ie),($e=r.domElement)==null||$e.removeEventListener("pointercancel",le),(Ke=r.domElement)==null||Ke.removeEventListener("wheel",Ie),(Ce=r.domElement)==null||Ce.ownerDocument.removeEventListener("pointermove",Ee),(Z=r.domElement)==null||Z.ownerDocument.removeEventListener("pointerup",oe),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Ze)};const r=this,i={type:"change"},s={type:"start"},o={type:"end"},a={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=a.NONE;const c=1e-6,u=new LE,f=new LE;let p=1;const m=new z,g=new xe,y=new xe,_=new xe,v=new xe,x=new xe,b=new xe,A=new xe,M=new xe,E=new xe,R=new z,I=new xe;let T=!1;const P=[],B={};function U(){return 2*Math.PI/60/60*r.autoRotateSpeed}function j(){return Math.pow(.95,r.zoomSpeed)}function N(Q){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=Q:f.theta-=Q}function G(Q){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=Q:f.phi-=Q}const V=(()=>{const Q=new z;return function($e,Ke){Q.setFromMatrixColumn(Ke,0),Q.multiplyScalar(-$e),m.add(Q)}})(),$=(()=>{const Q=new z;return function($e,Ke){r.screenSpacePanning===!0?Q.setFromMatrixColumn(Ke,1):(Q.setFromMatrixColumn(Ke,0),Q.crossVectors(r.object.up,Q)),Q.multiplyScalar($e),m.add(Q)}})(),F=(()=>{const Q=new z;return function($e,Ke){const Ce=r.domElement;if(Ce&&r.object instanceof Sn&&r.object.isPerspectiveCamera){const Z=r.object.position;Q.copy(Z).sub(r.target);let ze=Q.length();ze*=Math.tan(r.object.fov/2*Math.PI/180),V(2*$e*ze/Ce.clientHeight,r.object.matrix),$(2*Ke*ze/Ce.clientHeight,r.object.matrix)}else Ce&&r.object instanceof Xs&&r.object.isOrthographicCamera?(V($e*(r.object.right-r.object.left)/r.object.zoom/Ce.clientWidth,r.object.matrix),$(Ke*(r.object.top-r.object.bottom)/r.object.zoom/Ce.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function X(Q){r.object instanceof Sn&&r.object.isPerspectiveCamera||r.object instanceof Xs&&r.object.isOrthographicCamera?p/=Q:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function Y(Q){r.object instanceof Sn&&r.object.isPerspectiveCamera||r.object instanceof Xs&&r.object.isOrthographicCamera?p*=Q:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function te(Q){if(!r.zoomToCursor||!r.domElement)return;T=!0;const Se=r.domElement.getBoundingClientRect(),$e=Q.clientX-Se.left,Ke=Q.clientY-Se.top,Ce=Se.width,Z=Se.height;I.x=$e/Ce*2-1,I.y=-(Ke/Z)*2+1,R.set(I.x,I.y,1).unproject(r.object).sub(r.object.position).normalize()}function ee(Q){return Math.max(r.minDistance,Math.min(r.maxDistance,Q))}function J(Q){g.set(Q.clientX,Q.clientY)}function ne(Q){te(Q),A.set(Q.clientX,Q.clientY)}function ue(Q){v.set(Q.clientX,Q.clientY)}function Ae(Q){y.set(Q.clientX,Q.clientY),_.subVectors(y,g).multiplyScalar(r.rotateSpeed);const Se=r.domElement;Se&&(N(2*Math.PI*_.x/Se.clientHeight),G(2*Math.PI*_.y/Se.clientHeight)),g.copy(y),r.update()}function Re(Q){M.set(Q.clientX,Q.clientY),E.subVectors(M,A),E.y>0?X(j()):E.y<0&&Y(j()),A.copy(M),r.update()}function Qe(Q){x.set(Q.clientX,Q.clientY),b.subVectors(x,v).multiplyScalar(r.panSpeed),F(b.x,b.y),v.copy(x),r.update()}function Ve(Q){te(Q),Q.deltaY<0?Y(j()):Q.deltaY>0&&X(j()),r.update()}function Fe(Q){let Se=!1;switch(Q.code){case r.keys.UP:F(0,r.keyPanSpeed),Se=!0;break;case r.keys.BOTTOM:F(0,-r.keyPanSpeed),Se=!0;break;case r.keys.LEFT:F(r.keyPanSpeed,0),Se=!0;break;case r.keys.RIGHT:F(-r.keyPanSpeed,0),Se=!0;break}Se&&(Q.preventDefault(),r.update())}function Le(){if(P.length==1)g.set(P[0].pageX,P[0].pageY);else{const Q=.5*(P[0].pageX+P[1].pageX),Se=.5*(P[0].pageY+P[1].pageY);g.set(Q,Se)}}function K(){if(P.length==1)v.set(P[0].pageX,P[0].pageY);else{const Q=.5*(P[0].pageX+P[1].pageX),Se=.5*(P[0].pageY+P[1].pageY);v.set(Q,Se)}}function _e(){const Q=P[0].pageX-P[1].pageX,Se=P[0].pageY-P[1].pageY,$e=Math.sqrt(Q*Q+Se*Se);A.set(0,$e)}function me(){r.enableZoom&&_e(),r.enablePan&&K()}function we(){r.enableZoom&&_e(),r.enableRotate&&Le()}function ve(Q){if(P.length==1)y.set(Q.pageX,Q.pageY);else{const $e=He(Q),Ke=.5*(Q.pageX+$e.x),Ce=.5*(Q.pageY+$e.y);y.set(Ke,Ce)}_.subVectors(y,g).multiplyScalar(r.rotateSpeed);const Se=r.domElement;Se&&(N(2*Math.PI*_.x/Se.clientHeight),G(2*Math.PI*_.y/Se.clientHeight)),g.copy(y)}function Xe(Q){if(P.length==1)x.set(Q.pageX,Q.pageY);else{const Se=He(Q),$e=.5*(Q.pageX+Se.x),Ke=.5*(Q.pageY+Se.y);x.set($e,Ke)}b.subVectors(x,v).multiplyScalar(r.panSpeed),F(b.x,b.y),v.copy(x)}function Ue(Q){const Se=He(Q),$e=Q.pageX-Se.x,Ke=Q.pageY-Se.y,Ce=Math.sqrt($e*$e+Ke*Ke);M.set(0,Ce),E.set(0,Math.pow(M.y/A.y,r.zoomSpeed)),X(E.y),A.copy(M)}function k(Q){r.enableZoom&&Ue(Q),r.enablePan&&Xe(Q)}function D(Q){r.enableZoom&&Ue(Q),r.enableRotate&&ve(Q)}function ie(Q){var Se,$e;r.enabled!==!1&&(P.length===0&&((Se=r.domElement)==null||Se.ownerDocument.addEventListener("pointermove",Ee),($e=r.domElement)==null||$e.ownerDocument.addEventListener("pointerup",oe)),pt(Q),Q.pointerType==="touch"?Pe(Q):ke(Q))}function Ee(Q){r.enabled!==!1&&(Q.pointerType==="touch"?be(Q):Te(Q))}function oe(Q){var Se,$e,Ke;dt(Q),P.length===0&&((Se=r.domElement)==null||Se.releasePointerCapture(Q.pointerId),($e=r.domElement)==null||$e.ownerDocument.removeEventListener("pointermove",Ee),(Ke=r.domElement)==null||Ke.ownerDocument.removeEventListener("pointerup",oe)),r.dispatchEvent(o),l=a.NONE}function le(Q){dt(Q)}function ke(Q){let Se;switch(Q.button){case 0:Se=r.mouseButtons.LEFT;break;case 1:Se=r.mouseButtons.MIDDLE;break;case 2:Se=r.mouseButtons.RIGHT;break;default:Se=-1}switch(Se){case Kc.DOLLY:if(r.enableZoom===!1)return;ne(Q),l=a.DOLLY;break;case Kc.ROTATE:if(Q.ctrlKey||Q.metaKey||Q.shiftKey){if(r.enablePan===!1)return;ue(Q),l=a.PAN}else{if(r.enableRotate===!1)return;J(Q),l=a.ROTATE}break;case Kc.PAN:if(Q.ctrlKey||Q.metaKey||Q.shiftKey){if(r.enableRotate===!1)return;J(Q),l=a.ROTATE}else{if(r.enablePan===!1)return;ue(Q),l=a.PAN}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function Te(Q){if(r.enabled!==!1)switch(l){case a.ROTATE:if(r.enableRotate===!1)return;Ae(Q);break;case a.DOLLY:if(r.enableZoom===!1)return;Re(Q);break;case a.PAN:if(r.enablePan===!1)return;Qe(Q);break}}function Ie(Q){r.enabled===!1||r.enableZoom===!1||l!==a.NONE&&l!==a.ROTATE||(Q.preventDefault(),r.dispatchEvent(s),Ve(Q),r.dispatchEvent(o))}function Ze(Q){r.enabled===!1||r.enablePan===!1||Fe(Q)}function Pe(Q){switch(ot(Q),P.length){case 1:switch(r.touches.ONE){case Yc.ROTATE:if(r.enableRotate===!1)return;Le(),l=a.TOUCH_ROTATE;break;case Yc.PAN:if(r.enablePan===!1)return;K(),l=a.TOUCH_PAN;break;default:l=a.NONE}break;case 2:switch(r.touches.TWO){case Yc.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;me(),l=a.TOUCH_DOLLY_PAN;break;case Yc.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;we(),l=a.TOUCH_DOLLY_ROTATE;break;default:l=a.NONE}break;default:l=a.NONE}l!==a.NONE&&r.dispatchEvent(s)}function be(Q){switch(ot(Q),l){case a.TOUCH_ROTATE:if(r.enableRotate===!1)return;ve(Q),r.update();break;case a.TOUCH_PAN:if(r.enablePan===!1)return;Xe(Q),r.update();break;case a.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;k(Q),r.update();break;case a.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;D(Q),r.update();break;default:l=a.NONE}}function Et(Q){r.enabled!==!1&&Q.preventDefault()}function pt(Q){P.push(Q)}function dt(Q){delete B[Q.pointerId];for(let Se=0;Se<P.length;Se++)if(P[Se].pointerId==Q.pointerId){P.splice(Se,1);return}}function ot(Q){let Se=B[Q.pointerId];Se===void 0&&(Se=new xe,B[Q.pointerId]=Se),Se.set(Q.pageX,Q.pageY)}function He(Q){const Se=Q.pointerId===P[0].pointerId?P[1]:P[0];return B[Se.pointerId]}t!==void 0&&this.connect(t),this.update()}};class cR extends di{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Qse(t)}),this.register(function(t){return new ooe(t)}),this.register(function(t){return new aoe(t)}),this.register(function(t){return new loe(t)}),this.register(function(t){return new eoe(t)}),this.register(function(t){return new toe(t)}),this.register(function(t){return new noe(t)}),this.register(function(t){return new roe(t)}),this.register(function(t){return new qse(t)}),this.register(function(t){return new ioe(t)}),this.register(function(t){return new Zse(t)}),this.register(function(t){return new soe(t)}),this.register(function(t){return new Yse(t)}),this.register(function(t){return new coe(t)}),this.register(function(t){return new uoe(t)})}load(e,t,r,i){const s=this;let o;this.resourcePath!==""?o=this.resourcePath:this.path!==""?o=this.path:o=ta.extractUrlBase(e),this.manager.itemStart(e);const a=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new ys(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},r,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,r,i){let s;const o={},a={};if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(ta.decodeText(new Uint8Array(e.slice(0,4)))===x5){try{o[$t.KHR_BINARY_GLTF]=new foe(e)}catch(u){i&&i(u);return}s=JSON.parse(o[$t.KHR_BINARY_GLTF].content)}else s=JSON.parse(ta.decodeText(new Uint8Array(e)));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const l=new woe(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});l.fileLoader.setRequestHeader(this.requestHeader);for(let c=0;c<this.pluginCallbacks.length;c++){const u=this.pluginCallbacks[c](l);a[u.name]=u,o[u.name]=!0}if(s.extensionsUsed)for(let c=0;c<s.extensionsUsed.length;++c){const u=s.extensionsUsed[c],f=s.extensionsRequired||[];switch(u){case $t.KHR_MATERIALS_UNLIT:o[u]=new Jse;break;case $t.KHR_DRACO_MESH_COMPRESSION:o[u]=new doe(s,this.dracoLoader);break;case $t.KHR_TEXTURE_TRANSFORM:o[u]=new hoe;break;case $t.KHR_MESH_QUANTIZATION:o[u]=new poe;break;default:f.indexOf(u)>=0&&a[u]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+u+'".')}}l.setExtensions(o),l.setPlugins(a),l.parse(r,i)}parseAsync(e,t){const r=this;return new Promise(function(i,s){r.parse(e,t,i,s)})}}function Kse(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const $t={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Yse{constructor(e){this.parser=e,this.name=$t.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let r=0,i=t.length;r<i;r++){const s=t[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,r="light:"+e;let i=t.cache.get(r);if(i)return i;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new De(16777215);l.color!==void 0&&u.fromArray(l.color);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new LC(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new OC(u),c.distance=f;break;case"spot":c=new PC(u),c.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),c.decay=2,Rl(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),t.cache.add(r,i),i}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,r=this.parser,s=r.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return r._getNodeRef(t.cache,a,l)})}}class Jse{constructor(){this.name=$t.KHR_MATERIALS_UNLIT}getMaterialType(){return us}extendParams(e,t,r){const i=[];e.color=new De(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.fromArray(o),e.opacity=o[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,3001))}return Promise.all(i)}}class qse{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class Qse{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:da}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new xe(a,a)}return Promise.all(s)}}class Zse{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:da}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class eoe{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:da}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new De(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=i.extensions[this.name];return o.sheenColorFactor!==void 0&&t.sheenColor.fromArray(o.sheenColorFactor),o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(r.assignTexture(t,"sheenColorMap",o.sheenColorTexture,3001)),o.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class toe{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:da}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(r.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class noe{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:da}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(r.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new De(a[0],a[1],a[2]),Promise.all(s)}}class roe{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:da}extendMaterialParams(e,t){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class ioe{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:da}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(r.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new De(a[0],a[1],a[2]),o.specularColorTexture!==void 0&&s.push(r.assignTexture(t,"specularColorMap",o.specularColorTexture,3001)),Promise.all(s)}}class soe{constructor(e){this.parser=e,this.name=$t.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:da}extendMaterialParams(e,t){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],o=i.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(r.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class ooe{constructor(e){this.parser=e,this.name=$t.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,r=t.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class aoe{constructor(e){this.parser=e,this.name=$t.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class loe{constructor(e){this.parser=e,this.name=$t.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=i.images[o.source];let l=r.textureLoader;if(a.uri){const c=r.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return r.loadTextureImage(e,o.source,l);if(i.extensionsRequired&&i.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return r.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class coe{constructor(e){this.name=$t.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,f=i.byteStride,p=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,f,p,i.mode,i.filter).then(function(m){return m.buffer}):o.ready.then(function(){const m=new ArrayBuffer(u*f);return o.decodeGltfBuffer(new Uint8Array(m),u,f,p,i.mode,i.filter),m})})}else return null}}class uoe{constructor(e){this.name=$t.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,r=t.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=t.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==Ns.TRIANGLES&&c.mode!==Ns.TRIANGLE_STRIP&&c.mode!==Ns.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=r.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),f=u.isGroup?u.children:[u],p=c[0].count,m=[];for(const g of f){const y=new vt,_=new z,v=new Br,x=new z(1,1,1),b=new mC(g.geometry,g.material,p);for(let A=0;A<p;A++)l.TRANSLATION&&_.fromBufferAttribute(l.TRANSLATION,A),l.ROTATION&&v.fromBufferAttribute(l.ROTATION,A),l.SCALE&&x.fromBufferAttribute(l.SCALE,A),b.setMatrixAt(A,y.compose(_,v,x));for(const A in l)A!=="TRANSLATION"&&A!=="ROTATION"&&A!=="SCALE"&&g.geometry.setAttribute(A,l[A]);Kt.prototype.copy.call(b,g),this.parser.assignFinalMaterial(b),m.push(b)}return u.isGroup?(u.clear(),u.add(...m),u):m[0]}))}}const x5="glTF",Ep=12,oD={JSON:1313821514,BIN:5130562};class foe{constructor(e){this.name=$t.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Ep);if(this.header={magic:ta.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==x5)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Ep,i=new DataView(e,Ep);let s=0;for(;s<r;){const o=i.getUint32(s,!0);s+=4;const a=i.getUint32(s,!0);if(s+=4,a===oD.JSON){const l=new Uint8Array(e,Ep+s,o);this.content=ta.decodeText(l)}else if(a===oD.BIN){const l=Ep+s;this.body=e.slice(l,l+o)}s+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class doe{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=$t.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const f=lM[u]||u.toLowerCase();a[f]=o[u]}for(const u in e.attributes){const f=lM[u]||u.toLowerCase();if(o[u]!==void 0){const p=r.accessors[e.attributes[u]],m=Ed[p.componentType];c[f]=m.name,l[f]=p.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(f){i.decodeDracoFile(u,function(p){for(const m in p.attributes){const g=p.attributes[m],y=l[m];y!==void 0&&(g.normalized=y)}f(p)},a,c)})})}}class hoe{constructor(){this.name=$t.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class poe{constructor(){this.name=$t.KHR_MESH_QUANTIZATION}}class S5 extends Ah{constructor(e,t,r,i){super(e,t,r,i)}copySampleValue_(e){const t=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let o=0;o!==i;o++)t[o]=r[s+o];return t}interpolate_(e,t,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=i-t,f=(r-t)/u,p=f*f,m=p*f,g=e*c,y=g-c,_=-2*m+3*p,v=m-p,x=1-_,b=v-p+f;for(let A=0;A!==a;A++){const M=o[y+A+a],E=o[y+A+l]*u,R=o[g+A+a],I=o[g+A]*u;s[A]=x*M+b*E+_*R+v*I}return s}}const moe=new Br;class goe extends S5{interpolate_(e,t,r,i){const s=super.interpolate_(e,t,r,i);return moe.fromArray(s).normalize().toArray(s),s}}const Ns={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Ed={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},aD={9728:Jn,9729:Nn,9984:wm,9985:wx,9986:Sd,9987:oa},lD={33071:Vr,33648:zd,10497:Tn},xA={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},lM={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...v5>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},El={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},voe={CUBICSPLINE:void 0,LINEAR:Pu,STEP:Gd},SA={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function yoe(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new yg({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:sa})),n.DefaultMaterial}function Vc(n,e,t){for(const r in t.extensions)n[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=t.extensions[r])}function Rl(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function _oe(n,e,t){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const f=e[c];if(f.POSITION!==void 0&&(r=!0),f.NORMAL!==void 0&&(i=!0),f.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const f=e[c];if(r){const p=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;o.push(p)}if(i){const p=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;a.push(p)}if(s){const p=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;l.push(p)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],f=c[1],p=c[2];return r&&(n.morphAttributes.position=u),i&&(n.morphAttributes.normal=f),s&&(n.morphAttributes.color=p),n.morphTargetsRelative=!0,n})}function xoe(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,r=e.weights.length;t<r;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let r=0,i=t.length;r<i;r++)n.morphTargetDictionary[t[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Soe(n){let e;const t=n.extensions&&n.extensions[$t.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+bA(t.attributes):e=n.indices+":"+bA(n.attributes)+":"+n.mode,n.targets!==void 0)for(let r=0,i=n.targets.length;r<i;r++)e+=":"+bA(n.targets[r]);return e}function bA(n){let e="";const t=Object.keys(n).sort();for(let r=0,i=t.length;r<i;r++)e+=t[r]+":"+n[t[r]]+";";return e}function cM(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function boe(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Aoe=new vt;class woe{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Kse,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=!1,s=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(r=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,i=navigator.userAgent.indexOf("Firefox")>-1,s=i?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||r||i&&s<98?this.textureLoader=new _g(this.options.manager):this.textureLoader=new qU(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new ys(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(o){const a={scene:o[0][i.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:i.asset,parser:r,userData:{}};Vc(s,a,i),Rl(a,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=t.length;i<s;i++){const o=t[i].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const o=e[i];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(r[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,r){if(e.refs[t]<=1)return r;const i=r.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(r,i),i.name+="_instance_"+e.uses[t]++,i}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let r=0;r<t.length;r++){const i=e(t[r]);if(i)return i}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const r=[];for(let i=0;i<t.length;i++){const s=e(t[i]);s&&r.push(s)}return r}getDependency(e,t){const r=e+":"+t;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(t);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":i=this.loadAccessor(t);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":i=this.loadBuffer(t);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":i=this.loadSkin(t);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":i=this.loadCamera(t);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let t=this.cache.get(e);if(!t){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(i.map(function(s,o){return r.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],r=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[$t.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,o){r.load(ta.resolveURL(t.uri,i.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(r){const i=t.byteLength||0,s=t.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const t=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const o=xA[i.type],a=Ed[i.componentType],l=i.normalized===!0,c=new a(i.count*o);return Promise.resolve(new Yt(c,o,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=xA[i.type],c=Ed[i.componentType],u=c.BYTES_PER_ELEMENT,f=u*l,p=i.byteOffset||0,m=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,g=i.normalized===!0;let y,_;if(m&&m!==f){const v=Math.floor(p/m),x="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+v+":"+i.count;let b=t.cache.get(x);b||(y=new c(a,v*m,i.count*m/u),b=new hg(y,m/u),t.cache.add(x,b)),_=new rc(b,l,p%m/u,g)}else a===null?y=new c(i.count*l):y=new c(a,p,i.count*l),_=new Yt(y,l,g);if(i.sparse!==void 0){const v=xA.SCALAR,x=Ed[i.sparse.indices.componentType],b=i.sparse.indices.byteOffset||0,A=i.sparse.values.byteOffset||0,M=new x(o[1],b,i.sparse.count*v),E=new c(o[2],A,i.sparse.count*l);a!==null&&(_=new Yt(_.array.slice(),_.itemSize,_.normalized));for(let R=0,I=M.length;R<I;R++){const T=M[R];if(_.setX(T,E[R*l]),l>=2&&_.setY(T,E[R*l+1]),l>=3&&_.setZ(T,E[R*l+2]),l>=4&&_.setW(T,E[R*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return _})}loadTexture(e){const t=this.json,r=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=r.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,r){const i=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,r).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const p=(s.samplers||{})[o.sampler]||{};return u.magFilter=aD[p.magFilter]||Nn,u.minFilter=aD[p.minFilter]||oa,u.wrapS=lD[p.wrapS]||Tn,u.wrapT=lD[p.wrapT]||Tn,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=i.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=r.getDependency("bufferView",o.bufferView).then(function(f){c=!0;const p=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(p),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(f){return new Promise(function(p,m){let g=p;t.isImageBitmapLoader===!0&&(g=function(y){const _=new Rn(y);_.needsUpdate=!0,p(_)}),t.load(ta.resolveURL(f,s.path),g,void 0,m)})}).then(function(f){return c===!0&&a.revokeObjectURL(l),f.userData.mimeType=o.mimeType||boe(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=u,u}assignTexture(e,t,r,i){const s=this;return this.getDependency("texture",r.index).then(function(o){if(!o)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(o=o.clone(),o.channel=r.texCoord),s.extensions[$t.KHR_TEXTURE_TRANSFORM]){const a=r.extensions!==void 0?r.extensions[$t.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[$t.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return i!==void 0&&("colorSpace"in o?o.colorSpace=i===3001?"srgb":"srgb-linear":o.encoding=i),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let r=e.material;const i=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new Ix,pr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(a,l)),r=l}else if(e.isLine){const a="LineBasicMaterial:"+r.uuid;let l=this.cache.get(a);l||(l=new fi,pr.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(a,l)),r=l}if(i||s||o){let a="ClonedMaterial:"+r.uuid+":";i&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=r.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return yg}loadMaterial(e){const t=this,r=this.json,i=this.extensions,s=r.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[$t.KHR_MATERIALS_UNLIT]){const f=i[$t.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),c.push(f.extendParams(a,s,t))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new De(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const p=f.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}f.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",f.baseColorTexture,3001)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(p){return p.getMaterialType&&p.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(p){return p.extendMaterialParams&&p.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Ws);const u=s.alphaMode||SA.OPAQUE;if(u===SA.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===SA.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==us&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new xe(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}return s.occlusionTexture!==void 0&&o!==us&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==us&&(a.emissive=new De().fromArray(s.emissiveFactor)),s.emissiveTexture!==void 0&&o!==us&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,3001)),Promise.all(c).then(function(){const f=new o(a);return s.name&&(f.name=s.name),Rl(f,s),t.associations.set(f,{materials:e}),s.extensions&&Vc(i,f,s),f})}createUniqueName(e){const t=Xt.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,r=this.extensions,i=this.primitiveCache;function s(a){return r[$t.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return cD(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=Soe(c),f=i[u];if(f)o.push(f.promise);else{let p;c.extensions&&c.extensions[$t.KHR_DRACO_MESH_COMPRESSION]?p=s(c):p=cD(new Ot,c,t),i[u]={primitive:c,promise:p},o.push(p)}}return Promise.all(o)}loadMesh(e){const t=this,r=this.json,i=this.extensions,s=r.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?yoe(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],f=[];for(let m=0,g=u.length;m<g;m++){const y=u[m],_=o[m];let v;const x=c[m];if(_.mode===Ns.TRIANGLES||_.mode===Ns.TRIANGLE_STRIP||_.mode===Ns.TRIANGLE_FAN||_.mode===void 0)v=s.isSkinnedMesh===!0?new pC(y,x):new or(y,x),v.isSkinnedMesh===!0&&v.normalizeSkinWeights(),_.mode===Ns.TRIANGLE_STRIP?v.geometry=rD(v.geometry,ZT):_.mode===Ns.TRIANGLE_FAN&&(v.geometry=rD(v.geometry,f_));else if(_.mode===Ns.LINES)v=new Mo(y,x);else if(_.mode===Ns.LINE_STRIP)v=new Ya(y,x);else if(_.mode===Ns.LINE_LOOP)v=new gC(y,x);else if(_.mode===Ns.POINTS)v=new vC(y,x);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+_.mode);Object.keys(v.geometry.morphAttributes).length>0&&xoe(v,s),v.name=t.createUniqueName(s.name||"mesh_"+e),Rl(v,s),_.extensions&&Vc(i,v,_),t.assignFinalMaterial(v),f.push(v)}for(let m=0,g=f.length;m<g;m++)t.associations.set(f[m],{meshes:e,primitives:m});if(f.length===1)return s.extensions&&Vc(i,f[0],s),f[0];const p=new Fa;s.extensions&&Vc(i,p,s),t.associations.set(p,{meshes:e});for(let m=0,g=f.length;m<g;m++)p.add(f[m]);return p})}loadCamera(e){let t;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?t=new Sn(tU.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(t=new Xs(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),Rl(t,r),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],r=[];for(let i=0,s=t.joints.length;i<s;i++)r.push(this._loadNodeShallow(t.joints[i]));return t.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",t.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),o=i,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const f=o[c];if(f){a.push(f);const p=new vt;s!==null&&p.fromArray(s.array,c*16),l.push(p)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new pg(a,l)})}loadAnimation(e){const r=this.json.animations[e],i=r.name?r.name:"animation_"+e,s=[],o=[],a=[],l=[],c=[];for(let u=0,f=r.channels.length;u<f;u++){const p=r.channels[u],m=r.samplers[p.sampler],g=p.target,y=g.node,_=r.parameters!==void 0?r.parameters[m.input]:m.input,v=r.parameters!==void 0?r.parameters[m.output]:m.output;g.node!==void 0&&(s.push(this.getDependency("node",y)),o.push(this.getDependency("accessor",_)),a.push(this.getDependency("accessor",v)),l.push(m),c.push(g))}return Promise.all([Promise.all(s),Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c)]).then(function(u){const f=u[0],p=u[1],m=u[2],g=u[3],y=u[4],_=[];for(let v=0,x=f.length;v<x;v++){const b=f[v],A=p[v],M=m[v],E=g[v],R=y[v];if(b===void 0)continue;b.updateMatrix();let I;switch(El[R.path]){case El.weights:I=Xd;break;case El.rotation:I=ic;break;case El.position:case El.scale:default:I=Kd;break}const T=b.name?b.name:b.uuid,P=E.interpolation!==void 0?voe[E.interpolation]:Pu,B=[];El[R.path]===El.weights?b.traverse(function(j){j.morphTargetInfluences&&B.push(j.name?j.name:j.uuid)}):B.push(T);let U=M.array;if(M.normalized){const j=cM(U.constructor),N=new Float32Array(U.length);for(let G=0,V=U.length;G<V;G++)N[G]=U[G]*j;U=N}for(let j=0,N=B.length;j<N;j++){const G=new I(B[j]+"."+El[R.path],A.array,U,P);E.interpolation==="CUBICSPLINE"&&(G.createInterpolant=function($){const F=this instanceof ic?goe:S5;return new F(this.times,this.values,this.getValueSize()/3,$)},G.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),_.push(G)}}return new Yd(i,void 0,_)})}createNodeMesh(e){const t=this.json,r=this,i=t.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const o=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=i.weights.length;l<c;l++)a.morphTargetInfluences[l]=i.weights[l]}),o})}loadNode(e){const t=this.json,r=this,i=t.nodes[e],s=r._loadNodeShallow(e),o=[],a=i.children||[];for(let c=0,u=a.length;c<u;c++)o.push(r.getDependency("node",a[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],f=c[1],p=c[2];p!==null&&u.traverse(function(m){m.isSkinnedMesh&&m.bind(p,Aoe)});for(let m=0,g=f.length;m<g;m++)u.add(f[m]);return u})}_loadNodeShallow(e){const t=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?i.createUniqueName(s.name):"",a=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new Lx:c.length>1?u=new Fa:c.length===1?u=c[0]:u=new Kt,u!==c[0])for(let f=0,p=c.length;f<p;f++)u.add(c[f]);if(s.name&&(u.userData.name=s.name,u.name=o),Rl(u,s),s.extensions&&Vc(r,u,s),s.matrix!==void 0){const f=new vt;f.fromArray(s.matrix),u.applyMatrix4(f)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return i.associations.has(u)||i.associations.set(u,{}),i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,r=this.json.scenes[e],i=this,s=new Fa;r.name&&(s.name=i.createUniqueName(r.name)),Rl(s,r),r.extensions&&Vc(t,s,r);const o=r.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(i.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,f=l.length;u<f;u++)s.add(l[u]);const c=u=>{const f=new Map;for(const[p,m]of i.associations)(p instanceof pr||p instanceof Rn)&&f.set(p,m);return u.traverse(p=>{const m=i.associations.get(p);m!=null&&f.set(p,m)}),f};return i.associations=c(s),s})}}function Eoe(n,e,t){const r=e.attributes,i=new ai;if(r.POSITION!==void 0){const a=t.json.accessors[r.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(i.set(new z(l[0],l[1],l[2]),new z(c[0],c[1],c[2])),a.normalized){const u=cM(Ed[a.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new z,l=new z;for(let c=0,u=s.length;c<u;c++){const f=s[c];if(f.POSITION!==void 0){const p=t.json.accessors[f.POSITION],m=p.min,g=p.max;if(m!==void 0&&g!==void 0){if(l.setX(Math.max(Math.abs(m[0]),Math.abs(g[0]))),l.setY(Math.max(Math.abs(m[1]),Math.abs(g[1]))),l.setZ(Math.max(Math.abs(m[2]),Math.abs(g[2]))),p.normalized){const y=cM(Ed[p.componentType]);l.multiplyScalar(y)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(a)}n.boundingBox=i;const o=new $r;i.getCenter(o.center),o.radius=i.min.distanceTo(i.max)/2,n.boundingSphere=o}function cD(n,e,t){const r=e.attributes,i=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in r){const a=lM[o]||o.toLowerCase();a in n.attributes||i.push(s(r[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});i.push(o)}return Rl(n,e),Eoe(n,e,t),Promise.all(i).then(function(){return e.targets!==void 0?_oe(n,e.targets,t):n})}const AA=new WeakMap;class Moe extends di{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,i){const s=new ys(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{const a={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(o,a).then(t).catch(i)},r,i)}decodeDracoFile(e,t,r,i){const s={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:i||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,s).then(t)}decodeGeometry(e,t){for(const l in t.attributeTypes){const c=t.attributeTypes[l];c.BYTES_PER_ELEMENT!==void 0&&(t.attributeTypes[l]=c.name)}const r=JSON.stringify(t);if(AA.has(e)){const l=AA.get(e);if(l.key===r)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let i;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(i=l,new Promise((c,u)=>{i._callbacks[s]={resolve:c,reject:u},i.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{i&&s&&this._releaseTask(i,s)}),AA.set(e,{key:r,promise:a}),a}_createGeometry(e){const t=new Ot;e.index&&t.setIndex(new Yt(e.index.array,1));for(let r=0;r<e.attributes.length;r++){const i=e.attributes[r],s=i.name,o=i.array,a=i.itemSize;t.setAttribute(s,new Yt(o,a))}return t}_loadLibrary(e,t){const r=new ys(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((i,s)=>{r.load(e,i,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{const i=r[0];e||(this.decoderConfig.wasmBinary=r[1]);const s=Toe.toString(),o=["/* draco decoder */",i,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const i=new Worker(this.workerSourceURL);i._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(s){const o=s.data;switch(o.type){case"decode":i._callbacks[o.id].resolve(o);break;case"error":i._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(i)}else this.workerPool.sort(function(i,s){return i._taskLoad>s._taskLoad?-1:1});const r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}function Toe(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(f){u({draco:f})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const f=u.draco,p=new f.Decoder,m=new f.DecoderBuffer;m.Init(new Int8Array(l),l.byteLength);try{const g=t(f,p,m,c),y=g.attributes.map(_=>_.array.buffer);g.index&&y.push(g.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:g},y)}catch(g){console.error(g),self.postMessage({type:"error",id:a.id,error:g.message})}finally{f.destroy(m),f.destroy(p)}});break}};function t(o,a,l,c){const u=c.attributeIDs,f=c.attributeTypes;let p,m;const g=a.GetEncodedGeometryType(l);if(g===o.TRIANGULAR_MESH)p=new o.Mesh,m=a.DecodeBufferToMesh(l,p);else if(g===o.POINT_CLOUD)p=new o.PointCloud,m=a.DecodeBufferToPointCloud(l,p);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!m.ok()||p.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+m.error_msg());const y={index:null,attributes:[]};for(const _ in u){const v=self[f[_]];let x,b;if(c.useUniqueIDs)b=u[_],x=a.GetAttributeByUniqueId(p,b);else{if(b=a.GetAttributeId(p,o[u[_]]),b===-1)continue;x=a.GetAttribute(p,b)}y.attributes.push(i(o,a,p,_,v,x))}return g===o.TRIANGULAR_MESH&&(y.index=r(o,a,p)),o.destroy(p),y}function r(o,a,l){const u=l.num_faces()*3,f=u*4,p=o._malloc(f);a.GetTrianglesUInt32Array(l,f,p);const m=new Uint32Array(o.HEAPF32.buffer,p,u).slice();return o._free(p),{array:m,itemSize:1}}function i(o,a,l,c,u,f){const p=f.num_components(),g=l.num_points()*p,y=g*u.BYTES_PER_ELEMENT,_=s(o,u),v=o._malloc(y);a.GetAttributeDataArrayForAllPoints(l,f,_,y,v);const x=new u(o.HEAPF32.buffer,v,g).slice();return o._free(v),{name:c,array:x,itemSize:p}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}let qv;const wA=()=>{if(qv)return qv;const n="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",e="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",t=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),r=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let i=n;WebAssembly.validate(t)&&(i=e);let s;const o=WebAssembly.instantiate(a(i),{}).then(f=>{s=f.instance,s.exports.__wasm_call_ctors()});function a(f){const p=new Uint8Array(f.length);for(let g=0;g<f.length;++g){const y=f.charCodeAt(g);p[g]=y>96?y-71:y>64?y-65:y>47?y+4:y>46?63:62}let m=0;for(let g=0;g<f.length;++g)p[m++]=p[g]<60?r[p[g]]:(p[g]-60)*64+p[++g];return p.buffer.slice(0,m)}function l(f,p,m,g,y,_){const v=s.exports.sbrk,x=m+3&-4,b=v(x*g),A=v(y.length),M=new Uint8Array(s.exports.memory.buffer);M.set(y,A);const E=f(b,m,g,A,y.length);if(E===0&&_&&_(b,x,g),p.set(M.subarray(b,b+m*g)),v(b-v(0)),E!==0)throw new Error(`Malformed buffer data: ${E}`)}const c={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},u={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return qv={ready:o,supported:!0,decodeVertexBuffer(f,p,m,g,y){l(s.exports.meshopt_decodeVertexBuffer,f,p,m,g,s.exports[c[y]])},decodeIndexBuffer(f,p,m,g){l(s.exports.meshopt_decodeIndexBuffer,f,p,m,g)},decodeIndexSequence(f,p,m,g){l(s.exports.meshopt_decodeIndexSequence,f,p,m,g)},decodeGltfBuffer(f,p,m,g,y,_){l(s.exports[u[y]],f,p,m,g,s.exports[c[_]])}},qv},Coe=O.forwardRef(({children:n,depth:e=-1,...t},r)=>{const i=O.useRef(null);return Sg(({camera:s})=>{i.current.quaternion.copy(s.quaternion),i.current.position.copy(s.position)}),O.createElement("group",Oe({ref:Hse([r,i])},t),O.createElement("group",{"position-z":-e},n))}),uD=n=>n===Object(n)&&!Array.isArray(n)&&typeof n!="function";function $s(n,e){const t=Go(i=>i.gl),r=xc(_g,uD(n)?Object.values(n):n);if(O.useLayoutEffect(()=>{e==null||e(r)},[e]),O.useEffect(()=>{"initTexture"in t&&(Array.isArray(r)?r:[r]).forEach(t.initTexture)},[t,r]),uD(n)){const i={};let s=0;for(const o in n)i[o]=r[s++];return i}else return r}$s.preload=n=>xc.preload(_g,n);$s.clear=n=>xc.clear(_g,n);const Roe=O.forwardRef(({userData:n,children:e,geometry:t,threshold:r=15,color:i="black",...s},o)=>{const a=O.useRef(null);return O.useLayoutEffect(()=>{const l=a.current.parent;if(l){const c=t||l.geometry;(c!==a.current.userData.currentGeom||r!==a.current.userData.currentThreshold)&&(a.current.userData.currentGeom=c,a.current.userData.currentThreshold=r,a.current.geometry=new wC(c,r))}}),O.useImperativeHandle(o,()=>a.current),O.createElement("lineSegments",Oe({ref:a,raycast:()=>null},s),e||O.createElement("lineBasicMaterial",{color:i}))});let Qv=null,b5="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function A5(n,e,t){return r=>{t&&t(r),n&&(Qv||(Qv=new Moe),Qv.setDecoderPath(typeof n=="string"?n:b5),r.setDRACOLoader(Qv)),e&&r.setMeshoptDecoder(typeof wA=="function"?wA():wA)}}function ol(n,e=!0,t=!0,r){return xc(cR,n,A5(e,t,r))}ol.preload=(n,e=!0,t=!0,r)=>xc.preload(cR,n,A5(e,t,r));ol.clear=n=>xc.clear(cR,n);ol.setDecoderPath=n=>{b5=n};const Poe=O.forwardRef(({makeDefault:n,camera:e,regress:t,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:o,onStart:a,onEnd:l,...c},u)=>{const f=Go(E=>E.invalidate),p=Go(E=>E.camera),m=Go(E=>E.gl),g=Go(E=>E.events),y=Go(E=>E.setEvents),_=Go(E=>E.set),v=Go(E=>E.get),x=Go(E=>E.performance),b=e||p,A=r||g.connected||m.domElement,M=O.useMemo(()=>new Xse(b),[b]);return Sg(()=>{M.enabled&&M.update()},-1),O.useEffect(()=>(s&&M.connect(s===!0?A:s),M.connect(A),()=>void M.dispose()),[s,A,t,M,f]),O.useEffect(()=>{const E=T=>{f(),t&&x.regress(),o&&o(T)},R=T=>{a&&a(T)},I=T=>{l&&l(T)};return M.addEventListener("change",E),M.addEventListener("start",R),M.addEventListener("end",I),()=>{M.removeEventListener("start",R),M.removeEventListener("end",I),M.removeEventListener("change",E)}},[o,a,l,M,f,y]),O.useEffect(()=>{if(n){const E=v().controls;return _({controls:M}),()=>_({controls:E})}},[n,M]),O.createElement("primitive",Oe({ref:u,object:M,enableDamping:i},c))});function Ooe(n,e,t=new z){const r=Math.PI*(n-.5),i=2*Math.PI*(e-.5);return t.x=Math.cos(i),t.y=Math.sin(r),t.z=Math.sin(i),t}const Loe=O.forwardRef(({inclination:n=.6,azimuth:e=.1,distance:t=1e3,mieCoefficient:r=.005,mieDirectionalG:i=.8,rayleigh:s=.5,turbidity:o=10,sunPosition:a=Ooe(n,e),...l},c)=>{const u=O.useMemo(()=>new z().setScalar(t),[t]),[f]=O.useState(()=>new lR);return O.createElement("primitive",Oe({object:f,ref:c,"material-uniforms-mieCoefficient-value":r,"material-uniforms-mieDirectionalG-value":i,"material-uniforms-rayleigh-value":s,"material-uniforms-sunPosition-value":a,"material-uniforms-turbidity-value":o,scale:u},l))}),fD=n=>{let e;const t=new Set,r=(u,f)=>{const p=typeof u=="function"?u(e):u;if(!Object.is(p,e)){const m=e;e=f??(typeof p!="object"||p===null)?p:Object.assign({},e,p),t.forEach(g=>g(e,m))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(t.add(u),()=>t.delete(u)),destroy:()=>{t.clear()}},c=e=n(r,i,l);return l},Ioe=n=>n?fD(n):fD;var w5={exports:{}},E5={},M5={exports:{}},T5={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eh=O;function Boe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Doe=typeof Object.is=="function"?Object.is:Boe,koe=eh.useState,Noe=eh.useEffect,Foe=eh.useLayoutEffect,Uoe=eh.useDebugValue;function zoe(n,e){var t=e(),r=koe({inst:{value:t,getSnapshot:e}}),i=r[0].inst,s=r[1];return Foe(function(){i.value=t,i.getSnapshot=e,EA(i)&&s({inst:i})},[n,t,e]),Noe(function(){return EA(i)&&s({inst:i}),n(function(){EA(i)&&s({inst:i})})},[n]),Uoe(t),t}function EA(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Doe(n,t)}catch{return!0}}function Hoe(n,e){return e()}var Goe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Hoe:zoe;T5.useSyncExternalStore=eh.useSyncExternalStore!==void 0?eh.useSyncExternalStore:Goe;M5.exports=T5;var Voe=M5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r1=O,Woe=Voe;function $oe(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var joe=typeof Object.is=="function"?Object.is:$oe,Xoe=Woe.useSyncExternalStore,Koe=r1.useRef,Yoe=r1.useEffect,Joe=r1.useMemo,qoe=r1.useDebugValue;E5.useSyncExternalStoreWithSelector=function(n,e,t,r,i){var s=Koe(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Joe(function(){function l(m){if(!c){if(c=!0,u=m,m=r(m),i!==void 0&&o.hasValue){var g=o.value;if(i(g,m))return f=g}return f=m}if(g=f,joe(u,m))return g;var y=r(m);return i!==void 0&&i(g,y)?g:(u=m,f=y)}var c=!1,u,f,p=t===void 0?null:t;return[function(){return l(e())},p===null?void 0:function(){return l(p())}]},[e,t,r,i]);var a=Xoe(n,s[0],s[1]);return Yoe(function(){o.hasValue=!0,o.value=a},[a]),qoe(a),a};w5.exports=E5;var Qoe=w5.exports;const Zoe=dc(Qoe),{useDebugValue:eae}=q,{useSyncExternalStoreWithSelector:tae}=Zoe;const nae=n=>n;function rae(n,e=nae,t){const r=tae(n.subscribe,n.getState,n.getServerState||n.getInitialState,e,t);return eae(r),r}const dD=n=>{const e=typeof n=="function"?Ioe(n):n,t=(r,i)=>rae(e,r,i);return Object.assign(t,e),t},iae=n=>n?dD(n):dD;function Ca(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function C5(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.12.4
 * https://gsap.com
 *
 * @license Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ms={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},th={duration:.5,overwrite:!1,delay:0},uR,li,Qn,Ys=1e8,fn=1/Ys,uM=Math.PI*2,sae=uM/4,oae=0,R5=Math.sqrt,aae=Math.cos,lae=Math.sin,Dr=function(e){return typeof e=="string"},Zn=function(e){return typeof e=="function"},el=function(e){return typeof e=="number"},fR=function(e){return typeof e>"u"},ua=function(e){return typeof e=="object"},Wi=function(e){return e!==!1},dR=function(){return typeof window<"u"},Zv=function(e){return Zn(e)||Dr(e)},P5=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},ci=Array.isArray,fM=/(?:-?\.?\d|\.)+/gi,O5=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,fd=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,MA=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,L5=/[+-]=-?[.\d]+/,I5=/[^,'"\[\]\s]+/gi,cae=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,kn,Fs,dM,hR,_s={},I_={},B5,D5=function(e){return(I_=Bu(e,_s))&&Ki},pR=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},zm=function(e,t){return!t&&console.warn(e)},k5=function(e,t){return e&&(_s[e]=t)&&I_&&(I_[e]=t)||_s},Hm=function(){return 0},uae={suppressEvents:!0,isStart:!0,kill:!1},Ry={suppressEvents:!0,kill:!1},fae={suppressEvents:!0},mR={},Ql=[],hM={},N5,is={},TA={},hD=30,Py=[],gR="",vR=function(e){var t=e[0],r,i;if(ua(t)||Zn(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=Py.length;i--&&!Py[i].targetTest(t););r=Py[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new aH(e[i],r)))||e.splice(i,1);return e},xu=function(e){return e._gsap||vR(Js(e))[0]._gsap},F5=function(e,t,r){return(r=e[t])&&Zn(r)?e[t]():fR(r)&&e.getAttribute&&e.getAttribute(t)||r},$i=function(e,t){return(e=e.split(",")).forEach(t)||e},ir=function(e){return Math.round(e*1e5)/1e5||0},Lr=function(e){return Math.round(e*1e7)/1e7||0},Md=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},dae=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},B_=function(){var e=Ql.length,t=Ql.slice(0),r,i;for(hM={},Ql.length=0,r=0;r<e;r++)i=t[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},U5=function(e,t,r,i){Ql.length&&!li&&B_(),e.render(t,r,i||li&&t<0&&(e._initted||e._startAt)),Ql.length&&!li&&B_()},z5=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(I5).length<2?t:Dr(e)?e.trim():e},H5=function(e){return e},no=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},hae=function(e){return function(t,r){for(var i in r)i in t||i==="duration"&&e||i==="ease"||(t[i]=r[i])}},Bu=function(e,t){for(var r in t)e[r]=t[r];return e},pD=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=ua(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},D_=function(e,t){var r={},i;for(i in e)i in t||(r[i]=e[i]);return r},em=function(e){var t=e.parent||kn,r=e.keyframes?hae(ci(e.keyframes)):no;if(Wi(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},pae=function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0},G5=function(e,t,r,i,s){r===void 0&&(r="_first"),i===void 0&&(i="_last");var o=e[i],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},i1=function(e,t,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[r]===t&&(e[r]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},cc=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Su=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},mae=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},pM=function(e,t,r,i){return e._startAt&&(li?e._startAt.revert(Ry):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},gae=function n(e){return!e||e._ts&&n(e.parent)},mD=function(e){return e._repeat?nh(e._tTime,e=e.duration()+e._rDelay)*e:0},nh=function(e,t){var r=Math.floor(e/=t);return e&&r===e?r-1:r},k_=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},s1=function(e){return e._end=Lr(e._start+(e._tDur/Math.abs(e._ts||e._rts||fn)||0))},o1=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=Lr(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),s1(e),r._dirty||Su(r,e)),e},V5=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=k_(e.rawTime(),t),(!t._dur||Pg(0,t.totalDuration(),r)-t._tTime>fn)&&t.render(r,!0)),Su(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-fn}},jo=function(e,t,r,i){return t.parent&&cc(t),t._start=Lr((el(r)?r:r||e!==kn?ks(e,r,t):e._time)+t._delay),t._end=Lr(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),G5(e,t,"_first","_last",e._sort?"_start":0),mM(t)||(e._recent=t),i||V5(e,t),e._ts<0&&o1(e,e._tTime),e},W5=function(e,t){return(_s.ScrollTrigger||pR("scrollTrigger",t))&&_s.ScrollTrigger.create(t,e)},$5=function(e,t,r,i,s){if(_R(e,t,s),!e._initted)return 1;if(!r&&e._pt&&!li&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&N5!==as.frame)return Ql.push(e),e._lazy=[s,i],1},vae=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},mM=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},yae=function(e,t,r,i){var s=e.ratio,o=t<0||!t&&(!e._start&&vae(e)&&!(!e._initted&&mM(e))||(e._ts<0||e._dp._ts<0)&&!mM(e))?0:1,a=e._rDelay,l=0,c,u,f;if(a&&e._repeat&&(l=Pg(0,e._tDur,t),u=nh(l,a),e._yoyo&&u&1&&(o=1-o),u!==nh(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||li||i||e._zTime===fn||!t&&e._zTime){if(!e._initted&&$5(e,t,i,r,l))return;for(f=e._zTime,e._zTime=t||(r?fn:0),r||(r=t&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;t<0&&pM(e,t,r,!0),e._onUpdate&&!r&&fs(e,"onUpdate"),l&&e._repeat&&!r&&e.parent&&fs(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&cc(e,1),!r&&!li&&(fs(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},_ae=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},rh=function(e,t,r,i){var s=e._repeat,o=Lr(t)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Lr(o*(s+1)+e._rDelay*s):o,a>0&&!i&&o1(e,e._tTime=e._tDur*a),e.parent&&s1(e),r||Su(e.parent,e),e},gD=function(e){return e instanceof wi?Su(e):rh(e,e._dur)},xae={_start:0,endTime:Hm,totalDuration:Hm},ks=function n(e,t,r){var i=e.labels,s=e._recent||xae,o=e.duration()>=Ys?s.endTime(!1):e._dur,a,l,c;return Dr(t)&&(isNaN(t)||t in i)?(l=t.charAt(0),c=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:r).totalDuration()/100:1)):a<0?(t in i||(i[t]=o),i[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&r&&(l=l/100*(ci(r)?r[0]:r).totalDuration()),a>1?n(e,t.substr(0,a-1),r)+l:o+l)):t==null?o:+t},tm=function(e,t,r){var i=el(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],a,l;if(i&&(o.duration=t[1]),o.parent=r,e){for(a=o,l=r;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=Wi(l.vars.inherit)&&l.parent;o.immediateRender=Wi(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new fr(t[0],o,t[s+1])},Sc=function(e,t){return e||e===0?t(e):t},Pg=function(e,t,r){return r<e?e:r>t?t:r},ii=function(e,t){return!Dr(e)||!(t=cae.exec(e))?"":t[1]},Sae=function(e,t,r){return Sc(r,function(i){return Pg(e,t,i)})},gM=[].slice,j5=function(e,t){return e&&ua(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&ua(e[0]))&&!e.nodeType&&e!==Fs},bae=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return Dr(i)&&!t||j5(i,1)?(s=r).push.apply(s,Js(i)):r.push(i)})||r},Js=function(e,t,r){return Qn&&!t&&Qn.selector?Qn.selector(e):Dr(e)&&!r&&(dM||!ih())?gM.call((t||hR).querySelectorAll(e),0):ci(e)?bae(e,r):j5(e)?gM.call(e,0):e?[e]:[]},vM=function(e){return e=Js(e)[0]||zm("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return Js(t,r.querySelectorAll?r:r===e?zm("Invalid scope")||hR.createElement("div"):e)}},X5=function(e){return e.sort(function(){return .5-Math.random()})},K5=function(e){if(Zn(e))return e;var t=ua(e)?e:{each:e},r=bu(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},a=i>0&&i<1,l=isNaN(i)||a,c=t.axis,u=i,f=i;return Dr(i)?u=f={center:.5,edges:.5,end:1}[i]||0:!a&&l&&(u=i[0],f=i[1]),function(p,m,g){var y=(g||t).length,_=o[y],v,x,b,A,M,E,R,I,T;if(!_){if(T=t.grid==="auto"?0:(t.grid||[1,Ys])[1],!T){for(R=-Ys;R<(R=g[T++].getBoundingClientRect().left)&&T<y;);T<y&&T--}for(_=o[y]=[],v=l?Math.min(T,y)*u-.5:i%T,x=T===Ys?0:l?y*f/T-.5:i/T|0,R=0,I=Ys,E=0;E<y;E++)b=E%T-v,A=x-(E/T|0),_[E]=M=c?Math.abs(c==="y"?A:b):R5(b*b+A*A),M>R&&(R=M),M<I&&(I=M);i==="random"&&X5(_),_.max=R-I,_.min=I,_.v=y=(parseFloat(t.amount)||parseFloat(t.each)*(T>y?y-1:c?c==="y"?y/T:T:Math.max(T,y/T))||0)*(i==="edges"?-1:1),_.b=y<0?s-y:s,_.u=ii(t.amount||t.each)||0,r=r&&y<0?iH(r):r}return y=(_[p]-_.min)/_.max||0,Lr(_.b+(r?r(y):y)*_.v)+_.u}},yM=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=Lr(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(el(r)?0:ii(r))}},Y5=function(e,t){var r=ci(e),i,s;return!r&&ua(e)&&(i=r=e.radius||Ys,e.values?(e=Js(e.values),(s=!el(e[0]))&&(i*=i)):e=yM(e.increment)),Sc(t,r?Zn(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=Ys,u=0,f=e.length,p,m;f--;)s?(p=e[f].x-a,m=e[f].y-l,p=p*p+m*m):p=Math.abs(e[f]-a),p<c&&(c=p,u=f);return u=!i||c<=i?e[u]:o,s||u===o||el(o)?u:u+ii(o)}:yM(e))},J5=function(e,t,r,i){return Sc(ci(e)?!t:r===!0?!!(r=0):!i,function(){return ci(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*i)/i})},Aae=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(s,o){return o(s)},i)}},wae=function(e,t){return function(r){return e(parseFloat(r))+(t||ii(r))}},Eae=function(e,t,r){return Q5(e,t,0,1,r)},q5=function(e,t,r){return Sc(r,function(i){return e[~~t(i)]})},Mae=function n(e,t,r){var i=t-e;return ci(e)?q5(e,n(0,e.length),t):Sc(r,function(s){return(i+(s-e)%i)%i+e})},Tae=function n(e,t,r){var i=t-e,s=i*2;return ci(e)?q5(e,n(0,e.length-1),t):Sc(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},Gm=function(e){for(var t=0,r="",i,s,o,a;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),a=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(a?I5:fM),r+=e.substr(t,i-t)+J5(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return r+e.substr(t,e.length-t)},Q5=function(e,t,r,i,s){var o=t-e,a=i-r;return Sc(s,function(l){return r+((l-e)/o*a||0)})},Cae=function n(e,t,r,i){var s=isNaN(e+t)?0:function(m){return(1-m)*e+m*t};if(!s){var o=Dr(e),a={},l,c,u,f,p;if(r===!0&&(i=1)&&(r=null),o)e={p:e},t={p:t};else if(ci(e)&&!ci(t)){for(u=[],f=e.length,p=f-2,c=1;c<f;c++)u.push(n(e[c-1],e[c]));f--,s=function(g){g*=f;var y=Math.min(p,~~g);return u[y](g-y)},r=t}else i||(e=Bu(ci(e)?[]:{},e));if(!u){for(l in t)yR.call(a,e,l,"get",t[l]);s=function(g){return bR(g,a)||(o?e.p:e)}}}return Sc(r,s)},vD=function(e,t,r){var i=e.labels,s=Ys,o,a,l;for(o in i)a=i[o]-t,a<0==!!r&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},fs=function(e,t,r){var i=e.vars,s=i[t],o=Qn,a=e._ctx,l,c,u;if(s)return l=i[t+"Params"],c=i.callbackScope||e,r&&Ql.length&&B_(),a&&(Qn=a),u=l?s.apply(c,l):s.call(c),Qn=o,u},Dp=function(e){return cc(e),e.scrollTrigger&&e.scrollTrigger.kill(!!li),e.progress()<1&&fs(e,"onInterrupt"),e},dd,Z5=[],eH=function(e){if(dR()&&e){e=!e.name&&e.default||e;var t=e.name,r=Zn(e),i=t&&!r&&e.init?function(){this._props=[]}:e,s={init:Hm,render:bR,add:yR,kill:Wae,modifier:Vae,rawVars:0},o={targetTest:0,get:0,getSetter:SR,aliases:{},register:0};if(ih(),e!==i){if(is[t])return;no(i,no(D_(e,s),o)),Bu(i.prototype,Bu(s,D_(e,o))),is[i.prop=t]=i,e.targetTest&&(Py.push(i),mR[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}k5(t,i),e.register&&e.register(Ki,i,ji)}else e&&Z5.push(e)},un=255,kp={aqua:[0,un,un],lime:[0,un,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,un],navy:[0,0,128],white:[un,un,un],olive:[128,128,0],yellow:[un,un,0],orange:[un,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[un,0,0],pink:[un,192,203],cyan:[0,un,un],transparent:[un,un,un,0]},CA=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*un+.5|0},tH=function(e,t,r){var i=e?el(e)?[e>>16,e>>8&un,e&un]:0:kp.black,s,o,a,l,c,u,f,p,m,g;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),kp[e])i=kp[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&un,i&un,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&un,e&un]}else if(e.substr(0,3)==="hsl"){if(i=g=e.match(fM),!t)l=+i[0]%360/360,c=+i[1]/100,u=+i[2]/100,o=u<=.5?u*(c+1):u+c-u*c,s=u*2-o,i.length>3&&(i[3]*=1),i[0]=CA(l+1/3,s,o),i[1]=CA(l,s,o),i[2]=CA(l-1/3,s,o);else if(~e.indexOf("="))return i=e.match(O5),r&&i.length<4&&(i[3]=1),i}else i=e.match(fM)||kp.transparent;i=i.map(Number)}return t&&!g&&(s=i[0]/un,o=i[1]/un,a=i[2]/un,f=Math.max(s,o,a),p=Math.min(s,o,a),u=(f+p)/2,f===p?l=c=0:(m=f-p,c=u>.5?m/(2-f-p):m/(f+p),l=f===s?(o-a)/m+(o<a?6:0):f===o?(a-s)/m+2:(s-o)/m+4,l*=60),i[0]=~~(l+.5),i[1]=~~(c*100+.5),i[2]=~~(u*100+.5)),r&&i.length<4&&(i[3]=1),i},nH=function(e){var t=[],r=[],i=-1;return e.split(Zl).forEach(function(s){var o=s.match(fd)||[];t.push.apply(t,o),r.push(i+=o.length+1)}),t.c=r,t},yD=function(e,t,r){var i="",s=(e+i).match(Zl),o=t?"hsla(":"rgba(",a=0,l,c,u,f;if(!s)return e;if(s=s.map(function(p){return(p=tH(p,t,1))&&o+(t?p[0]+","+p[1]+"%,"+p[2]+"%,"+p[3]:p.join(","))+")"}),r&&(u=nH(e),l=r.c,l.join(i)!==u.c.join(i)))for(c=e.replace(Zl,"1").split(fd),f=c.length-1;a<f;a++)i+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:r).shift());if(!c)for(c=e.split(Zl),f=c.length-1;a<f;a++)i+=c[a]+s[a];return i+c[f]},Zl=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in kp)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),Rae=/hsl[a]?\(/,rH=function(e){var t=e.join(" "),r;if(Zl.lastIndex=0,Zl.test(t))return r=Rae.test(t),e[1]=yD(e[1],r),e[0]=yD(e[0],r,nH(e[1])),!0},Vm,as=function(){var n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,o=s,a=[],l,c,u,f,p,m,g=function y(_){var v=n()-i,x=_===!0,b,A,M,E;if(v>e&&(r+=v-t),i+=v,M=i-r,b=M-o,(b>0||x)&&(E=++f.frame,p=M-f.time*1e3,f.time=M=M/1e3,o+=b+(b>=s?4:s-b),A=1),x||(l=c(y)),A)for(m=0;m<a.length;m++)a[m](M,p,E,_)};return f={time:0,frame:0,tick:function(){g(!0)},deltaRatio:function(_){return p/(1e3/(_||60))},wake:function(){B5&&(!dM&&dR()&&(Fs=dM=window,hR=Fs.document||{},_s.gsap=Ki,(Fs.gsapVersions||(Fs.gsapVersions=[])).push(Ki.version),D5(I_||Fs.GreenSockGlobals||!Fs.gsap&&Fs||{}),u=Fs.requestAnimationFrame,Z5.forEach(eH)),l&&f.sleep(),c=u||function(_){return setTimeout(_,o-f.time*1e3+1|0)},Vm=1,g(2))},sleep:function(){(u?Fs.cancelAnimationFrame:clearTimeout)(l),Vm=0,c=Hm},lagSmoothing:function(_,v){e=_||1/0,t=Math.min(v||33,e)},fps:function(_){s=1e3/(_||240),o=f.time*1e3+s},add:function(_,v,x){var b=v?function(A,M,E,R){_(A,M,E,R),f.remove(b)}:_;return f.remove(_),a[x?"unshift":"push"](b),ih(),b},remove:function(_,v){~(v=a.indexOf(_))&&a.splice(v,1)&&m>=v&&m--},_listeners:a},f}(),ih=function(){return!Vm&&as.wake()},jt={},Pae=/^[\d.\-M][\d.\-,\s]/,Oae=/["']/g,Lae=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,a,l,c;s<o;s++)l=r[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),t[i]=isNaN(c)?c.replace(Oae,"").trim():+c,i=l.substr(a+1).trim();return t},Iae=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)},Bae=function(e){var t=(e+"").split("("),r=jt[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[Lae(t[1])]:Iae(e).split(",").map(z5)):jt._CE&&Pae.test(e)?jt._CE("",e):r},iH=function(e){return function(t){return 1-e(1-t)}},sH=function n(e,t){for(var r=e._first,i;r;)r instanceof wi?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},bu=function(e,t){return e&&(Zn(e)?e:jt[e]||Bae(e))||t},Xu=function(e,t,r,i){r===void 0&&(r=function(l){return 1-t(1-l)}),i===void 0&&(i=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:r,easeInOut:i},o;return $i(e,function(a){jt[a]=_s[a]=s,jt[o=a.toLowerCase()]=r;for(var l in s)jt[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=jt[a+"."+l]=s[l]}),s},oH=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},RA=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),o=s/uM*(Math.asin(1/i)||0),a=function(u){return u===1?1:i*Math.pow(2,-10*u)*lae((u-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:oH(a);return s=uM/s,l.config=function(c,u){return n(e,c,u)},l},PA=function n(e,t){t===void 0&&(t=1.70158);var r=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:oH(r);return i.config=function(s){return n(e,s)},i};$i("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;Xu(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});jt.Linear.easeNone=jt.none=jt.Linear.easeIn;Xu("Elastic",RA("in"),RA("out"),RA());(function(n,e){var t=1/e,r=2*t,i=2.5*t,s=function(a){return a<t?n*a*a:a<r?n*Math.pow(a-1.5/e,2)+.75:a<i?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};Xu("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Xu("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});Xu("Circ",function(n){return-(R5(1-n*n)-1)});Xu("Sine",function(n){return n===1?1:-aae(n*sae)+1});Xu("Back",PA("in"),PA("out"),PA());jt.SteppedEase=jt.steps=_s.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,i=e+(t?0:1),s=t?1:0,o=1-fn;return function(a){return((i*Pg(0,o,a)|0)+s)*r}}};th.ease=jt["quad.out"];$i("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return gR+=n+","+n+"Params,"});var aH=function(e,t){this.id=oae++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:F5,this.set=t?t.getSetter:SR},Wm=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,rh(this,+t.duration,1,1),this.data=t.data,Qn&&(this._ctx=Qn,Qn.data.push(this)),Vm||as.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,rh(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(ih(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(o1(this,r),!s._dp||s.parent||V5(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&jo(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===fn||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),U5(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+mD(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+mD(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?nh(this._tTime,s)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-fn?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?k_(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-fn?0:this._rts,this.totalTime(Pg(-Math.abs(this._delay),this._tDur,s),i!==!1),s1(this),mae(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(ih(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==fn&&(this._tTime-=fn)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&jo(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(Wi(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?k_(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=fae);var i=li;return li=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),li=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,gD(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,gD(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(ks(this,r),Wi(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,Wi(i))},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-fn:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-fn,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-fn)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=Zn(r)?r:H5,a=function(){var c=i.then;i.then=null,Zn(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=c),s(o),i.then=c};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?a():i._prom=a})},e.kill=function(){Dp(this)},n}();no(Wm.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-fn,_prom:0,_ps:!1,_rts:1});var wi=function(n){C5(e,n);function e(r,i){var s;return r===void 0&&(r={}),s=n.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=Wi(r.sortChildren),kn&&jo(r.parent||kn,Ca(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&W5(Ca(s),r.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return tm(0,arguments,this),this},t.from=function(i,s,o){return tm(1,arguments,this),this},t.fromTo=function(i,s,o,a){return tm(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,em(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new fr(i,s,ks(this,o),1),this},t.call=function(i,s,o){return jo(this,fr.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new fr(i,o,ks(this,l)),this},t.staggerFrom=function(i,s,o,a,l,c,u){return o.runBackwards=1,em(o).immediateRender=Wi(o.immediateRender),this.staggerTo(i,s,o,a,l,c,u)},t.staggerFromTo=function(i,s,o,a,l,c,u,f){return a.startAt=o,em(a).immediateRender=Wi(a.immediateRender),this.staggerTo(i,s,a,l,c,u,f)},t.render=function(i,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=i<=0?0:Lr(i),f=this._zTime<0!=i<0&&(this._initted||!c),p,m,g,y,_,v,x,b,A,M,E,R;if(this!==kn&&u>l&&i>=0&&(u=l),u!==this._tTime||o||f){if(a!==this._time&&c&&(u+=this._time-a,i+=this._time-a),p=u,A=this._start,b=this._ts,v=!b,f&&(c||(a=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(E=this._yoyo,_=c+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(_*100+i,s,o);if(p=Lr(u%_),u===l?(y=this._repeat,p=c):(y=~~(u/_),y&&y===u/_&&(p=c,y--),p>c&&(p=c)),M=nh(this._tTime,_),!a&&this._tTime&&M!==y&&this._tTime-M*_-this._dur<=0&&(M=y),E&&y&1&&(p=c-p,R=1),y!==M&&!this._lock){var I=E&&M&1,T=I===(E&&y&1);if(y<M&&(I=!I),a=I?0:u%c?c:u,this._lock=1,this.render(a||(R?0:Lr(y*_)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&fs(this,"onRepeat"),this.vars.repeatRefresh&&!R&&(this.invalidate()._lock=1),a&&a!==this._time||v!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,T&&(this._lock=2,a=I?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!R&&this.invalidate()),this._lock=0,!this._ts&&!v)return this;sH(this,R)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(x=_ae(this,Lr(a),Lr(p)),x&&(u-=p-(p=x._start))),this._tTime=u,this._time=p,this._act=!b,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,a=0),!a&&p&&!s&&!y&&(fs(this,"onStart"),this._tTime!==u))return this;if(p>=a&&i>=0)for(m=this._first;m;){if(g=m._next,(m._act||p>=m._start)&&m._ts&&x!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(p-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(p-m._start)*m._ts,s,o),p!==this._time||!this._ts&&!v){x=0,g&&(u+=this._zTime=-fn);break}}m=g}else{m=this._last;for(var P=i<0?i:p;m;){if(g=m._prev,(m._act||P<=m._end)&&m._ts&&x!==m){if(m.parent!==this)return this.render(i,s,o);if(m.render(m._ts>0?(P-m._start)*m._ts:(m._dirty?m.totalDuration():m._tDur)+(P-m._start)*m._ts,s,o||li&&(m._initted||m._startAt)),p!==this._time||!this._ts&&!v){x=0,g&&(u+=this._zTime=P?-fn:fn);break}}m=g}}if(x&&!s&&(this.pause(),x.render(p>=a?0:-fn)._zTime=p>=a?1:-1,this._ts))return this._start=A,s1(this),this.render(i,s,o);this._onUpdate&&!s&&fs(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(A===this._start||Math.abs(b)!==Math.abs(this._ts))&&(this._lock||((i||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&cc(this,1),!s&&!(i<0&&!a)&&(u||a||!l)&&(fs(this,u===l&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(el(s)||(s=ks(this,s,i)),!(i instanceof Wm)){if(ci(i))return i.forEach(function(a){return o.add(a,s)}),this;if(Dr(i))return this.addLabel(i,s);if(Zn(i))i=fr.delayedCall(0,i);else return this}return this!==i?jo(this,i,s):this},t.getChildren=function(i,s,o,a){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-Ys);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof fr?s&&l.push(c):(o&&l.push(c),i&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return Dr(i)?this.removeLabel(i):Zn(i)?this.killTweensOf(i):(i1(this,i),i===this._recent&&(this._recent=this._last),Su(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Lr(as.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=ks(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var a=fr.delayedCall(0,s||Hm,o);return a.data="isPause",this._hasPause=1,jo(this,a,ks(this,i))},t.removePause=function(i){var s=this._first;for(i=ks(this,i);s;)s._start===i&&s.data==="isPause"&&cc(s),s=s._next},t.killTweensOf=function(i,s,o){for(var a=this.getTweensOf(i,o),l=a.length;l--;)Nl!==a[l]&&a[l].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],a=Js(i),l=this._first,c=el(s),u;l;)l instanceof fr?dae(l._targets,a)&&(c?(!Nl||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,a=ks(o,i),l=s,c=l.startAt,u=l.onStart,f=l.onStartParams,p=l.immediateRender,m,g=fr.to(o,no({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||fn,onStart:function(){if(o.pause(),!m){var _=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());g._dur!==_&&rh(g,_,0,1).render(g._time,!0,!0),m=1}u&&u.apply(g,f||[])}},s));return p?g.render(0):g},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,no({startAt:{time:ks(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),vD(this,ks(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),vD(this,ks(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+fn)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=i,a._end+=i),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=i);return Su(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),Su(this)},t.totalDuration=function(i){var s=0,o=this,a=o._last,l=Ys,c,u,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(f=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,jo(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;rh(o,o===kn&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(kn._ts&&(U5(kn,k_(i,kn)),N5=as.frame),as.frame>=hD){hD+=ms.autoSleep||120;var s=kn._first;if((!s||!s._ts)&&ms.autoSleep&&as._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||as.sleep()}}},e}(Wm);no(wi.prototype,{_lock:0,_hasPause:0,_forcing:0});var Dae=function(e,t,r,i,s,o,a){var l=new ji(this._pt,e,t,0,1,hH,null,s),c=0,u=0,f,p,m,g,y,_,v,x;for(l.b=r,l.e=i,r+="",i+="",(v=~i.indexOf("random("))&&(i=Gm(i)),o&&(x=[r,i],o(x,e,t),r=x[0],i=x[1]),p=r.match(MA)||[];f=MA.exec(i);)g=f[0],y=i.substring(c,f.index),m?m=(m+1)%5:y.substr(-5)==="rgba("&&(m=1),g!==p[u++]&&(_=parseFloat(p[u-1])||0,l._pt={_next:l._pt,p:y||u===1?y:",",s:_,c:g.charAt(1)==="="?Md(_,g)-_:parseFloat(g)-_,m:m&&m<4?Math.round:0},c=MA.lastIndex);return l.c=c<i.length?i.substring(c,i.length):"",l.fp=a,(L5.test(i)||v)&&(l.e=0),this._pt=l,l},yR=function(e,t,r,i,s,o,a,l,c,u){Zn(i)&&(i=i(s||0,e,o));var f=e[t],p=r!=="get"?r:Zn(f)?c?e[t.indexOf("set")||!Zn(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():f,m=Zn(f)?c?zae:fH:xR,g;if(Dr(i)&&(~i.indexOf("random(")&&(i=Gm(i)),i.charAt(1)==="="&&(g=Md(p,i)+(ii(p)||0),(g||g===0)&&(i=g))),!u||p!==i||_M)return!isNaN(p*i)&&i!==""?(g=new ji(this._pt,e,t,+p||0,i-(p||0),typeof f=="boolean"?Gae:dH,0,m),c&&(g.fp=c),a&&g.modifier(a,this,e),this._pt=g):(!f&&!(t in e)&&pR(t,i),Dae.call(this,e,t,p,i,m,l||ms.stringFilter,c))},kae=function(e,t,r,i,s){if(Zn(e)&&(e=nm(e,s,t,r,i)),!ua(e)||e.style&&e.nodeType||ci(e)||P5(e))return Dr(e)?nm(e,s,t,r,i):e;var o={},a;for(a in e)o[a]=nm(e[a],s,t,r,i);return o},lH=function(e,t,r,i,s,o){var a,l,c,u;if(is[e]&&(a=new is[e]).init(s,a.rawVars?t[e]:kae(t[e],i,s,o,r),r,i,o)!==!1&&(r._pt=l=new ji(r._pt,s,e,0,1,a.render,a,0,a.priority),r!==dd))for(c=r._ptLookup[r._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},Nl,_M,_R=function n(e,t,r){var i=e.vars,s=i.ease,o=i.startAt,a=i.immediateRender,l=i.lazy,c=i.onUpdate,u=i.runBackwards,f=i.yoyoEase,p=i.keyframes,m=i.autoRevert,g=e._dur,y=e._startAt,_=e._targets,v=e.parent,x=v&&v.data==="nested"?v.vars.targets:_,b=e._overwrite==="auto"&&!uR,A=e.timeline,M,E,R,I,T,P,B,U,j,N,G,V,$;if(A&&(!p||!s)&&(s="none"),e._ease=bu(s,th.ease),e._yEase=f?iH(bu(f===!0?s:f,th.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!A&&!!i.runBackwards,!A||p&&!i.stagger){if(U=_[0]?xu(_[0]).harness:0,V=U&&i[U.prop],M=D_(i,mR),y&&(y._zTime<0&&y.progress(1),t<0&&u&&a&&!m?y.render(-1,!0):y.revert(u&&g?Ry:uae),y._lazy=0),o){if(cc(e._startAt=fr.set(_,no({data:"isStart",overwrite:!1,parent:v,immediateRender:!0,lazy:!y&&Wi(l),startAt:null,delay:0,onUpdate:c&&function(){return fs(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(li||!a&&!m)&&e._startAt.revert(Ry),a&&g&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(u&&g&&!y){if(t&&(a=!1),R=no({overwrite:!1,data:"isFromStart",lazy:a&&!y&&Wi(l),immediateRender:a,stagger:0,parent:v},M),V&&(R[U.prop]=V),cc(e._startAt=fr.set(_,R)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(li?e._startAt.revert(Ry):e._startAt.render(-1,!0)),e._zTime=t,!a)n(e._startAt,fn,fn);else if(!t)return}for(e._pt=e._ptCache=0,l=g&&Wi(l)||l&&!g,E=0;E<_.length;E++){if(T=_[E],B=T._gsap||vR(_)[E]._gsap,e._ptLookup[E]=N={},hM[B.id]&&Ql.length&&B_(),G=x===_?E:x.indexOf(T),U&&(j=new U).init(T,V||M,e,G,x)!==!1&&(e._pt=I=new ji(e._pt,T,j.name,0,1,j.render,j,0,j.priority),j._props.forEach(function(F){N[F]=I}),j.priority&&(P=1)),!U||V)for(R in M)is[R]&&(j=lH(R,M,e,G,T,x))?j.priority&&(P=1):N[R]=I=yR.call(e,T,R,"get",M[R],G,x,0,i.stringFilter);e._op&&e._op[E]&&e.kill(T,e._op[E]),b&&e._pt&&(Nl=e,kn.killTweensOf(T,N,e.globalTime(t)),$=!e.parent,Nl=0),e._pt&&l&&(hM[B.id]=1)}P&&pH(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!$,p&&t<=0&&A.render(Ys,!0,!0)},Nae=function(e,t,r,i,s,o,a,l){var c=(e._pt&&e._ptCache||(e._ptCache={}))[t],u,f,p,m;if(!c)for(c=e._ptCache[t]=[],p=e._ptLookup,m=e._targets.length;m--;){if(u=p[m][t],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==t&&u.fp!==t;)u=u._next;if(!u)return _M=1,e.vars[t]="+=0",_R(e,a),_M=0,l?zm(t+" not eligible for reset"):1;c.push(u)}for(m=c.length;m--;)f=c[m],u=f._pt||f,u.s=(i||i===0)&&!s?i:u.s+(i||0)+o*u.c,u.c=r-u.s,f.e&&(f.e=ir(r)+ii(f.e)),f.b&&(f.b=u.s+ii(f.b))},Fae=function(e,t){var r=e[0]?xu(e[0]).harness:0,i=r&&r.aliases,s,o,a,l;if(!i)return t;s=Bu({},t);for(o in i)if(o in s)for(l=i[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},Uae=function(e,t,r,i){var s=t.ease||i||"power1.inOut",o,a;if(ci(t))a=r[e]||(r[e]=[]),t.forEach(function(l,c){return a.push({t:c/(t.length-1)*100,v:l,e:s})});else for(o in t)a=r[o]||(r[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},nm=function(e,t,r,i,s){return Zn(e)?e.call(t,r,i,s):Dr(e)&&~e.indexOf("random(")?Gm(e):e},cH=gR+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",uH={};$i(cH+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return uH[n]=1});var fr=function(n){C5(e,n);function e(r,i,s,o){var a;typeof i=="number"&&(s.duration=i,i=s,s=null),a=n.call(this,o?i:em(i))||this;var l=a.vars,c=l.duration,u=l.delay,f=l.immediateRender,p=l.stagger,m=l.overwrite,g=l.keyframes,y=l.defaults,_=l.scrollTrigger,v=l.yoyoEase,x=i.parent||kn,b=(ci(r)||P5(r)?el(r[0]):"length"in i)?[r]:Js(r),A,M,E,R,I,T,P,B;if(a._targets=b.length?vR(b):zm("GSAP target "+r+" not found. https://gsap.com",!ms.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=m,g||p||Zv(c)||Zv(u)){if(i=a.vars,A=a.timeline=new wi({data:"nested",defaults:y||{},targets:x&&x.data==="nested"?x.vars.targets:b}),A.kill(),A.parent=A._dp=Ca(a),A._start=0,p||Zv(c)||Zv(u)){if(R=b.length,P=p&&K5(p),ua(p))for(I in p)~cH.indexOf(I)&&(B||(B={}),B[I]=p[I]);for(M=0;M<R;M++)E=D_(i,uH),E.stagger=0,v&&(E.yoyoEase=v),B&&Bu(E,B),T=b[M],E.duration=+nm(c,Ca(a),M,T,b),E.delay=(+nm(u,Ca(a),M,T,b)||0)-a._delay,!p&&R===1&&E.delay&&(a._delay=u=E.delay,a._start+=u,E.delay=0),A.to(T,E,P?P(M,T,b):0),A._ease=jt.none;A.duration()?c=u=0:a.timeline=0}else if(g){em(no(A.vars.defaults,{ease:"none"})),A._ease=bu(g.ease||i.ease||"none");var U=0,j,N,G;if(ci(g))g.forEach(function(V){return A.to(b,V,">")}),A.duration();else{E={};for(I in g)I==="ease"||I==="easeEach"||Uae(I,g[I],E,g.easeEach);for(I in E)for(j=E[I].sort(function(V,$){return V.t-$.t}),U=0,M=0;M<j.length;M++)N=j[M],G={ease:N.e,duration:(N.t-(M?j[M-1].t:0))/100*c},G[I]=N.v,A.to(b,G,U),U+=G.duration;A.duration()<c&&A.to({},{duration:c-A.duration()})}}c||a.duration(c=A.duration())}else a.timeline=0;return m===!0&&!uR&&(Nl=Ca(a),kn.killTweensOf(b),Nl=0),jo(x,Ca(a),s),i.reversed&&a.reverse(),i.paused&&a.paused(!0),(f||!c&&!g&&a._start===Lr(x._time)&&Wi(f)&&gae(Ca(a))&&x.data!=="nested")&&(a._tTime=-fn,a.render(Math.max(0,-u)||0)),_&&W5(Ca(a),_),a}var t=e.prototype;return t.render=function(i,s,o){var a=this._time,l=this._tDur,c=this._dur,u=i<0,f=i>l-fn&&!u?l:i<fn?0:i,p,m,g,y,_,v,x,b,A;if(!c)yae(this,i,s,o);else if(f!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(p=f,b=this.timeline,this._repeat){if(y=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(y*100+i,s,o);if(p=Lr(f%y),f===l?(g=this._repeat,p=c):(g=~~(f/y),g&&g===Lr(f/y)&&(p=c,g--),p>c&&(p=c)),v=this._yoyo&&g&1,v&&(A=this._yEase,p=c-p),_=nh(this._tTime,y),p===a&&!o&&this._initted&&g===_)return this._tTime=f,this;g!==_&&(b&&this._yEase&&sH(b,v),this.vars.repeatRefresh&&!v&&!this._lock&&this._time!==c&&this._initted&&(this._lock=o=1,this.render(Lr(y*g),!0).invalidate()._lock=0))}if(!this._initted){if($5(this,u?i:p,o,s,f))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&g!==_))return this;if(c!==this._dur)return this.render(i,s,o)}if(this._tTime=f,this._time=p,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=x=(A||this._ease)(p/c),this._from&&(this.ratio=x=1-x),p&&!a&&!s&&!g&&(fs(this,"onStart"),this._tTime!==f))return this;for(m=this._pt;m;)m.r(x,m.d),m=m._next;b&&b.render(i<0?i:!p&&v?-fn:b._dur*b._ease(p/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(u&&pM(this,i,s,o),fs(this,"onUpdate")),this._repeat&&g!==_&&this.vars.onRepeat&&!s&&this.parent&&fs(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(u&&!this._onUpdate&&pM(this,i,!0,!0),(i||!c)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&cc(this,1),!s&&!(u&&!a)&&(f||a||v)&&(fs(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,a,l){Vm||as.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||_R(this,c),u=this._ease(c/this._dur),Nae(this,i,s,o,a,u,c,l)?this.resetTo(i,s,o,a,1):(o1(this,0),this.parent||G5(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Dp(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,Nl&&Nl.vars.overwrite!==!0)._first||Dp(this),this.parent&&o!==this.timeline.totalDuration()&&rh(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=i?Js(i):a,c=this._ptLookup,u=this._pt,f,p,m,g,y,_,v;if((!s||s==="all")&&pae(a,l))return s==="all"&&(this._pt=0),Dp(this);for(f=this._op=this._op||[],s!=="all"&&(Dr(s)&&(y={},$i(s,function(x){return y[x]=1}),s=y),s=Fae(a,s)),v=a.length;v--;)if(~l.indexOf(a[v])){p=c[v],s==="all"?(f[v]=s,g=p,m={}):(m=f[v]=f[v]||{},g=s);for(y in g)_=p&&p[y],_&&((!("kill"in _.d)||_.d.kill(y)===!0)&&i1(this,_,"_pt"),delete p[y]),m!=="all"&&(m[y]=1)}return this._initted&&!this._pt&&u&&Dp(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return tm(1,arguments)},e.delayedCall=function(i,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(i,s,o){return tm(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return kn.killTweensOf(i,s,o)},e}(Wm);no(fr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});$i("staggerTo,staggerFrom,staggerFromTo",function(n){fr[n]=function(){var e=new wi,t=gM.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var xR=function(e,t,r){return e[t]=r},fH=function(e,t,r){return e[t](r)},zae=function(e,t,r,i){return e[t](i.fp,r)},Hae=function(e,t,r){return e.setAttribute(t,r)},SR=function(e,t){return Zn(e[t])?fH:fR(e[t])&&e.setAttribute?Hae:xR},dH=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},Gae=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},hH=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},bR=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},Vae=function(e,t,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,r),s=o},Wae=function(e){for(var t=this._pt,r,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?i1(this,t,"_pt"):t.dep||(r=1),t=i;return!r},$ae=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},pH=function(e){for(var t=e._pt,r,i,s,o;t;){for(r=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=r}e._pt=s},ji=function(){function n(t,r,i,s,o,a,l,c,u){this.t=r,this.s=s,this.c=o,this.p=i,this.r=a||dH,this.d=l||this,this.set=c||xR,this.pr=u||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=$ae,this.m=r,this.mt=s,this.tween=i},n}();$i(gR+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return mR[n]=1});_s.TweenMax=_s.TweenLite=fr;_s.TimelineLite=_s.TimelineMax=wi;kn=new wi({sortChildren:!1,defaults:th,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});ms.stringFilter=rH;var Au=[],Oy={},jae=[],_D=0,Xae=0,OA=function(e){return(Oy[e]||jae).map(function(t){return t()})},xM=function(){var e=Date.now(),t=[];e-_D>2&&(OA("matchMediaInit"),Au.forEach(function(r){var i=r.queries,s=r.conditions,o,a,l,c;for(a in i)o=Fs.matchMedia(i[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(r.revert(),l&&t.push(r))}),OA("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),_D=e,OA("matchMedia"))},mH=function(){function n(t,r){this.selector=r&&vM(r),this.data=[],this._r=[],this.isReverted=!1,this.id=Xae++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,s){Zn(r)&&(s=i,i=r,r=Zn);var o=this,a=function(){var c=Qn,u=o.selector,f;return c&&c!==o&&c.data.push(o),s&&(o.selector=vM(s)),Qn=o,f=i.apply(o,arguments),Zn(f)&&o._r.push(f),Qn=c,o.selector=u,o.isReverted=!1,f};return o.last=a,r===Zn?a(o,function(l){return o.add(null,l)}):r?o[r]=a:a},e.ignore=function(r){var i=Qn;Qn=null,r(this),Qn=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof fr&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r?function(){for(var a=s.getTweens(),l=s.data.length,c;l--;)c=s.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(u){return a.splice(a.indexOf(u),1)}));for(a.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,f){return f.g-u.g||-1/0}).forEach(function(u){return u.t.revert(r)}),l=s.data.length;l--;)c=s.data[l],c instanceof wi?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof fr)&&c.revert&&c.revert(r);s._r.forEach(function(u){return u(r,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),i)for(var o=Au.length;o--;)Au[o].id===this.id&&Au.splice(o,1)},e.revert=function(r){this.kill(r||{})},n}(),Kae=function(){function n(t){this.contexts=[],this.scope=t}var e=n.prototype;return e.add=function(r,i,s){ua(r)||(r={matches:r});var o=new mH(0,s||this.scope),a=o.conditions={},l,c,u;Qn&&!o.selector&&(o.selector=Qn.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(c in r)c==="all"?u=1:(l=Fs.matchMedia(r[c]),l&&(Au.indexOf(o)<0&&Au.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(xM):l.addEventListener("change",xM)));return u&&i(o,function(f){return o.add(null,f)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),N_={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return eH(i)})},timeline:function(e){return new wi(e)},getTweensOf:function(e,t){return kn.getTweensOf(e,t)},getProperty:function(e,t,r,i){Dr(e)&&(e=Js(e)[0]);var s=xu(e||{}).get,o=r?H5:z5;return r==="native"&&(r=""),e&&(t?o((is[t]&&is[t].get||s)(e,t,r,i)):function(a,l,c){return o((is[a]&&is[a].get||s)(e,a,l,c))})},quickSetter:function(e,t,r){if(e=Js(e),e.length>1){var i=e.map(function(u){return Ki.quickSetter(u,t,r)}),s=i.length;return function(u){for(var f=s;f--;)i[f](u)}}e=e[0]||{};var o=is[t],a=xu(e),l=a.harness&&(a.harness.aliases||{})[t]||t,c=o?function(u){var f=new o;dd._pt=0,f.init(e,r?u+r:u,dd,0,[e]),f.render(1,f),dd._pt&&bR(1,dd)}:a.set(e,l);return o?c:function(u){return c(e,l,r?u+r:u,a,1)}},quickTo:function(e,t,r){var i,s=Ki.to(e,Bu((i={},i[t]="+=0.1",i.paused=!0,i),r||{})),o=function(l,c,u){return s.resetTo(t,l,c,u)};return o.tween=s,o},isTweening:function(e){return kn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=bu(e.ease,th.ease)),pD(th,e||{})},config:function(e){return pD(ms,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(a){return a&&!is[a]&&!_s[a]&&zm(t+" effect requires "+a+" plugin.")}),TA[t]=function(a,l,c){return r(Js(a),no(l||{},s),c)},o&&(wi.prototype[t]=function(a,l,c){return this.add(TA[t](a,ua(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){jt[e]=bu(t)},parseEase:function(e,t){return arguments.length?bu(e,t):jt},getById:function(e){return kn.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new wi(e),i,s;for(r.smoothChildTiming=Wi(e.smoothChildTiming),kn.remove(r),r._dp=0,r._time=r._tTime=kn._time,i=kn._first;i;)s=i._next,(t||!(!i._dur&&i instanceof fr&&i.vars.onComplete===i._targets[0]))&&jo(r,i,i._start-i._delay),i=s;return jo(kn,r,0),r},context:function(e,t){return e?new mH(e,t):Qn},matchMedia:function(e){return new Kae(e)},matchMediaRefresh:function(){return Au.forEach(function(e){var t=e.conditions,r,i;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||xM()},addEventListener:function(e,t){var r=Oy[e]||(Oy[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=Oy[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:Mae,wrapYoyo:Tae,distribute:K5,random:J5,snap:Y5,normalize:Eae,getUnit:ii,clamp:Sae,splitColor:tH,toArray:Js,selector:vM,mapRange:Q5,pipe:Aae,unitize:wae,interpolate:Cae,shuffle:X5},install:D5,effects:TA,ticker:as,updateRoot:wi.updateRoot,plugins:is,globalTimeline:kn,core:{PropTween:ji,globals:k5,Tween:fr,Timeline:wi,Animation:Wm,getCache:xu,_removeLinkedListItem:i1,reverting:function(){return li},context:function(e){return e&&Qn&&(Qn.data.push(e),e._ctx=Qn),Qn},suppressOverwrites:function(e){return uR=e}}};$i("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return N_[n]=fr[n]});as.add(wi.updateRoot);dd=N_.to({},{duration:0});var Yae=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},Jae=function(e,t){var r=e._targets,i,s,o;for(i in t)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=Yae(o,i)),o&&o.modifier&&o.modifier(t[i],e,r[s],i))},LA=function(e,t){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(a){var l,c;if(Dr(s)&&(l={},$i(s,function(u){return l[u]=1}),s=l),t){l={};for(c in s)l[c]=t(s[c]);s=l}Jae(a,s)}}}},Ki=N_.registerPlugin({name:"attr",init:function(e,t,r,i,s){var o,a,l;this.tween=r;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],i,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var r=t._pt;r;)li?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},LA("roundProps",yM),LA("modifiers"),LA("snap",Y5))||N_;fr.version=wi.version=Ki.version="3.12.4";B5=1;dR()&&ih();jt.Power0;jt.Power1;jt.Power2;jt.Power3;jt.Power4;jt.Linear;jt.Quad;jt.Cubic;jt.Quart;jt.Quint;jt.Strong;jt.Elastic;jt.Back;jt.SteppedEase;jt.Bounce;jt.Sine;jt.Expo;jt.Circ;/*!
 * CSSPlugin 3.12.4
 * https://gsap.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var xD,Fl,Td,AR,cu,SD,wR,qae=function(){return typeof window<"u"},tl={},Qc=180/Math.PI,Cd=Math.PI/180,Nf=Math.atan2,bD=1e8,ER=/([A-Z])/g,Qae=/(left|right|width|margin|padding|x)/i,Zae=/[\s,\(]\S/,Xo={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},SM=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},ele=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},tle=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},nle=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},gH=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},vH=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},rle=function(e,t,r){return e.style[t]=r},ile=function(e,t,r){return e.style.setProperty(t,r)},sle=function(e,t,r){return e._gsap[t]=r},ole=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},ale=function(e,t,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},lle=function(e,t,r,i,s){var o=e._gsap;o[t]=r,o.renderTransform(s,o)},Un="transform",Xi=Un+"Origin",cle=function n(e,t){var r=this,i=this.target,s=i.style,o=i._gsap;if(e in tl&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Xo[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return r.tfm[a]=La(i,a)}):this.tfm[e]=o.x?o[e]:La(i,e),e===Xi&&(this.tfm.zOrigin=o.zOrigin);else return Xo.transform.split(",").forEach(function(a){return n.call(r,a,t)});if(this.props.indexOf(Un)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Xi,t,"")),e=Un}(s||t)&&this.props.push(e,t,s[e])},yH=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},ule=function(){var e=this.props,t=this.target,r=t.style,i=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(ER,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=wR(),(!s||!s.isStart)&&!r[Un]&&(yH(r),i.zOrigin&&r[Xi]&&(r[Xi]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},_H=function(e,t){var r={target:e,props:[],revert:ule,save:cle};return e._gsap||Ki.core.getCache(e),t&&t.split(",").forEach(function(i){return r.save(i)}),r},xH,bM=function(e,t){var r=Fl.createElementNS?Fl.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Fl.createElement(e);return r&&r.style?r:Fl.createElement(e)},ra=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(ER,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,sh(t)||t,1)||""},AD="O,Moz,ms,Ms,Webkit".split(","),sh=function(e,t,r){var i=t||cu,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(AD[o]+e in s););return o<0?null:(o===3?"ms":o>=0?AD[o]:"")+e},AM=function(){qae()&&window.document&&(xD=window,Fl=xD.document,Td=Fl.documentElement,cu=bM("div")||{style:{}},bM("div"),Un=sh(Un),Xi=Un+"Origin",cu.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",xH=!!sh("perspective"),wR=Ki.core.reverting,AR=1)},IA=function n(e){var t=bM("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(Td.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),Td.removeChild(t),this.style.cssText=s,o},wD=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},SH=function(e){var t;try{t=e.getBBox()}catch{t=IA.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===IA||(t=IA.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+wD(e,["x","cx","x1"])||0,y:+wD(e,["y","cy","y1"])||0,width:0,height:0}:t},bH=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&SH(e))},Du=function(e,t){if(t){var r=e.style,i;t in tl&&t!==Xi&&(t=Un),r.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(i==="--"?t:t.replace(ER,"-$1").toLowerCase())):r.removeAttribute(t)}},Ul=function(e,t,r,i,s,o){var a=new ji(e._pt,t,r,0,1,o?vH:gH);return e._pt=a,a.b=i,a.e=s,e._props.push(r),a},ED={deg:1,rad:1,turn:1},fle={grid:1,flex:1},uc=function n(e,t,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",a=cu.style,l=Qae.test(t),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),f=100,p=i==="px",m=i==="%",g,y,_,v;if(i===o||!s||ED[i]||ED[o])return s;if(o!=="px"&&!p&&(s=n(e,t,r,"px")),v=e.getCTM&&bH(e),(m||o==="%")&&(tl[t]||~t.indexOf("adius")))return g=v?e.getBBox()[l?"width":"height"]:e[u],ir(m?s/g*f:s/100*g);if(a[l?"width":"height"]=f+(p?o:i),y=~t.indexOf("adius")||i==="em"&&e.appendChild&&!c?e:e.parentNode,v&&(y=(e.ownerSVGElement||{}).parentNode),(!y||y===Fl||!y.appendChild)&&(y=Fl.body),_=y._gsap,_&&m&&_.width&&l&&_.time===as.time&&!_.uncache)return ir(s/_.width*f);if(m&&(t==="height"||t==="width")){var x=e.style[t];e.style[t]=f+i,g=e[u],x?e.style[t]=x:Du(e,t)}else(m||o==="%")&&!fle[ra(y,"display")]&&(a.position=ra(e,"position")),y===e&&(a.position="static"),y.appendChild(cu),g=cu[u],y.removeChild(cu),a.position="absolute";return l&&m&&(_=xu(y),_.time=as.time,_.width=y[u]),ir(p?g*s/f:g&&s?f/g*s:0)},La=function(e,t,r,i){var s;return AR||AM(),t in Xo&&t!=="transform"&&(t=Xo[t],~t.indexOf(",")&&(t=t.split(",")[0])),tl[t]&&t!=="transform"?(s=jm(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:U_(ra(e,Xi))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=F_[t]&&F_[t](e,t,r)||ra(e,t)||F5(e,t)||(t==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?uc(e,t,s,r)+r:s},dle=function(e,t,r,i){if(!r||r==="none"){var s=sh(t,e,1),o=s&&ra(e,s,1);o&&o!==r?(t=s,r=o):t==="borderColor"&&(r=ra(e,"borderTopColor"))}var a=new ji(this._pt,e.style,t,0,1,hH),l=0,c=0,u,f,p,m,g,y,_,v,x,b,A,M;if(a.b=r,a.e=i,r+="",i+="",i==="auto"&&(y=e.style[t],e.style[t]=i,i=ra(e,t)||i,y?e.style[t]=y:Du(e,t)),u=[r,i],rH(u),r=u[0],i=u[1],p=r.match(fd)||[],M=i.match(fd)||[],M.length){for(;f=fd.exec(i);)_=f[0],x=i.substring(l,f.index),g?g=(g+1)%5:(x.substr(-5)==="rgba("||x.substr(-5)==="hsla(")&&(g=1),_!==(y=p[c++]||"")&&(m=parseFloat(y)||0,A=y.substr((m+"").length),_.charAt(1)==="="&&(_=Md(m,_)+A),v=parseFloat(_),b=_.substr((v+"").length),l=fd.lastIndex-b.length,b||(b=b||ms.units[t]||A,l===i.length&&(i+=b,a.e+=b)),A!==b&&(m=uc(e,t,y,b)||0),a._pt={_next:a._pt,p:x||c===1?x:",",s:m,c:v-m,m:g&&g<4||t==="zIndex"?Math.round:0});a.c=l<i.length?i.substring(l,i.length):""}else a.r=t==="display"&&i==="none"?vH:gH;return L5.test(i)&&(a.e=0),this._pt=a,a},MD={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},hle=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),t[0]=MD[r]||r,t[1]=MD[i]||i,t.join(" ")},ple=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,i=r.style,s=t.u,o=r._gsap,a,l,c;if(s==="all"||s===!0)i.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],tl[a]&&(l=1,a=a==="transformOrigin"?Xi:Un),Du(r,a);l&&(Du(r,Un),o&&(o.svg&&r.removeAttribute("transform"),jm(r,1),o.uncache=1,yH(i)))}},F_={clearProps:function(e,t,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new ji(e._pt,t,r,0,0,ple);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},$m=[1,0,0,1,0,0],AH={},wH=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},TD=function(e){var t=ra(e,Un);return wH(t)?$m:t.substr(7).match(O5).map(ir)},MR=function(e,t){var r=e._gsap||xu(e),i=e.style,s=TD(e),o,a,l,c;return r.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?$m:s):(s===$m&&!e.offsetParent&&e!==Td&&!r.svg&&(l=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(c=1,a=e.nextElementSibling,Td.appendChild(e)),s=TD(e),l?i.display=l:Du(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):Td.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},wM=function(e,t,r,i,s,o){var a=e._gsap,l=s||MR(e,!0),c=a.xOrigin||0,u=a.yOrigin||0,f=a.xOffset||0,p=a.yOffset||0,m=l[0],g=l[1],y=l[2],_=l[3],v=l[4],x=l[5],b=t.split(" "),A=parseFloat(b[0])||0,M=parseFloat(b[1])||0,E,R,I,T;r?l!==$m&&(R=m*_-g*y)&&(I=A*(_/R)+M*(-y/R)+(y*x-_*v)/R,T=A*(-g/R)+M*(m/R)-(m*x-g*v)/R,A=I,M=T):(E=SH(e),A=E.x+(~b[0].indexOf("%")?A/100*E.width:A),M=E.y+(~(b[1]||b[0]).indexOf("%")?M/100*E.height:M)),i||i!==!1&&a.smooth?(v=A-c,x=M-u,a.xOffset=f+(v*m+x*y)-v,a.yOffset=p+(v*g+x*_)-x):a.xOffset=a.yOffset=0,a.xOrigin=A,a.yOrigin=M,a.smooth=!!i,a.origin=t,a.originIsAbsolute=!!r,e.style[Xi]="0px 0px",o&&(Ul(o,a,"xOrigin",c,A),Ul(o,a,"yOrigin",u,M),Ul(o,a,"xOffset",f,a.xOffset),Ul(o,a,"yOffset",p,a.yOffset)),e.setAttribute("data-svg-origin",A+" "+M)},jm=function(e,t){var r=e._gsap||new aH(e);if("x"in r&&!t&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=ra(e,Xi)||"0",u,f,p,m,g,y,_,v,x,b,A,M,E,R,I,T,P,B,U,j,N,G,V,$,F,X,Y,te,ee,J,ne,ue;return u=f=p=y=_=v=x=b=A=0,m=g=1,r.svg=!!(e.getCTM&&bH(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(i[Un]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[Un]!=="none"?l[Un]:"")),i.scale=i.rotate=i.translate="none"),R=MR(e,r.svg),r.svg&&(r.uncache?(F=e.getBBox(),c=r.xOrigin-F.x+"px "+(r.yOrigin-F.y)+"px",$=""):$=!t&&e.getAttribute("data-svg-origin"),wM(e,$||c,!!$||r.originIsAbsolute,r.smooth!==!1,R)),M=r.xOrigin||0,E=r.yOrigin||0,R!==$m&&(B=R[0],U=R[1],j=R[2],N=R[3],u=G=R[4],f=V=R[5],R.length===6?(m=Math.sqrt(B*B+U*U),g=Math.sqrt(N*N+j*j),y=B||U?Nf(U,B)*Qc:0,x=j||N?Nf(j,N)*Qc+y:0,x&&(g*=Math.abs(Math.cos(x*Cd))),r.svg&&(u-=M-(M*B+E*j),f-=E-(M*U+E*N))):(ue=R[6],J=R[7],Y=R[8],te=R[9],ee=R[10],ne=R[11],u=R[12],f=R[13],p=R[14],I=Nf(ue,ee),_=I*Qc,I&&(T=Math.cos(-I),P=Math.sin(-I),$=G*T+Y*P,F=V*T+te*P,X=ue*T+ee*P,Y=G*-P+Y*T,te=V*-P+te*T,ee=ue*-P+ee*T,ne=J*-P+ne*T,G=$,V=F,ue=X),I=Nf(-j,ee),v=I*Qc,I&&(T=Math.cos(-I),P=Math.sin(-I),$=B*T-Y*P,F=U*T-te*P,X=j*T-ee*P,ne=N*P+ne*T,B=$,U=F,j=X),I=Nf(U,B),y=I*Qc,I&&(T=Math.cos(I),P=Math.sin(I),$=B*T+U*P,F=G*T+V*P,U=U*T-B*P,V=V*T-G*P,B=$,G=F),_&&Math.abs(_)+Math.abs(y)>359.9&&(_=y=0,v=180-v),m=ir(Math.sqrt(B*B+U*U+j*j)),g=ir(Math.sqrt(V*V+ue*ue)),I=Nf(G,V),x=Math.abs(I)>2e-4?I*Qc:0,A=ne?1/(ne<0?-ne:ne):0),r.svg&&($=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!wH(ra(e,Un)),$&&e.setAttribute("transform",$))),Math.abs(x)>90&&Math.abs(x)<270&&(s?(m*=-1,x+=y<=0?180:-180,y+=y<=0?180:-180):(g*=-1,x+=x<=0?180:-180)),t=t||r.uncache,r.x=u-((r.xPercent=u&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=f-((r.yPercent=f&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=p+o,r.scaleX=ir(m),r.scaleY=ir(g),r.rotation=ir(y)+a,r.rotationX=ir(_)+a,r.rotationY=ir(v)+a,r.skewX=x+a,r.skewY=b+a,r.transformPerspective=A+o,(r.zOrigin=parseFloat(c.split(" ")[2])||!t&&r.zOrigin||0)&&(i[Xi]=U_(c)),r.xOffset=r.yOffset=0,r.force3D=ms.force3D,r.renderTransform=r.svg?gle:xH?EH:mle,r.uncache=0,r},U_=function(e){return(e=e.split(" "))[0]+" "+e[1]},BA=function(e,t,r){var i=ii(t);return ir(parseFloat(t)+parseFloat(uc(e,"x",r+"px",i)))+i},mle=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,EH(e,t)},Wc="0deg",Mp="0px",$c=") ",EH=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.z,c=r.rotation,u=r.rotationY,f=r.rotationX,p=r.skewX,m=r.skewY,g=r.scaleX,y=r.scaleY,_=r.transformPerspective,v=r.force3D,x=r.target,b=r.zOrigin,A="",M=v==="auto"&&e&&e!==1||v===!0;if(b&&(f!==Wc||u!==Wc)){var E=parseFloat(u)*Cd,R=Math.sin(E),I=Math.cos(E),T;E=parseFloat(f)*Cd,T=Math.cos(E),o=BA(x,o,R*T*-b),a=BA(x,a,-Math.sin(E)*-b),l=BA(x,l,I*T*-b+b)}_!==Mp&&(A+="perspective("+_+$c),(i||s)&&(A+="translate("+i+"%, "+s+"%) "),(M||o!==Mp||a!==Mp||l!==Mp)&&(A+=l!==Mp||M?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+$c),c!==Wc&&(A+="rotate("+c+$c),u!==Wc&&(A+="rotateY("+u+$c),f!==Wc&&(A+="rotateX("+f+$c),(p!==Wc||m!==Wc)&&(A+="skew("+p+", "+m+$c),(g!==1||y!==1)&&(A+="scale("+g+", "+y+$c),x.style[Un]=A||"translate(0, 0)"},gle=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,a=r.y,l=r.rotation,c=r.skewX,u=r.skewY,f=r.scaleX,p=r.scaleY,m=r.target,g=r.xOrigin,y=r.yOrigin,_=r.xOffset,v=r.yOffset,x=r.forceCSS,b=parseFloat(o),A=parseFloat(a),M,E,R,I,T;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=Cd,c*=Cd,M=Math.cos(l)*f,E=Math.sin(l)*f,R=Math.sin(l-c)*-p,I=Math.cos(l-c)*p,c&&(u*=Cd,T=Math.tan(c-u),T=Math.sqrt(1+T*T),R*=T,I*=T,u&&(T=Math.tan(u),T=Math.sqrt(1+T*T),M*=T,E*=T)),M=ir(M),E=ir(E),R=ir(R),I=ir(I)):(M=f,I=p,E=R=0),(b&&!~(o+"").indexOf("px")||A&&!~(a+"").indexOf("px"))&&(b=uc(m,"x",o,"px"),A=uc(m,"y",a,"px")),(g||y||_||v)&&(b=ir(b+g-(g*M+y*R)+_),A=ir(A+y-(g*E+y*I)+v)),(i||s)&&(T=m.getBBox(),b=ir(b+i/100*T.width),A=ir(A+s/100*T.height)),T="matrix("+M+","+E+","+R+","+I+","+b+","+A+")",m.setAttribute("transform",T),x&&(m.style[Un]=T)},vle=function(e,t,r,i,s){var o=360,a=Dr(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Qc:1),c=l-i,u=i+c+"deg",f,p;return a&&(f=s.split("_")[1],f==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-o)),f==="cw"&&c<0?c=(c+o*bD)%o-~~(c/o)*o:f==="ccw"&&c>0&&(c=(c-o*bD)%o-~~(c/o)*o)),e._pt=p=new ji(e._pt,t,r,i,c,ele),p.e=u,p.u="deg",e._props.push(r),p},CD=function(e,t){for(var r in t)e[r]=t[r];return e},yle=function(e,t,r){var i=CD({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,a,l,c,u,f,p,m,g;i.svg?(c=r.getAttribute("transform"),r.setAttribute("transform",""),o[Un]=t,a=jm(r,1),Du(r,Un),r.setAttribute("transform",c)):(c=getComputedStyle(r)[Un],o[Un]=t,a=jm(r,1),o[Un]=c);for(l in tl)c=i[l],u=a[l],c!==u&&s.indexOf(l)<0&&(m=ii(c),g=ii(u),f=m!==g?uc(r,l,c,g):parseFloat(c),p=parseFloat(u),e._pt=new ji(e._pt,a,l,f,p-f,SM),e._pt.u=g||0,e._props.push(l));CD(a,i)};$i("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",o=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(a){return e<2?n+a:"border"+a+n});F_[e>1?"border"+n:n]=function(a,l,c,u,f){var p,m;if(arguments.length<4)return p=o.map(function(g){return La(a,g,c)}),m=p.join(" "),m.split(p[0]).length===5?p[0]:m;p=(u+"").split(" "),m={},o.forEach(function(g,y){return m[g]=p[y]=p[y]||p[(y-1)/2|0]}),a.init(l,m,f)}});var MH={name:"css",register:AM,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,s){var o=this._props,a=e.style,l=r.vars.startAt,c,u,f,p,m,g,y,_,v,x,b,A,M,E,R,I;AR||AM(),this.styles=this.styles||_H(e),I=this.styles.props,this.tween=r;for(y in t)if(y!=="autoRound"&&(u=t[y],!(is[y]&&lH(y,t,r,i,e,s)))){if(m=typeof u,g=F_[y],m==="function"&&(u=u.call(r,i,e,s),m=typeof u),m==="string"&&~u.indexOf("random(")&&(u=Gm(u)),g)g(this,e,y,u,r)&&(R=1);else if(y.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(y)+"").trim(),u+="",Zl.lastIndex=0,Zl.test(c)||(_=ii(c),v=ii(u)),v?_!==v&&(c=uc(e,y,c,v)+v):_&&(u+=_),this.add(a,"setProperty",c,u,i,s,0,0,y),o.push(y),I.push(y,0,a[y]);else if(m!=="undefined"){if(l&&y in l?(c=typeof l[y]=="function"?l[y].call(r,i,e,s):l[y],Dr(c)&&~c.indexOf("random(")&&(c=Gm(c)),ii(c+"")||c==="auto"||(c+=ms.units[y]||ii(La(e,y))||""),(c+"").charAt(1)==="="&&(c=La(e,y))):c=La(e,y),p=parseFloat(c),x=m==="string"&&u.charAt(1)==="="&&u.substr(0,2),x&&(u=u.substr(2)),f=parseFloat(u),y in Xo&&(y==="autoAlpha"&&(p===1&&La(e,"visibility")==="hidden"&&f&&(p=0),I.push("visibility",0,a.visibility),Ul(this,a,"visibility",p?"inherit":"hidden",f?"inherit":"hidden",!f)),y!=="scale"&&y!=="transform"&&(y=Xo[y],~y.indexOf(",")&&(y=y.split(",")[0]))),b=y in tl,b){if(this.styles.save(y),A||(M=e._gsap,M.renderTransform&&!t.parseTransform||jm(e,t.parseTransform),E=t.smoothOrigin!==!1&&M.smooth,A=this._pt=new ji(this._pt,a,Un,0,1,M.renderTransform,M,0,-1),A.dep=1),y==="scale")this._pt=new ji(this._pt,M,"scaleY",M.scaleY,(x?Md(M.scaleY,x+f):f)-M.scaleY||0,SM),this._pt.u=0,o.push("scaleY",y),y+="X";else if(y==="transformOrigin"){I.push(Xi,0,a[Xi]),u=hle(u),M.svg?wM(e,u,0,E,0,this):(v=parseFloat(u.split(" ")[2])||0,v!==M.zOrigin&&Ul(this,M,"zOrigin",M.zOrigin,v),Ul(this,a,y,U_(c),U_(u)));continue}else if(y==="svgOrigin"){wM(e,u,1,E,0,this);continue}else if(y in AH){vle(this,M,y,p,x?Md(p,x+u):u);continue}else if(y==="smoothOrigin"){Ul(this,M,"smooth",M.smooth,u);continue}else if(y==="force3D"){M[y]=u;continue}else if(y==="transform"){yle(this,u,e);continue}}else y in a||(y=sh(y)||y);if(b||(f||f===0)&&(p||p===0)&&!Zae.test(u)&&y in a)_=(c+"").substr((p+"").length),f||(f=0),v=ii(u)||(y in ms.units?ms.units[y]:_),_!==v&&(p=uc(e,y,c,v)),this._pt=new ji(this._pt,b?M:a,y,p,(x?Md(p,x+f):f)-p,!b&&(v==="px"||y==="zIndex")&&t.autoRound!==!1?nle:SM),this._pt.u=v||0,_!==v&&v!=="%"&&(this._pt.b=c,this._pt.r=tle);else if(y in a)dle.call(this,e,y,c,x?x+u:u);else if(y in e)this.add(e,y,c||e[y],x?x+u:u,i,s);else if(y!=="parseTransform"){pR(y,u);continue}b||(y in a?I.push(y,0,a[y]):I.push(y,1,c||e[y])),o.push(y)}}R&&pH(this)},render:function(e,t){if(t.tween._time||!wR())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:La,aliases:Xo,getSetter:function(e,t,r){var i=Xo[t];return i&&i.indexOf(",")<0&&(t=i),t in tl&&t!==Xi&&(e._gsap.x||La(e,"x"))?r&&SD===r?t==="scale"?ole:sle:(SD=r||{})&&(t==="scale"?ale:lle):e.style&&!fR(e.style[t])?rle:~t.indexOf("-")?ile:SR(e,t)},core:{_removeProperty:Du,_getMatrix:MR}};Ki.utils.checkPrefix=sh;Ki.core.getStyleSaver=_H;(function(n,e,t,r){var i=$i(n+","+e+","+t,function(s){tl[s]=1});$i(e,function(s){ms.units[s]="deg",AH[s]=1}),Xo[i[13]]=n+","+e,$i(r,function(s){var o=s.split(":");Xo[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");$i("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){ms.units[n]="px"});Ki.registerPlugin(MH);var zl=Ki.registerPlugin(MH)||Ki;zl.core.Tween;/*!
 * @gsap/react
 * https://gsap.com
 *
 * Copyright 2008-2023, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/const RD=typeof window<"u"?O.useLayoutEffect:O.useEffect,PD=n=>n&&!Array.isArray(n)&&typeof n=="object",ey=[],_le={},EM=(n,e=ey)=>{let t=_le;PD(n)?(t=n,n=null,e="dependencies"in t?t.dependencies:ey):PD(e)&&(t=e,e="dependencies"in t?t.dependencies:ey);let{scope:r,revertOnUpdate:i}=t,[s,o]=O.useState(!1);n&&typeof n!="function"&&console.warn("First parameter must be a function or config object");const a=zl.context(()=>{},r),l=f=>a.add(null,f),c=()=>a.revert(),u=e&&e.length&&!i;return RD(()=>{if(n&&a.add(n,r),!u||!s)return c},e),u&&RD(()=>(o(!0),c),ey),{context:a,contextSafe:l}};var TH=Symbol.for("immer-nothing"),OD=Symbol.for("immer-draftable"),xs=Symbol.for("immer-state");function yo(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var oh=Object.getPrototypeOf;function ah(n){return!!n&&!!n[xs]}function ku(n){var e;return n?CH(n)||Array.isArray(n)||!!n[OD]||!!((e=n.constructor)!=null&&e[OD])||l1(n)||c1(n):!1}var xle=Object.prototype.constructor.toString();function CH(n){if(!n||typeof n!="object")return!1;const e=oh(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===xle}function z_(n,e){a1(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,r)=>e(r,t,n))}function a1(n){const e=n[xs];return e?e.type_:Array.isArray(n)?1:l1(n)?2:c1(n)?3:0}function MM(n,e){return a1(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function RH(n,e,t){const r=a1(n);r===2?n.set(e,t):r===3?n.add(t):n[e]=t}function Sle(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function l1(n){return n instanceof Map}function c1(n){return n instanceof Set}function Zc(n){return n.copy_||n.base_}function TM(n,e){if(l1(n))return new Map(n);if(c1(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);if(!e&&CH(n))return oh(n)?{...n}:Object.assign(Object.create(null),n);const t=Object.getOwnPropertyDescriptors(n);delete t[xs];let r=Reflect.ownKeys(t);for(let i=0;i<r.length;i++){const s=r[i],o=t[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[s]})}return Object.create(oh(n),t)}function TR(n,e=!1){return u1(n)||ah(n)||!ku(n)||(a1(n)>1&&(n.set=n.add=n.clear=n.delete=ble),Object.freeze(n),e&&Object.entries(n).forEach(([t,r])=>TR(r,!0))),n}function ble(){yo(2)}function u1(n){return Object.isFrozen(n)}var Ale={};function Nu(n){const e=Ale[n];return e||yo(0,n),e}var Xm;function PH(){return Xm}function wle(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function LD(n,e){e&&(Nu("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function CM(n){RM(n),n.drafts_.forEach(Ele),n.drafts_=null}function RM(n){n===Xm&&(Xm=n.parent_)}function ID(n){return Xm=wle(Xm,n)}function Ele(n){const e=n[xs];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function BD(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[xs].modified_&&(CM(e),yo(4)),ku(n)&&(n=H_(e,n),e.parent_||G_(e,n)),e.patches_&&Nu("Patches").generateReplacementPatches_(t[xs].base_,n,e.patches_,e.inversePatches_)):n=H_(e,t,[]),CM(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==TH?n:void 0}function H_(n,e,t){if(u1(e))return e;const r=e[xs];if(!r)return z_(e,(i,s)=>DD(n,r,e,i,s,t)),e;if(r.scope_!==n)return e;if(!r.modified_)return G_(n,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,o=!1;r.type_===3&&(s=new Set(i),i.clear(),o=!0),z_(s,(a,l)=>DD(n,r,i,a,l,t,o)),G_(n,i,!1),t&&n.patches_&&Nu("Patches").generatePatches_(r,t,n.patches_,n.inversePatches_)}return r.copy_}function DD(n,e,t,r,i,s,o){if(ah(i)){const a=s&&e&&e.type_!==3&&!MM(e.assigned_,r)?s.concat(r):void 0,l=H_(n,i,a);if(RH(t,r,l),ah(l))n.canAutoFreeze_=!1;else return}else o&&t.add(i);if(ku(i)&&!u1(i)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;H_(n,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,r)&&G_(n,i)}}function G_(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&TR(e,t)}function Mle(n,e){const t=Array.isArray(n),r={type_:t?1:0,scope_:e?e.scope_:PH(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=CR;t&&(i=[r],s=Km);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,a}var CR={get(n,e){if(e===xs)return n;const t=Zc(n);if(!MM(t,e))return Tle(n,t,e);const r=t[e];return n.finalized_||!ku(r)?r:r===DA(n.base_,e)?(kA(n),n.copy_[e]=OM(r,n)):r},has(n,e){return e in Zc(n)},ownKeys(n){return Reflect.ownKeys(Zc(n))},set(n,e,t){const r=OH(Zc(n),e);if(r!=null&&r.set)return r.set.call(n.draft_,t),!0;if(!n.modified_){const i=DA(Zc(n),e),s=i==null?void 0:i[xs];if(s&&s.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(Sle(t,i)&&(t!==void 0||MM(n.base_,e)))return!0;kA(n),PM(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return DA(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,kA(n),PM(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Zc(n),r=Reflect.getOwnPropertyDescriptor(t,e);return r&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:r.enumerable,value:t[e]}},defineProperty(){yo(11)},getPrototypeOf(n){return oh(n.base_)},setPrototypeOf(){yo(12)}},Km={};z_(CR,(n,e)=>{Km[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Km.deleteProperty=function(n,e){return Km.set.call(this,n,e,void 0)};Km.set=function(n,e,t){return CR.set.call(this,n[0],e,t,n[0])};function DA(n,e){const t=n[xs];return(t?Zc(t):n)[e]}function Tle(n,e,t){var i;const r=OH(e,t);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(n.draft_):void 0}function OH(n,e){if(!(e in n))return;let t=oh(n);for(;t;){const r=Object.getOwnPropertyDescriptor(t,e);if(r)return r;t=oh(t)}}function PM(n){n.modified_||(n.modified_=!0,n.parent_&&PM(n.parent_))}function kA(n){n.copy_||(n.copy_=TM(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var Cle=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,r)=>{if(typeof e=="function"&&typeof t!="function"){const s=t;t=e;const o=this;return function(l=s,...c){return o.produce(l,u=>t.call(this,u,...c))}}typeof t!="function"&&yo(6),r!==void 0&&typeof r!="function"&&yo(7);let i;if(ku(e)){const s=ID(this),o=OM(e,void 0);let a=!0;try{i=t(o),a=!1}finally{a?CM(s):RM(s)}return LD(s,r),BD(i,s)}else if(!e||typeof e!="object"){if(i=t(e),i===void 0&&(i=e),i===TH&&(i=void 0),this.autoFreeze_&&TR(i,!0),r){const s=[],o=[];Nu("Patches").generateReplacementPatches_(e,i,s,o),r(s,o)}return i}else yo(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,t,(o,a)=>{r=o,i=a}),r,i]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){ku(n)||yo(8),ah(n)&&(n=Rle(n));const e=ID(this),t=OM(n,void 0);return t[xs].isManual_=!0,RM(e),t}finishDraft(n,e){const t=n&&n[xs];(!t||!t.isManual_)&&yo(9);const{scope_:r}=t;return LD(r,e),BD(void 0,r)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const i=e[t];if(i.path.length===0&&i.op==="replace"){n=i.value;break}}t>-1&&(e=e.slice(t+1));const r=Nu("Patches").applyPatches_;return ah(n)?r(n,e):this.produce(n,i=>r(i,e))}};function OM(n,e){const t=l1(n)?Nu("MapSet").proxyMap_(n,e):c1(n)?Nu("MapSet").proxySet_(n,e):Mle(n,e);return(e?e.scope_:PH()).drafts_.push(t),t}function Rle(n){return ah(n)||yo(10,n),LH(n)}function LH(n){if(!ku(n)||u1(n))return n;const e=n[xs];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=TM(n,e.scope_.immer_.useStrictShallowCopy_)}else t=TM(n,!0);return z_(t,(r,i)=>{RH(t,r,LH(i))}),e&&(e.finalized_=!1),t}var Ss=new Cle,ty=Ss.produce;Ss.produceWithPatches.bind(Ss);Ss.setAutoFreeze.bind(Ss);Ss.setUseStrictShallowCopy.bind(Ss);Ss.applyPatches.bind(Ss);Ss.createDraft.bind(Ss);Ss.finishDraft.bind(Ss);const Me={noSelectWhite:new De(16777215),concreteFloor:new De(9474192),blueTape:new De(5603504),brownBag:new De(9796703),floorStain:new De(13421772),whiteStain:new De(11119017),naturalStain:new De(10000536),blackStain:new De(7895160),allBlackStain:new De(7895160),alabasterPaint:new De(16776688),pinkPaint:new De(15913414),basilPaint:new De(9608580),yellowPaint:new De(15914628),bluePaint:new De(9875626),grayPaint:new De(9210753),paintedTexture:["./textures/MetalSteelBrushed001/CeramicPlainWhite001_COL_2K.jpg","./textures/MetalSteelBrushed001/MetalSteelBrushed001_NRM_2K_METALNESS.png","./textures/MetalSteelBrushed001/MetalSteelBrushed001_ROUGHNESS_2K_METALNESS.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_METALNESS_2K_METALNESS.png"],woodFloorAshWhiteTexture:["./textures/WoodFlooringAshSuperWhite001/WoodFlooringAshSuperWhite001_COL_2K.jpg","./textures/WoodFlooringAshSuperWhite001/WoodFlooringAshSuperWhite001_DISP_2K.jpg","./textures/WoodFlooringAshSuperWhite001/WoodFlooringAshSuperWhite001_NRM_2K.png","./textures/WoodFlooringAshSuperWhite001/WoodFlooringAshSuperWhite001_GLOSS_2K_inverted.jpg","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_ROUGHNESS_2K_METALNESS.png","./textures/WoodFlooringAshSuperWhite001/WoodFlooringAshSuperWhite001_AO_2K.jpg"],woodFloorWornPlanksTexture:["./textures/WoodPlanksWorn001/WoodPlanksWorn001_COL_2K.jpg","./textures/WoodPlanksWorn001/WoodPlanksWorn001_DISP_2K.jpg","./textures/WoodPlanksWorn001/WoodPlanksWorn001_NRM_2K.jpg","./textures/WoodPlanksWorn001/WoodPlanksWorn001_GLOSS_2K_inverted.jpg","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_ROUGHNESS_2K_METALNESS.png","./textures/WoodPlanksWorn001/WoodPlanksWorn001_AO_2K.jpg"],whiteTexture:["./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_COL_2K_METALNESS_white4.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_NRM_2K_METALNESS.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_METALNESS_2K_METALNESS.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_ROUGHNESS_2K_METALNESS.png"],naturalTexture:["./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_COL_2K_METALNESS_natural.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_NRM_2K_METALNESS.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_METALNESS_2K_METALNESS.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_ROUGHNESS_2K_METALNESS.png"],blackTexture:["./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_COL_2K_METALNESS_black.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_NRM_2K_METALNESS.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_METALNESS_2K_METALNESS.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_ROUGHNESS_2K_METALNESS.png"],allBlackTexture:["./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_COL_2K_METALNESS_allBlack.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_NRM_2K_METALNESS.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_METALNESS_2K_METALNESS.png","./textures/VeneerWhiteOakRandomMatched001/VeneerWhiteOakRandomMatched001_ROUGHNESS_2K_METALNESS.png"]},Rr={paints:["alabaster","pink","basil","yellow","blue","gray"],stains:["white","natural","black","allBlack"]},V_=["alabaster","pink","basil","yellow","blue","gray","white","natural","black","allBlack"];class Ma{constructor(e,t,r,i,s,o,a,l,c,u,f,p){this.itemNo=e,this.itemName=t,this.itemTitle=r,this.itemDescription=i,this.itemLongDescription=s,this.itemBasePrice=o,this.itemStainCost=a,this.itemMixedPaintCost=l,this.itemMixedStainCost=c,this.size=u,this.position=f,this.parts=p}}class zt{constructor(e,t,r,i,s){this.itemName=e,this.partName=t,this.descPartName=r,this.animation=i,this.model=s}}const mn={gramps:new Ma(0,"gramps","GRAMPS","Shop stool","A sturdy shop stool that I designed as a tribute to my late grandfather. I made the first edition of these using inherited lumber that Gramps had milled from trees on family properties. A nice place to sit and think, suitable for working and remembering.",750,150,50,150,"16 x 16 x 18 in.",{x:0,y:0,z:1.75},[new zt("gramps","top","top","posY2","./models/grampsModels/grampsTop.gltf"),new zt("gramps","barBottom","bottom bar","none","./models/grampsModels/grampsBarBottom.gltf"),new zt("gramps","barTop","top bar","posY1","./models/grampsModels/grampsBarTop.gltf"),new zt("gramps","leg1","leg 1","negX","./models/grampsModels/grampsLeg1.gltf"),new zt("gramps","leg2","leg 2","negZ","./models/grampsModels/grampsLeg2.gltf"),new zt("gramps","leg3","leg 3","posX","./models/grampsModels/grampsLeg3.gltf"),new zt("gramps","leg4","leg 4","posZ","./models/grampsModels/grampsLeg4.gltf")]),squatter:new Ma(1,"squatter","SQUATTER","Low stool/end table","This was one of my first furniture designs, meant to embody function, beauty and simplicity. It can be used as a low stool or end table, and has a compact footprint for easy storage. A solid spot to lace up your boots.",600,100,50,100,"16 x 12 x 18 in.",{x:-1.75,y:0,z:0},[new zt("squatter","top","top","posY1","./models/squatterModels/squatterTop.gltf"),new zt("squatter","centerPanel","center panel","none","./models/squatterModels/squatterCenterPanel.gltf"),new zt("squatter","side1","side 1","posZ","./models/squatterModels/squatterSide1.gltf"),new zt("squatter","side2","side 2","negZ","./models/squatterModels/squatterSide2.gltf")]),block:new Ma(2,"block","BLOCK","Wooden “cinderblock”","I made my first “cinderblocks” for my exhibition “/X”. Based on the dimensions of a standard CMU (concrete masonry unit) these wooden blocks can be stacked horizontally and/or vertically.",250,150,50,150,"8 x 8 x 16 in.",{x:0,y:0,z:-1.75},[new zt("block","shelfTop","top shelf","none","./models/blockModels/blockShelfTop.gltf"),new zt("block","shelfMiddle","middle shelf","none","./models/blockModels/blockShelfMiddle.gltf"),new zt("block","shelfBottom","bottom shelf","none","./models/blockModels/blockShelfBottom.gltf"),new zt("block","side1","side 1","negX","./models/blockModels/blockSide1.gltf"),new zt("block","side2","side 2","posX","./models/blockModels/blockSide2.gltf")]),horse:new Ma(3,"horse","HORSE","Furniture-grade sawhorse (flat pack)","Originally featured in my exhibition “/X”, the sawhorse form is a universal symbol of functionality. This furniture grade version comes flat packed and is assembled with allen head screws.",400,100,50,100,"32 x 20 x 32 in.",{x:1.75,y:0,z:0},[new zt("horse","top","top","posY1","./models/horseModels/horseBarTop.gltf"),new zt("horse","barInner","inner bar","none","./models/horseModels/horseBarInner.gltf"),new zt("horse","leg1","leg 1","negZ","./models/horseModels/horseLeg1.gltf"),new zt("horse","leg2","leg 2","negZ","./models/horseModels/horseLeg2.gltf"),new zt("horse","leg3","leg 3","posZ","./models/horseModels/horseLeg3.gltf"),new zt("horse","leg4","leg 4","posZ","./models/horseModels/horseLeg4.gltf")]),shelfA16:new Ma(4,"shelfA16","\\SHELF/ 16","Floating shelf with crown profile","I designed these floating shelves to display artwork, pictures and nick-nacks. The two simple profile options are intended to complement both traditional and contemporary millwork. Available in two stock sizes and profiles (custom dimensions available by request). Includes hanging cleat.",350,50,50,50,"16 x 4 x 4 in.",{x:-3,y:0,z:-2.08},[new zt("shelfA16","top","top","posXposY1","./models/shelfA16Models/shelfA16Top.gltf"),new zt("shelfA16","bottom","bottom","posXposY1","./models/shelfA16Models/shelfA16Bottom.gltf"),new zt("shelfA16","cleat","cleat","none","./models/shelfA16Models/shelfA16Cleat.gltf")]),shelfA32:new Ma(5,"shelfA32","\\SHELF/ 32","Floating shelf with crown profile","I designed these floating shelves to display artwork, pictures and nick-nacks. The two simple profile options are intended to complement both traditional and contemporary millwork. Available in two stock sizes and profiles (custom dimensions available by request). Includes hanging cleat.",550,50,50,50,"32 x 4 x 4 in.",{x:-3,y:0,z:-1.0625},[new zt("shelfA32","top","top","posXposY1","./models/shelfA32Models/shelfA32Top.gltf"),new zt("shelfA32","bottom","bottom","posXposY1","./models/shelfA32Models/shelfA32Bottom.gltf"),new zt("shelfA32","cleat","cleat","none","./models/shelfA32Models/shelfA32Cleat.gltf")]),shelfB16:new Ma(6,"shelfB16","(SHELF) 16","Floating shelf with rounded profile","I designed these floating shelves to display artwork, pictures and nick-nacks. The two simple profile options are intended to complement both traditional and contemporary millwork. Available in two stock sizes and profiles (custom dimensions available by request). Includes hanging cleat.",350,50,50,50,"16 x 4 x 4 in.",{x:.86,y:0,z:3},[new zt("shelfB16","top","top","negZposY1","./models/shelfB16Models/shelfB16Top.gltf"),new zt("shelfB16","middle","middle","negZposY1","./models/shelfB16Models/shelfB16Middle.gltf"),new zt("shelfB16","bottom","bottom","negZposY1","./models/shelfB16Models/shelfB16Bottom.gltf"),new zt("shelfB16","cleat","cleat","none","./models/shelfB16Models/shelfB16Cleat.gltf")]),shelfB32:new Ma(7,"shelfB32","(SHELF) 32","Floating shelf with rounded profile","I designed these floating shelves to display artwork, pictures and nick-nacks. The two simple profile options are intended to complement both traditional and contemporary millwork. Available in two stock sizes and profiles (custom dimensions available by request). Includes hanging cleat.",550,50,50,50,"32 x 4 x 4 in.",{x:1.8775,y:0,z:3},[new zt("shelfB32","top","top","negZposY1","./models/shelfB32Models/shelfB32Top.gltf"),new zt("shelfB32","middle","middle","negZposY1","./models/shelfB32Models/shelfB32Middle.gltf"),new zt("shelfB32","bottom","bottom","negZposY1","./models/shelfB32Models/shelfB32Bottom.gltf"),new zt("shelfB32","cleat","cleat","none","./models/shelfB32Models/shelfB32Cleat.gltf")])},Ko=new Ma("","noSelect","noSelectTitle","Select item","Select item",0,0,0,0,[],{x:0,y:0,z:0},[new zt("","","","","")]),LM=[mn.gramps,mn.squatter,mn.block,mn.horse,mn.shelfA16,mn.shelfA32,mn.shelfB16,mn.shelfB32],Yo=iae(n=>({currentItemSelected:{},previousItemSelected:{},items:{gramps:{data:mn.gramps,animActive:!1,stainSingle:!1,stainMixed:!1,stainPaintMixed:!1,paintSingle:!1,paintMixed:!1,snipCartOption:"default",snipCartOptionDesc:"default",optionColorNameList:["default","default","default","default","default","default","default"],optionCompleteList:["default","default","default","default","default","default","default"],optionCartList:["default","default","default","default","default","default","default"],optionSelectedPrice:0,parts:{top:{partName:"top",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},barBottom:{partName:"bottom bar",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},barTop:{partName:"top bar",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},leg1:{partName:"leg 1",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},leg2:{partName:"leg 2",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},leg3:{partName:"leg 3",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},leg4:{partName:"leg 4",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture}}},squatter:{data:mn.squatter,animActive:!1,stainSingle:!1,stainMixed:!1,stainPaintMixed:!1,paintSingle:!1,paintMixed:!1,snipCartOption:"default",snipCartOptionDesc:"default",optionColorNameList:["default","default","default","default"],optionCompleteList:["default","default","default","default"],optionCartList:["default","default","default","default"],optionSelectedPrice:0,parts:{top:{partName:"top",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},centerPanel:{partName:"center panel",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},side1:{partName:"side 1",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},side2:{partName:"side 2",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture}}},block:{data:mn.block,animActive:!1,stainSingle:!1,stainMixed:!1,stainPaintMixed:!1,paintSingle:!1,paintMixed:!1,snipCartOption:"default",snipCartOptionDesc:"default",optionColorNameList:["default","default","default","default","default"],optionCompleteList:["default","default","default","default","default"],optionCartList:["default","default","default","default","default"],optionSelectedPrice:0,parts:{shelfTop:{partName:"top shelf",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},shelfMiddle:{partName:"middle shelf",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},shelfBottom:{partName:"bottom shelf",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},side1:{partName:"side 1",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},side2:{partName:"side 2",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture}}},horse:{data:mn.horse,animActive:!1,stainSingle:!1,stainMixed:!1,stainPaintMixed:!1,paintSingle:!1,paintMixed:!1,snipCartOption:"default",snipCartOptionDesc:"default",optionColorNameList:["default","default","default","default","default","default"],optionCompleteList:["default","default","default","default","default","default"],optionCartList:["default","default","default","default","default","default"],optionSelectedPrice:0,parts:{top:{partName:"top",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},barInner:{partName:"inner bar",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},leg1:{partName:"leg 1",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},leg2:{partName:"leg 2",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},leg3:{partName:"leg 3",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},leg4:{partName:"leg 4",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture}}},shelfA16:{data:mn.shelfA16,animActive:!1,stainSingle:!1,stainMixed:!1,stainPaintMixed:!1,paintSingle:!1,paintMixed:!1,snipCartOption:"default",snipCartOptionDesc:"default",optionColorNameList:["default","default"],optionCompleteList:["default","default"],optionCartList:["default","default"],optionSelectedPrice:0,parts:{top:{partName:"top",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},bottom:{partName:"bottom",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},cleat:{partName:"cleat",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture}}},shelfA32:{data:mn.shelfA32,animActive:!1,stainSingle:!1,stainMixed:!1,stainPaintMixed:!1,paintSingle:!1,paintMixed:!1,snipCartOption:"default",snipCartOptionDesc:"default",optionColorNameList:["default","default"],optionCompleteList:["default","default"],optionCartList:["default","default"],optionSelectedPrice:0,parts:{top:{partName:"top",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},bottom:{partName:"bottom",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},cleat:{partName:"cleat",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture}}},shelfB16:{data:mn.shelfB16,animActive:!1,stainSingle:!1,stainMixed:!1,stainPaintMixed:!1,paintSingle:!1,paintMixed:!1,snipCartOption:"default",snipCartOptionDesc:"default",optionColorNameList:["default","default","default"],optionCompleteList:["default","default","default"],optionCartList:["default","default","default"],optionSelectedPrice:0,parts:{top:{partName:"top",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},middle:{partName:"middle",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},bottom:{partName:"bottom",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},cleat:{partName:"cleat",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture}}},shelfB32:{data:mn.shelfB32,animActive:!1,stainSingle:!1,stainMixed:!1,stainPaintMixed:!1,paintSingle:!1,paintMixed:!1,snipCartOption:"default",snipCartOptionDesc:"default",optionColorNameList:["default","default","default"],optionCompleteList:["default","default","default"],optionCartList:["default","default","default"],optionSelectedPrice:0,parts:{top:{partName:"top",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},middle:{partName:"middle",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},bottom:{partName:"bottom",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture},cleat:{partName:"cleat",colorType:"default",colorName:"default",color:Me.whiteStain,texture:Me.paintedTexture}}}},calculateItemPrice:e=>n(ty(t=>{let r=t.items[e].optionSelectedPrice;const i=c=>c.every(u=>u===c[0]);let s=Object.values(t.items[e].parts),o=s.filter(c=>c.partName!=="cleat").map(c=>c.colorType),a=s.filter(c=>c.partName!=="cleat").map(c=>{let u="";return Rr.stains.includes(c.colorName)?u="stain":Rr.paints.includes(c.colorName)&&(u="paint"),` ${c.partName}: ${c.colorName} ${u} `}),l=s.filter(c=>c.partName!=="cleat").map(c=>c.colorName);t.items[e].optionColorNameList=l,t.items[e].optionCompleteList=s,t.items[e].optionCartList=a,(!o.includes("default")||!l.includes("default"))&&(o.includes("stain")&&i(o)?i(l)?(t.items[e].stainSingle=!0,t.items[e].stainMixed=!1,t.items[e].stainPaintMixed=!1,t.items[e].paintSingle=!1,t.items[e].paintMixed=!1,t.items[e].snipCartOptionDesc="Single stain",t.items[e].snipCartOption="singleStain",r=t.items[e].data.itemBasePrice+t.items[e].data.itemStainCost):i(l)||(t.items[e].stainSingle=!1,t.items[e].stainMixed=!0,t.items[e].stainPaintMixed=!1,t.items[e].paintSingle=!1,t.items[e].paintMixed=!1,t.items[e].snipCartOptionDesc="Mixed stain",t.items[e].snipCartOption="mixedStain",r=t.items[e].data.itemBasePrice+t.items[e].data.itemStainCost):o.includes("stain")&&!i(o)?(t.items[e].stainSingle=!1,t.items[e].stainMixed=!1,t.items[e].stainPaintMixed=!0,t.items[e].paintSingle=!1,t.items[e].paintMixed=!1,t.items[e].snipCartOptionDesc="Mixed stain and paint",t.items[e].snipCartOption="mixedStainPaint",r=t.items[e].data.itemBasePrice+t.items[e].data.itemMixedStainCost):o.includes("paint")&&i(o)&&(i(l)?(t.items[e].stainSingle=!1,t.items[e].stainMixed=!1,t.items[e].stainPaintMixed=!1,t.items[e].paintSingle=!0,t.items[e].paintMixed=!1,t.items[e].snipCartOptionDesc="Single paint",t.items[e].snipCartOption="singlePaint",r=t.items[e].data.itemBasePrice):i(l)||(t.items[e].stainSingle=!1,t.items[e].stainMixed=!1,t.items[e].stainPaintMixed=!1,t.items[e].paintSingle=!1,t.items[e].paintMixed=!0,t.items[e].snipCartOptionDesc="Mixed paint",t.items[e].snipCartOption="mixedPaint",r=t.items[e].data.itemBasePrice+t.items[e].data.itemMixedPaintCost))),t.items[e].optionSelectedPrice=r})),updatePartColor:(e,t,r)=>n(ty(i=>{i.items[e].parts[t].color=r})),updatePartColorName:(e,t,r)=>n(ty(i=>{i.items[e].parts[t].colorName=r,Rr.stains.includes(r)?i.items[e].parts[t].colorType="stain":Rr.paints.includes(r)&&(i.items[e].parts[t].colorType="paint")})),updatePartTexture:(e,t,r)=>n(ty(i=>{i.items[e].parts[t].texture=r}))})),Ple=({model:n,itemName:e,partName:t})=>{const{scene:r,nodes:i,materials:s}=ol(n),o=Yo(p=>p.items[e].parts[t].color),a=Yo(p=>p.items[e].parts[t].texture),[l,c,u,f]=$s(a);return O.useLayoutEffect(()=>{Object.assign(s.Material,{map:l,normalMap:c,roughnessMap:u,metalnessMap:f,color:o})},[r,i,s,o,a,l,c,u,f]),O.useLayoutEffect(()=>{r.traverse(p=>{p.isMesh&&(p.castShadow=!0,p.receiveShadow=!0,p.material.roughness=1,p.material.metalness=0)})},[]),ge.jsx("primitive",{object:r})},Ole=({currentColor:n,currentTexture:e,cartCount:t,handleCartClick:r})=>{const{scene:i,nodes:s,materials:o}=ol("./models/bag.gltf"),[a,l]=O.useState([]),[c,u,f,p]=$s(e);return O.useLayoutEffect(()=>{Object.assign(o._0043_SaddleBrown,{map:c,normalMap:u,roughnessMap:f,metalnessMap:p,color:n})},[i,s,o,n,e,c,u,f,p]),O.useLayoutEffect(()=>{const m=[];i.traverse(g=>{g.isObject3D&&g.userData.name&&g.userData.name.startsWith("AnchorPoint")&&m.push(ge.jsx(L_,{position:[g.position.x,g.position.y,g.position.z],distanceFactor:.25,children:ge.jsx("div",{className:"cart",onClick:r,style:{display:t>0?"block":"none"},children:t>0?t:""})},g.uuid))}),l(m)},[i,t]),O.useLayoutEffect(()=>{i.traverse(m=>{m.isMesh&&(m.castShadow=!1,m.receiveShadow=!0,m.material.roughness=1,m.material.metalness=0)})},[]),ge.jsx("primitive",{object:i,children:a})};var RR={},IH={exports:{}};(function(n){function e(t){return t&&t.__esModule?t:{default:t}}n.exports=e,n.exports.__esModule=!0,n.exports.default=n.exports})(IH);var Og=IH.exports,NA={};function Bl(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function BH(n){if(!Bl(n))return n;const e={};return Object.keys(n).forEach(t=>{e[t]=BH(n[t])}),e}function Va(n,e,t={clone:!0}){const r=t.clone?Oe({},n):n;return Bl(n)&&Bl(e)&&Object.keys(e).forEach(i=>{i!=="__proto__"&&(Bl(e[i])&&i in n&&Bl(n[i])?r[i]=Va(n[i],e[i],t):t.clone?r[i]=Bl(e[i])?BH(e[i]):e[i]:r[i]=e[i])}),r}function lh(n){let e="https://mui.com/production-error/?code="+n;for(let t=1;t<arguments.length;t+=1)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified MUI error #"+n+"; visit "+e+" for the full message."}function zn(n){if(typeof n!="string")throw new Error(lh(7));return n.charAt(0).toUpperCase()+n.slice(1)}function Lle(...n){return n.reduce((e,t)=>t==null?e:function(...i){e.apply(this,i),t.apply(this,i)},()=>{})}function Ile(n,e=166){let t;function r(...i){const s=()=>{n.apply(this,i)};clearTimeout(t),t=setTimeout(s,e)}return r.clear=()=>{clearTimeout(t)},r}function Ble(n,e){return()=>null}function Dle(n,e){var t,r;return O.isValidElement(n)&&e.indexOf((t=n.type.muiName)!=null?t:(r=n.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function DH(n){return n&&n.ownerDocument||document}function kle(n){return DH(n).defaultView||window}function Nle(n,e){return()=>null}function kH(n,e){typeof n=="function"?n(e):n&&(n.current=e)}const Fle=typeof window<"u"?O.useLayoutEffect:O.useEffect,NH=Fle;let kD=0;function Ule(n){const[e,t]=O.useState(n),r=n||e;return O.useEffect(()=>{e==null&&(kD+=1,t(`mui-${kD}`))},[e]),r}const ND=Fy["useId".toString()];function zle(n){if(ND!==void 0){const e=ND();return n??e}return Ule(n)}function Hle(n,e,t,r,i){return null}function Gle({controlled:n,default:e,name:t,state:r="value"}){const{current:i}=O.useRef(n!==void 0),[s,o]=O.useState(e),a=i?n:s,l=O.useCallback(c=>{i||o(c)},[]);return[a,l]}function Np(n){const e=O.useRef(n);return NH(()=>{e.current=n}),O.useRef((...t)=>(0,e.current)(...t)).current}function IM(...n){return O.useMemo(()=>n.every(e=>e==null)?null:e=>{n.forEach(t=>{kH(t,e)})},n)}const FD={};function Vle(n,e){const t=O.useRef(FD);return t.current===FD&&(t.current=n(e)),t}const Wle=[];function $le(n){O.useEffect(n,Wle)}class f1{constructor(){this.currentId=0,this.clear=()=>{this.currentId!==0&&(clearTimeout(this.currentId),this.currentId=0)},this.disposeEffect=()=>this.clear}static create(){return new f1}start(e,t){this.clear(),this.currentId=setTimeout(()=>{this.currentId=0,t()},e)}}function jle(){const n=Vle(f1.create).current;return $le(n.disposeEffect),n}let d1=!0,BM=!1;const Xle=new f1,Kle={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Yle(n){const{type:e,tagName:t}=n;return!!(t==="INPUT"&&Kle[e]&&!n.readOnly||t==="TEXTAREA"&&!n.readOnly||n.isContentEditable)}function Jle(n){n.metaKey||n.altKey||n.ctrlKey||(d1=!0)}function FA(){d1=!1}function qle(){this.visibilityState==="hidden"&&BM&&(d1=!0)}function Qle(n){n.addEventListener("keydown",Jle,!0),n.addEventListener("mousedown",FA,!0),n.addEventListener("pointerdown",FA,!0),n.addEventListener("touchstart",FA,!0),n.addEventListener("visibilitychange",qle,!0)}function Zle(n){const{target:e}=n;try{return e.matches(":focus-visible")}catch{}return d1||Yle(e)}function FH(){const n=O.useCallback(i=>{i!=null&&Qle(i.ownerDocument)},[]),e=O.useRef(!1);function t(){return e.current?(BM=!0,Xle.start(100,()=>{BM=!1}),e.current=!1,!0):!1}function r(i){return Zle(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:t,ref:n}}function PR(n,e){const t=Oe({},e);return Object.keys(n).forEach(r=>{if(r.toString().match(/^(components|slots)$/))t[r]=Oe({},n[r],t[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=n[r]||{},s=e[r];t[r]={},!s||!Object.keys(s)?t[r]=i:!i||!Object.keys(i)?t[r]=s:(t[r]=Oe({},s),Object.keys(i).forEach(o=>{t[r][o]=PR(i[o],s[o])}))}else t[r]===void 0&&(t[r]=n[r])}),t}function h1(n,e,t=void 0){const r={};return Object.keys(n).forEach(i=>{r[i]=n[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),t&&t[o]&&s.push(t[o])}return s},[]).join(" ")}),r}const UD=n=>n,ece=()=>{let n=UD;return{configure(e){n=e},generate(e){return n(e)},reset(){n=UD}}},tce=ece(),OR=tce,nce={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Lg(n,e,t="Mui"){const r=nce[e];return r?`${t}-${r}`:`${OR.generate(n)}-${e}`}function Lh(n,e,t="Mui"){const r={};return e.forEach(i=>{r[i]=Lg(n,i,t)}),r}function rce(n,e=Number.MIN_SAFE_INTEGER,t=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(n,t))}function kr(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function UH(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var i=n.length;for(e=0;e<i;e++)n[e]&&(t=UH(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function bi(){for(var n,e,t=0,r="",i=arguments.length;t<i;t++)(n=arguments[t])&&(e=UH(n))&&(r&&(r+=" "),r+=e);return r}function zH(n){var e=Object.create(null);return function(t){return e[t]===void 0&&(e[t]=n(t)),e[t]}}var ice=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,sce=zH(function(n){return ice.test(n)||n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)<91});function oce(n){if(n.sheet)return n.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===n)return document.styleSheets[e]}function ace(n){var e=document.createElement("style");return e.setAttribute("data-emotion",n.key),n.nonce!==void 0&&e.setAttribute("nonce",n.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var lce=function(){function n(t){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=t.speedy===void 0?!0:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}var e=n.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(ace(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=oce(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){return r.parentNode&&r.parentNode.removeChild(r)}),this.tags=[],this.ctr=0},n}(),ni="-ms-",W_="-moz-",en="-webkit-",HH="comm",LR="rule",IR="decl",cce="@import",GH="@keyframes",uce="@layer",fce=Math.abs,p1=String.fromCharCode,dce=Object.assign;function hce(n,e){return Gr(n,0)^45?(((e<<2^Gr(n,0))<<2^Gr(n,1))<<2^Gr(n,2))<<2^Gr(n,3):0}function VH(n){return n.trim()}function pce(n,e){return(n=e.exec(n))?n[0]:n}function tn(n,e,t){return n.replace(e,t)}function DM(n,e){return n.indexOf(e)}function Gr(n,e){return n.charCodeAt(e)|0}function Ym(n,e,t){return n.slice(e,t)}function Vo(n){return n.length}function BR(n){return n.length}function ny(n,e){return e.push(n),n}function mce(n,e){return n.map(e).join("")}var m1=1,ch=1,WH=0,Yi=0,dr=0,Ih="";function g1(n,e,t,r,i,s,o){return{value:n,root:e,parent:t,type:r,props:i,children:s,line:m1,column:ch,length:o,return:""}}function Tp(n,e){return dce(g1("",null,null,"",null,null,0),n,{length:-n.length},e)}function gce(){return dr}function vce(){return dr=Yi>0?Gr(Ih,--Yi):0,ch--,dr===10&&(ch=1,m1--),dr}function gs(){return dr=Yi<WH?Gr(Ih,Yi++):0,ch++,dr===10&&(ch=1,m1++),dr}function ia(){return Gr(Ih,Yi)}function Ly(){return Yi}function Ig(n,e){return Ym(Ih,n,e)}function Jm(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function $H(n){return m1=ch=1,WH=Vo(Ih=n),Yi=0,[]}function jH(n){return Ih="",n}function Iy(n){return VH(Ig(Yi-1,kM(n===91?n+2:n===40?n+1:n)))}function yce(n){for(;(dr=ia())&&dr<33;)gs();return Jm(n)>2||Jm(dr)>3?"":" "}function _ce(n,e){for(;--e&&gs()&&!(dr<48||dr>102||dr>57&&dr<65||dr>70&&dr<97););return Ig(n,Ly()+(e<6&&ia()==32&&gs()==32))}function kM(n){for(;gs();)switch(dr){case n:return Yi;case 34:case 39:n!==34&&n!==39&&kM(dr);break;case 40:n===41&&kM(n);break;case 92:gs();break}return Yi}function xce(n,e){for(;gs()&&n+dr!==47+10;)if(n+dr===42+42&&ia()===47)break;return"/*"+Ig(e,Yi-1)+"*"+p1(n===47?n:gs())}function Sce(n){for(;!Jm(ia());)gs();return Ig(n,Yi)}function bce(n){return jH(By("",null,null,null,[""],n=$H(n),0,[0],n))}function By(n,e,t,r,i,s,o,a,l){for(var c=0,u=0,f=o,p=0,m=0,g=0,y=1,_=1,v=1,x=0,b="",A=i,M=s,E=r,R=b;_;)switch(g=x,x=gs()){case 40:if(g!=108&&Gr(R,f-1)==58){DM(R+=tn(Iy(x),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:R+=Iy(x);break;case 9:case 10:case 13:case 32:R+=yce(g);break;case 92:R+=_ce(Ly()-1,7);continue;case 47:switch(ia()){case 42:case 47:ny(Ace(xce(gs(),Ly()),e,t),l);break;default:R+="/"}break;case 123*y:a[c++]=Vo(R)*v;case 125*y:case 59:case 0:switch(x){case 0:case 125:_=0;case 59+u:v==-1&&(R=tn(R,/\f/g,"")),m>0&&Vo(R)-f&&ny(m>32?HD(R+";",r,t,f-1):HD(tn(R," ","")+";",r,t,f-2),l);break;case 59:R+=";";default:if(ny(E=zD(R,e,t,c,u,i,a,b,A=[],M=[],f),s),x===123)if(u===0)By(R,e,E,E,A,s,f,a,M);else switch(p===99&&Gr(R,3)===110?100:p){case 100:case 108:case 109:case 115:By(n,E,E,r&&ny(zD(n,E,E,0,0,i,a,b,i,A=[],f),M),i,M,f,a,r?A:M);break;default:By(R,E,E,E,[""],M,0,a,M)}}c=u=m=0,y=v=1,b=R="",f=o;break;case 58:f=1+Vo(R),m=g;default:if(y<1){if(x==123)--y;else if(x==125&&y++==0&&vce()==125)continue}switch(R+=p1(x),x*y){case 38:v=u>0?1:(R+="\f",-1);break;case 44:a[c++]=(Vo(R)-1)*v,v=1;break;case 64:ia()===45&&(R+=Iy(gs())),p=ia(),u=f=Vo(b=R+=Sce(Ly())),x++;break;case 45:g===45&&Vo(R)==2&&(y=0)}}return s}function zD(n,e,t,r,i,s,o,a,l,c,u){for(var f=i-1,p=i===0?s:[""],m=BR(p),g=0,y=0,_=0;g<r;++g)for(var v=0,x=Ym(n,f+1,f=fce(y=o[g])),b=n;v<m;++v)(b=VH(y>0?p[v]+" "+x:tn(x,/&\f/g,p[v])))&&(l[_++]=b);return g1(n,e,t,i===0?LR:a,l,c,u)}function Ace(n,e,t){return g1(n,e,t,HH,p1(gce()),Ym(n,2,-2),0)}function HD(n,e,t,r){return g1(n,e,t,IR,Ym(n,0,r),Ym(n,r+1,-1),r)}function Rd(n,e){for(var t="",r=BR(n),i=0;i<r;i++)t+=e(n[i],i,n,e)||"";return t}function wce(n,e,t,r){switch(n.type){case uce:if(n.children.length)break;case cce:case IR:return n.return=n.return||n.value;case HH:return"";case GH:return n.return=n.value+"{"+Rd(n.children,r)+"}";case LR:n.value=n.props.join(",")}return Vo(t=Rd(n.children,r))?n.return=n.value+"{"+t+"}":""}function Ece(n){var e=BR(n);return function(t,r,i,s){for(var o="",a=0;a<e;a++)o+=n[a](t,r,i,s)||"";return o}}function Mce(n){return function(e){e.root||(e=e.return)&&n(e)}}var Tce=function(e,t,r){for(var i=0,s=0;i=s,s=ia(),i===38&&s===12&&(t[r]=1),!Jm(s);)gs();return Ig(e,Yi)},Cce=function(e,t){var r=-1,i=44;do switch(Jm(i)){case 0:i===38&&ia()===12&&(t[r]=1),e[r]+=Tce(Yi-1,t,r);break;case 2:e[r]+=Iy(i);break;case 4:if(i===44){e[++r]=ia()===58?"&\f":"",t[r]=e[r].length;break}default:e[r]+=p1(i)}while(i=gs());return e},Rce=function(e,t){return jH(Cce($H(e),t))},GD=new WeakMap,Pce=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var t=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&t.charCodeAt(0)!==58&&!GD.get(r))&&!i){GD.set(e,!0);for(var s=[],o=Rce(t,s),a=r.props,l=0,c=0;l<o.length;l++)for(var u=0;u<a.length;u++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[u]):a[u]+" "+o[l]}}},Oce=function(e){if(e.type==="decl"){var t=e.value;t.charCodeAt(0)===108&&t.charCodeAt(2)===98&&(e.return="",e.value="")}};function XH(n,e){switch(hce(n,e)){case 5103:return en+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return en+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return en+n+W_+n+ni+n+n;case 6828:case 4268:return en+n+ni+n+n;case 6165:return en+n+ni+"flex-"+n+n;case 5187:return en+n+tn(n,/(\w+).+(:[^]+)/,en+"box-$1$2"+ni+"flex-$1$2")+n;case 5443:return en+n+ni+"flex-item-"+tn(n,/flex-|-self/,"")+n;case 4675:return en+n+ni+"flex-line-pack"+tn(n,/align-content|flex-|-self/,"")+n;case 5548:return en+n+ni+tn(n,"shrink","negative")+n;case 5292:return en+n+ni+tn(n,"basis","preferred-size")+n;case 6060:return en+"box-"+tn(n,"-grow","")+en+n+ni+tn(n,"grow","positive")+n;case 4554:return en+tn(n,/([^-])(transform)/g,"$1"+en+"$2")+n;case 6187:return tn(tn(tn(n,/(zoom-|grab)/,en+"$1"),/(image-set)/,en+"$1"),n,"")+n;case 5495:case 3959:return tn(n,/(image-set\([^]*)/,en+"$1$`$1");case 4968:return tn(tn(n,/(.+:)(flex-)?(.*)/,en+"box-pack:$3"+ni+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+en+n+n;case 4095:case 3583:case 4068:case 2532:return tn(n,/(.+)-inline(.+)/,en+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Vo(n)-1-e>6)switch(Gr(n,e+1)){case 109:if(Gr(n,e+4)!==45)break;case 102:return tn(n,/(.+:)(.+)-([^]+)/,"$1"+en+"$2-$3$1"+W_+(Gr(n,e+3)==108?"$3":"$2-$3"))+n;case 115:return~DM(n,"stretch")?XH(tn(n,"stretch","fill-available"),e)+n:n}break;case 4949:if(Gr(n,e+1)!==115)break;case 6444:switch(Gr(n,Vo(n)-3-(~DM(n,"!important")&&10))){case 107:return tn(n,":",":"+en)+n;case 101:return tn(n,/(.+:)([^;!]+)(;|!.+)?/,"$1"+en+(Gr(n,14)===45?"inline-":"")+"box$3$1"+en+"$2$3$1"+ni+"$2box$3")+n}break;case 5936:switch(Gr(n,e+11)){case 114:return en+n+ni+tn(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return en+n+ni+tn(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return en+n+ni+tn(n,/[svh]\w+-[tblr]{2}/,"lr")+n}return en+n+ni+n+n}return n}var Lce=function(e,t,r,i){if(e.length>-1&&!e.return)switch(e.type){case IR:e.return=XH(e.value,e.length);break;case GH:return Rd([Tp(e,{value:tn(e.value,"@","@"+en)})],i);case LR:if(e.length)return mce(e.props,function(s){switch(pce(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Rd([Tp(e,{props:[tn(s,/:(read-\w+)/,":"+W_+"$1")]})],i);case"::placeholder":return Rd([Tp(e,{props:[tn(s,/:(plac\w+)/,":"+en+"input-$1")]}),Tp(e,{props:[tn(s,/:(plac\w+)/,":"+W_+"$1")]}),Tp(e,{props:[tn(s,/:(plac\w+)/,ni+"input-$1")]})],i)}return""})}},Ice=[Lce],Bce=function(e){var t=e.key;if(t==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(y){var _=y.getAttribute("data-emotion");_.indexOf(" ")!==-1&&(document.head.appendChild(y),y.setAttribute("data-s",""))})}var i=e.stylisPlugins||Ice,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),function(y){for(var _=y.getAttribute("data-emotion").split(" "),v=1;v<_.length;v++)s[_[v]]=!0;a.push(y)});var l,c=[Pce,Oce];{var u,f=[wce,Mce(function(y){u.insert(y)})],p=Ece(c.concat(i,f)),m=function(_){return Rd(bce(_),p)};l=function(_,v,x,b){u=x,m(_?_+"{"+v.styles+"}":v.styles),b&&(g.inserted[v.name]=!0)}}var g={key:t,sheet:new lce({key:t,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return g.sheet.hydrate(a),g},KH={exports:{}},an={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nr=typeof Symbol=="function"&&Symbol.for,DR=Nr?Symbol.for("react.element"):60103,kR=Nr?Symbol.for("react.portal"):60106,v1=Nr?Symbol.for("react.fragment"):60107,y1=Nr?Symbol.for("react.strict_mode"):60108,_1=Nr?Symbol.for("react.profiler"):60114,x1=Nr?Symbol.for("react.provider"):60109,S1=Nr?Symbol.for("react.context"):60110,NR=Nr?Symbol.for("react.async_mode"):60111,b1=Nr?Symbol.for("react.concurrent_mode"):60111,A1=Nr?Symbol.for("react.forward_ref"):60112,w1=Nr?Symbol.for("react.suspense"):60113,Dce=Nr?Symbol.for("react.suspense_list"):60120,E1=Nr?Symbol.for("react.memo"):60115,M1=Nr?Symbol.for("react.lazy"):60116,kce=Nr?Symbol.for("react.block"):60121,Nce=Nr?Symbol.for("react.fundamental"):60117,Fce=Nr?Symbol.for("react.responder"):60118,Uce=Nr?Symbol.for("react.scope"):60119;function ws(n){if(typeof n=="object"&&n!==null){var e=n.$$typeof;switch(e){case DR:switch(n=n.type,n){case NR:case b1:case v1:case _1:case y1:case w1:return n;default:switch(n=n&&n.$$typeof,n){case S1:case A1:case M1:case E1:case x1:return n;default:return e}}case kR:return e}}}function YH(n){return ws(n)===b1}an.AsyncMode=NR;an.ConcurrentMode=b1;an.ContextConsumer=S1;an.ContextProvider=x1;an.Element=DR;an.ForwardRef=A1;an.Fragment=v1;an.Lazy=M1;an.Memo=E1;an.Portal=kR;an.Profiler=_1;an.StrictMode=y1;an.Suspense=w1;an.isAsyncMode=function(n){return YH(n)||ws(n)===NR};an.isConcurrentMode=YH;an.isContextConsumer=function(n){return ws(n)===S1};an.isContextProvider=function(n){return ws(n)===x1};an.isElement=function(n){return typeof n=="object"&&n!==null&&n.$$typeof===DR};an.isForwardRef=function(n){return ws(n)===A1};an.isFragment=function(n){return ws(n)===v1};an.isLazy=function(n){return ws(n)===M1};an.isMemo=function(n){return ws(n)===E1};an.isPortal=function(n){return ws(n)===kR};an.isProfiler=function(n){return ws(n)===_1};an.isStrictMode=function(n){return ws(n)===y1};an.isSuspense=function(n){return ws(n)===w1};an.isValidElementType=function(n){return typeof n=="string"||typeof n=="function"||n===v1||n===b1||n===_1||n===y1||n===w1||n===Dce||typeof n=="object"&&n!==null&&(n.$$typeof===M1||n.$$typeof===E1||n.$$typeof===x1||n.$$typeof===S1||n.$$typeof===A1||n.$$typeof===Nce||n.$$typeof===Fce||n.$$typeof===Uce||n.$$typeof===kce)};an.typeOf=ws;KH.exports=an;var zce=KH.exports,JH=zce,Hce={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Gce={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},qH={};qH[JH.ForwardRef]=Hce;qH[JH.Memo]=Gce;var Vce=!0;function Wce(n,e,t){var r="";return t.split(" ").forEach(function(i){n[i]!==void 0?e.push(n[i]+";"):r+=i+" "}),r}var QH=function(e,t,r){var i=e.key+"-"+t.name;(r===!1||Vce===!1)&&e.registered[i]===void 0&&(e.registered[i]=t.styles)},ZH=function(e,t,r){QH(e,t,r);var i=e.key+"-"+t.name;if(e.inserted[t.name]===void 0){var s=t;do e.insert(t===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function $ce(n){for(var e=0,t,r=0,i=n.length;i>=4;++r,i-=4)t=n.charCodeAt(r)&255|(n.charCodeAt(++r)&255)<<8|(n.charCodeAt(++r)&255)<<16|(n.charCodeAt(++r)&255)<<24,t=(t&65535)*1540483477+((t>>>16)*59797<<16),t^=t>>>24,e=(t&65535)*1540483477+((t>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(n.charCodeAt(r+2)&255)<<16;case 2:e^=(n.charCodeAt(r+1)&255)<<8;case 1:e^=n.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var jce={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Xce=/[A-Z]|^ms/g,Kce=/_EMO_([^_]+?)_([^]*?)_EMO_/g,eG=function(e){return e.charCodeAt(1)===45},VD=function(e){return e!=null&&typeof e!="boolean"},UA=zH(function(n){return eG(n)?n:n.replace(Xce,"-$&").toLowerCase()}),WD=function(e,t){switch(e){case"animation":case"animationName":if(typeof t=="string")return t.replace(Kce,function(r,i,s){return Wo={name:i,styles:s,next:Wo},i})}return jce[e]!==1&&!eG(e)&&typeof t=="number"&&t!==0?t+"px":t};function qm(n,e,t){if(t==null)return"";if(t.__emotion_styles!==void 0)return t;switch(typeof t){case"boolean":return"";case"object":{if(t.anim===1)return Wo={name:t.name,styles:t.styles,next:Wo},t.name;if(t.styles!==void 0){var r=t.next;if(r!==void 0)for(;r!==void 0;)Wo={name:r.name,styles:r.styles,next:Wo},r=r.next;var i=t.styles+";";return i}return Yce(n,e,t)}case"function":{if(n!==void 0){var s=Wo,o=t(n);return Wo=s,qm(n,e,o)}break}}if(e==null)return t;var a=e[t];return a!==void 0?a:t}function Yce(n,e,t){var r="";if(Array.isArray(t))for(var i=0;i<t.length;i++)r+=qm(n,e,t[i])+";";else for(var s in t){var o=t[s];if(typeof o!="object")e!=null&&e[o]!==void 0?r+=s+"{"+e[o]+"}":VD(o)&&(r+=UA(s)+":"+WD(s,o)+";");else if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var a=0;a<o.length;a++)VD(o[a])&&(r+=UA(s)+":"+WD(s,o[a])+";");else{var l=qm(n,e,o);switch(s){case"animation":case"animationName":{r+=UA(s)+":"+l+";";break}default:r+=s+"{"+l+"}"}}}return r}var $D=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Wo,FR=function(e,t,r){if(e.length===1&&typeof e[0]=="object"&&e[0]!==null&&e[0].styles!==void 0)return e[0];var i=!0,s="";Wo=void 0;var o=e[0];o==null||o.raw===void 0?(i=!1,s+=qm(r,t,o)):s+=o[0];for(var a=1;a<e.length;a++)s+=qm(r,t,e[a]),i&&(s+=o[a]);$D.lastIndex=0;for(var l="",c;(c=$D.exec(s))!==null;)l+="-"+c[1];var u=$ce(s)+l;return{name:u,styles:s,next:Wo}},Jce=function(e){return e()},tG=Fy["useInsertionEffect"]?Fy["useInsertionEffect"]:!1,qce=tG||Jce,jD=tG||O.useLayoutEffect,nG=O.createContext(typeof HTMLElement<"u"?Bce({key:"css"}):null);nG.Provider;var rG=function(e){return O.forwardRef(function(t,r){var i=O.useContext(nG);return e(t,i,r)})},T1=O.createContext({}),Qce=rG(function(n,e){var t=n.styles,r=FR([t],void 0,O.useContext(T1)),i=O.useRef();return jD(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),jD(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&ZH(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function Zce(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return FR(e)}var UR=function(){var e=Zce.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},eue=sce,tue=function(e){return e!=="theme"},XD=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?eue:tue},KD=function(e,t,r){var i;if(t){var s=t.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},nue=function(e){var t=e.cache,r=e.serialized,i=e.isStringTag;return QH(t,r,i),qce(function(){return ZH(t,r,i)}),null},rue=function n(e,t){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;t!==void 0&&(s=t.label,o=t.target);var a=KD(e,t,r),l=a||XD(i),c=!l("as");return function(){var u=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)f.push.apply(f,u);else{f.push(u[0][0]);for(var p=u.length,m=1;m<p;m++)f.push(u[m],u[0][m])}var g=rG(function(y,_,v){var x=c&&y.as||i,b="",A=[],M=y;if(y.theme==null){M={};for(var E in y)M[E]=y[E];M.theme=O.useContext(T1)}typeof y.className=="string"?b=Wce(_.registered,A,y.className):y.className!=null&&(b=y.className+" ");var R=FR(f.concat(A),_.registered,M);b+=_.key+"-"+R.name,o!==void 0&&(b+=" "+o);var I=c&&a===void 0?XD(x):l,T={};for(var P in y)c&&P==="as"||I(P)&&(T[P]=y[P]);return T.className=b,T.ref=v,O.createElement(O.Fragment,null,O.createElement(nue,{cache:_,serialized:R,isStringTag:typeof x=="string"}),O.createElement(x,T))});return g.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=f,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return"."+o}}),g.withComponent=function(y,_){return n(y,Oe({},t,_,{shouldForwardProp:KD(g,_,!0)})).apply(void 0,f)},g}},iue=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],NM=rue.bind();iue.forEach(function(n){NM[n]=NM(n)});function sue(n){return n==null||Object.keys(n).length===0}function oue(n){const{styles:e,defaultTheme:t={}}=n,r=typeof e=="function"?i=>e(sue(i)?t:i):e;return ge.jsx(Qce,{styles:r})}/**
 * @mui/styled-engine v5.15.8
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function iG(n,e){return NM(n,e)}const aue=(n,e)=>{Array.isArray(n.__emotion_styles)&&(n.__emotion_styles=e(n.__emotion_styles))},lue=["values","unit","step"],cue=n=>{const e=Object.keys(n).map(t=>({key:t,val:n[t]}))||[];return e.sort((t,r)=>t.val-r.val),e.reduce((t,r)=>Oe({},t,{[r.key]:r.val}),{})};function uue(n){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:t="px",step:r=5}=n,i=kr(n,lue),s=cue(e),o=Object.keys(s);function a(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${t})`}function l(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-r/100}${t})`}function c(p,m){const g=o.indexOf(m);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${t}) and (max-width:${(g!==-1&&typeof e[o[g]]=="number"?e[o[g]]:m)-r/100}${t})`}function u(p){return o.indexOf(p)+1<o.length?c(p,o[o.indexOf(p)+1]):a(p)}function f(p){const m=o.indexOf(p);return m===0?a(o[1]):m===o.length-1?l(o[m]):c(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return Oe({keys:o,values:s,up:a,down:l,between:c,only:u,not:f,unit:t},i)}const fue={borderRadius:4},due=fue;function rm(n,e){return e?Va(n,e,{clone:!1}):n}const zR={xs:0,sm:600,md:900,lg:1200,xl:1536},YD={keys:["xs","sm","md","lg","xl"],up:n=>`@media (min-width:${zR[n]}px)`};function nl(n,e,t){const r=n.theme||{};if(Array.isArray(e)){const s=r.breakpoints||YD;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=t(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||YD;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||zR).indexOf(a)!==-1){const l=s.up(a);o[l]=t(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return t(e)}function hue(n={}){var e;return((e=n.keys)==null?void 0:e.reduce((r,i)=>{const s=n.up(i);return r[s]={},r},{}))||{}}function pue(n,e){return n.reduce((t,r)=>{const i=t[r];return(!i||Object.keys(i).length===0)&&delete t[r],t},e)}function C1(n,e,t=!0){if(!e||typeof e!="string")return null;if(n&&n.vars&&t){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,n);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,n)}function $_(n,e,t,r=t){let i;return typeof n=="function"?i=n(t):Array.isArray(n)?i=n[t]||r:i=C1(n,t)||r,e&&(i=e(i,r,n)),i}function ar(n){const{prop:e,cssProperty:t=n.prop,themeKey:r,transform:i}=n,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=C1(l,r)||{};return nl(o,a,f=>{let p=$_(c,i,f);return f===p&&typeof f=="string"&&(p=$_(c,i,`${e}${f==="default"?"":zn(f)}`,f)),t===!1?p:{[t]:p}})};return s.propTypes={},s.filterProps=[e],s}function mue(n){const e={};return t=>(e[t]===void 0&&(e[t]=n(t)),e[t])}const gue={m:"margin",p:"padding"},vue={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},JD={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},yue=mue(n=>{if(n.length>2)if(JD[n])n=JD[n];else return[n];const[e,t]=n.split(""),r=gue[e],i=vue[t]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),HR=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],GR=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...HR,...GR];function Bg(n,e,t,r){var i;const s=(i=C1(n,e,!1))!=null?i:t;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function sG(n){return Bg(n,"spacing",8)}function Dg(n,e){if(typeof e=="string"||e==null)return e;const t=Math.abs(e),r=n(t);return e>=0?r:typeof r=="number"?-r:`-${r}`}function _ue(n,e){return t=>n.reduce((r,i)=>(r[i]=Dg(e,t),r),{})}function xue(n,e,t,r){if(e.indexOf(t)===-1)return null;const i=yue(t),s=_ue(i,r),o=n[t];return nl(n,o,s)}function oG(n,e){const t=sG(n.theme);return Object.keys(n).map(r=>xue(n,e,r,t)).reduce(rm,{})}function Xn(n){return oG(n,HR)}Xn.propTypes={};Xn.filterProps=HR;function Kn(n){return oG(n,GR)}Kn.propTypes={};Kn.filterProps=GR;function Sue(n=8){if(n.mui)return n;const e=sG({spacing:n}),t=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return t.mui=!0,t}function R1(...n){const e=n.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),t=r=>Object.keys(r).reduce((i,s)=>e[s]?rm(i,e[s](r)):i,{});return t.propTypes={},t.filterProps=n.reduce((r,i)=>r.concat(i.filterProps),[]),t}function Vs(n){return typeof n!="number"?n:`${n}px solid`}function io(n,e){return ar({prop:n,themeKey:"borders",transform:e})}const bue=io("border",Vs),Aue=io("borderTop",Vs),wue=io("borderRight",Vs),Eue=io("borderBottom",Vs),Mue=io("borderLeft",Vs),Tue=io("borderColor"),Cue=io("borderTopColor"),Rue=io("borderRightColor"),Pue=io("borderBottomColor"),Oue=io("borderLeftColor"),Lue=io("outline",Vs),Iue=io("outlineColor"),P1=n=>{if(n.borderRadius!==void 0&&n.borderRadius!==null){const e=Bg(n.theme,"shape.borderRadius",4),t=r=>({borderRadius:Dg(e,r)});return nl(n,n.borderRadius,t)}return null};P1.propTypes={};P1.filterProps=["borderRadius"];R1(bue,Aue,wue,Eue,Mue,Tue,Cue,Rue,Pue,Oue,P1,Lue,Iue);const O1=n=>{if(n.gap!==void 0&&n.gap!==null){const e=Bg(n.theme,"spacing",8),t=r=>({gap:Dg(e,r)});return nl(n,n.gap,t)}return null};O1.propTypes={};O1.filterProps=["gap"];const L1=n=>{if(n.columnGap!==void 0&&n.columnGap!==null){const e=Bg(n.theme,"spacing",8),t=r=>({columnGap:Dg(e,r)});return nl(n,n.columnGap,t)}return null};L1.propTypes={};L1.filterProps=["columnGap"];const I1=n=>{if(n.rowGap!==void 0&&n.rowGap!==null){const e=Bg(n.theme,"spacing",8),t=r=>({rowGap:Dg(e,r)});return nl(n,n.rowGap,t)}return null};I1.propTypes={};I1.filterProps=["rowGap"];const Bue=ar({prop:"gridColumn"}),Due=ar({prop:"gridRow"}),kue=ar({prop:"gridAutoFlow"}),Nue=ar({prop:"gridAutoColumns"}),Fue=ar({prop:"gridAutoRows"}),Uue=ar({prop:"gridTemplateColumns"}),zue=ar({prop:"gridTemplateRows"}),Hue=ar({prop:"gridTemplateAreas"}),Gue=ar({prop:"gridArea"});R1(O1,L1,I1,Bue,Due,kue,Nue,Fue,Uue,zue,Hue,Gue);function Pd(n,e){return e==="grey"?e:n}const Vue=ar({prop:"color",themeKey:"palette",transform:Pd}),Wue=ar({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Pd}),$ue=ar({prop:"backgroundColor",themeKey:"palette",transform:Pd});R1(Vue,Wue,$ue);function ls(n){return n<=1&&n!==0?`${n*100}%`:n}const jue=ar({prop:"width",transform:ls}),VR=n=>{if(n.maxWidth!==void 0&&n.maxWidth!==null){const e=t=>{var r,i;const s=((r=n.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[t])||zR[t];return s?((i=n.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${n.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:ls(t)}};return nl(n,n.maxWidth,e)}return null};VR.filterProps=["maxWidth"];const Xue=ar({prop:"minWidth",transform:ls}),Kue=ar({prop:"height",transform:ls}),Yue=ar({prop:"maxHeight",transform:ls}),Jue=ar({prop:"minHeight",transform:ls});ar({prop:"size",cssProperty:"width",transform:ls});ar({prop:"size",cssProperty:"height",transform:ls});const que=ar({prop:"boxSizing"});R1(jue,VR,Xue,Kue,Yue,Jue,que);const Que={border:{themeKey:"borders",transform:Vs},borderTop:{themeKey:"borders",transform:Vs},borderRight:{themeKey:"borders",transform:Vs},borderBottom:{themeKey:"borders",transform:Vs},borderLeft:{themeKey:"borders",transform:Vs},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Vs},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:P1},color:{themeKey:"palette",transform:Pd},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Pd},backgroundColor:{themeKey:"palette",transform:Pd},p:{style:Kn},pt:{style:Kn},pr:{style:Kn},pb:{style:Kn},pl:{style:Kn},px:{style:Kn},py:{style:Kn},padding:{style:Kn},paddingTop:{style:Kn},paddingRight:{style:Kn},paddingBottom:{style:Kn},paddingLeft:{style:Kn},paddingX:{style:Kn},paddingY:{style:Kn},paddingInline:{style:Kn},paddingInlineStart:{style:Kn},paddingInlineEnd:{style:Kn},paddingBlock:{style:Kn},paddingBlockStart:{style:Kn},paddingBlockEnd:{style:Kn},m:{style:Xn},mt:{style:Xn},mr:{style:Xn},mb:{style:Xn},ml:{style:Xn},mx:{style:Xn},my:{style:Xn},margin:{style:Xn},marginTop:{style:Xn},marginRight:{style:Xn},marginBottom:{style:Xn},marginLeft:{style:Xn},marginX:{style:Xn},marginY:{style:Xn},marginInline:{style:Xn},marginInlineStart:{style:Xn},marginInlineEnd:{style:Xn},marginBlock:{style:Xn},marginBlockStart:{style:Xn},marginBlockEnd:{style:Xn},displayPrint:{cssProperty:!1,transform:n=>({"@media print":{display:n}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:O1},rowGap:{style:I1},columnGap:{style:L1},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:ls},maxWidth:{style:VR},minWidth:{transform:ls},height:{transform:ls},maxHeight:{transform:ls},minHeight:{transform:ls},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},B1=Que;function Zue(...n){const e=n.reduce((r,i)=>r.concat(Object.keys(i)),[]),t=new Set(e);return n.every(r=>t.size===Object.keys(r).length)}function efe(n,e){return typeof n=="function"?n(e):n}function tfe(){function n(t,r,i,s){const o={[t]:r,theme:i},a=s[t];if(!a)return{[t]:r};const{cssProperty:l=t,themeKey:c,transform:u,style:f}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[t]:r};const p=C1(i,c)||{};return f?f(o):nl(o,r,g=>{let y=$_(p,u,g);return g===y&&typeof g=="string"&&(y=$_(p,u,`${t}${g==="default"?"":zn(g)}`,g)),l===!1?y:{[l]:y}})}function e(t){var r;const{sx:i,theme:s={}}=t||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:B1;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const u=hue(s.breakpoints),f=Object.keys(u);let p=u;return Object.keys(c).forEach(m=>{const g=efe(c[m],s);if(g!=null)if(typeof g=="object")if(o[m])p=rm(p,n(m,g,s,o));else{const y=nl({theme:s},g,_=>({[m]:_}));Zue(y,g)?p[m]=e({sx:g,theme:s}):p=rm(p,y)}else p=rm(p,n(m,g,s,o))}),pue(f,p)}return Array.isArray(i)?i.map(a):a(i)}return e}const aG=tfe();aG.filterProps=["sx"];const D1=aG;function nfe(n,e){const t=this;return t.vars&&typeof t.getColorSchemeSelector=="function"?{[t.getColorSchemeSelector(n).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:t.palette.mode===n?e:{}}const rfe=["breakpoints","palette","spacing","shape"];function WR(n={},...e){const{breakpoints:t={},palette:r={},spacing:i,shape:s={}}=n,o=kr(n,rfe),a=uue(t),l=Sue(i);let c=Va({breakpoints:a,direction:"ltr",components:{},palette:Oe({mode:"light"},r),spacing:l,shape:Oe({},due,s)},o);return c.applyStyles=nfe,c=e.reduce((u,f)=>Va(u,f),c),c.unstable_sxConfig=Oe({},B1,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(f){return D1({sx:f,theme:this})},c}function ife(n){return Object.keys(n).length===0}function lG(n=null){const e=O.useContext(T1);return!e||ife(e)?n:e}const sfe=WR();function $R(n=sfe){return lG(n)}function ofe({styles:n,themeId:e,defaultTheme:t={}}){const r=$R(t),i=typeof n=="function"?n(e&&r[e]||r):n;return ge.jsx(oue,{styles:i})}const afe=["sx"],lfe=n=>{var e,t;const r={systemProps:{},otherProps:{}},i=(e=n==null||(t=n.theme)==null?void 0:t.unstable_sxConfig)!=null?e:B1;return Object.keys(n).forEach(s=>{i[s]?r.systemProps[s]=n[s]:r.otherProps[s]=n[s]}),r};function cfe(n){const{sx:e}=n,t=kr(n,afe),{systemProps:r,otherProps:i}=lfe(t);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Bl(a)?Oe({},r,a):r}:s=Oe({},r,e),Oe({},i,{sx:s})}const ufe=["className","component"];function ffe(n={}){const{themeId:e,defaultTheme:t,defaultClassName:r="MuiBox-root",generateClassName:i}=n,s=iG("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(D1);return O.forwardRef(function(l,c){const u=$R(t),f=cfe(l),{className:p,component:m="div"}=f,g=kr(f,ufe);return ge.jsx(s,Oe({as:m,ref:c,className:bi(p,i?i(r):r),theme:e&&u[e]||u},g))})}const dfe=["ownerState"],hfe=["variants"],pfe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function mfe(n){return Object.keys(n).length===0}function gfe(n){return typeof n=="string"&&n.charCodeAt(0)>96}function Dy(n){return n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"}const vfe=WR(),yfe=n=>n&&n.charAt(0).toLowerCase()+n.slice(1);function ry({defaultTheme:n,theme:e,themeId:t}){return mfe(e)?n:e[t]||e}function _fe(n){return n?(e,t)=>t[n]:null}function ky(n,e){let{ownerState:t}=e,r=kr(e,dfe);const i=typeof n=="function"?n(Oe({ownerState:t},r)):n;if(Array.isArray(i))return i.flatMap(s=>ky(s,Oe({ownerState:t},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=kr(i,hfe);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props(Oe({ownerState:t},r)):Object.keys(l.props).forEach(u=>{(t==null?void 0:t[u])!==l.props[u]&&r[u]!==l.props[u]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style(Oe({ownerState:t},r)):l.style))}),a}return i}function xfe(n={}){const{themeId:e,defaultTheme:t=vfe,rootShouldForwardProp:r=Dy,slotShouldForwardProp:i=Dy}=n,s=o=>D1(Oe({},o,{theme:ry(Oe({},o,{defaultTheme:t,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{aue(o,M=>M.filter(E=>!(E!=null&&E.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:u,skipSx:f,overridesResolver:p=_fe(yfe(c))}=a,m=kr(a,pfe),g=u!==void 0?u:c&&c!=="Root"&&c!=="root"||!1,y=f||!1;let _,v=Dy;c==="Root"||c==="root"?v=r:c?v=i:gfe(o)&&(v=void 0);const x=iG(o,Oe({shouldForwardProp:v,label:_},m)),b=M=>typeof M=="function"&&M.__emotion_real!==M||Bl(M)?E=>ky(M,Oe({},E,{theme:ry({theme:E.theme,defaultTheme:t,themeId:e})})):M,A=(M,...E)=>{let R=b(M);const I=E?E.map(b):[];l&&p&&I.push(B=>{const U=ry(Oe({},B,{defaultTheme:t,themeId:e}));if(!U.components||!U.components[l]||!U.components[l].styleOverrides)return null;const j=U.components[l].styleOverrides,N={};return Object.entries(j).forEach(([G,V])=>{N[G]=ky(V,Oe({},B,{theme:U}))}),p(B,N)}),l&&!g&&I.push(B=>{var U;const j=ry(Oe({},B,{defaultTheme:t,themeId:e})),N=j==null||(U=j.components)==null||(U=U[l])==null?void 0:U.variants;return ky({variants:N},Oe({},B,{theme:j}))}),y||I.push(s);const T=I.length-E.length;if(Array.isArray(M)&&T>0){const B=new Array(T).fill("");R=[...M,...B],R.raw=[...M.raw,...B]}const P=x(R,...I);return o.muiName&&(P.muiName=o.muiName),P};return x.withConfig&&(A.withConfig=x.withConfig),A}}function Sfe(n){const{theme:e,name:t,props:r}=n;return!e||!e.components||!e.components[t]||!e.components[t].defaultProps?r:PR(e.components[t].defaultProps,r)}function bfe({props:n,name:e,defaultTheme:t,themeId:r}){let i=$R(t);return r&&(i=i[r]||i),Sfe({theme:i,name:e,props:n})}function jR(n,e=0,t=1){return rce(n,e,t)}function Afe(n){n=n.slice(1);const e=new RegExp(`.{1,${n.length>=6?2:1}}`,"g");let t=n.match(e);return t&&t[0].length===1&&(t=t.map(r=>r+r)),t?`rgb${t.length===4?"a":""}(${t.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function Fu(n){if(n.type)return n;if(n.charAt(0)==="#")return Fu(Afe(n));const e=n.indexOf("("),t=n.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(t)===-1)throw new Error(lh(9,n));let r=n.substring(e+1,n.length-1),i;if(t==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(lh(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:t,values:r,colorSpace:i}}function k1(n){const{type:e,colorSpace:t}=n;let{values:r}=n;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${t} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function wfe(n){n=Fu(n);const{values:e}=n,t=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,u=(c+t/30)%12)=>i-s*Math.max(Math.min(u-3,9-u,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return n.type==="hsla"&&(a+="a",l.push(e[3])),k1({type:a,values:l})}function qD(n){n=Fu(n);let e=n.type==="hsl"||n.type==="hsla"?Fu(wfe(n)).values:n.values;return e=e.map(t=>(n.type!=="color"&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function Efe(n,e){const t=qD(n),r=qD(e);return(Math.max(t,r)+.05)/(Math.min(t,r)+.05)}function hd(n,e){return n=Fu(n),e=jR(e),(n.type==="rgb"||n.type==="hsl")&&(n.type+="a"),n.type==="color"?n.values[3]=`/${e}`:n.values[3]=e,k1(n)}function Mfe(n,e){if(n=Fu(n),e=jR(e),n.type.indexOf("hsl")!==-1)n.values[2]*=1-e;else if(n.type.indexOf("rgb")!==-1||n.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)n.values[t]*=1-e;return k1(n)}function Tfe(n,e){if(n=Fu(n),e=jR(e),n.type.indexOf("hsl")!==-1)n.values[2]+=(100-n.values[2])*e;else if(n.type.indexOf("rgb")!==-1)for(let t=0;t<3;t+=1)n.values[t]+=(255-n.values[t])*e;else if(n.type.indexOf("color")!==-1)for(let t=0;t<3;t+=1)n.values[t]+=(1-n.values[t])*e;return k1(n)}const Cfe=O.createContext(null),cG=Cfe;function uG(){return O.useContext(cG)}const Rfe=typeof Symbol=="function"&&Symbol.for,Pfe=Rfe?Symbol.for("mui.nested"):"__THEME_NESTED__";function Ofe(n,e){return typeof e=="function"?e(n):Oe({},n,e)}function Lfe(n){const{children:e,theme:t}=n,r=uG(),i=O.useMemo(()=>{const s=r===null?t:Ofe(r,t);return s!=null&&(s[Pfe]=r!==null),s},[t,r]);return ge.jsx(cG.Provider,{value:i,children:e})}const QD={};function ZD(n,e,t,r=!1){return O.useMemo(()=>{const i=n&&e[n]||e;if(typeof t=="function"){const s=t(i),o=n?Oe({},e,{[n]:s}):s;return r?()=>o:o}return n?Oe({},e,{[n]:t}):Oe({},e,t)},[n,e,t,r])}function Ife(n){const{children:e,theme:t,themeId:r}=n,i=lG(QD),s=uG()||QD,o=ZD(r,i,t),a=ZD(r,s,t,!0);return ge.jsx(Lfe,{theme:a,children:ge.jsx(T1.Provider,{value:o,children:e})})}function Bfe(n,e){return Oe({toolbar:{minHeight:56,[n.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[n.up("sm")]:{minHeight:64}}},e)}const Dfe={black:"#000",white:"#fff"},Qm=Dfe,kfe={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Nfe=kfe,Ffe={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Ff=Ffe,Ufe={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Uf=Ufe,zfe={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Cp=zfe,Hfe={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},zf=Hfe,Gfe={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Hf=Gfe,Vfe={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Gf=Vfe,Wfe=["mode","contrastThreshold","tonalOffset"],e3={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Qm.white,default:Qm.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},zA={text:{primary:Qm.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Qm.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function t3(n,e,t,r){const i=r.light||r,s=r.dark||r*1.5;n[e]||(n.hasOwnProperty(t)?n[e]=n[t]:e==="light"?n.light=Tfe(n.main,i):e==="dark"&&(n.dark=Mfe(n.main,s)))}function $fe(n="light"){return n==="dark"?{main:zf[200],light:zf[50],dark:zf[400]}:{main:zf[700],light:zf[400],dark:zf[800]}}function jfe(n="light"){return n==="dark"?{main:Ff[200],light:Ff[50],dark:Ff[400]}:{main:Ff[500],light:Ff[300],dark:Ff[700]}}function Xfe(n="light"){return n==="dark"?{main:Uf[500],light:Uf[300],dark:Uf[700]}:{main:Uf[700],light:Uf[400],dark:Uf[800]}}function Kfe(n="light"){return n==="dark"?{main:Hf[400],light:Hf[300],dark:Hf[700]}:{main:Hf[700],light:Hf[500],dark:Hf[900]}}function Yfe(n="light"){return n==="dark"?{main:Gf[400],light:Gf[300],dark:Gf[700]}:{main:Gf[800],light:Gf[500],dark:Gf[900]}}function Jfe(n="light"){return n==="dark"?{main:Cp[400],light:Cp[300],dark:Cp[700]}:{main:"#ed6c02",light:Cp[500],dark:Cp[900]}}function qfe(n){const{mode:e="light",contrastThreshold:t=3,tonalOffset:r=.2}=n,i=kr(n,Wfe),s=n.primary||$fe(e),o=n.secondary||jfe(e),a=n.error||Xfe(e),l=n.info||Kfe(e),c=n.success||Yfe(e),u=n.warning||Jfe(e);function f(y){return Efe(y,zA.text.primary)>=t?zA.text.primary:e3.text.primary}const p=({color:y,name:_,mainShade:v=500,lightShade:x=300,darkShade:b=700})=>{if(y=Oe({},y),!y.main&&y[v]&&(y.main=y[v]),!y.hasOwnProperty("main"))throw new Error(lh(11,_?` (${_})`:"",v));if(typeof y.main!="string")throw new Error(lh(12,_?` (${_})`:"",JSON.stringify(y.main)));return t3(y,"light",x,r),t3(y,"dark",b,r),y.contrastText||(y.contrastText=f(y.main)),y},m={dark:zA,light:e3};return Va(Oe({common:Oe({},Qm),mode:e,primary:p({color:s,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:a,name:"error"}),warning:p({color:u,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:c,name:"success"}),grey:Nfe,contrastThreshold:t,getContrastText:f,augmentColor:p,tonalOffset:r},m[e]),i)}const Qfe=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function Zfe(n){return Math.round(n*1e5)/1e5}const n3={textTransform:"uppercase"},r3='"Roboto", "Helvetica", "Arial", sans-serif';function ede(n,e){const t=typeof e=="function"?e(n):e,{fontFamily:r=r3,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:u,pxToRem:f}=t,p=kr(t,Qfe),m=i/14,g=f||(v=>`${v/c*m}rem`),y=(v,x,b,A,M)=>Oe({fontFamily:r,fontWeight:v,fontSize:g(x),lineHeight:b},r===r3?{letterSpacing:`${Zfe(A/x)}em`}:{},M,u),_={h1:y(s,96,1.167,-1.5),h2:y(s,60,1.2,-.5),h3:y(o,48,1.167,0),h4:y(o,34,1.235,.25),h5:y(o,24,1.334,0),h6:y(a,20,1.6,.15),subtitle1:y(o,16,1.75,.15),subtitle2:y(a,14,1.57,.1),body1:y(o,16,1.5,.15),body2:y(o,14,1.43,.15),button:y(a,14,1.75,.4,n3),caption:y(o,12,1.66,.4),overline:y(o,12,2.66,1,n3),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Va(Oe({htmlFontSize:c,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},_),p,{clone:!1})}const tde=.2,nde=.14,rde=.12;function En(...n){return[`${n[0]}px ${n[1]}px ${n[2]}px ${n[3]}px rgba(0,0,0,${tde})`,`${n[4]}px ${n[5]}px ${n[6]}px ${n[7]}px rgba(0,0,0,${nde})`,`${n[8]}px ${n[9]}px ${n[10]}px ${n[11]}px rgba(0,0,0,${rde})`].join(",")}const ide=["none",En(0,2,1,-1,0,1,1,0,0,1,3,0),En(0,3,1,-2,0,2,2,0,0,1,5,0),En(0,3,3,-2,0,3,4,0,0,1,8,0),En(0,2,4,-1,0,4,5,0,0,1,10,0),En(0,3,5,-1,0,5,8,0,0,1,14,0),En(0,3,5,-1,0,6,10,0,0,1,18,0),En(0,4,5,-2,0,7,10,1,0,2,16,1),En(0,5,5,-3,0,8,10,1,0,3,14,2),En(0,5,6,-3,0,9,12,1,0,3,16,2),En(0,6,6,-3,0,10,14,1,0,4,18,3),En(0,6,7,-4,0,11,15,1,0,4,20,3),En(0,7,8,-4,0,12,17,2,0,5,22,4),En(0,7,8,-4,0,13,19,2,0,5,24,4),En(0,7,9,-4,0,14,21,2,0,5,26,4),En(0,8,9,-5,0,15,22,2,0,6,28,5),En(0,8,10,-5,0,16,24,2,0,6,30,5),En(0,8,11,-5,0,17,26,2,0,6,32,5),En(0,9,11,-5,0,18,28,2,0,7,34,6),En(0,9,12,-6,0,19,29,2,0,7,36,6),En(0,10,13,-6,0,20,31,3,0,8,38,7),En(0,10,13,-6,0,21,33,3,0,8,40,7),En(0,10,14,-6,0,22,35,3,0,8,42,7),En(0,11,14,-7,0,23,36,3,0,9,44,8),En(0,11,15,-7,0,24,38,3,0,9,46,8)],sde=ide,ode=["duration","easing","delay"],ade={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},lde={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function i3(n){return`${Math.round(n)}ms`}function cde(n){if(!n)return 0;const e=n/36;return Math.round((4+15*e**.25+e/5)*10)}function ude(n){const e=Oe({},ade,n.easing),t=Oe({},lde,n.duration);return Oe({getAutoHeightDuration:cde,create:(i=["all"],s={})=>{const{duration:o=t.standard,easing:a=e.easeInOut,delay:l=0}=s;return kr(s,ode),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:i3(o)} ${a} ${typeof l=="string"?l:i3(l)}`).join(",")}},n,{easing:e,duration:t})}const fde={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},dde=fde,hde=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function XR(n={},...e){const{mixins:t={},palette:r={},transitions:i={},typography:s={}}=n,o=kr(n,hde);if(n.vars)throw new Error(lh(18));const a=qfe(r),l=WR(n);let c=Va(l,{mixins:Bfe(l.breakpoints,t),palette:a,shadows:sde.slice(),typography:ede(a,s),transitions:ude(i),zIndex:Oe({},dde)});return c=Va(c,o),c=e.reduce((u,f)=>Va(u,f),c),c.unstable_sxConfig=Oe({},B1,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(f){return D1({sx:f,theme:this})},c}const pde=XR(),KR=pde,uh="$$material";function Bh({props:n,name:e}){return bfe({props:n,name:e,defaultTheme:KR,themeId:uh})}const fG=n=>Dy(n)&&n!=="classes",mde=xfe({themeId:uh,defaultTheme:KR,rootShouldForwardProp:fG}),bc=mde;function gde(n){return Lg("MuiSvgIcon",n)}Lh("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const vde=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],yde=n=>{const{color:e,fontSize:t,classes:r}=n,i={root:["root",e!=="inherit"&&`color${zn(e)}`,`fontSize${zn(t)}`]};return h1(i,gde,r)},_de=bc("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="inherit"&&e[`color${zn(t.color)}`],e[`fontSize${zn(t.fontSize)}`]]}})(({theme:n,ownerState:e})=>{var t,r,i,s,o,a,l,c,u,f,p,m,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(t=n.transitions)==null||(r=t.create)==null?void 0:r.call(t,"fill",{duration:(i=n.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=n.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=n.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=n.typography)==null||(u=c.pxToRem)==null?void 0:u.call(c,35))||"2.1875rem"}[e.fontSize],color:(f=(p=(n.vars||n).palette)==null||(p=p[e.color])==null?void 0:p.main)!=null?f:{action:(m=(n.vars||n).palette)==null||(m=m.action)==null?void 0:m.active,disabled:(g=(n.vars||n).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[e.color]}}),dG=O.forwardRef(function(e,t){const r=Bh({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:u=!1,titleAccess:f,viewBox:p="0 0 24 24"}=r,m=kr(r,vde),g=O.isValidElement(i)&&i.type==="svg",y=Oe({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:u,viewBox:p,hasSvgAsChild:g}),_={};u||(_.viewBox=p);const v=yde(y);return ge.jsxs(_de,Oe({as:a,className:bi(v.root,s),focusable:"false",color:c,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:t},_,m,g&&i.props,{ownerState:y,children:[g?i.props.children:i,f?ge.jsx("title",{children:f}):null]}))});dG.muiName="SvgIcon";const s3=dG;function xde(n,e){function t(r,i){return ge.jsx(s3,Oe({"data-testid":`${e}Icon`,ref:i},r,{children:n}))}return t.muiName=s3.muiName,O.memo(O.forwardRef(t))}const Sde={configure:n=>{OR.configure(n)}},bde=Object.freeze(Object.defineProperty({__proto__:null,capitalize:zn,createChainedFunction:Lle,createSvgIcon:xde,debounce:Ile,deprecatedPropType:Ble,isMuiElement:Dle,ownerDocument:DH,ownerWindow:kle,requirePropFactory:Nle,setRef:kH,unstable_ClassNameGenerator:Sde,unstable_useEnhancedEffect:NH,unstable_useId:zle,unsupportedProp:Hle,useControlled:Gle,useEventCallback:Np,useForkRef:IM,useIsFocusVisible:FH},Symbol.toStringTag,{value:"Module"})),Ade=F3(bde);var o3;function kg(){return o3||(o3=1,function(n){"use client";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=Ade}(NA)),NA}var wde=Og;Object.defineProperty(RR,"__esModule",{value:!0});var j_=RR.default=void 0,Ede=wde(kg()),Mde=ge;j_=RR.default=(0,Ede.default)((0,Mde.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"CloseOutlined");var YR={},Tde=Og;Object.defineProperty(YR,"__esModule",{value:!0});var hG=YR.default=void 0,Cde=Tde(kg()),Rde=ge;hG=YR.default=(0,Cde.default)((0,Rde.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");var JR={},Pde=Og;Object.defineProperty(JR,"__esModule",{value:!0});var $f=JR.default=void 0,Ode=Pde(kg()),Lde=ge;$f=JR.default=(0,Ode.default)((0,Lde.jsx)("path",{fillRule:"evenodd",d:"M21 1H3c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"ShuffleOn");var qR={},Ide=Og;Object.defineProperty(qR,"__esModule",{value:!0});var pG=qR.default=void 0,Bde=Ide(kg()),Dde=ge;pG=qR.default=(0,Bde.default)((0,Dde.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info");var QR={},kde=Og;Object.defineProperty(QR,"__esModule",{value:!0});var mG=QR.default=void 0,Nde=kde(kg()),Fde=ge;mG=QR.default=(0,Nde.default)((0,Fde.jsx)("path",{d:"M22 16V4c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2m-11-4 2.03 2.71L16 11l4 5H8zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6z"}),"PhotoLibrary");const Ude=["theme"];function zde(n){let{theme:e}=n,t=kr(n,Ude);const r=e[uh];return ge.jsx(Ife,Oe({},t,{themeId:r?uh:void 0,theme:r||e}))}const Hde=Lh("MuiBox",["root"]),Gde=Hde,Vde=XR(),Wde=ffe({themeId:uh,defaultTheme:Vde,defaultClassName:Gde.root,generateClassName:OR.generate}),$de=Wde;function FM(n,e){return FM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FM(n,e)}function jde(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,FM(n,e)}const a3=q.createContext(null);function Xde(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function ZR(n,e){var t=function(s){return e&&O.isValidElement(s)?e(s):s},r=Object.create(null);return n&&O.Children.map(n,function(i){return i}).forEach(function(i){r[i.key]=t(i)}),r}function Kde(n,e){n=n||{},e=e||{};function t(u){return u in e?e[u]:n[u]}var r=Object.create(null),i=[];for(var s in n)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=t(c)}a[l]=t(l)}for(o=0;o<i.length;o++)a[i[o]]=t(i[o]);return a}function uu(n,e,t){return t[e]!=null?t[e]:n.props[e]}function Yde(n,e){return ZR(n.children,function(t){return O.cloneElement(t,{onExited:e.bind(null,t),in:!0,appear:uu(t,"appear",n),enter:uu(t,"enter",n),exit:uu(t,"exit",n)})})}function Jde(n,e,t){var r=ZR(n.children),i=Kde(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(O.isValidElement(o)){var a=s in e,l=s in r,c=e[s],u=O.isValidElement(c)&&!c.props.in;l&&(!a||u)?i[s]=O.cloneElement(o,{onExited:t.bind(null,o),in:!0,exit:uu(o,"exit",n),enter:uu(o,"enter",n)}):!l&&a&&!u?i[s]=O.cloneElement(o,{in:!1}):l&&a&&O.isValidElement(c)&&(i[s]=O.cloneElement(o,{onExited:t.bind(null,o),in:c.props.in,exit:uu(o,"exit",n),enter:uu(o,"enter",n)}))}}),i}var qde=Object.values||function(n){return Object.keys(n).map(function(e){return n[e]})},Qde={component:"div",childFactory:function(e){return e}},eP=function(n){jde(e,n);function e(r,i){var s;s=n.call(this,r,i)||this;var o=s.handleExited.bind(Xde(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var t=e.prototype;return t.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},t.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?Yde(i,a):Jde(i,o,a),firstRender:!1}},t.handleExited=function(i,s){var o=ZR(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=Oe({},a.children);return delete l[i.key],{children:l}}))},t.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=kr(i,["component","childFactory"]),l=this.state.contextValue,c=qde(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?q.createElement(a3.Provider,{value:l},c):q.createElement(a3.Provider,{value:l},q.createElement(s,a,c))},e}(q.Component);eP.propTypes={};eP.defaultProps=Qde;const Zde=eP;function ehe(n){const{className:e,classes:t,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=n,[u,f]=O.useState(!1),p=bi(e,t.ripple,t.rippleVisible,r&&t.ripplePulsate),m={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},g=bi(t.child,u&&t.childLeaving,r&&t.childPulsate);return!a&&!u&&f(!0),O.useEffect(()=>{if(!a&&l!=null){const y=setTimeout(l,c);return()=>{clearTimeout(y)}}},[l,a,c]),ge.jsx("span",{className:p,style:m,children:ge.jsx("span",{className:g})})}const the=Lh("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Us=the,nhe=["center","classes","className"];let N1=n=>n,l3,c3,u3,f3;const UM=550,rhe=80,ihe=UR(l3||(l3=N1`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),she=UR(c3||(c3=N1`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),ohe=UR(u3||(u3=N1`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),ahe=bc("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),lhe=bc(ehe,{name:"MuiTouchRipple",slot:"Ripple"})(f3||(f3=N1`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Us.rippleVisible,ihe,UM,({theme:n})=>n.transitions.easing.easeInOut,Us.ripplePulsate,({theme:n})=>n.transitions.duration.shorter,Us.child,Us.childLeaving,she,UM,({theme:n})=>n.transitions.easing.easeInOut,Us.childPulsate,ohe,({theme:n})=>n.transitions.easing.easeInOut),che=O.forwardRef(function(e,t){const r=Bh({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=kr(r,nhe),[l,c]=O.useState([]),u=O.useRef(0),f=O.useRef(null);O.useEffect(()=>{f.current&&(f.current(),f.current=null)},[l]);const p=O.useRef(!1),m=jle(),g=O.useRef(null),y=O.useRef(null),_=O.useCallback(A=>{const{pulsate:M,rippleX:E,rippleY:R,rippleSize:I,cb:T}=A;c(P=>[...P,ge.jsx(lhe,{classes:{ripple:bi(s.ripple,Us.ripple),rippleVisible:bi(s.rippleVisible,Us.rippleVisible),ripplePulsate:bi(s.ripplePulsate,Us.ripplePulsate),child:bi(s.child,Us.child),childLeaving:bi(s.childLeaving,Us.childLeaving),childPulsate:bi(s.childPulsate,Us.childPulsate)},timeout:UM,pulsate:M,rippleX:E,rippleY:R,rippleSize:I},u.current)]),u.current+=1,f.current=T},[s]),v=O.useCallback((A={},M={},E=()=>{})=>{const{pulsate:R=!1,center:I=i||M.pulsate,fakeElement:T=!1}=M;if((A==null?void 0:A.type)==="mousedown"&&p.current){p.current=!1;return}(A==null?void 0:A.type)==="touchstart"&&(p.current=!0);const P=T?null:y.current,B=P?P.getBoundingClientRect():{width:0,height:0,left:0,top:0};let U,j,N;if(I||A===void 0||A.clientX===0&&A.clientY===0||!A.clientX&&!A.touches)U=Math.round(B.width/2),j=Math.round(B.height/2);else{const{clientX:G,clientY:V}=A.touches&&A.touches.length>0?A.touches[0]:A;U=Math.round(G-B.left),j=Math.round(V-B.top)}if(I)N=Math.sqrt((2*B.width**2+B.height**2)/3),N%2===0&&(N+=1);else{const G=Math.max(Math.abs((P?P.clientWidth:0)-U),U)*2+2,V=Math.max(Math.abs((P?P.clientHeight:0)-j),j)*2+2;N=Math.sqrt(G**2+V**2)}A!=null&&A.touches?g.current===null&&(g.current=()=>{_({pulsate:R,rippleX:U,rippleY:j,rippleSize:N,cb:E})},m.start(rhe,()=>{g.current&&(g.current(),g.current=null)})):_({pulsate:R,rippleX:U,rippleY:j,rippleSize:N,cb:E})},[i,_,m]),x=O.useCallback(()=>{v({},{pulsate:!0})},[v]),b=O.useCallback((A,M)=>{if(m.clear(),(A==null?void 0:A.type)==="touchend"&&g.current){g.current(),g.current=null,m.start(0,()=>{b(A,M)});return}g.current=null,c(E=>E.length>0?E.slice(1):E),f.current=M},[m]);return O.useImperativeHandle(t,()=>({pulsate:x,start:v,stop:b}),[x,v,b]),ge.jsx(ahe,Oe({className:bi(Us.root,s.root,o),ref:y},a,{children:ge.jsx(Zde,{component:null,exit:!0,children:l})}))}),uhe=che;function fhe(n){return Lg("MuiButtonBase",n)}const dhe=Lh("MuiButtonBase",["root","disabled","focusVisible"]),hhe=dhe,phe=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],mhe=n=>{const{disabled:e,focusVisible:t,focusVisibleClassName:r,classes:i}=n,o=h1({root:["root",e&&"disabled",t&&"focusVisible"]},fhe,i);return t&&r&&(o.root+=` ${r}`),o},ghe=bc("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(n,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${hhe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),vhe=O.forwardRef(function(e,t){const r=Bh({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:u=!1,disableTouchRipple:f=!1,focusRipple:p=!1,LinkComponent:m="a",onBlur:g,onClick:y,onContextMenu:_,onDragLeave:v,onFocus:x,onFocusVisible:b,onKeyDown:A,onKeyUp:M,onMouseDown:E,onMouseLeave:R,onMouseUp:I,onTouchEnd:T,onTouchMove:P,onTouchStart:B,tabIndex:U=0,TouchRippleProps:j,touchRippleRef:N,type:G}=r,V=kr(r,phe),$=O.useRef(null),F=O.useRef(null),X=IM(F,N),{isFocusVisibleRef:Y,onFocus:te,onBlur:ee,ref:J}=FH(),[ne,ue]=O.useState(!1);c&&ne&&ue(!1),O.useImperativeHandle(i,()=>({focusVisible:()=>{ue(!0),$.current.focus()}}),[]);const[Ae,Re]=O.useState(!1);O.useEffect(()=>{Re(!0)},[]);const Qe=Ae&&!u&&!c;O.useEffect(()=>{ne&&p&&!u&&Ae&&F.current.pulsate()},[u,p,ne,Ae]);function Ve(Pe,be,Et=f){return Np(pt=>(be&&be(pt),!Et&&F.current&&F.current[Pe](pt),!0))}const Fe=Ve("start",E),Le=Ve("stop",_),K=Ve("stop",v),_e=Ve("stop",I),me=Ve("stop",Pe=>{ne&&Pe.preventDefault(),R&&R(Pe)}),we=Ve("start",B),ve=Ve("stop",T),Xe=Ve("stop",P),Ue=Ve("stop",Pe=>{ee(Pe),Y.current===!1&&ue(!1),g&&g(Pe)},!1),k=Np(Pe=>{$.current||($.current=Pe.currentTarget),te(Pe),Y.current===!0&&(ue(!0),b&&b(Pe)),x&&x(Pe)}),D=()=>{const Pe=$.current;return l&&l!=="button"&&!(Pe.tagName==="A"&&Pe.href)},ie=O.useRef(!1),Ee=Np(Pe=>{p&&!ie.current&&ne&&F.current&&Pe.key===" "&&(ie.current=!0,F.current.stop(Pe,()=>{F.current.start(Pe)})),Pe.target===Pe.currentTarget&&D()&&Pe.key===" "&&Pe.preventDefault(),A&&A(Pe),Pe.target===Pe.currentTarget&&D()&&Pe.key==="Enter"&&!c&&(Pe.preventDefault(),y&&y(Pe))}),oe=Np(Pe=>{p&&Pe.key===" "&&F.current&&ne&&!Pe.defaultPrevented&&(ie.current=!1,F.current.stop(Pe,()=>{F.current.pulsate(Pe)})),M&&M(Pe),y&&Pe.target===Pe.currentTarget&&D()&&Pe.key===" "&&!Pe.defaultPrevented&&y(Pe)});let le=l;le==="button"&&(V.href||V.to)&&(le=m);const ke={};le==="button"?(ke.type=G===void 0?"button":G,ke.disabled=c):(!V.href&&!V.to&&(ke.role="button"),c&&(ke["aria-disabled"]=c));const Te=IM(t,J,$),Ie=Oe({},r,{centerRipple:s,component:l,disabled:c,disableRipple:u,disableTouchRipple:f,focusRipple:p,tabIndex:U,focusVisible:ne}),Ze=mhe(Ie);return ge.jsxs(ghe,Oe({as:le,className:bi(Ze.root,a),ownerState:Ie,onBlur:Ue,onClick:y,onContextMenu:Le,onFocus:k,onKeyDown:Ee,onKeyUp:oe,onMouseDown:Fe,onMouseLeave:me,onMouseUp:_e,onDragLeave:K,onTouchEnd:ve,onTouchMove:Xe,onTouchStart:we,ref:Te,tabIndex:c?-1:U,type:G},ke,V,{children:[o,Qe?ge.jsx(uhe,Oe({ref:X,center:s},j)):null]}))}),gG=vhe;function yhe(n){return Lg("MuiButton",n)}const _he=Lh("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),iy=_he,xhe=O.createContext({}),She=xhe,bhe=O.createContext(void 0),Ahe=bhe,whe=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Ehe=n=>{const{color:e,disableElevation:t,fullWidth:r,size:i,variant:s,classes:o}=n,a={root:["root",s,`${s}${zn(e)}`,`size${zn(i)}`,`${s}Size${zn(i)}`,e==="inherit"&&"colorInherit",t&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${zn(i)}`],endIcon:["endIcon",`iconSize${zn(i)}`]},l=h1(a,yhe,o);return Oe({},o,l)},vG=n=>Oe({},n.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},n.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},n.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Mhe=bc(gG,{shouldForwardProp:n=>fG(n)||n==="classes",name:"MuiButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,e[t.variant],e[`${t.variant}${zn(t.color)}`],e[`size${zn(t.size)}`],e[`${t.variant}Size${zn(t.size)}`],t.color==="inherit"&&e.colorInherit,t.disableElevation&&e.disableElevation,t.fullWidth&&e.fullWidth]}})(({theme:n,ownerState:e})=>{var t,r;const i=n.palette.mode==="light"?n.palette.grey[300]:n.palette.grey[800],s=n.palette.mode==="light"?n.palette.grey.A100:n.palette.grey[700];return Oe({},n.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(n.vars||n).shape.borderRadius,transition:n.transitions.create(["background-color","box-shadow","border-color","color"],{duration:n.transitions.duration.short}),"&:hover":Oe({textDecoration:"none",backgroundColor:n.vars?`rgba(${n.vars.palette.text.primaryChannel} / ${n.vars.palette.action.hoverOpacity})`:hd(n.palette.text.primary,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:n.vars?`rgba(${n.vars.palette[e.color].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:hd(n.palette[e.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(n.vars||n).palette[e.color].main}`,backgroundColor:n.vars?`rgba(${n.vars.palette[e.color].mainChannel} / ${n.vars.palette.action.hoverOpacity})`:hd(n.palette[e.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:n.vars?n.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(n.vars||n).shadows[4],"@media (hover: none)":{boxShadow:(n.vars||n).shadows[2],backgroundColor:(n.vars||n).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(n.vars||n).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(n.vars||n).palette[e.color].main}}),"&:active":Oe({},e.variant==="contained"&&{boxShadow:(n.vars||n).shadows[8]}),[`&.${iy.focusVisible}`]:Oe({},e.variant==="contained"&&{boxShadow:(n.vars||n).shadows[6]}),[`&.${iy.disabled}`]:Oe({color:(n.vars||n).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(n.vars||n).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(n.vars||n).palette.action.disabled,boxShadow:(n.vars||n).shadows[0],backgroundColor:(n.vars||n).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(n.vars||n).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(n.vars||n).palette[e.color].main,border:n.vars?`1px solid rgba(${n.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${hd(n.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:n.vars?n.vars.palette.text.primary:(t=(r=n.palette).getContrastText)==null?void 0:t.call(r,n.palette.grey[300]),backgroundColor:n.vars?n.vars.palette.Button.inheritContainedBg:i,boxShadow:(n.vars||n).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(n.vars||n).palette[e.color].contrastText,backgroundColor:(n.vars||n).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:n.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:n.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:n.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:n.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:n.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:n.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:n})=>n.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${iy.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${iy.disabled}`]:{boxShadow:"none"}}),The=bc("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.startIcon,e[`iconSize${zn(t.size)}`]]}})(({ownerState:n})=>Oe({display:"inherit",marginRight:8,marginLeft:-4},n.size==="small"&&{marginLeft:-2},vG(n))),Che=bc("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.endIcon,e[`iconSize${zn(t.size)}`]]}})(({ownerState:n})=>Oe({display:"inherit",marginRight:-4,marginLeft:8},n.size==="small"&&{marginRight:-2},vG(n))),Rhe=O.forwardRef(function(e,t){const r=O.useContext(She),i=O.useContext(Ahe),s=PR(r,e),o=Bh({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:u,disabled:f=!1,disableElevation:p=!1,disableFocusRipple:m=!1,endIcon:g,focusVisibleClassName:y,fullWidth:_=!1,size:v="medium",startIcon:x,type:b,variant:A="text"}=o,M=kr(o,whe),E=Oe({},o,{color:l,component:c,disabled:f,disableElevation:p,disableFocusRipple:m,fullWidth:_,size:v,type:b,variant:A}),R=Ehe(E),I=x&&ge.jsx(The,{className:R.startIcon,ownerState:E,children:x}),T=g&&ge.jsx(Che,{className:R.endIcon,ownerState:E,children:g}),P=i||"";return ge.jsxs(Mhe,Oe({ownerState:E,className:bi(r.className,R.root,u,P),component:c,disabled:f,focusRipple:!m,focusVisibleClassName:bi(R.focusVisible,y),ref:t,type:b},M,{classes:R,children:[I,a,T]}))}),Phe=Rhe;function Ohe(n){return ge.jsx(ofe,Oe({},n,{defaultTheme:KR,themeId:uh}))}const Lhe=(n,e)=>Oe({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!n.vars&&{colorScheme:n.palette.mode}),Ihe=n=>Oe({color:(n.vars||n).palette.text.primary},n.typography.body1,{backgroundColor:(n.vars||n).palette.background.default,"@media print":{backgroundColor:(n.vars||n).palette.common.white}}),Bhe=(n,e=!1)=>{var t;const r={};e&&n.colorSchemes&&Object.entries(n.colorSchemes).forEach(([o,a])=>{var l;r[n.getColorSchemeSelector(o).replace(/\s*&/,"")]={colorScheme:(l=a.palette)==null?void 0:l.mode}});let i=Oe({html:Lhe(n,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:n.typography.fontWeightBold},body:Oe({margin:0},Ihe(n),{"&::backdrop":{backgroundColor:(n.vars||n).palette.background.default}})},r);const s=(t=n.components)==null||(t=t.MuiCssBaseline)==null?void 0:t.styleOverrides;return s&&(i=[i,s]),i};function Dhe(n){const e=Bh({props:n,name:"MuiCssBaseline"}),{children:t,enableColorScheme:r=!1}=e;return ge.jsxs(O.Fragment,{children:[ge.jsx(Ohe,{styles:i=>Bhe(i,r)}),t]})}function khe(n){return Lg("MuiIconButton",n)}const Nhe=Lh("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),Fhe=Nhe,Uhe=["edge","children","className","color","disabled","disableFocusRipple","size"],zhe=n=>{const{classes:e,disabled:t,color:r,edge:i,size:s}=n,o={root:["root",t&&"disabled",r!=="default"&&`color${zn(r)}`,i&&`edge${zn(i)}`,`size${zn(s)}`]};return h1(o,khe,e)},Hhe=bc(gG,{name:"MuiIconButton",slot:"Root",overridesResolver:(n,e)=>{const{ownerState:t}=n;return[e.root,t.color!=="default"&&e[`color${zn(t.color)}`],t.edge&&e[`edge${zn(t.edge)}`],e[`size${zn(t.size)}`]]}})(({theme:n,ownerState:e})=>Oe({textAlign:"center",flex:"0 0 auto",fontSize:n.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(n.vars||n).palette.action.active,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:n.vars?`rgba(${n.vars.palette.action.activeChannel} / ${n.vars.palette.action.hoverOpacity})`:hd(n.palette.action.active,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:n,ownerState:e})=>{var t;const r=(t=(n.vars||n).palette)==null?void 0:t[e.color];return Oe({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&Oe({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":Oe({},r&&{backgroundColor:n.vars?`rgba(${r.mainChannel} / ${n.vars.palette.action.hoverOpacity})`:hd(r.main,n.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:n.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:n.typography.pxToRem(28)},{[`&.${Fhe.disabled}`]:{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled}})}),Ghe=O.forwardRef(function(e,t){const r=Bh({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:u="medium"}=r,f=kr(r,Uhe),p=Oe({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:u}),m=zhe(p);return ge.jsx(Hhe,Oe({className:bi(m.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:t,ownerState:p},f,{children:s}))}),d3=Ghe;function Vhe({item:n}){const e=Yo(s=>s.items[n===Ko?mn.gramps.itemName:n.itemName].optionSelectedPrice),t=XR({palette:{primary:{main:"#212121",light:"#757575"},secondary:{main:"#929d84",light:"#E0E0E0"}},shadows:Array(25).fill("none")}),r=Yo(s=>s.items[n===Ko?mn.gramps.itemName:n.itemName].optionCartList),i=Yo(s=>s.items[n===Ko?mn.gramps.itemName:n.itemName].snipCartOption);return ge.jsxs(zde,{theme:t,children:[ge.jsx(Dhe,{}),ge.jsx($de,{sx:{display:"flex",justifyContent:"center"},children:ge.jsx(Phe,{variant:"contained",color:"secondary",disabled:e===0,className:"snipcart-add-item","data-item-id":n.itemNo,"data-item-name":n.itemTitle,"data-item-url":`https://elibuilds-998b8-default-rtdb.firebaseio.com/${n.itemNo}.json`,"data-item-description":n.itemDescription,"data-item-price":n.itemBasePrice,"data-item-custom1-name":"Type","data-item-custom1-type":"readonly","data-item-custom1-options":`singleStain[+${n.itemStainCost}]|mixedStain[+${n.itemMixedStainCost}]|mixedStainPaint[+${n.itemMixedStainCost}]|mixedPaint[+${n.itemMixedPaintCost}]|singlePaint`,"data-item-custom1-value":i,"data-item-custom2-name":"Parts","data-item-custom2-type":"readonly","data-item-custom2-value":r,sx:{display:n===Ko?"none":"block",pointerEvents:"auto",mt:1.25,color:"#ffffff",fontSize:"8rem",padding:"4rem",paddingX:"8rem",marginBottom:"6rem",borderRadius:"2rem",fontFamily:"var(--leva-fonts-mono)"},children:e===0?"...":`$${e}`})})]})}const Whe=({model:n,itemName:e,itemTitle:t,partName:r,descPartName:i,animation:s,animDist:o,currentItemName:a,currentPartName:l,showBackground:c,setShowBackground:u,showPartOptions:f,setShowPartOptions:p,handlePartOption:m,getRandomInt:g,positionBottom:y,toggleInfoBox:_,toggleLongDesc:v,togglePhotoBox:x})=>{const b=n,{scene:A}=ol(b),[M,E]=O.useState([]),[R,I]=O.useState(""),[T,P]=O.useState(""),B=Yo(G=>G.items[e].parts[r].colorName),U=(G,V,$)=>{G.preventDefault(),console.log("randomPartsClick() - find item in objects data by part itemName: ",mn[V]),console.log("then get the parts array for that found item: ",mn[V].parts);let F="",X=Rr.stains[g(Rr.stains.length)],Y=Rr.paints[g(Rr.paints.length)];for(;X===R;)X=Rr.stains[g(Rr.stains.length)];for(I(X);Y===T;)Y=Rr.paints[g(Rr.paints.length)];P(Y);let te=mn[V].parts.map(ee=>($==="stainMixed"?F=Rr.stains[g(Rr.stains.length)]:$==="stainSingle"?F=X:$==="allMixed"?F=V_[g(V_.length)]:$==="paintMixed"?F=Rr.paints[g(Rr.paints.length)]:$==="paintSingle"&&(F=Y),m(G,V,ee.partName,F,!1),F));console.log("random colors generated list: ",te)},j=G=>{G.preventDefault(),G.stopPropagation(),p(!1)},N=G=>{G.preventDefault(),G.stopPropagation(),p(!1),u(!0)};return O.useLayoutEffect(()=>{const G=[];A.traverse(V=>{V.isObject3D&&V.userData.name&&V.userData.name.startsWith("AnchorPoint")&&G.push(ge.jsxs(L_,{position:y?[0,e.includes("shelf")&&e.includes("B")&&e.includes("16")?.75:e.includes("shelf")&&e.includes("B")&&e.includes("32")?1.05:e.includes("shelf")&&e.includes("A")&&e.includes("32")?.75:e.includes("shelf")&&e.includes("A")&&e.includes("16")?1.05:e.includes("horse")?0:-.35,e.includes("horse")?-.3:0]:[V.position.x,V.position.y,V.position.z],distanceFactor:.21,center:!!y,style:{display:a===e&&l===r&&f&&!c?"block":"none"},children:[ge.jsx("button",{className:"colorExitBtn",onClick:$=>j($),children:ge.jsx(j_,{fontSize:"inherit"})}),ge.jsx("button",{className:"colorBgrdBtn",onClick:$=>N($),children:ge.jsx(hG,{fontSize:"inherit"})}),ge.jsxs("div",{className:"annotation-wrapper",children:[ge.jsx("div",{className:"color-menu-item-title",children:t}),ge.jsx("div",{className:"color-menu-part-title",children:i}),ge.jsx("div",{className:"annotation",children:ge.jsxs("div",{className:"annotation-options",children:[ge.jsx("div",{className:"grid-container-stain",children:Rr.stains.map($=>ge.jsx("button",{className:"colorBtn",onClick:F=>m(F,e,r,$,!0),style:{backgroundColor:$==="white"?"#a89d93":$==="natural"?"#908073":$==="black"?"#635245":$==="allBlack"?"#0b0502":"#ffffff",border:B===$?"0.75rem solid #5580b0":"0.75rem solid #ffffff"}},$))}),ge.jsx("div",{className:"grid-container-paint",children:Rr.paints.map($=>ge.jsx("button",{onClick:F=>m(F,e,r,$,!0),className:"colorBtn",style:{backgroundColor:$==="alabaster"?"#fffdf0":$==="pink"?"#f2d1c6":$==="basil"?"#929d84":$==="yellow"?"#f2d684":$==="blue"?"#96b0aa":$==="gray"?"#8c8b81":"#ffffff",border:B===$?"0.75rem solid #5580b0":"0.75rem solid #ffffff"}},$))})]})}),ge.jsxs("div",{className:"shuffle-color-block",children:[ge.jsx("button",{className:"colorShuffleBtn ",onClick:$=>U($,e,"stainSingle"),children:ge.jsx($f,{fontSize:"inherit",color:"white"})}),ge.jsx("button",{className:"colorShuffleBtn ",onClick:$=>U($,e,"stainMixed"),children:ge.jsx($f,{fontSize:"inherit",color:"secondary"})}),ge.jsx("button",{className:"colorShuffleBtn ",onClick:$=>U($,e,"allMixed"),children:ge.jsx($f,{fontSize:"inherit",color:"success"})}),ge.jsx("button",{className:"colorShuffleBtn ",onClick:$=>U($,e,"paintMixed"),children:ge.jsx($f,{fontSize:"inherit",color:"warning"})}),ge.jsx("button",{className:"colorShuffleBtn ",onClick:$=>U($,e,"paintSingle"),children:ge.jsx($f,{fontSize:"inherit",color:"error"})})]}),ge.jsxs("div",{className:"buy-info-block",children:[ge.jsx("button",{className:"colorShuffleBtn ",onClick:x,children:ge.jsx(mG,{fontSize:"inherit",color:"primary"})}),ge.jsx(Vhe,{item:mn[e],"aria-label":"add to shopping cart"}),ge.jsx("button",{className:"colorShuffleBtn ",onClick:_,children:ge.jsx(pG,{fontSize:"inherit",color:"info"})})]})]})]},V.uuid))}),E(G)},[A,B,a,l,f,c]),ge.jsx("mesh",{position:s==="negX"?[y?0:-o,0,0]:s==="posX"?[y?0:o,0,0]:s==="negZ"?[0,0,y?0:-o]:s==="posZ"?[0,0,y?0:o]:s==="posY1"?[0,y?0:o,0]:s==="posY2"?[0,y?0:o+o/2,0]:s==="negZposY1"?[0,y?0:o,y?0:-o]:s==="posXposY1"?[y?0:o,y?0:o,0]:[0,0,0],children:M})};function $he({selected:n,showBackground:e}){return ge.jsxs("mesh",{position:[0,5e-4,0],"rotation-x":-Math.PI*.5,visible:n,depthTest:!1,children:[ge.jsx("circleGeometry",{args:[.5,64]}),ge.jsx("meshBasicMaterial",{transparent:!0,opacity:0}),ge.jsx(Roe,{threshold:90,color:"white",visible:!!(n&&e)})]})}const jhe=({currentColor:n,currentTexture:e})=>{const{scene:t,nodes:r,materials:i}=ol("./models/floor.gltf"),[s,o,a,l,c,u]=$s(e),f=3;return s.wrapS=Tn,s.wrapT=Tn,s.repeat.set(f,f),o.wrapS=Tn,o.wrapT=Tn,o.repeat.set(f,f),u.wrapS=Tn,u.wrapT=Tn,u.repeat.set(f,f),a.wrapS=Tn,a.wrapT=Tn,a.repeat.set(f,f),l.wrapS=Tn,l.wrapT=Tn,l.repeat.set(f,f),O.useLayoutEffect(()=>{Object.assign(i.Material,{map:s,displacementMap:o,normalMap:a,roughnessMap:l,metalnessMap:c,aoMap:u,color:n})},[t,r,i]),O.useLayoutEffect(()=>{t.traverse(p=>{p.isMesh&&(p.receiveShadow=!0,p.material.roughness=1,p.material.metalness=0,p.material.dithering=!0)})},[]),ge.jsx("primitive",{object:t})},Xhe=({currentColor:n,currentTexture:e})=>{const{scene:t,nodes:r,materials:i}=ol("./models/walls.gltf"),[s,o,a,l]=$s(e),c=8;return s.wrapS=Tn,s.wrapT=Tn,s.repeat.set(c,c),o.wrapS=Tn,o.wrapT=Tn,o.repeat.set(c,c),a.wrapS=Tn,a.wrapT=Tn,a.repeat.set(c,c),O.useLayoutEffect(()=>{Object.assign(i.Material,{map:s,normalMap:o,roughnessMap:a,metalnessMap:l,color:n})},[t,r,i]),O.useLayoutEffect(()=>{t.traverse(u=>{u.isMesh&&(u.receiveShadow=!0,u.material.roughness=1,u.material.metalness=0)})},[]),ge.jsx("primitive",{object:t})};function h3(){const{innerWidth:n,innerHeight:e}=window;return{width:n,height:e}}function Khe(){const[n,e]=O.useState(h3());return O.useEffect(()=>{function t(){e(h3())}return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),n}var X_={},fc={};Object.defineProperty(fc,"__esModule",{value:!0});fc.SnipcartProvider=fc.SnipcartContext=void 0;fc.useSnipcart=ipe;fc.useSnipcartState=yG;var K_=O,Yhe=ge;function p3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Jhe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?p3(Object(t),!0).forEach(function(r){qhe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):p3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function qhe(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Qhe(n,e){return npe(n)||tpe(n,e)||epe(n,e)||Zhe()}function Zhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function epe(n,e){if(n){if(typeof n=="string")return m3(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m3(n,e)}}function m3(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function tpe(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,s=!1,o,a;try{for(t=t.call(n);!(i=(o=t.next()).done)&&(r.push(o.value),!(e&&r.length===e));i=!0);}catch(l){s=!0,a=l}finally{try{!i&&t.return!=null&&t.return()}finally{if(s)throw a}}return r}}function npe(n){if(Array.isArray(n))return n}var tP=(0,K_.createContext)();fc.SnipcartContext=tP;var rpe=function(e){var t=e.children,r=yG();return(0,Yhe.jsx)(tP.Provider,{value:r,children:t})};fc.SnipcartProvider=rpe;function yG(){var n=(0,K_.useState)({}),e=Qhe(n,2),t=e[0],r=e[1];(0,K_.useEffect)(function(){var o;return function a(){if(window.Snipcart){o=window.Snipcart.store.subscribe(function(){return s()});return}setTimeout(function(){return a()},100)}(),function(){return o&&o()}},[]);function i(){return window.Snipcart.store.getState()}function s(){var o=i();r(o)}return Jhe({refreshState:s,getState:i},t)}function ipe(){var n=(0,K_.useContext)(tP);return n}(function(n){Object.defineProperty(n,"__esModule",{value:!0});var e=fc;Object.keys(e).forEach(function(t){t==="default"||t==="__esModule"||t in n&&n[t]===e[t]||Object.defineProperty(n,t,{enumerable:!0,get:function(){return e[t]}})})})(X_);const spe=({currentColor:n,currentTexture:e})=>{const{scene:t,nodes:r,materials:i}=ol("./models/eliLogo.gltf"),[s,o,a,l]=$s(e);return O.useLayoutEffect(()=>{Object.assign(i._0103_Blue,{map:s,normalMap:o,roughnessMap:a,metalnessMap:l,color:n})},[t,r,i,n,e,s,o,a,l]),O.useLayoutEffect(()=>{t.traverse(c=>{c.isMesh&&(c.castShadow=!1,c.receiveShadow=!0,c.material.roughness=1,c.material.metalness=0)})},[]),ge.jsx("primitive",{object:t})};var _G={},xG={},F1={},SG={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={animating:!1,autoplaying:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,dragging:!1,edgeDragged:!1,initialized:!1,lazyLoadedList:[],listHeight:null,listWidth:null,scrolling:!1,slideCount:null,slideHeight:null,slideWidth:null,swipeLeft:null,swiped:!1,swiping:!1,touchObject:{startX:0,startY:0,curX:0,curY:0},trackStyle:{},trackWidth:0,targetSlide:0};n.default=e})(SG);var ope="Expected a function",g3=0/0,ape="[object Symbol]",lpe=/^\s+|\s+$/g,cpe=/^[-+]0x[0-9a-f]+$/i,upe=/^0b[01]+$/i,fpe=/^0o[0-7]+$/i,dpe=parseInt,hpe=typeof O0=="object"&&O0&&O0.Object===Object&&O0,ppe=typeof self=="object"&&self&&self.Object===Object&&self,mpe=hpe||ppe||Function("return this")(),gpe=Object.prototype,vpe=gpe.toString,ype=Math.max,_pe=Math.min,HA=function(){return mpe.Date.now()};function xpe(n,e,t){var r,i,s,o,a,l,c=0,u=!1,f=!1,p=!0;if(typeof n!="function")throw new TypeError(ope);e=v3(e)||0,zM(t)&&(u=!!t.leading,f="maxWait"in t,s=f?ype(v3(t.maxWait)||0,e):s,p="trailing"in t?!!t.trailing:p);function m(E){var R=r,I=i;return r=i=void 0,c=E,o=n.apply(I,R),o}function g(E){return c=E,a=setTimeout(v,e),u?m(E):o}function y(E){var R=E-l,I=E-c,T=e-R;return f?_pe(T,s-I):T}function _(E){var R=E-l,I=E-c;return l===void 0||R>=e||R<0||f&&I>=s}function v(){var E=HA();if(_(E))return x(E);a=setTimeout(v,y(E))}function x(E){return a=void 0,p&&r?m(E):(r=i=void 0,o)}function b(){a!==void 0&&clearTimeout(a),c=0,r=l=i=a=void 0}function A(){return a===void 0?o:x(HA())}function M(){var E=HA(),R=_(E);if(r=arguments,i=this,l=E,R){if(a===void 0)return g(l);if(f)return a=setTimeout(v,e),m(l)}return a===void 0&&(a=setTimeout(v,e)),o}return M.cancel=b,M.flush=A,M}function zM(n){var e=typeof n;return!!n&&(e=="object"||e=="function")}function Spe(n){return!!n&&typeof n=="object"}function bpe(n){return typeof n=="symbol"||Spe(n)&&vpe.call(n)==ape}function v3(n){if(typeof n=="number")return n;if(bpe(n))return g3;if(zM(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=zM(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=n.replace(lpe,"");var t=upe.test(n);return t||fpe.test(n)?dpe(n.slice(2),t?2:8):cpe.test(n)?g3:+n}var Ape=xpe,bG={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var s="",o=0;o<arguments.length;o++){var a=arguments[o];a&&(s=i(s,r(a)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return t.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var o="";for(var a in s)e.call(s,a)&&s[a]&&(o=i(o,a));return o}function i(s,o){return o?s?s+" "+o:s+o:s}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(bG);var U1=bG.exports,je={},nP={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(O);function t(i){return i&&i.__esModule?i:{default:i}}var r={accessibility:!0,adaptiveHeight:!1,afterChange:null,appendDots:function(s){return e.default.createElement("ul",{style:{display:"block"}},s)},arrows:!0,autoplay:!1,autoplaySpeed:3e3,beforeChange:null,centerMode:!1,centerPadding:"50px",className:"",cssEase:"ease",customPaging:function(s){return e.default.createElement("button",null,s+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,infinite:!0,initialSlide:0,lazyLoad:null,nextArrow:null,onEdge:null,onInit:null,onLazyLoadError:null,onReInit:null,pauseOnDotsHover:!1,pauseOnFocus:!1,pauseOnHover:!0,prevArrow:null,responsive:null,rows:1,rtl:!1,slide:"div",slidesPerRow:1,slidesToScroll:1,slidesToShow:1,speed:500,swipe:!0,swipeEvent:null,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,waitForAnimate:!0,asNavFor:null};n.default=r})(nP);Object.defineProperty(je,"__esModule",{value:!0});je.checkSpecKeys=je.checkNavigable=je.changeSlide=je.canUseDOM=je.canGoNext=void 0;je.clamp=wG;je.extractObject=void 0;je.filterSettings=Fpe;je.validSettings=je.swipeStart=je.swipeMove=je.swipeEnd=je.slidesOnRight=je.slidesOnLeft=je.slideHandler=je.siblingDirection=je.safePreventDefault=je.lazyStartIndex=je.lazySlidesOnRight=je.lazySlidesOnLeft=je.lazyEndIndex=je.keyHandler=je.initializedState=je.getWidth=je.getTrackLeft=je.getTrackCSS=je.getTrackAnimateCSS=je.getTotalSlides=je.getSwipeDirection=je.getSlideCount=je.getRequiredLazySlides=je.getPreClones=je.getPostClones=je.getOnDemandLazySlides=je.getNavigableIndexes=je.getHeight=void 0;var wpe=AG(O),Epe=AG(nP);function AG(n){return n&&n.__esModule?n:{default:n}}function Zm(n){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zm(n)}function y3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Mn(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?y3(Object(t),!0).forEach(function(r){Mpe(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):y3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Mpe(n,e,t){return e=Tpe(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Tpe(n){var e=Cpe(n,"string");return Zm(e)=="symbol"?e:String(e)}function Cpe(n,e){if(Zm(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function wG(n,e,t){return Math.max(e,Math.min(n,t))}var Od=je.safePreventDefault=function(e){var t=["onTouchStart","onTouchMove","onWheel"];t.includes(e._reactName)||e.preventDefault()},EG=je.getOnDemandLazySlides=function(e){for(var t=[],r=MG(e),i=TG(e),s=r;s<i;s++)e.lazyLoadedList.indexOf(s)<0&&t.push(s);return t};je.getRequiredLazySlides=function(e){for(var t=[],r=MG(e),i=TG(e),s=r;s<i;s++)t.push(s);return t};var MG=je.lazyStartIndex=function(e){return e.currentSlide-Rpe(e)},TG=je.lazyEndIndex=function(e){return e.currentSlide+Ppe(e)},Rpe=je.lazySlidesOnLeft=function(e){return e.centerMode?Math.floor(e.slidesToShow/2)+(parseInt(e.centerPadding)>0?1:0):0},Ppe=je.lazySlidesOnRight=function(e){return e.centerMode?Math.floor((e.slidesToShow-1)/2)+1+(parseInt(e.centerPadding)>0?1:0):e.slidesToShow},HM=je.getWidth=function(e){return e&&e.offsetWidth||0},CG=je.getHeight=function(e){return e&&e.offsetHeight||0},RG=je.getSwipeDirection=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r,i,s,o;return r=e.startX-e.curX,i=e.startY-e.curY,s=Math.atan2(i,r),o=Math.round(s*180/Math.PI),o<0&&(o=360-Math.abs(o)),o<=45&&o>=0||o<=360&&o>=315?"left":o>=135&&o<=225?"right":t===!0?o>=35&&o<=135?"up":"down":"vertical"},PG=je.canGoNext=function(e){var t=!0;return e.infinite||(e.centerMode&&e.currentSlide>=e.slideCount-1||e.slideCount<=e.slidesToShow||e.currentSlide>=e.slideCount-e.slidesToShow)&&(t=!1),t};je.extractObject=function(e,t){var r={};return t.forEach(function(i){return r[i]=e[i]}),r};je.initializedState=function(e){var t=wpe.default.Children.count(e.children),r=e.listRef,i=Math.ceil(HM(r)),s=e.trackRef&&e.trackRef.node,o=Math.ceil(HM(s)),a;if(e.vertical)a=i;else{var l=e.centerMode&&parseInt(e.centerPadding)*2;typeof e.centerPadding=="string"&&e.centerPadding.slice(-1)==="%"&&(l*=i/100),a=Math.ceil((i-l)/e.slidesToShow)}var c=r&&CG(r.querySelector('[data-index="0"]')),u=c*e.slidesToShow,f=e.currentSlide===void 0?e.initialSlide:e.currentSlide;e.rtl&&e.currentSlide===void 0&&(f=t-1-e.initialSlide);var p=e.lazyLoadedList||[],m=EG(Mn(Mn({},e),{},{currentSlide:f,lazyLoadedList:p}));p=p.concat(m);var g={slideCount:t,slideWidth:a,listWidth:i,trackWidth:o,currentSlide:f,slideHeight:c,listHeight:u,lazyLoadedList:p};return e.autoplaying===null&&e.autoplay&&(g.autoplaying="playing"),g};je.slideHandler=function(e){var t=e.waitForAnimate,r=e.animating,i=e.fade,s=e.infinite,o=e.index,a=e.slideCount,l=e.lazyLoad,c=e.currentSlide,u=e.centerMode,f=e.slidesToScroll,p=e.slidesToShow,m=e.useCSS,g=e.lazyLoadedList;if(t&&r)return{};var y=o,_,v,x,b={},A={},M=s?o:wG(o,0,a-1);if(i){if(!s&&(o<0||o>=a))return{};o<0?y=o+a:o>=a&&(y=o-a),l&&g.indexOf(y)<0&&(g=g.concat(y)),b={animating:!0,currentSlide:y,lazyLoadedList:g,targetSlide:y},A={animating:!1,targetSlide:y}}else _=y,y<0?(_=y+a,s?a%f!==0&&(_=a-a%f):_=0):!PG(e)&&y>c?y=_=c:u&&y>=a?(y=s?a:a-1,_=s?0:a-1):y>=a&&(_=y-a,s?a%f!==0&&(_=0):_=a-p),!s&&y+p>=a&&(_=a-p),v=J_(Mn(Mn({},e),{},{slideIndex:y})),x=J_(Mn(Mn({},e),{},{slideIndex:_})),s||(v===x&&(y=_),v=x),l&&(g=g.concat(EG(Mn(Mn({},e),{},{currentSlide:y})))),m?(b={animating:!0,currentSlide:_,trackStyle:OG(Mn(Mn({},e),{},{left:v})),lazyLoadedList:g,targetSlide:M},A={animating:!1,currentSlide:_,trackStyle:Y_(Mn(Mn({},e),{},{left:x})),swipeLeft:null,targetSlide:M}):b={currentSlide:_,trackStyle:Y_(Mn(Mn({},e),{},{left:x})),lazyLoadedList:g,targetSlide:M};return{state:b,nextState:A}};je.changeSlide=function(e,t){var r,i,s,o,a,l=e.slidesToScroll,c=e.slidesToShow,u=e.slideCount,f=e.currentSlide,p=e.targetSlide,m=e.lazyLoad,g=e.infinite;if(o=u%l!==0,r=o?0:(u-f)%l,t.message==="previous")s=r===0?l:c-r,a=f-s,m&&!g&&(i=f-s,a=i===-1?u-1:i),g||(a=p-l);else if(t.message==="next")s=r===0?l:r,a=f+s,m&&!g&&(a=(f+l)%u+r),g||(a=p+l);else if(t.message==="dots")a=t.index*t.slidesToScroll;else if(t.message==="children"){if(a=t.index,g){var y=Bpe(Mn(Mn({},e),{},{targetSlide:a}));a>t.currentSlide&&y==="left"?a=a-u:a<t.currentSlide&&y==="right"&&(a=a+u)}}else t.message==="index"&&(a=Number(t.index));return a};je.keyHandler=function(e,t,r){return e.target.tagName.match("TEXTAREA|INPUT|SELECT")||!t?"":e.keyCode===37?r?"next":"previous":e.keyCode===39?r?"previous":"next":""};je.swipeStart=function(e,t,r){return e.target.tagName==="IMG"&&Od(e),!t||!r&&e.type.indexOf("mouse")!==-1?"":{dragging:!0,touchObject:{startX:e.touches?e.touches[0].pageX:e.clientX,startY:e.touches?e.touches[0].pageY:e.clientY,curX:e.touches?e.touches[0].pageX:e.clientX,curY:e.touches?e.touches[0].pageY:e.clientY}}};je.swipeMove=function(e,t){var r=t.scrolling,i=t.animating,s=t.vertical,o=t.swipeToSlide,a=t.verticalSwiping,l=t.rtl,c=t.currentSlide,u=t.edgeFriction,f=t.edgeDragged,p=t.onEdge,m=t.swiped,g=t.swiping,y=t.slideCount,_=t.slidesToScroll,v=t.infinite,x=t.touchObject,b=t.swipeEvent,A=t.listHeight,M=t.listWidth;if(!r){if(i)return Od(e);s&&o&&a&&Od(e);var E,R={},I=J_(t);x.curX=e.touches?e.touches[0].pageX:e.clientX,x.curY=e.touches?e.touches[0].pageY:e.clientY,x.swipeLength=Math.round(Math.sqrt(Math.pow(x.curX-x.startX,2)));var T=Math.round(Math.sqrt(Math.pow(x.curY-x.startY,2)));if(!a&&!g&&T>10)return{scrolling:!0};a&&(x.swipeLength=T);var P=(l?-1:1)*(x.curX>x.startX?1:-1);a&&(P=x.curY>x.startY?1:-1);var B=Math.ceil(y/_),U=RG(t.touchObject,a),j=x.swipeLength;return v||(c===0&&(U==="right"||U==="down")||c+1>=B&&(U==="left"||U==="up")||!PG(t)&&(U==="left"||U==="up"))&&(j=x.swipeLength*u,f===!1&&p&&(p(U),R.edgeDragged=!0)),!m&&b&&(b(U),R.swiped=!0),s?E=I+j*(A/M)*P:l?E=I-j*P:E=I+j*P,a&&(E=I+j*P),R=Mn(Mn({},R),{},{touchObject:x,swipeLeft:E,trackStyle:Y_(Mn(Mn({},t),{},{left:E}))}),Math.abs(x.curX-x.startX)<Math.abs(x.curY-x.startY)*.8||x.swipeLength>10&&(R.swiping=!0,Od(e)),R}};je.swipeEnd=function(e,t){var r=t.dragging,i=t.swipe,s=t.touchObject,o=t.listWidth,a=t.touchThreshold,l=t.verticalSwiping,c=t.listHeight,u=t.swipeToSlide,f=t.scrolling,p=t.onSwipe,m=t.targetSlide,g=t.currentSlide,y=t.infinite;if(!r)return i&&Od(e),{};var _=l?c/a:o/a,v=RG(s,l),x={dragging:!1,edgeDragged:!1,scrolling:!1,swiping:!1,swiped:!1,swipeLeft:null,touchObject:{}};if(f||!s.swipeLength)return x;if(s.swipeLength>_){Od(e),p&&p(v);var b,A,M=y?g:m;switch(v){case"left":case"up":A=M+x3(t),b=u?_3(t,A):A,x.currentDirection=0;break;case"right":case"down":A=M-x3(t),b=u?_3(t,A):A,x.currentDirection=1;break;default:b=M}x.triggerSlideHandler=b}else{var E=J_(t);x.trackStyle=OG(Mn(Mn({},t),{},{left:E}))}return x};var Ope=je.getNavigableIndexes=function(e){for(var t=e.infinite?e.slideCount*2:e.slideCount,r=e.infinite?e.slidesToShow*-1:0,i=e.infinite?e.slidesToShow*-1:0,s=[];r<t;)s.push(r),r=i+e.slidesToScroll,i+=Math.min(e.slidesToScroll,e.slidesToShow);return s},_3=je.checkNavigable=function(e,t){var r=Ope(e),i=0;if(t>r[r.length-1])t=r[r.length-1];else for(var s in r){if(t<r[s]){t=i;break}i=r[s]}return t},x3=je.getSlideCount=function(e){var t=e.centerMode?e.slideWidth*Math.floor(e.slidesToShow/2):0;if(e.swipeToSlide){var r,i=e.listRef,s=i.querySelectorAll&&i.querySelectorAll(".slick-slide")||[];if(Array.from(s).every(function(l){if(e.vertical){if(l.offsetTop+CG(l)/2>e.swipeLeft*-1)return r=l,!1}else if(l.offsetLeft-t+HM(l)/2>e.swipeLeft*-1)return r=l,!1;return!0}),!r)return 0;var o=e.rtl===!0?e.slideCount-e.currentSlide:e.currentSlide,a=Math.abs(r.dataset.index-o)||1;return a}else return e.slidesToScroll},rP=je.checkSpecKeys=function(e,t){return t.reduce(function(r,i){return r&&e.hasOwnProperty(i)},!0)?null:console.error("Keys Missing:",e)},Y_=je.getTrackCSS=function(e){rP(e,["left","variableWidth","slideCount","slidesToShow","slideWidth"]);var t,r,i=e.slideCount+2*e.slidesToShow;e.vertical?r=i*e.slideHeight:t=Ipe(e)*e.slideWidth;var s={opacity:1,transition:"",WebkitTransition:""};if(e.useTransform){var o=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",a=e.vertical?"translate3d(0px, "+e.left+"px, 0px)":"translate3d("+e.left+"px, 0px, 0px)",l=e.vertical?"translateY("+e.left+"px)":"translateX("+e.left+"px)";s=Mn(Mn({},s),{},{WebkitTransform:o,transform:a,msTransform:l})}else e.vertical?s.top=e.left:s.left=e.left;return e.fade&&(s={opacity:1}),t&&(s.width=t),r&&(s.height=r),window&&!window.addEventListener&&window.attachEvent&&(e.vertical?s.marginTop=e.left+"px":s.marginLeft=e.left+"px"),s},OG=je.getTrackAnimateCSS=function(e){rP(e,["left","variableWidth","slideCount","slidesToShow","slideWidth","speed","cssEase"]);var t=Y_(e);return e.useTransform?(t.WebkitTransition="-webkit-transform "+e.speed+"ms "+e.cssEase,t.transition="transform "+e.speed+"ms "+e.cssEase):e.vertical?t.transition="top "+e.speed+"ms "+e.cssEase:t.transition="left "+e.speed+"ms "+e.cssEase,t},J_=je.getTrackLeft=function(e){if(e.unslick)return 0;rP(e,["slideIndex","trackRef","infinite","centerMode","slideCount","slidesToShow","slidesToScroll","slideWidth","listWidth","variableWidth","slideHeight"]);var t=e.slideIndex,r=e.trackRef,i=e.infinite,s=e.centerMode,o=e.slideCount,a=e.slidesToShow,l=e.slidesToScroll,c=e.slideWidth,u=e.listWidth,f=e.variableWidth,p=e.slideHeight,m=e.fade,g=e.vertical,y=0,_,v,x=0;if(m||e.slideCount===1)return 0;var b=0;if(i?(b=-Ny(e),o%l!==0&&t+l>o&&(b=-(t>o?a-(t-o):o%l)),s&&(b+=parseInt(a/2))):(o%l!==0&&t+l>o&&(b=a-o%l),s&&(b=parseInt(a/2))),y=b*c,x=b*p,g?_=t*p*-1+x:_=t*c*-1+y,f===!0){var A,M=r&&r.node;if(A=t+Ny(e),v=M&&M.childNodes[A],_=v?v.offsetLeft*-1:0,s===!0){A=i?t+Ny(e):t,v=M&&M.children[A],_=0;for(var E=0;E<A;E++)_-=M&&M.children[E]&&M.children[E].offsetWidth;_-=parseInt(e.centerPadding),_+=v&&(u-v.offsetWidth)/2}}return _},Ny=je.getPreClones=function(e){return e.unslick||!e.infinite?0:e.variableWidth?e.slideCount:e.slidesToShow+(e.centerMode?1:0)},Lpe=je.getPostClones=function(e){return e.unslick||!e.infinite?0:e.slideCount},Ipe=je.getTotalSlides=function(e){return e.slideCount===1?1:Ny(e)+e.slideCount+Lpe(e)},Bpe=je.siblingDirection=function(e){return e.targetSlide>e.currentSlide?e.targetSlide>e.currentSlide+Dpe(e)?"left":"right":e.targetSlide<e.currentSlide-kpe(e)?"right":"left"},Dpe=je.slidesOnRight=function(e){var t=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(t-1)/2+1;return parseInt(s)>0&&(o+=1),i&&t%2===0&&(o+=1),o}return i?0:t-1},kpe=je.slidesOnLeft=function(e){var t=e.slidesToShow,r=e.centerMode,i=e.rtl,s=e.centerPadding;if(r){var o=(t-1)/2+1;return parseInt(s)>0&&(o+=1),!i&&t%2===0&&(o+=1),o}return i?t-1:0};je.canUseDOM=function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)};var Npe=je.validSettings=Object.keys(Epe.default);function Fpe(n){return Npe.reduce(function(e,t){return n.hasOwnProperty(t)&&(e[t]=n[t]),e},{})}var z1={};Object.defineProperty(z1,"__esModule",{value:!0});z1.Track=void 0;var Pl=LG(O),GA=LG(U1),VA=je;function LG(n){return n&&n.__esModule?n:{default:n}}function fh(n){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(n)}function GM(){return GM=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},GM.apply(this,arguments)}function Upe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function S3(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,BG(r.key),r)}}function zpe(n,e,t){return e&&S3(n.prototype,e),t&&S3(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Hpe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&VM(n,e)}function VM(n,e){return VM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},VM(n,e)}function Gpe(n){var e=IG();return function(){var r=q_(n),i;if(e){var s=q_(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Vpe(this,i)}}function Vpe(n,e){if(e&&(fh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WM(n)}function WM(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function IG(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(IG=function(){return!!n})()}function q_(n){return q_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},q_(n)}function b3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Ii(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?b3(Object(t),!0).forEach(function(r){$M(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):b3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function $M(n,e,t){return e=BG(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function BG(n){var e=Wpe(n,"string");return fh(e)=="symbol"?e:String(e)}function Wpe(n,e){if(fh(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}var WA=function(e){var t,r,i,s,o;e.rtl?o=e.slideCount-1-e.index:o=e.index,i=o<0||o>=e.slideCount,e.centerMode?(s=Math.floor(e.slidesToShow/2),r=(o-e.currentSlide)%e.slideCount===0,o>e.currentSlide-s-1&&o<=e.currentSlide+s&&(t=!0)):t=e.currentSlide<=o&&o<e.currentSlide+e.slidesToShow;var a;e.targetSlide<0?a=e.targetSlide+e.slideCount:e.targetSlide>=e.slideCount?a=e.targetSlide-e.slideCount:a=e.targetSlide;var l=o===a;return{"slick-slide":!0,"slick-active":t,"slick-center":r,"slick-cloned":i,"slick-current":l}},$pe=function(e){var t={};return(e.variableWidth===void 0||e.variableWidth===!1)&&(t.width=e.slideWidth),e.fade&&(t.position="relative",e.vertical?t.top=-e.index*parseInt(e.slideHeight):t.left=-e.index*parseInt(e.slideWidth),t.opacity=e.currentSlide===e.index?1:0,t.zIndex=e.currentSlide===e.index?999:998,e.useCSS&&(t.transition="opacity "+e.speed+"ms "+e.cssEase+", visibility "+e.speed+"ms "+e.cssEase)),t},$A=function(e,t){return e.key||t},jpe=function(e){var t,r=[],i=[],s=[],o=Pl.default.Children.count(e.children),a=(0,VA.lazyStartIndex)(e),l=(0,VA.lazyEndIndex)(e);return Pl.default.Children.forEach(e.children,function(c,u){var f,p={message:"children",index:u,slidesToScroll:e.slidesToScroll,currentSlide:e.currentSlide};!e.lazyLoad||e.lazyLoad&&e.lazyLoadedList.indexOf(u)>=0?f=c:f=Pl.default.createElement("div",null);var m=$pe(Ii(Ii({},e),{},{index:u})),g=f.props.className||"",y=WA(Ii(Ii({},e),{},{index:u}));if(r.push(Pl.default.cloneElement(f,{key:"original"+$A(f,u),"data-index":u,className:(0,GA.default)(y,g),tabIndex:"-1","aria-hidden":!y["slick-active"],style:Ii(Ii({outline:"none"},f.props.style||{}),m),onClick:function(x){f.props&&f.props.onClick&&f.props.onClick(x),e.focusOnSelect&&e.focusOnSelect(p)}})),e.infinite&&e.fade===!1){var _=o-u;_<=(0,VA.getPreClones)(e)&&(t=-_,t>=a&&(f=c),y=WA(Ii(Ii({},e),{},{index:t})),i.push(Pl.default.cloneElement(f,{key:"precloned"+$A(f,t),"data-index":t,tabIndex:"-1",className:(0,GA.default)(y,g),"aria-hidden":!y["slick-active"],style:Ii(Ii({},f.props.style||{}),m),onClick:function(x){f.props&&f.props.onClick&&f.props.onClick(x),e.focusOnSelect&&e.focusOnSelect(p)}}))),t=o+u,t<l&&(f=c),y=WA(Ii(Ii({},e),{},{index:t})),s.push(Pl.default.cloneElement(f,{key:"postcloned"+$A(f,t),"data-index":t,tabIndex:"-1",className:(0,GA.default)(y,g),"aria-hidden":!y["slick-active"],style:Ii(Ii({},f.props.style||{}),m),onClick:function(x){f.props&&f.props.onClick&&f.props.onClick(x),e.focusOnSelect&&e.focusOnSelect(p)}}))}}),e.rtl?i.concat(r,s).reverse():i.concat(r,s)};z1.Track=function(n){Hpe(t,n);var e=Gpe(t);function t(){var r;Upe(this,t);for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s)),$M(WM(r),"node",null),$M(WM(r),"handleRef",function(a){r.node=a}),r}return zpe(t,[{key:"render",value:function(){var i=jpe(this.props),s=this.props,o=s.onMouseEnter,a=s.onMouseOver,l=s.onMouseLeave,c={onMouseEnter:o,onMouseOver:a,onMouseLeave:l};return Pl.default.createElement("div",GM({ref:this.handleRef,className:"slick-track",style:this.props.trackStyle},c),i)}}]),t}(Pl.default.PureComponent);var H1={};function dh(n){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(n)}Object.defineProperty(H1,"__esModule",{value:!0});H1.Dots=void 0;var sy=DG(O),Xpe=DG(U1),A3=je;function DG(n){return n&&n.__esModule?n:{default:n}}function w3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Kpe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?w3(Object(t),!0).forEach(function(r){Ype(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):w3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Ype(n,e,t){return e=kG(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Jpe(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function E3(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,kG(r.key),r)}}function qpe(n,e,t){return e&&E3(n.prototype,e),t&&E3(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function kG(n){var e=Qpe(n,"string");return dh(e)=="symbol"?e:String(e)}function Qpe(n,e){if(dh(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(dh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Zpe(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&jM(n,e)}function jM(n,e){return jM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jM(n,e)}function eme(n){var e=NG();return function(){var r=Q_(n),i;if(e){var s=Q_(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return tme(this,i)}}function tme(n,e){if(e&&(dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nme(n)}function nme(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function NG(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NG=function(){return!!n})()}function Q_(n){return Q_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Q_(n)}var rme=function(e){var t;return e.infinite?t=Math.ceil(e.slideCount/e.slidesToScroll):t=Math.ceil((e.slideCount-e.slidesToShow)/e.slidesToScroll)+1,t};H1.Dots=function(n){Zpe(t,n);var e=eme(t);function t(){return Jpe(this,t),e.apply(this,arguments)}return qpe(t,[{key:"clickHandler",value:function(i,s){s.preventDefault(),this.props.clickHandler(i)}},{key:"render",value:function(){for(var i=this.props,s=i.onMouseEnter,o=i.onMouseOver,a=i.onMouseLeave,l=i.infinite,c=i.slidesToScroll,u=i.slidesToShow,f=i.slideCount,p=i.currentSlide,m=rme({slideCount:f,slidesToScroll:c,slidesToShow:u,infinite:l}),g={onMouseEnter:s,onMouseOver:o,onMouseLeave:a},y=[],_=0;_<m;_++){var v=(_+1)*c-1,x=l?v:(0,A3.clamp)(v,0,f-1),b=x-(c-1),A=l?b:(0,A3.clamp)(b,0,f-1),M=(0,Xpe.default)({"slick-active":l?p>=A&&p<=x:p===A}),E={message:"dots",index:_,slidesToScroll:c,currentSlide:p},R=this.clickHandler.bind(this,E);y=y.concat(sy.default.createElement("li",{key:_,className:M},sy.default.cloneElement(this.props.customPaging(_),{onClick:R})))}return sy.default.cloneElement(this.props.appendDots(y),Kpe({className:this.props.dotsClass},g))}}]),t}(sy.default.PureComponent);var hh={};function ph(n){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(n)}Object.defineProperty(hh,"__esModule",{value:!0});hh.PrevArrow=hh.NextArrow=void 0;var Ld=UG(O),FG=UG(U1),ime=je;function UG(n){return n&&n.__esModule?n:{default:n}}function Z_(){return Z_=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Z_.apply(this,arguments)}function M3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ex(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?M3(Object(t),!0).forEach(function(r){sme(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):M3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function sme(n,e,t){return e=GG(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zG(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function T3(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,GG(r.key),r)}}function HG(n,e,t){return e&&T3(n.prototype,e),t&&T3(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function GG(n){var e=ome(n,"string");return ph(e)=="symbol"?e:String(e)}function ome(n,e){if(ph(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function VG(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&XM(n,e)}function XM(n,e){return XM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XM(n,e)}function WG(n){var e=$G();return function(){var r=tx(n),i;if(e){var s=tx(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return ame(this,i)}}function ame(n,e){if(e&&(ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lme(n)}function lme(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function $G(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($G=function(){return!!n})()}function tx(n){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},tx(n)}hh.PrevArrow=function(n){VG(t,n);var e=WG(t);function t(){return zG(this,t),e.apply(this,arguments)}return HG(t,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-prev":!0},s=this.clickHandler.bind(this,{message:"previous"});!this.props.infinite&&(this.props.currentSlide===0||this.props.slideCount<=this.props.slidesToShow)&&(i["slick-disabled"]=!0,s=null);var o={key:"0","data-role":"none",className:(0,FG.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.prevArrow?l=Ld.default.cloneElement(this.props.prevArrow,ex(ex({},o),a)):l=Ld.default.createElement("button",Z_({key:"0",type:"button"},o)," ","Previous"),l}}]),t}(Ld.default.PureComponent);hh.NextArrow=function(n){VG(t,n);var e=WG(t);function t(){return zG(this,t),e.apply(this,arguments)}return HG(t,[{key:"clickHandler",value:function(i,s){s&&s.preventDefault(),this.props.clickHandler(i,s)}},{key:"render",value:function(){var i={"slick-arrow":!0,"slick-next":!0},s=this.clickHandler.bind(this,{message:"next"});(0,ime.canGoNext)(this.props)||(i["slick-disabled"]=!0,s=null);var o={key:"1","data-role":"none",className:(0,FG.default)(i),style:{display:"block"},onClick:s},a={currentSlide:this.props.currentSlide,slideCount:this.props.slideCount},l;return this.props.nextArrow?l=Ld.default.cloneElement(this.props.nextArrow,ex(ex({},o),a)):l=Ld.default.createElement("button",Z_({key:"1",type:"button"},o)," ","Next"),l}}]),t}(Ld.default.PureComponent);var jG=function(){if(typeof Map<"u")return Map;function n(e,t){var r=-1;return e.some(function(i,s){return i[0]===t?(r=s,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),i=this.__entries__[r];return i&&i[1]},e.prototype.set=function(t,r){var i=n(this.__entries__,t);~i?this.__entries__[i][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,i=n(r,t);~i&&r.splice(i,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var i=0,s=this.__entries__;i<s.length;i++){var o=s[i];t.call(r,o[1],o[0])}},e}()}(),KM=typeof window<"u"&&typeof document<"u"&&window.document===document,nx=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),cme=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(nx):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),ume=2;function fme(n,e){var t=!1,r=!1,i=0;function s(){t&&(t=!1,n()),r&&a()}function o(){cme(s)}function a(){var l=Date.now();if(t){if(l-i<ume)return;r=!0}else t=!0,r=!1,setTimeout(o,e);i=l}return a}var dme=20,hme=["top","right","bottom","left","width","height","size","weight"],pme=typeof MutationObserver<"u",mme=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=fme(this.refresh.bind(this),dme)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!KM||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),pme?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!KM||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t,i=hme.some(function(s){return!!~r.indexOf(s)});i&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),XG=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];Object.defineProperty(n,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return n},mh=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||nx},KG=G1(0,0,0,0);function rx(n){return parseFloat(n)||0}function C3(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,i){var s=n["border-"+i+"-width"];return r+rx(s)},0)}function gme(n){for(var e=["top","right","bottom","left"],t={},r=0,i=e;r<i.length;r++){var s=i[r],o=n["padding-"+s];t[s]=rx(o)}return t}function vme(n){var e=n.getBBox();return G1(0,0,e.width,e.height)}function yme(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return KG;var r=mh(n).getComputedStyle(n),i=gme(r),s=i.left+i.right,o=i.top+i.bottom,a=rx(r.width),l=rx(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+s)!==e&&(a-=C3(r,"left","right")+s),Math.round(l+o)!==t&&(l-=C3(r,"top","bottom")+o)),!xme(n)){var c=Math.round(a+s)-e,u=Math.round(l+o)-t;Math.abs(c)!==1&&(a-=c),Math.abs(u)!==1&&(l-=u)}return G1(i.left,i.top,a,l)}var _me=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof mh(n).SVGGraphicsElement}:function(n){return n instanceof mh(n).SVGElement&&typeof n.getBBox=="function"}}();function xme(n){return n===mh(n).document.documentElement}function Sme(n){return KM?_me(n)?vme(n):yme(n):KG}function bme(n){var e=n.x,t=n.y,r=n.width,i=n.height,s=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,o=Object.create(s.prototype);return XG(o,{x:e,y:t,width:r,height:i,top:t,right:e+r,bottom:i+t,left:e}),o}function G1(n,e,t,r){return{x:n,y:e,width:t,height:r}}var Ame=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=G1(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=Sme(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),wme=function(){function n(e,t){var r=bme(t);XG(this,{target:e,contentRect:r})}return n}(),Eme=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new jG,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof mh(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Ame(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof mh(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new wme(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),YG=typeof WeakMap<"u"?new WeakMap:new jG,JG=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=mme.getInstance(),r=new Eme(e,t,this);YG.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){JG.prototype[n]=function(){var e;return(e=YG.get(this))[n].apply(e,arguments)}});var Mme=function(){return typeof nx.ResizeObserver<"u"?nx.ResizeObserver:JG}();const Tme=Object.freeze(Object.defineProperty({__proto__:null,default:Mme},Symbol.toStringTag,{value:"Module"})),Cme=F3(Tme);Object.defineProperty(F1,"__esModule",{value:!0});F1.InnerSlider=void 0;var yi=Ng(O),Rme=Ng(SG),Pme=Ng(Ape),Ome=Ng(U1),Ln=je,Lme=z1,Ime=H1,R3=hh,Bme=Ng(Cme);function Ng(n){return n&&n.__esModule?n:{default:n}}function Uu(n){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uu(n)}function ix(){return ix=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},ix.apply(this,arguments)}function Dme(n,e){if(n==null)return{};var t=kme(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function kme(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function P3(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function xt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?P3(Object(t),!0).forEach(function(r){Gt(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):P3(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Nme(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function O3(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,QG(r.key),r)}}function Fme(n,e,t){return e&&O3(n.prototype,e),t&&O3(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function Ume(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),e&&YM(n,e)}function YM(n,e){return YM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YM(n,e)}function zme(n){var e=qG();return function(){var r=sx(n),i;if(e){var s=sx(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return Hme(this,i)}}function Hme(n,e){if(e&&(Uu(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ht(n)}function Ht(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function qG(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qG=function(){return!!n})()}function sx(n){return sx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sx(n)}function Gt(n,e,t){return e=QG(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function QG(n){var e=Gme(n,"string");return Uu(e)=="symbol"?e:String(e)}function Gme(n,e){if(Uu(n)!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(Uu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}F1.InnerSlider=function(n){Ume(t,n);var e=zme(t);function t(r){var i;Nme(this,t),i=e.call(this,r),Gt(Ht(i),"listRefHandler",function(o){return i.list=o}),Gt(Ht(i),"trackRefHandler",function(o){return i.track=o}),Gt(Ht(i),"adaptHeight",function(){if(i.props.adaptiveHeight&&i.list){var o=i.list.querySelector('[data-index="'.concat(i.state.currentSlide,'"]'));i.list.style.height=(0,Ln.getHeight)(o)+"px"}}),Gt(Ht(i),"componentDidMount",function(){if(i.props.onInit&&i.props.onInit(),i.props.lazyLoad){var o=(0,Ln.getOnDemandLazySlides)(xt(xt({},i.props),i.state));o.length>0&&(i.setState(function(l){return{lazyLoadedList:l.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o))}var a=xt({listRef:i.list,trackRef:i.track},i.props);i.updateState(a,!0,function(){i.adaptHeight(),i.props.autoplay&&i.autoPlay("update")}),i.props.lazyLoad==="progressive"&&(i.lazyLoadTimer=setInterval(i.progressiveLazyLoad,1e3)),i.ro=new Bme.default(function(){i.state.animating?(i.onWindowResized(!1),i.callbackTimers.push(setTimeout(function(){return i.onWindowResized()},i.props.speed))):i.onWindowResized()}),i.ro.observe(i.list),document.querySelectorAll&&Array.prototype.forEach.call(document.querySelectorAll(".slick-slide"),function(l){l.onfocus=i.props.pauseOnFocus?i.onSlideFocus:null,l.onblur=i.props.pauseOnFocus?i.onSlideBlur:null}),window.addEventListener?window.addEventListener("resize",i.onWindowResized):window.attachEvent("onresize",i.onWindowResized)}),Gt(Ht(i),"componentWillUnmount",function(){i.animationEndCallback&&clearTimeout(i.animationEndCallback),i.lazyLoadTimer&&clearInterval(i.lazyLoadTimer),i.callbackTimers.length&&(i.callbackTimers.forEach(function(o){return clearTimeout(o)}),i.callbackTimers=[]),window.addEventListener?window.removeEventListener("resize",i.onWindowResized):window.detachEvent("onresize",i.onWindowResized),i.autoplayTimer&&clearInterval(i.autoplayTimer),i.ro.disconnect()}),Gt(Ht(i),"componentDidUpdate",function(o){if(i.checkImagesLoad(),i.props.onReInit&&i.props.onReInit(),i.props.lazyLoad){var a=(0,Ln.getOnDemandLazySlides)(xt(xt({},i.props),i.state));a.length>0&&(i.setState(function(u){return{lazyLoadedList:u.lazyLoadedList.concat(a)}}),i.props.onLazyLoad&&i.props.onLazyLoad(a))}i.adaptHeight();var l=xt(xt({listRef:i.list,trackRef:i.track},i.props),i.state),c=i.didPropsChange(o);c&&i.updateState(l,c,function(){i.state.currentSlide>=yi.default.Children.count(i.props.children)&&i.changeSlide({message:"index",index:yi.default.Children.count(i.props.children)-i.props.slidesToShow,currentSlide:i.state.currentSlide}),i.props.autoplay?i.autoPlay("update"):i.pause("paused")})}),Gt(Ht(i),"onWindowResized",function(o){i.debouncedResize&&i.debouncedResize.cancel(),i.debouncedResize=(0,Pme.default)(function(){return i.resizeWindow(o)},50),i.debouncedResize()}),Gt(Ht(i),"resizeWindow",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,a=!!(i.track&&i.track.node);if(a){var l=xt(xt({listRef:i.list,trackRef:i.track},i.props),i.state);i.updateState(l,o,function(){i.props.autoplay?i.autoPlay("update"):i.pause("paused")}),i.setState({animating:!1}),clearTimeout(i.animationEndCallback),delete i.animationEndCallback}}),Gt(Ht(i),"updateState",function(o,a,l){var c=(0,Ln.initializedState)(o);o=xt(xt(xt({},o),c),{},{slideIndex:c.currentSlide});var u=(0,Ln.getTrackLeft)(o);o=xt(xt({},o),{},{left:u});var f=(0,Ln.getTrackCSS)(o);(a||yi.default.Children.count(i.props.children)!==yi.default.Children.count(o.children))&&(c.trackStyle=f),i.setState(c,l)}),Gt(Ht(i),"ssrInit",function(){if(i.props.variableWidth){var o=0,a=0,l=[],c=(0,Ln.getPreClones)(xt(xt(xt({},i.props),i.state),{},{slideCount:i.props.children.length})),u=(0,Ln.getPostClones)(xt(xt(xt({},i.props),i.state),{},{slideCount:i.props.children.length}));i.props.children.forEach(function(R){l.push(R.props.style.width),o+=R.props.style.width});for(var f=0;f<c;f++)a+=l[l.length-1-f],o+=l[l.length-1-f];for(var p=0;p<u;p++)o+=l[p];for(var m=0;m<i.state.currentSlide;m++)a+=l[m];var g={width:o+"px",left:-a+"px"};if(i.props.centerMode){var y="".concat(l[i.state.currentSlide],"px");g.left="calc(".concat(g.left," + (100% - ").concat(y,") / 2 ) ")}return{trackStyle:g}}var _=yi.default.Children.count(i.props.children),v=xt(xt(xt({},i.props),i.state),{},{slideCount:_}),x=(0,Ln.getPreClones)(v)+(0,Ln.getPostClones)(v)+_,b=100/i.props.slidesToShow*x,A=100/x,M=-A*((0,Ln.getPreClones)(v)+i.state.currentSlide)*b/100;i.props.centerMode&&(M+=(100-A*b/100)/2);var E={width:b+"%",left:M+"%"};return{slideWidth:A+"%",trackStyle:E}}),Gt(Ht(i),"checkImagesLoad",function(){var o=i.list&&i.list.querySelectorAll&&i.list.querySelectorAll(".slick-slide img")||[],a=o.length,l=0;Array.prototype.forEach.call(o,function(c){var u=function(){return++l&&l>=a&&i.onWindowResized()};if(!c.onclick)c.onclick=function(){return c.parentNode.focus()};else{var f=c.onclick;c.onclick=function(p){f(p),c.parentNode.focus()}}c.onload||(i.props.lazyLoad?c.onload=function(){i.adaptHeight(),i.callbackTimers.push(setTimeout(i.onWindowResized,i.props.speed))}:(c.onload=u,c.onerror=function(){u(),i.props.onLazyLoadError&&i.props.onLazyLoadError()}))})}),Gt(Ht(i),"progressiveLazyLoad",function(){for(var o=[],a=xt(xt({},i.props),i.state),l=i.state.currentSlide;l<i.state.slideCount+(0,Ln.getPostClones)(a);l++)if(i.state.lazyLoadedList.indexOf(l)<0){o.push(l);break}for(var c=i.state.currentSlide-1;c>=-(0,Ln.getPreClones)(a);c--)if(i.state.lazyLoadedList.indexOf(c)<0){o.push(c);break}o.length>0?(i.setState(function(u){return{lazyLoadedList:u.lazyLoadedList.concat(o)}}),i.props.onLazyLoad&&i.props.onLazyLoad(o)):i.lazyLoadTimer&&(clearInterval(i.lazyLoadTimer),delete i.lazyLoadTimer)}),Gt(Ht(i),"slideHandler",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=i.props,c=l.asNavFor,u=l.beforeChange,f=l.onLazyLoad,p=l.speed,m=l.afterChange,g=i.state.currentSlide,y=(0,Ln.slideHandler)(xt(xt(xt({index:o},i.props),i.state),{},{trackRef:i.track,useCSS:i.props.useCSS&&!a})),_=y.state,v=y.nextState;if(_){u&&u(g,_.currentSlide);var x=_.lazyLoadedList.filter(function(b){return i.state.lazyLoadedList.indexOf(b)<0});f&&x.length>0&&f(x),!i.props.waitForAnimate&&i.animationEndCallback&&(clearTimeout(i.animationEndCallback),m&&m(g),delete i.animationEndCallback),i.setState(_,function(){c&&i.asNavForIndex!==o&&(i.asNavForIndex=o,c.innerSlider.slideHandler(o)),v&&(i.animationEndCallback=setTimeout(function(){var b=v.animating,A=Dme(v,["animating"]);i.setState(A,function(){i.callbackTimers.push(setTimeout(function(){return i.setState({animating:b})},10)),m&&m(_.currentSlide),delete i.animationEndCallback})},p))})}}),Gt(Ht(i),"changeSlide",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=xt(xt({},i.props),i.state),c=(0,Ln.changeSlide)(l,o);if(!(c!==0&&!c)&&(a===!0?i.slideHandler(c,a):i.slideHandler(c),i.props.autoplay&&i.autoPlay("update"),i.props.focusOnSelect)){var u=i.list.querySelectorAll(".slick-current");u[0]&&u[0].focus()}}),Gt(Ht(i),"clickHandler",function(o){i.clickable===!1&&(o.stopPropagation(),o.preventDefault()),i.clickable=!0}),Gt(Ht(i),"keyHandler",function(o){var a=(0,Ln.keyHandler)(o,i.props.accessibility,i.props.rtl);a!==""&&i.changeSlide({message:a})}),Gt(Ht(i),"selectHandler",function(o){i.changeSlide(o)}),Gt(Ht(i),"disableBodyScroll",function(){var o=function(l){l=l||window.event,l.preventDefault&&l.preventDefault(),l.returnValue=!1};window.ontouchmove=o}),Gt(Ht(i),"enableBodyScroll",function(){window.ontouchmove=null}),Gt(Ht(i),"swipeStart",function(o){i.props.verticalSwiping&&i.disableBodyScroll();var a=(0,Ln.swipeStart)(o,i.props.swipe,i.props.draggable);a!==""&&i.setState(a)}),Gt(Ht(i),"swipeMove",function(o){var a=(0,Ln.swipeMove)(o,xt(xt(xt({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));a&&(a.swiping&&(i.clickable=!1),i.setState(a))}),Gt(Ht(i),"swipeEnd",function(o){var a=(0,Ln.swipeEnd)(o,xt(xt(xt({},i.props),i.state),{},{trackRef:i.track,listRef:i.list,slideIndex:i.state.currentSlide}));if(a){var l=a.triggerSlideHandler;delete a.triggerSlideHandler,i.setState(a),l!==void 0&&(i.slideHandler(l),i.props.verticalSwiping&&i.enableBodyScroll())}}),Gt(Ht(i),"touchEnd",function(o){i.swipeEnd(o),i.clickable=!0}),Gt(Ht(i),"slickPrev",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"previous"})},0))}),Gt(Ht(i),"slickNext",function(){i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"next"})},0))}),Gt(Ht(i),"slickGoTo",function(o){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(o=Number(o),isNaN(o))return"";i.callbackTimers.push(setTimeout(function(){return i.changeSlide({message:"index",index:o,currentSlide:i.state.currentSlide},a)},0))}),Gt(Ht(i),"play",function(){var o;if(i.props.rtl)o=i.state.currentSlide-i.props.slidesToScroll;else if((0,Ln.canGoNext)(xt(xt({},i.props),i.state)))o=i.state.currentSlide+i.props.slidesToScroll;else return!1;i.slideHandler(o)}),Gt(Ht(i),"autoPlay",function(o){i.autoplayTimer&&clearInterval(i.autoplayTimer);var a=i.state.autoplaying;if(o==="update"){if(a==="hovered"||a==="focused"||a==="paused")return}else if(o==="leave"){if(a==="paused"||a==="focused")return}else if(o==="blur"&&(a==="paused"||a==="hovered"))return;i.autoplayTimer=setInterval(i.play,i.props.autoplaySpeed+50),i.setState({autoplaying:"playing"})}),Gt(Ht(i),"pause",function(o){i.autoplayTimer&&(clearInterval(i.autoplayTimer),i.autoplayTimer=null);var a=i.state.autoplaying;o==="paused"?i.setState({autoplaying:"paused"}):o==="focused"?(a==="hovered"||a==="playing")&&i.setState({autoplaying:"focused"}):a==="playing"&&i.setState({autoplaying:"hovered"})}),Gt(Ht(i),"onDotsOver",function(){return i.props.autoplay&&i.pause("hovered")}),Gt(Ht(i),"onDotsLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Gt(Ht(i),"onTrackOver",function(){return i.props.autoplay&&i.pause("hovered")}),Gt(Ht(i),"onTrackLeave",function(){return i.props.autoplay&&i.state.autoplaying==="hovered"&&i.autoPlay("leave")}),Gt(Ht(i),"onSlideFocus",function(){return i.props.autoplay&&i.pause("focused")}),Gt(Ht(i),"onSlideBlur",function(){return i.props.autoplay&&i.state.autoplaying==="focused"&&i.autoPlay("blur")}),Gt(Ht(i),"render",function(){var o=(0,Ome.default)("slick-slider",i.props.className,{"slick-vertical":i.props.vertical,"slick-initialized":!0}),a=xt(xt({},i.props),i.state),l=(0,Ln.extractObject)(a,["fade","cssEase","speed","infinite","centerMode","focusOnSelect","currentSlide","lazyLoad","lazyLoadedList","rtl","slideWidth","slideHeight","listHeight","vertical","slidesToShow","slidesToScroll","slideCount","trackStyle","variableWidth","unslick","centerPadding","targetSlide","useCSS"]),c=i.props.pauseOnHover;l=xt(xt({},l),{},{onMouseEnter:c?i.onTrackOver:null,onMouseLeave:c?i.onTrackLeave:null,onMouseOver:c?i.onTrackOver:null,focusOnSelect:i.props.focusOnSelect&&i.clickable?i.selectHandler:null});var u;if(i.props.dots===!0&&i.state.slideCount>=i.props.slidesToShow){var f=(0,Ln.extractObject)(a,["dotsClass","slideCount","slidesToShow","currentSlide","slidesToScroll","clickHandler","children","customPaging","infinite","appendDots"]),p=i.props.pauseOnDotsHover;f=xt(xt({},f),{},{clickHandler:i.changeSlide,onMouseEnter:p?i.onDotsLeave:null,onMouseOver:p?i.onDotsOver:null,onMouseLeave:p?i.onDotsLeave:null}),u=yi.default.createElement(Ime.Dots,f)}var m,g,y=(0,Ln.extractObject)(a,["infinite","centerMode","currentSlide","slideCount","slidesToShow","prevArrow","nextArrow"]);y.clickHandler=i.changeSlide,i.props.arrows&&(m=yi.default.createElement(R3.PrevArrow,y),g=yi.default.createElement(R3.NextArrow,y));var _=null;i.props.vertical&&(_={height:i.state.listHeight});var v=null;i.props.vertical===!1?i.props.centerMode===!0&&(v={padding:"0px "+i.props.centerPadding}):i.props.centerMode===!0&&(v={padding:i.props.centerPadding+" 0px"});var x=xt(xt({},_),v),b=i.props.touchMove,A={className:"slick-list",style:x,onClick:i.clickHandler,onMouseDown:b?i.swipeStart:null,onMouseMove:i.state.dragging&&b?i.swipeMove:null,onMouseUp:b?i.swipeEnd:null,onMouseLeave:i.state.dragging&&b?i.swipeEnd:null,onTouchStart:b?i.swipeStart:null,onTouchMove:i.state.dragging&&b?i.swipeMove:null,onTouchEnd:b?i.touchEnd:null,onTouchCancel:i.state.dragging&&b?i.swipeEnd:null,onKeyDown:i.props.accessibility?i.keyHandler:null},M={className:o,dir:"ltr",style:i.props.style};return i.props.unslick&&(A={className:"slick-list"},M={className:o}),yi.default.createElement("div",M,i.props.unslick?"":m,yi.default.createElement("div",ix({ref:i.listRefHandler},A),yi.default.createElement(Lme.Track,ix({ref:i.trackRefHandler},l),i.props.children)),i.props.unslick?"":g,i.props.unslick?"":u)}),i.list=null,i.track=null,i.state=xt(xt({},Rme.default),{},{currentSlide:i.props.initialSlide,targetSlide:i.props.initialSlide?i.props.initialSlide:0,slideCount:yi.default.Children.count(i.props.children)}),i.callbackTimers=[],i.clickable=!0,i.debouncedResize=null;var s=i.ssrInit();return i.state=xt(xt({},i.state),s),i}return Fme(t,[{key:"didPropsChange",value:function(i){for(var s=!1,o=0,a=Object.keys(this.props);o<a.length;o++){var l=a[o];if(!i.hasOwnProperty(l)){s=!0;break}if(!(Uu(i[l])==="object"||typeof i[l]=="function"||isNaN(i[l]))&&i[l]!==this.props[l]){s=!0;break}}return s||yi.default.Children.count(this.props.children)!==yi.default.Children.count(i.children)}}]),t}(yi.default.Component);var Vme=function(n){return n.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()}).toLowerCase()},Wme=Vme,$me=Wme,jme=function(n){var e=/[height|width]$/;return e.test(n)},L3=function(n){var e="",t=Object.keys(n);return t.forEach(function(r,i){var s=n[r];r=$me(r),jme(r)&&typeof s=="number"&&(s=s+"px"),s===!0?e+=r:s===!1?e+="not "+r:e+="("+r+": "+s+")",i<t.length-1&&(e+=" and ")}),e},Xme=function(n){var e="";return typeof n=="string"?n:n instanceof Array?(n.forEach(function(t,r){e+=L3(t),r<n.length-1&&(e+=", ")}),e):L3(n)},Kme=Xme,jA,I3;function Yme(){if(I3)return jA;I3=1;function n(e){this.options=e,!e.deferSetup&&this.setup()}return n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},jA=n,jA}var XA,B3;function ZG(){if(B3)return XA;B3=1;function n(r,i){var s=0,o=r.length,a;for(s;s<o&&(a=i(r[s],s),a!==!1);s++);}function e(r){return Object.prototype.toString.apply(r)==="[object Array]"}function t(r){return typeof r=="function"}return XA={isFunction:t,isArray:e,each:n},XA}var KA,D3;function Jme(){if(D3)return KA;D3=1;var n=Yme(),e=ZG().each;function t(r,i){this.query=r,this.isUnconditional=i,this.handlers=[],this.mql=window.matchMedia(r);var s=this;this.listener=function(o){s.mql=o.currentTarget||o,s.assess()},this.mql.addListener(this.listener)}return t.prototype={constuctor:t,addHandler:function(r){var i=new n(r);this.handlers.push(i),this.matches()&&i.on()},removeHandler:function(r){var i=this.handlers;e(i,function(s,o){if(s.equals(r))return s.destroy(),!i.splice(o,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){e(this.handlers,function(r){r.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var r=this.matches()?"on":"off";e(this.handlers,function(i){i[r]()})}},KA=t,KA}var YA,k3;function qme(){if(k3)return YA;k3=1;var n=Jme(),e=ZG(),t=e.each,r=e.isFunction,i=e.isArray;function s(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}return s.prototype={constructor:s,register:function(o,a,l){var c=this.queries,u=l&&this.browserIsIncapable;return c[o]||(c[o]=new n(o,u)),r(a)&&(a={match:a}),i(a)||(a=[a]),t(a,function(f){r(f)&&(f={match:f}),c[o].addHandler(f)}),this},unregister:function(o,a){var l=this.queries[o];return l&&(a?l.removeHandler(a):(l.clear(),delete this.queries[o])),this}},YA=s,YA}var JA,N3;function Qme(){if(N3)return JA;N3=1;var n=qme();return JA=new n,JA}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=o(O),t=F1,r=o(Kme),i=o(nP),s=je;function o(T){return T&&T.__esModule?T:{default:T}}function a(T){"@babel/helpers - typeof";return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},a(T)}function l(){return l=Object.assign?Object.assign.bind():function(T){for(var P=1;P<arguments.length;P++){var B=arguments[P];for(var U in B)Object.prototype.hasOwnProperty.call(B,U)&&(T[U]=B[U])}return T},l.apply(this,arguments)}function c(T,P){var B=Object.keys(T);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(T);P&&(U=U.filter(function(j){return Object.getOwnPropertyDescriptor(T,j).enumerable})),B.push.apply(B,U)}return B}function u(T){for(var P=1;P<arguments.length;P++){var B=arguments[P]!=null?arguments[P]:{};P%2?c(Object(B),!0).forEach(function(U){M(T,U,B[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(B)):c(Object(B)).forEach(function(U){Object.defineProperty(T,U,Object.getOwnPropertyDescriptor(B,U))})}return T}function f(T,P){if(!(T instanceof P))throw new TypeError("Cannot call a class as a function")}function p(T,P){for(var B=0;B<P.length;B++){var U=P[B];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(T,E(U.key),U)}}function m(T,P,B){return P&&p(T.prototype,P),B&&p(T,B),Object.defineProperty(T,"prototype",{writable:!1}),T}function g(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),P&&y(T,P)}function y(T,P){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(U,j){return U.__proto__=j,U},y(T,P)}function _(T){var P=b();return function(){var U=A(T),j;if(P){var N=A(this).constructor;j=Reflect.construct(U,arguments,N)}else j=U.apply(this,arguments);return v(this,j)}}function v(T,P){if(P&&(a(P)==="object"||typeof P=="function"))return P;if(P!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x(T)}function x(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function b(){try{var T=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b=function(){return!!T})()}function A(T){return A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(B){return B.__proto__||Object.getPrototypeOf(B)},A(T)}function M(T,P,B){return P=E(P),P in T?Object.defineProperty(T,P,{value:B,enumerable:!0,configurable:!0,writable:!0}):T[P]=B,T}function E(T){var P=R(T,"string");return a(P)=="symbol"?P:String(P)}function R(T,P){if(a(T)!="object"||!T)return T;var B=T[Symbol.toPrimitive];if(B!==void 0){var U=B.call(T,P||"default");if(a(U)!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return(P==="string"?String:Number)(T)}var I=(0,s.canUseDOM)()&&Qme();n.default=function(T){g(B,T);var P=_(B);function B(U){var j;return f(this,B),j=P.call(this,U),M(x(j),"innerSliderRefHandler",function(N){return j.innerSlider=N}),M(x(j),"slickPrev",function(){return j.innerSlider.slickPrev()}),M(x(j),"slickNext",function(){return j.innerSlider.slickNext()}),M(x(j),"slickGoTo",function(N){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return j.innerSlider.slickGoTo(N,G)}),M(x(j),"slickPause",function(){return j.innerSlider.pause("paused")}),M(x(j),"slickPlay",function(){return j.innerSlider.autoPlay("play")}),j.state={breakpoint:null},j._responsiveMediaHandlers=[],j}return m(B,[{key:"media",value:function(j,N){I.register(j,N),this._responsiveMediaHandlers.push({query:j,handler:N})}},{key:"componentDidMount",value:function(){var j=this;if(this.props.responsive){var N=this.props.responsive.map(function(V){return V.breakpoint});N.sort(function(V,$){return V-$}),N.forEach(function(V,$){var F;$===0?F=(0,r.default)({minWidth:0,maxWidth:V}):F=(0,r.default)({minWidth:N[$-1]+1,maxWidth:V}),(0,s.canUseDOM)()&&j.media(F,function(){j.setState({breakpoint:V})})});var G=(0,r.default)({minWidth:N.slice(-1)[0]});(0,s.canUseDOM)()&&this.media(G,function(){j.setState({breakpoint:null})})}}},{key:"componentWillUnmount",value:function(){this._responsiveMediaHandlers.forEach(function(j){I.unregister(j.query,j.handler)})}},{key:"render",value:function(){var j=this,N,G;this.state.breakpoint?(G=this.props.responsive.filter(function(ue){return ue.breakpoint===j.state.breakpoint}),N=G[0].settings==="unslick"?"unslick":u(u(u({},i.default),this.props),G[0].settings)):N=u(u({},i.default),this.props),N.centerMode&&(N.slidesToScroll>1,N.slidesToScroll=1),N.fade&&(N.slidesToShow>1,N.slidesToScroll>1,N.slidesToShow=1,N.slidesToScroll=1);var V=e.default.Children.toArray(this.props.children);V=V.filter(function(ue){return typeof ue=="string"?!!ue.trim():!!ue}),N.variableWidth&&(N.rows>1||N.slidesPerRow>1)&&(console.warn("variableWidth is not supported in case of rows > 1 or slidesPerRow > 1"),N.variableWidth=!1);for(var $=[],F=null,X=0;X<V.length;X+=N.rows*N.slidesPerRow){for(var Y=[],te=X;te<X+N.rows*N.slidesPerRow;te+=N.slidesPerRow){for(var ee=[],J=te;J<te+N.slidesPerRow&&(N.variableWidth&&V[J].props.style&&(F=V[J].props.style.width),!(J>=V.length));J+=1)ee.push(e.default.cloneElement(V[J],{key:100*X+10*te+J,tabIndex:-1,style:{width:"".concat(100/N.slidesPerRow,"%"),display:"inline-block"}}));Y.push(e.default.createElement("div",{key:10*X+te},ee))}N.variableWidth?$.push(e.default.createElement("div",{key:X,style:{width:F}},Y)):$.push(e.default.createElement("div",{key:X},Y))}if(N==="unslick"){var ne="regular slider "+(this.props.className||"");return e.default.createElement("div",{className:ne},V)}else $.length<=N.slidesToShow&&!N.infinite&&(N.unslick=!0);return e.default.createElement(t.InnerSlider,l({style:this.props.style,ref:this.innerSliderRefHandler},(0,s.filterSettings)(N)),$)}}]),B}(e.default.Component)})(xG);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=t(xG);function t(r){return r&&r.__esModule?r:{default:r}}n.default=e.default})(_G);const Zme=dc(_G);function ege(){const n=[{label:"San Francisco – Oakland Bay Bridge, United States",imgPath:"https://images.unsplash.com/photo-1537944434965-cf4679d1a598"},{label:"Bird",imgPath:"https://images.unsplash.com/photo-1538032746644-0212e812a9e7"},{label:"Bali, Indonesia",imgPath:"https://images.unsplash.com/photo-1537996194471-e657df975ab4"},{label:"San Francisco – Oakland Bay Bridge, United States",imgPath:"https://images.unsplash.com/photo-1537944434965-cf4679d1a598"},{label:"Bird",imgPath:"https://images.unsplash.com/photo-1538032746644-0212e812a9e7"},{label:"Bali, Indonesia",imgPath:"https://images.unsplash.com/photo-1537996194471-e657df975ab4"}];var e={dots:!0,infinite:!0,slidesToShow:1,slidesToScroll:1,accessibility:!0,fade:!0,swipeToSlide:!1};return ge.jsx(Zme,{...e,children:n.map((t,r)=>ge.jsx("img",{src:t.imgPath,alt:t.label},r))})}function tge({currentItemSelected:n,setCurrentItemSelected:e,previousItemSelected:t,setPreviousItemSelected:r,animDist:i,showBackground:s,setShowBackground:o,showPartOptions:a,setShowPartOptions:l,animateParts:c,handlePartOption:u,getRandomInt:f,randomAllItemsParts:p,open:m,setOpen:g,infoBoxIcon:y,setInfoBoxIcon:_,showLongDesc:v,setShowLongDesc:x,showPhotos:b,setShowPhotos:A}){const{height:M,width:E}=Khe();X_.useSnipcart();const{cart:R={}}=X_.useSnipcart(),[I,T]=O.useState(!1),[P,B]=O.useState(0);O.useEffect(()=>(window.Snipcart?(T(!0),console.log("setting snipcartLoaded state = true"),console.log("window.Snipcart.api: ",window.Snipcart),R.items&&B(R.items.count)):T(!1),()=>{T(!1)}),[window.Snipcart]);function U(){I&&window.Snipcart.api.theme.cart.open()}$s(Me.whiteTexture),$s(Me.naturalTexture),$s(Me.blackTexture),$s(Me.allBlackTexture),$s(Me.paintedTexture);const j=O.useRef(),N=document.querySelector(".loading-bar"),{active:G,progress:V,errors:$,item:F,loaded:X,total:Y}=zse(),te={value:1},[ee,J]=O.useState(1),ne=new xh(2,2,1,1),ue=new eo({transparent:!0,uniforms:{uAlpha:{value:ee}},vertexShader:`
        void main()
        {
            gl_Position = vec4(position, 1.0);
        }
    `,fragmentShader:`
        uniform float uAlpha;

        void main()
        {
            gl_FragColor = vec4(0.153, 0.153, 0.102, uAlpha);
        }
    `});O.useEffect(()=>{N.style.transform=`scaleX(${V/100})`,V==100&&window.setTimeout(()=>{zl.to(te,{duration:3,value:0,delay:1,onUpdate:()=>{J(te.value)},onComplete:()=>{}}),N.classList.add("ended"),N.style.transform=""},500)},[V]);const[Ae,Re]=O.useState(!1),[Qe,Ve]=O.useState(!1);kse(Qe);const[Fe,Le]=O.useState("top"),[K,_e]=O.useState("gramps");O.useEffect(()=>{p(!1)},[]);const[me,we]=O.useState(0);O.useEffect(()=>{n===Ko&&p(!1);const Je=setInterval(()=>{we(me+1)},1e3);return()=>clearInterval(Je)},[me]),O.useEffect(()=>{!s&&!a&&(_e(mn[n.itemName].parts[0].itemName),Le(mn[n.itemName].parts[0].partName),l(!0)),s?s&&n!==Ko&&c():(g(!1),_(!0),c())},[s]);const ve=Je=>{Je.stopPropagation();const{eventObject:lt}=Je;let yt=lt.position,An=er=>er.position.x===yt.x&&er.position.y===yt.y&&er.position.z===yt.z;if(An){let er=LM.find(An);n===Ko&&p(!1),r(n),e(er)}},Xe=(Je,lt)=>{_e(lt.itemName),Le(lt.partName),s||l(!0)},Ue=Je=>{Je.stopPropagation(),n===Ko&&e(mn.gramps),o(!s)},k=O.useRef(),[D,ie]=O.useState(0),[Ee,oe]=O.useState(0),[le,ke]=O.useState(0),[Te,Ie]=O.useState(0),[Ze,Pe]=O.useState(!1),[be,Et]=O.useState(0),[pt,dt]=O.useState(0);O.useEffect(()=>{I&&R&&R.items&&(B(R.items.count),document.getElementById("footer").innerHTML=`snipcartLoaded = ${I}, cartCount = ${R.items.count}, cart = ${R}`)},[I,R,Ae]),O.useEffect(()=>{const Je=document.querySelector("canvas");return Je.addEventListener("touchstart",lt=>{Pe(!0),document.getElementById("footer").innerHTML+=" touchstart registered (outside of controls) ",!(lt.pageX>30&&lt.pageX<window.innerWidth-30)&&lt.preventDefault()}),Je.addEventListener("touchmove",lt=>{Pe(!0)}),Je.addEventListener("touchend",lt=>{Pe(!1),document.getElementById("footer").innerHTML+=" touchend registered (outside of controls) "}),k.current&&(k.current.addEventListener("start",()=>{console.log("start"),Et(0),Re(!0),Pe(!0),k.current.autoRotate&&(k.current.autoRotate=!1),ke(k.current.getAzimuthalAngle())},!0),k.current.addEventListener("change",()=>{},!0),k.current.addEventListener("end",()=>{console.log("end"),Pe(!1),Re(!1),Ie(k.current.getAzimuthalAngle())},!0)),()=>{Je.removeEventListener("touchstart",lt=>{console.log("removed event listener, 'touchstart'")}),Je.removeEventListener("touchmove",lt=>{console.log("removed event listener, 'touchmove'")}),Je.removeEventListener("touchend",lt=>{console.log("removed event listener, 'touchend'")}),k.current&&(k.current.removeEventListener("start",()=>console.log("removed event listener, 'start'"),!0),k.current.removeEventListener("change",()=>console.log("removed event listener, 'change'"),!0),k.current.removeEventListener("end",()=>console.log("removed event listener, 'end'"),!0),Re(!1))}},[]),Sg((Je,lt)=>{Ae&&(Et(be+lt),console.log("controls dragging for ",be))});const ot=Je=>Je.every(lt=>lt===Je[0]);O.useEffect(()=>{if(Ae)oe(Te),document.getElementById("footer").innerHTML=" controls dragging = true ",document.getElementById("footer").innerHTML+=` start: ${le} end: ${Te} `,document.getElementById("footer").innerHTML+=` dragTime: ${be} `,document.getElementById("footer").innerHTML+=` prevStart: ${D} prevEnd: ${Ee} `;else if(ie(le),le!==0&&Te!==0){let Je=String(le),lt=String(Te),yt=String(D),An=String(Ee);Je=Je.substring(0,Je.indexOf(".")+7),lt=lt.substring(0,lt.indexOf(".")+7),yt=yt.substring(0,yt.indexOf(".")+7),An=An.substring(0,An.indexOf(".")+7);let er=[Je,lt,yt,An];document.getElementById("footer").innerHTML=" controls dragging = false ",document.getElementById("footer").innerHTML+=` start: ${Je} end: ${lt} `,document.getElementById("footer").innerHTML+=` dragTime: ${be} `,document.getElementById("footer").innerHTML+=` prevStart: ${yt} prevEnd: ${An} `,ot(er)&&be>.5&&pt<4&&(document.getElementById("footer").innerHTML+="might need to reset page, controls could be broken ",dt(pt+1))}},[Ae]),O.useEffect(()=>{pt===4&&(document.getElementById("footer").innerHTML+="confirmed need to reset page, controls are broken ",window.location.reload())},[pt]),O.useEffect(()=>{if(Ze&&!Ae&&(document.getElementById("footer").innerHTML=" isTouching = true ",k.current)){let Je=k.current.getAzimuthalAngle(),lt=0,yt=0,An=0,er=0,Ku=[Je,lt,yt,An,er];setTimeout(()=>{Ze&&!Ae&&(lt=k.current.getAzimuthalAngle(),document.getElementById("footer").innerHTML=" running stuck check 1 ",Je===lt?(document.getElementById("footer").innerHTML=" current stuck check = true ",setTimeout(()=>{Ze&&!Ae&&(yt=k.current.getAzimuthalAngle(),document.getElementById("footer").innerHTML=" running stuck check 2 ",Je===lt&&Je===yt?(document.getElementById("footer").innerHTML=" current stuck check = true ",setTimeout(()=>{Ze&&!Ae&&(An=k.current.getAzimuthalAngle(),document.getElementById("footer").innerHTML=" running stuck check 3 ",Je===lt&&Je===yt&&Je===An?(document.getElementById("footer").innerHTML=" current stuck check = true ",setTimeout(()=>{Ze&&!Ae&&(er=k.current.getAzimuthalAngle(),document.getElementById("footer").innerHTML=" running stuck check 4 ",ot(Ku)?(document.getElementById("footer").innerHTML=" controls aren't changing, force reload ",window.location.reload()):document.getElementById("footer").innerHTML=" current stuck check = false ")},"600")):document.getElementById("footer").innerHTML=" current stuck check = false ")},"300")):document.getElementById("footer").innerHTML=" current stuck check = false ")},"450")):document.getElementById("footer").innerHTML=" current stuck check = false ")},"150")}},[Ze]);const He=new z;EM(()=>{t.itemName.includes("shelf")?He.set(t.position.x,t.position.y+1,t.position.z):He.set(t.position.x,t.position.y,t.position.z),n.itemName!=="noSelect"&&!n.itemName.includes("shelf")?zl.timeline().to(He,{delay:.15,duration:.75,x:n.position.x,y:n.position.y,z:n.position.z,ease:"easeIn",onUpdate:()=>{k.current.target.set(He.x,He.y,He.z),k.current.object.updateProjectionMatrix(),k.current.update()}}):n.itemName.includes("shelf")&&zl.timeline().to(He,{delay:.15,duration:.75,x:n.position.x,y:n.position.y+1,z:n.position.z,ease:"easeIn",onUpdate:()=>{k.current.target.set(He.x,He.y,He.z),k.current.object.updateProjectionMatrix(),k.current.update()}})},[n]);const Q=new z,[Se,$e]=O.useState(new z);EM(()=>{if(!s&&k.current&&k.current.object.position!==Se){let Je=-1.5,lt=.75,yt=-1.5;n.itemName==="gramps"||n.itemName==="block"?(Je=-1.5,lt=.5,yt=-1.5):n.itemName==="horse"?(Je=-1.5,lt=1.25,yt=-1.5):n.itemName==="squatter"?(Je=1.5,lt=.5,yt=-1.5):n.itemName==="shelfA16"?(Je=1.5,lt=1.75,yt=-1.5):n.itemName==="shelfA32"?(Je=1.5,lt=1,yt=-1.5):n.itemName==="shelfB16"?(Je=-1.5,lt=1,yt=-1.5):n.itemName==="shelfB32"&&(Je=-1.5,lt=1.75,yt=-1.5),Q.set(k.current.object.position.x,k.current.object.position.y,k.current.object.position.z),zl.timeline().to(Q,{delay:.1,duration:1.25,x:n.position.x+Je,y:n.position.y+lt,z:n.position.z+yt,ease:"easeIn",onStart:()=>{k.current.enabled=!1},onUpdate:()=>{$e(Q),k.current.object.position.set(Q.x,Q.y,Q.z),k.current.object.updateProjectionMatrix(),k.current.update()},onComplete:()=>{$e(Q),k.current.enabled=!0}})}},[s]);const Ke=-.15,Ce=2.5,Z=3.6,ze=-3,We=1.5,ht=.04,nt=512,Bt=-5,Ut=8,nn=-5,dn=5,Wt=-5,gr=5,Ri=1,Ac=(Je,lt)=>{let yt=0,An=0,er=0;switch(Je){case"negX":yt=-lt;break;case"posX":yt=lt;break;case"negZ":er=-lt;break;case"posZ":er=lt;break;case"posY1":An=lt;break;case"posY2":An=lt+lt/2;break;case"negZposY1":er=-lt,An=lt;break;case"posXposY1":yt=lt,An=lt;break}return[yt,An,er]},al=Je=>{Je.preventDefault(),Je.stopPropagation(),g(!m),A(!1),a&&l(!a)},ll=Je=>{Je.preventDefault(),Je.stopPropagation(),a&&l(!a),x(!v)},so=Je=>{Je.preventDefault(),Je.stopPropagation(),a&&l(!a),g(!1),A(!b)};return ge.jsxs(ge.Fragment,{children:[ge.jsxs(Coe,{depth:1,children:[ge.jsx("pointLight",{position:[E/2850,.2,.1],intensity:.15}),ge.jsx("mesh",{position:E>=376&&E<600?[.175,.345,0]:E<376?[.21,.345,0]:E>=600&&E<1100?[.23,.345,0]:[E/2600,.345,0],scale:.125,onClick:U,onPointerOver:()=>Ve(!0),onPointerOut:()=>Ve(!1),children:ge.jsx(Ole,{currentColor:Me.brownBag,currentTexture:Me.paintedTexture,cartCount:P,handleCartClick:U})}),ge.jsx("mesh",{position:E>=376&&E<600?[-.165,.36,0]:E<376?[-.19,.36,0]:E>=600&&E<1100?[-.21,.36,0]:[-E/2800,.36,0],onPointerOver:()=>Ve(!0),onPointerOut:()=>Ve(!1),scale:.005,children:ge.jsx(spe,{currentColor:Me.blueTape,currentTexture:Me.paintedTexture})}),ge.jsxs("mesh",{position:E>=376&&E<600?[0,-.275,0]:E<376?[0,-.275,0]:E>=600&&E<1100?[0,-.275,0]:[0,-.275,0],scale:.04,rotation:[0,.75,0],onClick:Ue,onPointerOver:()=>Ve(!0),onPointerOut:()=>Ve(!1),children:[ge.jsx("boxGeometry",{}),ge.jsx("meshStandardMaterial",{color:"red"})]})]}),ge.jsx("color",{args:["#27271a"],attach:"background"}),ge.jsx("mesh",{geometry:ne,material:ue}),ge.jsx(Poe,{makeDefault:!0,ref:k,enableZoom:!0,enablePan:!1,maxDistance:15,minDistance:1.85,maxPolarAngle:Math.PI/2+Math.PI/16,enableDamping:!0,autoRotate:!0,autoRotateSpeed:.8}),ge.jsx(Loe,{distance:55,sunPosition:[40,8.5,-50]}),ge.jsx("directionalLight",{castShadow:!0,ref:j,position:[Ce,Z,ze],intensity:We,"shadow-normalBias":ht,"shadow-mapSize-width":nt,"shadow-mapSize-height":nt,"shadow-camera-near":Bt,"shadow-camera-far":Ut,"shadow-camera-left":nn,"shadow-camera-bottom":Wt,"shadow-camera-right":dn,"shadow-camera-top":gr}),ge.jsxs("group",{position:[0,Ke,0],children:[ge.jsx("ambientLight",{intensity:Ri}),LM.map((Je,lt)=>ge.jsxs("group",{position:[Je.position.x,Je.position.y,Je.position.z],onPointerOver:()=>Ve(!0),onPointerOut:()=>Ve(!1),onClick:ve,onDoubleClick:Ue,children:[ge.jsx(L_,{center:!0,position:[0,Je.itemName.includes("shelf")?.65:0,0],children:ge.jsxs("div",{className:"info",style:{display:m&&n===Je?"block":"none"},children:[ge.jsx(d3,{onClick:yt=>al(yt),color:"inherit",sx:{position:"absolute",pointerEvents:"auto",top:"0.15rem",left:"0.15rem",padding:"0.5rem"},"aria-label":"close order box",children:ge.jsx(j_,{fontSize:"medium",sx:{color:"primary.light"}})}),ge.jsx("div",{id:"title",children:n.itemTitle==="noSelectTitle"?"":n.itemTitle}),ge.jsx("div",{id:"description",children:v?n.itemLongDescription:n.itemDescription}),ge.jsx("div",{id:"size",children:n.size})]})}),ge.jsx(L_,{center:!0,position:[0,Je.itemName.includes("shelf")?.35:-.85,0],children:ge.jsxs("div",{className:"photos",style:{display:b&&n===Je?"block":"none"},children:[ge.jsx(d3,{onClick:yt=>so(yt),color:"inherit",sx:{position:"absolute",pointerEvents:"auto",top:"0.15rem",left:"0.15rem",padding:"0.5rem"},"aria-label":"close order box",children:ge.jsx(j_,{fontSize:"small",sx:{color:"primary.light"}})}),ge.jsx("div",{id:"title",children:n.itemTitle}),ge.jsx(ege,{})]})}),Je.parts.map((yt,An)=>ge.jsxs("group",{onClick:er=>Xe(er,yt),children:[ge.jsx("mesh",{position:Ac(yt.animation,i),children:ge.jsx(Ple,{model:yt.model,itemName:yt.itemName,partName:yt.partName})}),ge.jsx(Whe,{model:yt.model,itemName:yt.itemName,itemTitle:Je.itemTitle,partName:yt.partName,descPartName:yt.descPartName,animation:yt.animation,animDist:i,currentItemName:K,currentPartName:Fe,showBackground:s,setShowBackground:o,showPartOptions:a,setShowPartOptions:l,handlePartOption:u,getRandomInt:f,positionBottom:!0,toggleInfoBox:al,toggleLongDesc:ll,togglePhotoBox:so}),ge.jsx($he,{selected:n===Je,showBackground:s})]},yt.partName))]},lt)),ge.jsx("mesh",{visible:s,position:[0,-.498,0],children:ge.jsx(jhe,{currentColor:Me.floorStain,currentTexture:Me.woodFloorWornPlanksTexture})}),ge.jsx("mesh",{visible:s,children:ge.jsx(Xhe,{currentColor:Me.floorStain,currentTexture:Me.paintedTexture})})]})]})}function nge(){const n=O.useRef();return Sg(e=>{const t=e.clock.elapsedTime;n.current.rotation.y=t/2}),ge.jsx(ge.Fragment,{children:ge.jsxs("mesh",{ref:n,position:[0,.65,0],children:[ge.jsx("boxGeometry",{args:[.5,.5,.5,3,3,3]}),ge.jsx("meshBasicMaterial",{wireframe:!0})]})})}function rge(){const[n,e]=O.useState(!1);O.useEffect(()=>{"ontouchstart"in window||navigator.maxTouchPoints>0?e(!0):e(!1)},[]);const[t,r]=O.useState(!1),[i,s]=O.useState(!0),[o,a]=O.useState(!0),[l,c]=O.useState(!1),[u,f]=O.useState(!0),[p,m]=O.useState(!1),[g,y]=O.useState(Ko),[_,v]=O.useState(Ko);O.useEffect(()=>{window.LoadSnipcart()},[]);const x=O.useRef(),[b,A]=O.useState(0),M={value:0},E={value:.15},R=.15,I=0,[T,P]=O.useState(!1),[B,U]=O.useState(!1),{contextSafe:j}=EM({scope:x}),N=j(()=>{B||(P(!T),T?zl.timeline().to(E,{delay:.15,duration:1,value:I,ease:"easeOut",onStart:()=>{U(!0)},onUpdate:()=>{A(E.value)},onComplete:()=>{U(!1)}}):zl.timeline().to(M,{delay:.15,duration:1,value:R,ease:"easeIn",onStart:()=>{U(!0)},onUpdate:()=>{A(M.value)},onComplete:()=>{U(!1)}}))});function G(ee){return Math.floor(Math.random()*ee)}const V=Yo(ee=>ee.updatePartColor),$=Yo(ee=>ee.updatePartColorName),F=Yo(ee=>ee.updatePartTexture),X=Yo(ee=>ee.calculateItemPrice),Y=(ee,J,ne,ue,Ae)=>{ee&&(ee.preventDefault(),Ae&&ee.stopPropagation()),ue==="white"?(F(J,ne,Me.whiteTexture),V(J,ne,Me.whiteStain),$(J,ne,"white")):ue==="natural"?(F(J,ne,Me.naturalTexture),V(J,ne,Me.naturalStain),$(J,ne,"natural")):ue==="black"?(F(J,ne,Me.blackTexture),V(J,ne,Me.blackStain),$(J,ne,"black")):ue==="allBlack"?(F(J,ne,Me.allBlackTexture),V(J,ne,Me.allBlackStain),$(J,ne,"allBlack")):ue==="alabaster"?(F(J,ne,Me.paintedTexture),V(J,ne,Me.alabasterPaint),$(J,ne,"alabaster")):ue==="pink"?(F(J,ne,Me.paintedTexture),V(J,ne,Me.pinkPaint),$(J,ne,"pink")):ue==="basil"?(F(J,ne,Me.paintedTexture),V(J,ne,Me.basilPaint),$(J,ne,"basil")):ue==="yellow"?(F(J,ne,Me.paintedTexture),V(J,ne,Me.yellowPaint),$(J,ne,"yellow")):ue==="blue"?(F(J,ne,Me.paintedTexture),V(J,ne,Me.bluePaint),$(J,ne,"blue")):ue==="gray"&&(F(J,ne,Me.paintedTexture),V(J,ne,Me.grayPaint),$(J,ne,"gray")),X(J)},te=ee=>{ee&&ee.preventDefault();let J=LM.map(ne=>ne.parts.map(Ae=>{let Re=V_[G(V_.length)];return Y(ee,ne.itemName,Ae.partName,Re,!1),Re}));console.log("random colors generated list: ",J)};return ge.jsxs(ge.Fragment,{children:[ge.jsx(JJ,{ref:x,dpr:[1,2],shadows:{type:xd},camera:{fov:45,near:.1,far:22,position:[9,5,-9]},children:ge.jsx(O.Suspense,{fallback:ge.jsx(nge,{}),children:ge.jsx(X_.SnipcartProvider,{children:ge.jsx(tge,{currentItemSelected:g,setCurrentItemSelected:y,previousItemSelected:_,setPreviousItemSelected:v,animDist:b,showBackground:u,setShowBackground:f,showPartOptions:p,setShowPartOptions:m,animateParts:N,handlePartOption:Y,getRandomInt:G,randomAllItemsParts:te,open:t,setOpen:r,infoBoxIcon:i,setInfoBoxIcon:s,showLongDesc:o,setShowLongDesc:a,showPhotos:l,setShowPhotos:c})})})}),ge.jsx("div",{id:"footer",children:"Eli Gfell Studio"})]})}const ige=qA.createRoot(document.querySelector("#root"));ige.render(ge.jsx(rge,{}));
